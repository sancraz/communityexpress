var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.association){Ext.data.association={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.dom){Ext.dom={}}if(!Ext.draw){Ext.draw={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.grid){Ext.grid={}}if(!Ext.grid.column){Ext.grid.column={}}if(!Ext.grid.header){Ext.grid.header={}}if(!Ext.grid.locking){Ext.grid.locking={}}if(!Ext.grid.plugin){Ext.grid.plugin={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.list){Ext.list={}}if(!Ext.menu){Ext.menu={}}if(!Ext.panel){Ext.panel={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.util){Ext.util={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.form){Ext.ux.form={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var ExtThemeNeptune=ExtThemeNeptune||{};if(!ExtThemeNeptune.form){ExtThemeNeptune.form={}}if(!ExtThemeNeptune.form.field){ExtThemeNeptune.form.field={}}if(!ExtThemeNeptune.grid){ExtThemeNeptune.grid={}}if(!ExtThemeNeptune.grid.column){ExtThemeNeptune.grid.column={}}if(!ExtThemeNeptune.layout){ExtThemeNeptune.layout={}}if(!ExtThemeNeptune.layout.component){ExtThemeNeptune.layout.component={}}if(!ExtThemeNeptune.menu){ExtThemeNeptune.menu={}}if(!ExtThemeNeptune.panel){ExtThemeNeptune.panel={}}if(!ExtThemeNeptune.picker){ExtThemeNeptune.picker={}}if(!ExtThemeNeptune.resizer){ExtThemeNeptune.resizer={}}if(!ExtThemeNeptune.tab){ExtThemeNeptune.tab={}}if(!ExtThemeNeptune.toolbar){ExtThemeNeptune.toolbar={}}var MyOnlineEditor=MyOnlineEditor||{};var community_portal=community_portal||{};if(!community_portal.view){community_portal.view={}}(function(l){var n=[],o=["constructor","toString","valueOf","toLocaleString"],m={},t={},b=0,k,d,r,h,a=function(){var w,u;d=Ext.Base;r=Ext.ClassManager;for(w=o.length;w-->0;){u=(1<<w);t[m[u]=o[w]]=u}for(w in t){b|=t[w]}b=~b;Function.prototype.$isFunction=1;h=Ext.Class.getPreprocessor("config").fn;for(k in d){if(d.hasOwnProperty(k)){n.push(k)}}l.derive=e;return e.apply(this,arguments)},g=function(D,z,C){var w=C.enumerableMembers,A=D.prototype,y,B,x,u;if(!z){return}for(y in z){u=z[y];if(u&&u.$isFunction&&!u.$isClass&&u!==Ext.emptyFn&&u!==Ext.identityFn){A[y]=B=u;B.$owner=D;B.$name=y}else{A[y]=u}}for(x=1;w;x<<=1){if(w&x){w&=~x;y=m[x];A[y]=B=z[y];B.$owner=D;B.$name=y}}},q=function(z){var u=function y(){return z.apply(this,arguments)||null},x,w;u.prototype=Ext.Object.chain(z.prototype);for(x=n.length;x-->0;){w=n[x];u[w]=d[w]}return u},e=function(A,D,aa,u,C,N,B,X,y,P,G){var w=function F(){return this.constructor.apply(this,arguments)||null},Z=w,x={enumerableMembers:u&b,onCreated:G,onBeforeCreated:g,aliases:X},K=aa.alternateClassName||[],V=Ext.global,R,U,W,J,T,ad,ac,z,S,E,Y,O,I,ab;for(W=n.length;W-->0;){ac=n[W];w[ac]=d[ac]}if(aa.$isFunction){aa=aa(w)}x.data=aa;E=aa.statics,aa.$className=A;if("$className" in aa){w.$className=aa.$className}w.extend(D);S=w.prototype;w.xtype=aa.xtype=C[0];if(C){S.xtypes=C}S.xtypesChain=N;S.xtypesMap=B;aa.alias=X;Z.triggerExtended(w,aa,x);if(aa.onClassExtended){w.onExtended(aa.onClassExtended,w);delete aa.onClassExtended}if(E){for(Y in E){if(E.hasOwnProperty(Y)){ab=E[Y];if(ab&&ab.$isFunction&&!ab.$isClass&&ab!==Ext.emptyFn&&ab!==Ext.identityFn){w[Y]=I=ab;I.$owner=w;I.$name=Y}w[Y]=ab}}}delete aa.statics;if(aa.inheritableStatics){w.addInheritableStatics(aa.inheritableStatics)}if(S.onClassExtended){Z.onExtended(S.onClassExtended,Z);delete S.onClassExtended}if(aa.config){h(w,aa)}x.onBeforeCreated(w,x.data,x);for(W=0,T=y&&y.length;W<T;++W){w.mixin.apply(w,y[W])}for(W=0,T=X.length;W<T;W++){R=X[W];r.setAlias(w,R)}if(aa.singleton){Z=new w()}if(!(K instanceof Array)){K=[K]}for(W=0,J=K.length;W<J;W++){U=K[W];r.classes[U]=Z;O=r.getName(Z);z=r.maps.nameToAlternates;if(O&&O!==U){r.maps.alternateToName[U]=O;K=z[O]||(z[O]=[]);K.push(U)}}for(W=0,T=P.length;W<T;W+=2){ad=P[W];if(!ad){ad=V}ad[P[W+1]]=Z}r.classes[A]=Z;O=r.getName(Z);z=r.maps.nameToAlternates;if(O&&O!==A){r.maps.alternateToName[A]=O;K=z[O]||(z[O]=[]);K.push(A)}delete S.alternateClassName;if(x.onCreated){x.onCreated.call(Z,Z)}if(A){r.triggerCreated(A)}return Z};l.derive=a}(Ext.cmd={}));var Ext=Ext||{};Ext._startTime=new Date().getTime();(function(){var a=this,e=Object.prototype,b=e.toString,n=true,o={toString:1},h=function(){},m=function(){var q=m.caller.caller;return q.$owner.prototype[q.$name].apply(this,arguments)},g,l=/\S/,k,d=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/;Function.prototype.$extIsFunction=true;Ext.global=a;for(g in o){n=null}if(n){n=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"]}Ext.enumerables=n;Ext.apply=function(u,t,x){if(x){Ext.apply(u,x)}if(u&&t&&typeof t==="object"){var w,r,q;for(w in t){u[w]=t[w]}if(n){for(r=n.length;r--;){q=n[r];if(t.hasOwnProperty(q)){u[q]=t[q]}}}}return u};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{name:Ext.sandboxName||"Ext",emptyFn:h,identityFn:function(q){return q},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,applyIf:function(r,q){var t;if(r){for(t in q){if(r[t]===undefined){r[t]=q[t]}}}return r},iterate:function(q,t,r){if(Ext.isEmpty(q)){return}if(r===undefined){r=q}if(Ext.isIterable(q)){Ext.Array.each.call(Ext.Array,q,t,r)}else{Ext.Object.each.call(Ext.Object,q,t,r)}}});Ext.apply(Ext,{extend:(function(){var q=e.constructor,r=function(u){for(var t in u){if(!u.hasOwnProperty(t)){continue}this[t]=u[t]}};return function(t,z,x){if(Ext.isObject(z)){x=z;z=t;t=x.constructor!==q?x.constructor:function(){z.apply(this,arguments)}}var w=function(){},u,y=z.prototype;w.prototype=y;u=t.prototype=new w();u.constructor=t;t.superclass=y;if(y.constructor===q){y.constructor=z}t.override=function(A){Ext.override(t,A)};u.override=r;u.proto=u;t.override(x);t.extend=function(A){return Ext.extend(t,A)};return t}}()),override:function(u,w){if(u.$isClass){u.override(w)}else{if(typeof u=="function"){Ext.apply(u.prototype,w)}else{var q=u.self,r,t;if(q&&q.$isClass){for(r in w){if(w.hasOwnProperty(r)){t=w[r];if(typeof t=="function"){t.$name=r;t.$owner=q;t.$previous=u.hasOwnProperty(r)?u[r]:m}u[r]=t}}}else{Ext.apply(u,w)}}}return u}});Ext.apply(Ext,{valueFrom:function(t,q,r){return Ext.isEmpty(t,r)?q:t},typeOf:function(r){var q,t;if(r===null){return"null"}q=typeof r;if(q==="undefined"||q==="string"||q==="number"||q==="boolean"){return q}t=b.call(r);switch(t){case"[object Array]":return"array";case"[object Date]":return"date";case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object RegExp]":return"regexp"}if(q==="function"){return"function"}if(q==="object"){if(r.nodeType!==undefined){if(r.nodeType===3){return(l).test(r.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}},coerce:function(w,u){var t=Ext.typeOf(w),r=Ext.typeOf(u),q=typeof w==="string";if(t!==r){switch(r){case"string":return String(w);case"number":return Number(w);case"boolean":return q&&(!w||w==="false")?false:Boolean(w);case"null":return q&&(!w||w==="null")?null:w;case"undefined":return q&&(!w||w==="undefined")?undefined:w;case"date":return q&&isNaN(w)?Ext.Date.parse(w,Ext.Date.defaultFormat):Date(Number(w))}}return w},isEmpty:function(q,r){return(q===null)||(q===undefined)||(!r?q==="":false)||(Ext.isArray(q)&&q.length===0)},isArray:("isArray" in Array)?Array.isArray:function(q){return b.call(q)==="[object Array]"},isDate:function(q){return b.call(q)==="[object Date]"},isObject:(b.call(null)==="[object Object]")?function(q){return q!==null&&q!==undefined&&b.call(q)==="[object Object]"&&q.ownerDocument===undefined}:function(q){return b.call(q)==="[object Object]"},isSimpleObject:function(q){return q instanceof Object&&q.constructor===Object},isPrimitive:function(r){var q=typeof r;return q==="string"||q==="number"||q==="boolean"},isFunction:function(q){return !!(q&&q.$extIsFunction)},isNumber:function(q){return typeof q==="number"&&isFinite(q)},isNumeric:function(q){return !isNaN(parseFloat(q))&&isFinite(q)},isString:function(q){return typeof q==="string"},isBoolean:function(q){return typeof q==="boolean"},isElement:function(q){return q?q.nodeType===1:false},isTextNode:function(q){return q?q.nodeName==="#text":false},isDefined:function(q){return typeof q!=="undefined"},isIterable:function(q){if(!q||typeof q.length!=="number"||typeof q==="string"||q.$extIsFunction){return false}if(!q.propertyIsEnumerable){return !!q.item}if(q.hasOwnProperty("length")&&!q.propertyIsEnumerable("length")){return true}return d.test(b.call(q))}});Ext.apply(Ext,{clone:function(x){var w,u,r,q,y,t;if(x===null||x===undefined){return x}if(x.nodeType&&x.cloneNode){return x.cloneNode(true)}w=b.call(x);if(w==="[object Date]"){return new Date(x.getTime())}if(w==="[object Array]"){u=x.length;y=[];while(u--){y[u]=Ext.clone(x[u])}}else{if(w==="[object Object]"&&x.constructor===Object){y={};for(t in x){y[t]=Ext.clone(x[t])}if(n){for(r=n.length;r--;){q=n[r];if(x.hasOwnProperty(q)){y[q]=x[q]}}}}}return y||x},getUniqueGlobalNamespace:function(){var r=this.uniqueGlobalNamespace,q;if(r===undefined){q=0;do{r="ExtBox"+(++q)}while(Ext.global[r]!==undefined);Ext.global[r]=Ext;this.uniqueGlobalNamespace=r}return r},functionFactoryCache:{},cacheableFunctionFactory:function(){var x=this,t=Array.prototype.slice.call(arguments),r=x.functionFactoryCache,q,u,w;if(Ext.isSandboxed){w=t.length;if(w>0){w--;t[w]="var Ext=window."+Ext.name+";"+t[w]}}q=t.join("");u=r[q];if(!u){u=Function.prototype.constructor.apply(Function.prototype,t);r[q]=u}return u},functionFactory:function(){var t=this,q=Array.prototype.slice.call(arguments),r;if(Ext.isSandboxed){r=q.length;if(r>0){r--;q[r]="var Ext=window."+Ext.name+";"+q[r]}}return Function.prototype.constructor.apply(Function.prototype,q)},Logger:{verbose:h,log:h,info:h,warn:h,error:function(q){throw new Error(q)},deprecate:h}});Ext.type=Ext.typeOf;k=Ext.app;if(!k){k=Ext.app={}}Ext.apply(k,{namespaces:{},collectNamespaces:function(t){var q=Ext.app.namespaces,r;for(r in t){if(t.hasOwnProperty(r)){q[r]=true}}},addNamespaces:function(t){var u=Ext.app.namespaces,r,q;if(!Ext.isArray(t)){t=[t]}for(r=0,q=t.length;r<q;r++){u[t[r]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(r){var u=Ext.app.namespaces,q="",t;for(t in u){if(u.hasOwnProperty(t)&&t.length>q.length&&(t+"."===r.substring(0,t.length+1))){q=t}}return q===""?undefined:q}})}());Ext.globalEval=Ext.global.execScript?function(a){execScript(a)}:function($$code){(function(){var Ext=this.Ext;eval($$code)}())};(function(){var a="4.2.1.883",b;Ext.Version=b=Ext.extend(Object,{constructor:function(d){var g,e;if(d instanceof b){return d}this.version=this.shortVersion=String(d).toLowerCase().replace(/_/g,".").replace(/[\-+]/g,"");e=this.version.search(/([^\d\.])/);if(e!==-1){this.release=this.version.substr(e,d.length);this.shortVersion=this.version.substr(0,e)}this.shortVersion=this.shortVersion.replace(/[^\d]/g,"");g=this.version.split(".");this.major=parseInt(g.shift()||0,10);this.minor=parseInt(g.shift()||0,10);this.patch=parseInt(g.shift()||0,10);this.build=parseInt(g.shift()||0,10);return this},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major||0},getMinor:function(){return this.minor||0},getPatch:function(){return this.patch||0},getBuild:function(){return this.build||0},getRelease:function(){return this.release||""},isGreaterThan:function(d){return b.compare(this.version,d)===1},isGreaterThanOrEqual:function(d){return b.compare(this.version,d)>=0},isLessThan:function(d){return b.compare(this.version,d)===-1},isLessThanOrEqual:function(d){return b.compare(this.version,d)<=0},equals:function(d){return b.compare(this.version,d)===0},match:function(d){d=String(d);return this.version.substr(0,d.length)===d},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(){return this.isGreaterThan.apply(this,arguments)},lt:function(){return this.isLessThan.apply(this,arguments)},gtEq:function(){return this.isGreaterThanOrEqual.apply(this,arguments)},ltEq:function(){return this.isLessThanOrEqual.apply(this,arguments)}});Ext.apply(b,{releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(d){return !d?0:(isNaN(d)?this.releaseValueMap[d]||d:parseInt(d,10))},compare:function(k,h){var e,g,d;k=new b(k).toArray();h=new b(h).toArray();for(d=0;d<Math.max(k.length,h.length);d++){e=this.getComponentValue(k[d]);g=this.getComponentValue(h[d]);if(e<g){return -1}else{if(e>g){return 1}}}return 0}});Ext.apply(Ext,{versions:{},lastRegisteredVersion:null,setVersion:function(e,d){Ext.versions[e]=new b(d);Ext.lastRegisteredVersion=Ext.versions[e];return this},getVersion:function(d){if(d===undefined){return Ext.lastRegisteredVersion}return Ext.versions[d]},deprecate:function(d,g,h,e){if(b.compare(Ext.getVersion(d),g)<1){h.call(e)}}});Ext.setVersion("core",a)}());Ext.String=(function(){var m=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,r=/('|\\)/g,l=/\{(\d+)\}/g,b=/([-.*+?\^${}()|\[\]\/\\])/g,t=/^\s+|\s+$/g,n=/\s+/,q=/(^[^a-z]*|[^\w])/gi,g,a,k,e,h=function(w,u){return g[u]},o=function(w,u){return(u in a)?a[u]:String.fromCharCode(parseInt(u.substr(2),10))},d=function(w,u){if(w===null||w===undefined||u===null||u===undefined){return false}return u.length<=w.length};return{insert:function(x,y,w){if(!x){return y}if(!y){return x}var u=x.length;if(!w&&w!==0){w=u}if(w<0){w*=-1;if(w>=u){w=0}else{w=u-w}}if(w===0){x=y+x}else{if(w>=x.length){x+=y}else{x=x.substr(0,w)+y+x.substr(w)}}return x},startsWith:function(x,y,w){var u=d(x,y);if(u){if(w){x=x.toLowerCase();y=y.toLowerCase()}u=x.lastIndexOf(y,0)===0}return u},endsWith:function(y,w,x){var u=d(y,w);if(u){if(x){y=y.toLowerCase();w=w.toLowerCase()}u=y.indexOf(w,y.length-w.length)!==-1}return u},createVarName:function(u){return u.replace(q,"")},htmlEncode:function(u){return(!u)?u:String(u).replace(k,h)},htmlDecode:function(u){return(!u)?u:String(u).replace(e,o)},addCharacterEntities:function(w){var u=[],z=[],x,y;for(x in w){y=w[x];a[x]=y;g[y]=x;u.push(y);z.push(x)}k=new RegExp("("+u.join("|")+")","g");e=new RegExp("("+z.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){g={};a={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(w,u){if(!Ext.isEmpty(u)){return w+(w.indexOf("?")===-1?"?":"&")+u}return w},trim:function(u){return u.replace(m,"")},capitalize:function(u){return u.charAt(0).toUpperCase()+u.substr(1)},uncapitalize:function(u){return u.charAt(0).toLowerCase()+u.substr(1)},ellipsis:function(x,u,y){if(x&&x.length>u){if(y){var z=x.substr(0,u-2),w=Math.max(z.lastIndexOf(" "),z.lastIndexOf("."),z.lastIndexOf("!"),z.lastIndexOf("?"));if(w!==-1&&w>=(u-15)){return z.substr(0,w)+"..."}}return x.substr(0,u-3)+"..."}return x},escapeRegex:function(u){return u.replace(b,"\\$1")},escape:function(u){return u.replace(r,"\\$1")},toggle:function(w,x,u){return w===x?u:x},leftPad:function(w,x,y){var u=String(w);y=y||" ";while(u.length<x){u=y+u}return u},format:function(w){var u=Ext.Array.toArray(arguments,1);return w.replace(l,function(x,y){return u[y]})},repeat:function(z,y,w){if(y<1){y=0}for(var u=[],x=y;x--;){u.push(z)}return u.join(w||"")},splitWords:function(u){if(u&&typeof u=="string"){return u.replace(t,"").split(n)}return u||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Number=new function(){var b=this,d=(0.9).toFixed()!=="1",a=Math;Ext.apply(this,{constrain:function(k,h,g){var e=parseFloat(k);return(e<h)?h:((e>g)?g:e)},snap:function(k,g,h,l){var e;if(k===undefined||k<h){return h||0}if(g){e=k%g;if(e!==0){k-=e;if(e*2>=g){k+=g}else{if(e*2<-g){k-=g}}}}return b.constrain(k,h,l)},snapInRange:function(k,e,h,l){var g;h=(h||0);if(k===undefined||k<h){return h}if(e&&(g=((k-h)%e))){k-=g;g*=2;if(g>=e){k+=e}}if(l!==undefined){if(k>(l=b.snapInRange(l,e,h))){k=l}}return k},toFixed:d?function(h,e){e=e||0;var g=a.pow(10,e);return(a.round(h*g)/g).toFixed(e)}:function(g,e){return g.toFixed(e)},from:function(g,e){if(isFinite(g)){g=parseFloat(g)}return !isNaN(g)?g:e},randomInt:function(g,e){return a.floor(a.random()*(e-g+1)+g)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}});Ext.num=function(){return b.from.apply(this,arguments)}}();(function(){var h=Array.prototype,t=h.slice,w=(function(){var G=[],e,F=20;if(!G.splice){return false}while(F--){G.push("A")}G.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");e=G.length;G.splice(13,0,"XXX");if(e+1!=G.length){return false}return true}()),m="forEach" in h,A="map" in h,u="indexOf" in h,E="every" in h,d="some" in h,g="filter" in h,r=(function(){var e=[1,2,3,4,5].sort(function(){return 0});return e[0]===1&&e[1]===2&&e[2]===3&&e[3]===4&&e[4]===5}()),n=true,a,C,z,B;try{if(typeof document!=="undefined"){t.call(document.getElementsByTagName("body"))}}catch(y){n=false}function q(F,e){return(e<0)?Math.max(0,F.length+e):Math.min(F.length,e)}function D(P,O,F,T){var U=T?T.length:0,I=P.length,R=q(P,O),N,S,G,e,J,K;if(R===I){if(U){P.push.apply(P,T)}}else{N=Math.min(F,I-R);S=R+N;G=S+U-N;e=I-S;J=I-N;if(G<S){for(K=0;K<e;++K){P[G+K]=P[S+K]}}else{if(G>S){for(K=e;K--;){P[G+K]=P[S+K]}}}if(U&&R===J){P.length=J;P.push.apply(P,T)}else{P.length=J+U;for(K=0;K<U;++K){P[R+K]=T[K]}}}return P}function l(I,e,G,F){if(F&&F.length){if(e===0&&!G){I.unshift.apply(I,F)}else{if(e<I.length){I.splice.apply(I,[e,G].concat(F))}else{I.push.apply(I,F)}}}else{I.splice(e,G)}return I}function b(G,e,F){return D(G,e,F)}function x(G,e,F){G.splice(e,F);return G}function o(J,e,G){var I=q(J,e),F=J.slice(e,q(J,I+G));if(arguments.length<4){D(J,I,G)}else{D(J,I,G,t.call(arguments,3))}return F}function k(e){return e.splice.apply(e,t.call(arguments,1))}C=w?x:b;z=w?l:D;B=w?k:o;a=Ext.Array={each:function(K,I,G,e){K=a.from(K);var F,J=K.length;if(e!==true){for(F=0;F<J;F++){if(I.call(G||K[F],K[F],F,K)===false){return F}}}else{for(F=J-1;F>-1;F--){if(I.call(G||K[F],K[F],F,K)===false){return F}}}return true},forEach:m?function(G,F,e){G.forEach(F,e)}:function(J,G,F){var e=0,I=J.length;for(;e<I;e++){G.call(F,J[e],e,J)}},indexOf:u?function(G,e,F){return h.indexOf.call(G,e,F)}:function(J,G,I){var e,F=J.length;for(e=(I<0)?Math.max(0,F+I):I||0;e<F;e++){if(J[e]===G){return e}}return -1},contains:u?function(F,e){return h.indexOf.call(F,e)!==-1}:function(I,G){var e,F;for(e=0,F=I.length;e<F;e++){if(I[e]===G){return true}}return false},toArray:function(G,J,e){if(!G||!G.length){return[]}if(typeof G==="string"){G=G.split("")}if(n){return t.call(G,J||0,e||G.length)}var I=[],F;J=J||0;e=e?((e<0)?G.length+e:e):G.length;for(F=J;F<e;F++){I.push(G[F])}return I},pluck:function(K,e){var F=[],G,J,I;for(G=0,J=K.length;G<J;G++){I=K[G];F.push(I[e])}return F},map:A?function(G,F,e){return G.map(F,e)}:function(K,J,I){var G=[],F=0,e=K.length;for(;F<e;F++){G[F]=J.call(I,K[F],F,K)}return G},every:E?function(G,F,e){return G.every(F,e)}:function(J,G,F){var e=0,I=J.length;for(;e<I;++e){if(!G.call(F,J[e],e,J)){return false}}return true},some:d?function(G,F,e){return G.some(F,e)}:function(J,G,F){var e=0,I=J.length;for(;e<I;++e){if(G.call(F,J[e],e,J)){return true}}return false},equals:function(J,I){var F=J.length,e=I.length,G;if(J===I){return true}if(F!==e){return false}for(G=0;G<F;++G){if(J[G]!==I[G]){return false}}return true},clean:function(J){var F=[],e=0,I=J.length,G;for(;e<I;e++){G=J[e];if(!Ext.isEmpty(G)){F.push(G)}}return F},unique:function(J){var I=[],e=0,G=J.length,F;for(;e<G;e++){F=J[e];if(a.indexOf(I,F)===-1){I.push(F)}}return I},filter:g?function(G,F,e){return G.filter(F,e)}:function(K,I,G){var F=[],e=0,J=K.length;for(;e<J;e++){if(I.call(G,K[e],e,K)){F.push(K[e])}}return F},findBy:function(J,I,G){var F=0,e=J.length;for(;F<e;F++){if(I.call(G||J,J[F],F)){return J[F]}}return null},from:function(G,F){if(G===undefined||G===null){return[]}if(Ext.isArray(G)){return(F)?t.call(G):G}var e=typeof G;if(G&&G.length!==undefined&&e!=="string"&&(e!=="function"||!G.apply)){return a.toArray(G)}return[G]},remove:function(G,F){var e=a.indexOf(G,F);if(e!==-1){C(G,e,1)}return G},include:function(F,e){if(!a.contains(F,e)){F.push(e)}},clone:function(e){return t.call(e)},merge:function(){var e=t.call(arguments),I=[],F,G;for(F=0,G=e.length;F<G;F++){I=I.concat(e[F])}return a.unique(I)},intersect:function(){var e=[],G=t.call(arguments),V,T,O,S,W,I,F,R,U,J,P,N,K;if(!G.length){return e}V=G.length;for(P=W=0;P<V;P++){I=G[P];if(!S||I.length<S.length){S=I;W=P}}S=a.unique(S);C(G,W,1);F=S.length;V=G.length;for(P=0;P<F;P++){R=S[P];J=0;for(N=0;N<V;N++){T=G[N];O=T.length;for(K=0;K<O;K++){U=T[K];if(R===U){J++;break}}}if(J===V){e.push(R)}}return e},difference:function(F,e){var N=t.call(F),J=N.length,I,G,K;for(I=0,K=e.length;I<K;I++){for(G=0;G<J;G++){if(N[G]===e[I]){C(N,G,1);G--;J--}}}return N},slice:([1,2].slice(1,undefined).length?function(G,F,e){return t.call(G,F,e)}:function(G,F,e){if(typeof F==="undefined"){return t.call(G)}if(typeof e==="undefined"){return t.call(G,F)}return t.call(G,F,e)}),sort:r?function(F,e){if(e){return F.sort(e)}else{return F.sort()}}:function(O,N){var J=O.length,I=0,K,e,G,F;for(;I<J;I++){G=I;for(e=I+1;e<J;e++){if(N){K=N(O[e],O[G]);if(K<0){G=e}}else{if(O[e]<O[G]){G=e}}}if(G!==I){F=O[I];O[I]=O[G];O[G]=F}}return O},flatten:function(G){var F=[];function e(I){var K,N,J;for(K=0,N=I.length;K<N;K++){J=I[K];if(Ext.isArray(J)){e(J)}else{F.push(J)}}return F}return e(G)},min:function(K,J){var F=K[0],e,I,G;for(e=0,I=K.length;e<I;e++){G=K[e];if(J){if(J(F,G)===1){F=G}}else{if(G<F){F=G}}}return F},max:function(K,J){var e=K[0],F,I,G;for(F=0,I=K.length;F<I;F++){G=K[F];if(J){if(J(e,G)===-1){e=G}}else{if(G>e){e=G}}}return e},mean:function(e){return e.length>0?a.sum(e)/e.length:undefined},sum:function(J){var F=0,e,I,G;for(e=0,I=J.length;e<I;e++){G=J[e];F+=G}return F},toMap:function(J,e,G){var I={},F=J.length;if(!e){while(F--){I[J[F]]=F+1}}else{if(typeof e=="string"){while(F--){I[J[F][e]]=F+1}}else{while(F--){I[e.call(G,J[F])]=F+1}}}return I},toValueMap:function(J,e,G){var I={},F=J.length;if(!e){while(F--){I[J[F]]=J[F]}}else{if(typeof e=="string"){while(F--){I[J[F][e]]=J[F]}}else{while(F--){I[e.call(G,J[F])]=J[F]}}}return I},erase:C,insert:function(G,F,e){return z(G,F,0,e)},replace:z,splice:B,push:function(I){var e=arguments.length,G=1,F;if(I===undefined){I=[]}else{if(!Ext.isArray(I)){I=[I]}}for(;G<e;G++){F=arguments[G];Array.prototype.push[Ext.isIterable(F)?"apply":"call"](I,F)}return I}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)}}());Ext.Function={flexSetter:function(a){return function(e,d){var g,h;if(e===null){return this}if(typeof e!=="string"){for(g in e){if(e.hasOwnProperty(g)){a.call(this,g,e[g])}}if(Ext.enumerables){for(h=Ext.enumerables.length;h--;){g=Ext.enumerables[h];if(e.hasOwnProperty(g)){a.call(this,g,e[g])}}}}else{a.call(this,e,d)}return this}},bind:function(e,d,b,a){if(arguments.length===2){return function(){return e.apply(d,arguments)}}var h=e,g=Array.prototype.slice;return function(){var k=b||arguments;if(a===true){k=g.call(arguments,0);k=k.concat(b)}else{if(typeof a=="number"){k=g.call(arguments,0);Ext.Array.insert(k,a,b)}}return h.apply(d||Ext.global,k)}},pass:function(d,a,b){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else{a=a!==undefined?[a]:[]}}return function(){var e=[].concat(a);e.push.apply(e,arguments);return d.apply(b||this,e)}},alias:function(b,a){return function(){return b[a].apply(b,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(e,d,b,a){var g=e;if(!Ext.isFunction(d)){return e}else{a=Ext.isDefined(a)?a:null;return function(){var k=this,h=arguments;d.target=k;d.method=e;return(d.apply(b||k||Ext.global,h)!==false)?e.apply(k||Ext.global,h):a}}},createDelayed:function(g,d,e,b,a){if(e||b){g=Ext.Function.bind(g,e,b,a)}return function(){var k=this,h=Array.prototype.slice.call(arguments);setTimeout(function(){g.apply(k,h)},d)}},defer:function(g,d,e,b,a){g=Ext.Function.bind(g,e,b,a);if(d>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){g()}:g,d)}g();return 0},createSequence:function(b,d,a){if(!d){return b}else{return function(){var e=b.apply(this,arguments);d.apply(a||this,arguments);return e}}},createBuffered:function(g,b,e,d){var a;return function(){var k=d||Array.prototype.slice.call(arguments,0),h=e||this;if(a){clearTimeout(a)}a=setTimeout(function(){g.apply(h,k)},b)}},createThrottled:function(g,b,e){var h,a,d,l,k=function(){g.apply(e||this,d);h=Ext.Date.now()};return function(){a=Ext.Date.now()-h;d=arguments;clearTimeout(l);if(!h||(a>=b)){k()}else{l=setTimeout(k,b-a)}}},interceptBefore:function(b,a,e,d){var g=b[a]||Ext.emptyFn;return(b[a]=function(){var h=e.apply(d||this,arguments);g.apply(this,arguments);return h})},interceptAfter:function(b,a,e,d){var g=b[a]||Ext.emptyFn;return(b[a]=function(){g.apply(this,arguments);return e.apply(d||this,arguments)})}};Ext.defer=Ext.Function.alias(Ext.Function,"defer");Ext.pass=Ext.Function.alias(Ext.Function,"pass");Ext.bind=Ext.Function.alias(Ext.Function,"bind");(function(){var a=function(){},b=Ext.Object={chain:Object.create||function(e){a.prototype=e;var d=new a();a.prototype=null;return d},toQueryObjects:function(g,m,e){var d=b.toQueryObjects,l=[],h,k;if(Ext.isArray(m)){for(h=0,k=m.length;h<k;h++){if(e){l=l.concat(d(g+"["+h+"]",m[h],true))}else{l.push({name:g,value:m[h]})}}}else{if(Ext.isObject(m)){for(h in m){if(m.hasOwnProperty(h)){if(e){l=l.concat(d(g+"["+h+"]",m[h],true))}else{l.push({name:g,value:m[h]})}}}}else{l.push({name:g,value:m})}}return l},toQueryString:function(h,e){var k=[],g=[],m,l,n,d,o;for(m in h){if(h.hasOwnProperty(m)){k=k.concat(b.toQueryObjects(m,h[m],e))}}for(l=0,n=k.length;l<n;l++){d=k[l];o=d.value;if(Ext.isEmpty(o)){o=""}else{if(Ext.isDate(o)){o=Ext.Date.toString(o)}}g.push(encodeURIComponent(d.name)+"="+encodeURIComponent(String(o)))}return g.join("&")},fromQueryString:function(e,u){var n=e.replace(/^\?/,"").split("&"),y={},w,l,A,o,t,h,q,r,d,k,x,m,z,g;for(t=0,h=n.length;t<h;t++){q=n[t];if(q.length>0){l=q.split("=");A=decodeURIComponent(l[0]);o=(l[1]!==undefined)?decodeURIComponent(l[1]):"";if(!u){if(y.hasOwnProperty(A)){if(!Ext.isArray(y[A])){y[A]=[y[A]]}y[A].push(o)}else{y[A]=o}}else{k=A.match(/(\[):?([^\]]*)\]/g);x=A.match(/^([^\[]+)/);A=x[0];m=[];if(k===null){y[A]=o;continue}for(r=0,d=k.length;r<d;r++){z=k[r];z=(z.length===2)?"":z.substring(1,z.length-1);m.push(z)}m.unshift(A);w=y;for(r=0,d=m.length;r<d;r++){z=m[r];if(r===d-1){if(Ext.isArray(w)&&z===""){w.push(o)}else{w[z]=o}}else{if(w[z]===undefined||typeof w[z]==="string"){g=m[r+1];w[z]=(Ext.isNumeric(g)||g==="")?[]:{}}w=w[z]}}}}}return y},each:function(d,g,e){for(var h in d){if(d.hasOwnProperty(h)){if(g.call(e||d,h,d[h],d)===false){return}}}},merge:function(m){var k=1,l=arguments.length,d=b.merge,g=Ext.clone,h,o,n,e;for(;k<l;k++){h=arguments[k];for(o in h){n=h[o];if(n&&n.constructor===Object){e=m[o];if(e&&e.constructor===Object){d(e,n)}else{m[o]=g(n)}}else{m[o]=n}}}return m},mergeIf:function(d){var k=1,l=arguments.length,g=Ext.clone,e,h,m;for(;k<l;k++){e=arguments[k];for(h in e){if(!(h in d)){m=e[h];if(m&&m.constructor===Object){d[h]=g(m)}else{d[h]=m}}}}return d},getKey:function(d,g){for(var e in d){if(d.hasOwnProperty(e)&&d[e]===g){return e}}return null},getValues:function(e){var d=[],g;for(g in e){if(e.hasOwnProperty(g)){d.push(e[g])}}return d},getKeys:(typeof Object.keys=="function")?function(d){if(!d){return[]}return Object.keys(d)}:function(d){var e=[],g;for(g in d){if(d.hasOwnProperty(g)){e.push(g)}}return e},getSize:function(d){var e=0,g;for(g in d){if(d.hasOwnProperty(g)){e++}}return e},isEmpty:function(d){for(var e in d){if(d.hasOwnProperty(e)){return false}}return true},equals:(function(){var d=function(h,g){var e;for(e in h){if(h.hasOwnProperty(e)){if(h[e]!==g[e]){return false}}}return true};return function(g,e){if(g===e){return true}if(g&&e){return d(g,e)&&d(e,g)}else{if(!g&&!e){return g===e}else{return false}}}})(),classify:function(h){var g=h,l=[],e={},d=function(){var n=0,o=l.length,q;for(;n<o;n++){q=l[n];this[q]=new e[q]()}},k,m;for(k in h){if(h.hasOwnProperty(k)){m=h[k];if(m&&m.constructor===Object){l.push(k);e[k]=b.classify(m)}}}d.prototype=g;return d}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf;Ext.urlEncode=function(){var d=Ext.Array.from(arguments),e="";if((typeof d[1]==="string")){e=d[1]+"&";d[1]=false}return e+b.toQueryString.apply(b,d)};Ext.urlDecode=function(){return b.fromQueryString.apply(b,arguments)}}());Ext.Date=new function(){var e=this,m=/(\\.)/g,a=/([gGhHisucUOPZ]|MS)/,g=/([djzmnYycU]|MS)/,l=/\\/gi,d=/\{(\d+)\}/g,h=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),b=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear(),","jan4 = new Date(year, 0, 4, 0, 0, 0),","week1monday = new Date(jan4.getTime() - ((jan4.getDay() - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function k(o){var n=Array.prototype.slice.call(arguments,1);return o.replace(d,function(q,r){return n[r]})}Ext.apply(e,{now:Date.now||function(){return +new Date()},toString:function(n){var o=Ext.String.leftPad;return n.getFullYear()+"-"+o(n.getMonth()+1,2,"0")+"-"+o(n.getDate(),2,"0")+"T"+o(n.getHours(),2,"0")+":"+o(n.getMinutes(),2,"0")+":"+o(n.getSeconds(),2,"0")},getElapsed:function(o,n){return Math.abs(o-(n||e.now()))},useStrict:false,formatCodeToRegex:function(o,n){var q=e.parseCodes[o];if(q){q=typeof q=="function"?q():q;e.parseCodes[o]=q}return q?Ext.applyIf({c:q.c?k(q.c,n||"{0}"):q.c},q):{g:0,c:null,s:Ext.String.escapeRegex(o)}},parseFunctions:{MS:function(o,n){var q=(o||"").match(h);return q?new Date(((q[1]||"")+q[2])*1):null},time:function(o,n){var q=parseInt(o,10);if(q||q===0){return new Date(q)}return null},timestamp:function(o,n){var q=parseInt(o,10);if(q||q===0){return new Date(q*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return e.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(n){return Ext.Date.monthNames[n].substring(0,3)},getShortDayName:function(n){return Ext.Date.dayNames[n].substring(0,3)},getMonthNumber:function(n){return Ext.Date.monthNumbers[n.substring(0,1).toUpperCase()+n.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(n){return a.test(n.replace(m,""))},formatContainsDateInfo:function(n){return g.test(n.replace(m,""))},unescapeFormat:function(n){return n.replace(l,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var t,q,o,n,r;for(t="Y-m-dTH:i:sP",q=[],o=0,n=t.length;o<n;++o){r=t.charAt(o);q.push(r=="T"?"'T'":e.getFormatCode(r))}return q.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(x,n,w,t,q,r,o){t=t||0;q=q||0;r=r||0;o=o||0;var u=e.add(new Date(x<100?100:x,n-1,w,t,q,r,o),e.YEAR,x<100?x-100:0);return x==u.getFullYear()&&n==u.getMonth()+1&&w==u.getDate()&&t==u.getHours()&&q==u.getMinutes()&&r==u.getSeconds()&&o==u.getMilliseconds()},parse:function(o,r,n){var q=e.parseFunctions;if(q[r]==null){e.createParser(r)}return q[r].call(e,o,Ext.isDefined(n)?n:e.useStrict)},parseDate:function(o,q,n){return e.parse(o,q,n)},getFormatCode:function(o){var n=e.formatCodes[o];if(n){n=typeof n=="function"?n():n;e.formatCodes[o]=n}return n||("'"+Ext.String.escape(o)+"'")},createFormat:function(t){var r=[],n=false,q="",o;for(o=0;o<t.length;++o){q=t.charAt(o);if(!n&&q=="\\"){n=true}else{if(n){n=false;r.push("'"+Ext.String.escape(q)+"'")}else{r.push(e.getFormatCode(q))}}}e.formatFunctions[t]=Ext.functionFactory("return "+r.join("+"))},createParser:function(z){var o=e.parseRegexes.length,A=1,q=[],y=[],w=false,n="",t=0,u=z.length,x=[],r;for(;t<u;++t){n=z.charAt(t);if(!w&&n=="\\"){w=true}else{if(w){w=false;y.push(Ext.String.escape(n))}else{r=e.formatCodeToRegex(n,A);A+=r.g;y.push(r.s);if(r.g&&r.c){if(r.calcAtEnd){x.push(r.c)}else{q.push(r.c)}}}}}q=q.concat(x);e.parseRegexes[o]=new RegExp("^"+y.join("")+"$","i");e.parseFunctions[z]=Ext.functionFactory("input","strict",k(b,o,q.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var n=[],o=0;o<7;n.push(e.getShortDayName(o)),++o){}return{g:0,c:null,s:"(?:"+n.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+e.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+e.monthNames.join("|")+")"}},M:function(){for(var n=[],o=0;o<12;n.push(e.getShortMonthName(o)),++o){}return Ext.applyIf({s:"("+n.join("|")+")"},e.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var q=[],n=[e.formatCodeToRegex("Y",1),e.formatCodeToRegex("m",2),e.formatCodeToRegex("d",3),e.formatCodeToRegex("H",4),e.formatCodeToRegex("i",5),e.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",e.formatCodeToRegex("P",8).c,"}else{",e.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],r,o;for(r=0,o=n.length;r<o;++r){q.push(n[r].c)}return{g:1,c:q.join(""),s:[n[0].s,"(?:","-",n[1].s,"(?:","-",n[2].s,"(?:","(?:T| )?",n[3].s,":",n[4].s,"(?::",n[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(n,o){return e.format(n,o)},isEqual:function(o,n){if(o&&n){return(o.getTime()===n.getTime())}return !(o||n)},format:function(o,q){var n=e.formatFunctions;if(!Ext.isDate(o)){return""}if(n[q]==null){e.createFormat(q)}return n[q].call(o)+""},getTimezone:function(n){return n.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(n,o){var q=n.getTimezoneOffset();return(q>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(q)/60),2,"0")+(o?":":"")+Ext.String.leftPad(Math.abs(q%60),2,"0")},getDayOfYear:function(q){var o=0,t=Ext.Date.clone(q),n=q.getMonth(),r;for(r=0,t.setDate(1),t.setMonth(0);r<n;t.setMonth(++r)){o+=e.getDaysInMonth(t)}return o+q.getDate()-1},getWeekOfYear:(function(){var n=86400000,o=7*n;return function(r){var t=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()+3)/n,q=Math.floor(t/7),u=new Date(q*o).getUTCFullYear();return q-Math.floor(Date.UTC(u,0,7)/o)+1}}()),isLeapYear:function(n){var o=n.getFullYear();return !!((o&3)==0&&(o%100||(o%400==0&&o)))},getFirstDayOfMonth:function(o){var n=(o.getDay()-(o.getDate()-1))%7;return(n<0)?(n+7):n},getLastDayOfMonth:function(n){return e.getLastDateOfMonth(n).getDay()},getFirstDateOfMonth:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},getLastDateOfMonth:function(n){return new Date(n.getFullYear(),n.getMonth(),e.getDaysInMonth(n))},getDaysInMonth:(function(){var n=[31,28,31,30,31,30,31,31,30,31,30,31];return function(q){var o=q.getMonth();return o==1&&e.isLeapYear(q)?29:n[o]}}()),getSuffix:function(n){switch(n.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(n){return new Date(n.getTime())},isDST:function(n){return new Date(n.getFullYear(),0,1).getTimezoneOffset()!=n.getTimezoneOffset()},clearTime:function(n,t){if(t){return Ext.Date.clearTime(Ext.Date.clone(n))}var q=n.getDate(),o,r;n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0);if(n.getDate()!=q){for(o=1,r=e.add(n,Ext.Date.HOUR,o);r.getDate()!=q;o++,r=e.add(n,Ext.Date.HOUR,o)){}n.setDate(q);n.setHours(r.getHours())}return n},add:function(r,q,w){var x=Ext.Date.clone(r),n=Ext.Date,o,u,t=0;if(!q||w===0){return x}u=w-parseInt(w,10);w=parseInt(w,10);if(w){switch(q.toLowerCase()){case Ext.Date.MILLI:x.setTime(x.getTime()+w);break;case Ext.Date.SECOND:x.setTime(x.getTime()+w*1000);break;case Ext.Date.MINUTE:x.setTime(x.getTime()+w*60*1000);break;case Ext.Date.HOUR:x.setTime(x.getTime()+w*60*60*1000);break;case Ext.Date.DAY:x.setDate(x.getDate()+w);break;case Ext.Date.MONTH:o=r.getDate();if(o>28){o=Math.min(o,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(r),Ext.Date.MONTH,w)).getDate())}x.setDate(o);x.setMonth(r.getMonth()+w);break;case Ext.Date.YEAR:o=r.getDate();if(o>28){o=Math.min(o,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(r),Ext.Date.YEAR,w)).getDate())}x.setDate(o);x.setFullYear(r.getFullYear()+w);break}}if(u){switch(q.toLowerCase()){case Ext.Date.MILLI:t=1;break;case Ext.Date.SECOND:t=1000;break;case Ext.Date.MINUTE:t=1000*60;break;case Ext.Date.HOUR:t=1000*60*60;break;case Ext.Date.DAY:t=1000*60*60*24;break;case Ext.Date.MONTH:o=e.getDaysInMonth(x);t=1000*60*60*24*o;break;case Ext.Date.YEAR:o=(e.isLeapYear(x)?366:365);t=1000*60*60*24*o;break}if(t){x.setTime(x.getTime()+t*u)}}return x},subtract:function(o,n,q){return e.add(o,n,-q)},between:function(o,r,n){var q=o.getTime();return r.getTime()<=q&&q<=n.getTime()},compat:function(){var o=window.Date,n,w=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],t=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],u=w.length,q=t.length,r,x,y;for(y=0;y<u;y++){r=w[y];o[r]=e[r]}for(n=0;n<q;n++){x=t[n];o.prototype[x]=function(){var z=Array.prototype.slice.call(arguments);z.unshift(this);return e[x].apply(e,z)}}}})}();(function(a){var e=[],b=function(){},d=function(m,h,l,k){var g=function(){var n=this.callParent(arguments);m.apply(this,arguments);return n};g.$name=l;g.$owner=k;if(h){g.$previous=h.$previous;h.$previous=g}return g};Ext.apply(b,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},extend:function(m){var g=m.prototype,q,k,l,n,h,o;k=this.prototype=Ext.Object.chain(g);k.self=this;this.superclass=k.superclass=g;if(!m.$isClass){q=Ext.Base.prototype;for(l in q){if(l in k){k[l]=q[l]}}}o=g.$inheritableStatics;if(o){for(l=0,n=o.length;l<n;l++){h=o[l];if(!this.hasOwnProperty(h)){this[h]=m[h]}}}if(m.$onExtended){this.$onExtended=m.$onExtended.slice()}k.config=new k.configClass();k.initConfigList=k.initConfigList.slice();k.initConfigMap=Ext.clone(k.initConfigMap);k.configMap=Ext.Object.chain(k.configMap)},$onExtended:[],triggerExtended:function(){var k=this.$onExtended,h=k.length,g,l;if(h>0){for(g=0;g<h;g++){l=k[g];l.fn.apply(l.scope||this,arguments)}}},onExtended:function(h,g){this.$onExtended.push({fn:h,scope:g});return this},addConfig:function(l,q){var t=this.prototype,r=Ext.Class.configNameCache,m=t.configMap,n=t.initConfigList,k=t.initConfigMap,o=t.config,g,h,u;for(h in l){if(l.hasOwnProperty(h)){if(!m[h]){m[h]=true}u=l[h];g=r[h].initialized;if(!k[h]&&u!==null&&!t[g]){k[h]=true;n.push(h)}}}if(q){Ext.merge(o,l)}else{Ext.mergeIf(o,l)}t.configClass=Ext.Object.classify(o)},addStatics:function(g){var k,h;for(h in g){if(g.hasOwnProperty(h)){k=g[h];if(typeof k=="function"&&!k.$isClass&&k!==Ext.emptyFn&&k!==Ext.identityFn){k.$owner=this;k.$name=h}this[h]=k}}return this},addInheritableStatics:function(h){var m,g,l=this.prototype,k,n;m=l.$inheritableStatics;g=l.$hasInheritableStatics;if(!m){m=l.$inheritableStatics=[];g=l.$hasInheritableStatics={}}for(k in h){if(h.hasOwnProperty(k)){n=h[k];this[k]=n;if(!g[k]){g[k]=true;m.push(k)}}}return this},addMembers:function(h){var l=this.prototype,g=Ext.enumerables,o=[],m,n,k,q;for(k in h){o.push(k)}if(g){o.push.apply(o,g)}for(m=0,n=o.length;m<n;m++){k=o[m];if(h.hasOwnProperty(k)){q=h[k];if(typeof q=="function"&&!q.$isClass&&q!==Ext.emptyFn&&q!==Ext.identityFn){q.$owner=this;q.$name=k}l[k]=q}}return this},addMember:function(g,h){if(typeof h=="function"&&!h.$isClass&&h!==Ext.emptyFn&&h!==Ext.identityFn){h.$owner=this;h.$name=g}this.prototype[g]=h;return this},implement:function(){this.addMembers.apply(this,arguments)},borrow:function(m,k){var r=this.prototype,q=m.prototype,l,n,h,o,g;k=Ext.Array.from(k);for(l=0,n=k.length;l<n;l++){h=k[l];g=q[h];if(typeof g=="function"){o=Ext.Function.clone(g);o.$owner=this;o.$name=h;r[h]=o}else{r[h]=g}}return this},override:function(h){var r=this,u=Ext.enumerables,o=r.prototype,l=Ext.Function.clone,g,n,k,t,q,m;if(arguments.length===2){g=h;h={};h[g]=arguments[1];u=null}do{q=[];t=null;for(g in h){if(g=="statics"){t=h[g]}else{if(g=="inheritableStatics"){r.addInheritableStatics(h[g])}else{if(g=="config"){r.addConfig(h[g],true)}else{q.push(g)}}}}if(u){q.push.apply(q,u)}for(n=q.length;n--;){g=q[n];if(h.hasOwnProperty(g)){k=h[g];if(typeof k=="function"&&!k.$className&&k!==Ext.emptyFn&&k!==Ext.identityFn){if(typeof k.$owner!="undefined"){k=l(k)}k.$owner=r;k.$name=g;m=o[g];if(m){k.$previous=m}}o[g]=k}}o=r;h=t}while(h);return this},callParent:function(g){var h;return(h=this.callParent.caller)&&(h.$previous||((h=h.$owner?h:h.caller)&&h.$owner.superclass.self[h.$name])).apply(this,g||e)},callSuper:function(g){var h;return(h=this.callSuper.caller)&&((h=h.$owner?h:h.caller)&&h.$owner.superclass.self[h.$name]).apply(this,g||e)},mixin:function(h,k){var n=this,x=k.prototype,q=n.prototype,w,o,l,m,u,t,r,g;if(typeof x.onClassMixedIn!="undefined"){x.onClassMixedIn.call(k,n)}if(!q.hasOwnProperty("mixins")){if("mixins" in q){q.mixins=Ext.Object.chain(q.mixins)}else{q.mixins={}}}for(w in x){t=x[w];if(w==="mixins"){Ext.merge(q.mixins,t)}else{if(w==="xhooks"){for(r in t){g=t[r];g.$previous=Ext.emptyFn;if(q.hasOwnProperty(r)){d(g,q[r],r,n)}else{q[r]=d(g,null,r,n)}}}else{if(!(w==="mixinId"||w==="config")&&(q[w]===undefined)){q[w]=t}}}}o=x.$inheritableStatics;if(o){for(l=0,m=o.length;l<m;l++){u=o[l];if(!n.hasOwnProperty(u)){n[u]=k[u]}}}if("config" in x){n.addConfig(x.config,false)}q.mixins[h]=x;return n},getName:function(){return Ext.getClassName(this)},createAlias:a(function(h,g){this.override(h,function(){return this[g].apply(this,arguments)})}),addXtype:function(m){var h=this.prototype,l=h.xtypesMap,k=h.xtypes,g=h.xtypesChain;if(!h.hasOwnProperty("xtypesMap")){l=h.xtypesMap=Ext.merge({},h.xtypesMap||{});k=h.xtypes=h.xtypes?[].concat(h.xtypes):[];g=h.xtypesChain=h.xtypesChain?[].concat(h.xtypesChain):[];h.xtype=m}if(!l[m]){l[m]=true;k.push(m);g.push(m);Ext.ClassManager.setAlias(this,"widget."+m)}return this}});b.implement({isInstance:true,$className:"Ext.Base",configClass:Ext.emptyFn,initConfigList:[],configMap:{},initConfigMap:{},statics:function(){var h=this.statics.caller,g=this.self;if(!h){return g}return h.$owner},callParent:function(h){var k,g=(k=this.callParent.caller)&&(k.$previous||((k=k.$owner?k:k.caller)&&k.$owner.superclass[k.$name]));return g.apply(this,h||e)},callSuper:function(h){var k,g=(k=this.callSuper.caller)&&((k=k.$owner?k:k.caller)&&k.$owner.superclass[k.$name]);return g.apply(this,h||e)},self:b,constructor:function(){return this},initConfig:function(k){var q=k,o=Ext.Class.configNameCache,m=new this.configClass(),u=this.initConfigList,l=this.configMap,t,n,r,h,g;this.initConfig=Ext.emptyFn;this.initialConfig=q||{};this.config=k=(q)?Ext.merge(m,k):m;if(q){u=u.slice();for(h in q){if(l[h]){if(q[h]!==null){u.push(h);this[o[h].initialized]=false}}}}for(n=0,r=u.length;n<r;n++){h=u[n];t=o[h];g=t.initialized;if(!this[g]){this[g]=true;this[t.set].call(this,k[h])}}return this},hasConfig:function(g){return Boolean(this.configMap[g])},setConfig:function(l,q){if(!l){return this}var k=Ext.Class.configNameCache,g=this.config,o=this.configMap,n=this.initialConfig,h,m;q=Boolean(q);for(h in l){if(q&&n.hasOwnProperty(h)){continue}m=l[h];g[h]=m;if(o[h]){this[k[h].set](m)}}return this},getConfig:function(h){var g=Ext.Class.configNameCache;return this[g[h].get]()},getInitialConfig:function(h){var g=this.config;if(!h){return g}else{return g[h]}},onConfigUpdate:function(n,q,r){var t=this.self,k,m,g,l,o,h;n=Ext.Array.from(n);r=r||this;for(k=0,m=n.length;k<m;k++){g=n[k];l="update"+Ext.String.capitalize(g);o=this[l]||Ext.emptyFn;h=function(){o.apply(this,arguments);r[q].apply(r,arguments)};h.$name=l;h.$owner=t;this[l]=h}},destroy:function(){this.destroy=Ext.emptyFn}});b.prototype.callOverridden=b.prototype.callParent;Ext.Base=b}(Ext.Function.flexSetter));(function(){var d,b=Ext.Base,h=[],g,e;for(g in b){if(b.hasOwnProperty(g)){h.push(g)}}e=h.length;function a(l){function k(){return this.constructor.apply(this,arguments)||null}return k}Ext.Class=d=function(l,m,k){if(typeof l!="function"){k=m;m=l;l=null}if(!m){m={}}l=d.create(l,m);d.process(l,m,k);return l};Ext.apply(d,{onBeforeCreated:function(l,m,k){l.addMembers(m);k.onCreated.call(l,l)},create:function(k,n){var l,m;if(!k){k=a()}for(m=0;m<e;m++){l=h[m];k[l]=b[l]}return k},process:function(k,r,m){var l=r.preprocessors||d.defaultPreprocessors,w=this.preprocessors,z={onBeforeCreated:this.onBeforeCreated},y=[],A,q,o,x,n,u,t;delete r.preprocessors;for(o=0,x=l.length;o<x;o++){A=l[o];if(typeof A=="string"){A=w[A];q=A.properties;if(q===true){y.push(A.fn)}else{if(q){for(n=0,u=q.length;n<u;n++){t=q[n];if(r.hasOwnProperty(t)){y.push(A.fn);break}}}}}else{y.push(A)}}z.onCreated=m?m:Ext.emptyFn;z.preprocessors=y;this.doProcess(k,r,z)},doProcess:function(l,q,k){var o=this,r=k.preprocessors,m=r.shift(),n=o.doProcess;for(;m;m=r.shift()){if(m.call(o,l,q,k,n)===false){return}}k.onBeforeCreated.apply(o,arguments)},preprocessors:{},registerPreprocessor:function(l,o,m,k,n){if(!k){k="last"}if(!m){m=[l]}this.preprocessors[l]={name:l,properties:m||false,fn:o};this.setDefaultPreprocessorPosition(l,k,n);return this},getPreprocessor:function(k){return this.preprocessors[k]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(k){this.defaultPreprocessors=Ext.Array.from(k);return this},setDefaultPreprocessorPosition:function(m,o,n){var k=this.defaultPreprocessors,l;if(typeof o=="string"){if(o==="first"){k.unshift(m);return this}else{if(o==="last"){k.push(m);return this}}o=(o==="after")?1:-1}l=Ext.Array.indexOf(k,n);if(l!==-1){Ext.Array.splice(k,Math.max(0,l+o),0,m)}return this},configNameCache:{},getConfigNameMap:function(m){var l=this.configNameCache,n=l[m],k;if(!n){k=m.charAt(0).toUpperCase()+m.substr(1);n=l[m]={internal:m,initialized:"_is"+k+"Initialized",apply:"apply"+k,update:"update"+k,set:"set"+k,get:"get"+k,doSet:"doSet"+k,changeEvent:m.toLowerCase()+"change"}}return n}});d.registerPreprocessor("extend",function(l,n,u){var o=Ext.Base,q=o.prototype,r=n.extend,k,t,m;delete n.extend;if(r&&r!==Object){k=r}else{k=o}t=k.prototype;if(!k.$isClass){for(m in q){if(!t[m]){t[m]=q[m]}}}l.extend(k);l.triggerExtended.apply(l,arguments);if(n.onClassExtended){l.onExtended(n.onClassExtended,l);delete n.onClassExtended}},true);d.registerPreprocessor("statics",function(k,l){k.addStatics(l.statics);delete l.statics});d.registerPreprocessor("inheritableStatics",function(k,l){k.addInheritableStatics(l.inheritableStatics);delete l.inheritableStatics});d.registerPreprocessor("config",function(k,n){var m=n.config,l=k.prototype;delete n.config;Ext.Object.each(m,function(r,C){var A=d.getConfigNameMap(r),w=A.internal,o=A.initialized,B=A.apply,t=A.update,z=A.set,q=A.get,E=(z in l)||n.hasOwnProperty(z),u=(B in l)||n.hasOwnProperty(B),x=(t in l)||n.hasOwnProperty(t),D,y;if(C===null||(!E&&!u&&!x)){l[w]=C;l[o]=true}else{l[o]=false}if(!E){n[z]=function(I){var G=this[w],F=this[B],J=this[t];if(!this[o]){this[o]=true}if(F){I=F.call(this,I,G)}if(typeof I!="undefined"){this[w]=I;if(J&&I!==G){J.call(this,I,G)}}return this}}if(!(q in l)||n.hasOwnProperty(q)){y=n[q]||false;if(y){D=function(){return y.apply(this,arguments)}}else{D=function(){return this[w]}}n[q]=function(){var F;if(!this[o]){this[o]=true;this[z](this.config[r])}F=this[q];if("$previous" in F){F.$previous=D}else{this[q]=D}return D.apply(this,arguments)}}});k.addConfig(m,true)});d.registerPreprocessor("mixins",function(n,t,k){var l=t.mixins,o,m,q,r;delete t.mixins;Ext.Function.interceptBefore(k,"onCreated",function(){if(l instanceof Array){for(q=0,r=l.length;q<r;q++){m=l[q];o=m.prototype.mixinId||m.$className;n.mixin(o,m)}}else{for(var u in l){if(l.hasOwnProperty(u)){n.mixin(u,l[u])}}}})});Ext.extend=function(m,n,l){if(arguments.length===2&&Ext.isObject(n)){l=n;n=m;m=null}var k;if(!n){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}l.extend=n;l.preprocessors=["extend","statics","inheritableStatics","mixins","config"];if(m){k=new d(m,l);k.prototype.constructor=m}else{k=new d(l)}k.prototype.override=function(r){for(var q in r){if(r.hasOwnProperty(q)){this[q]=r[q]}}};return k}}());(function(d,g,k,e,h){function a(){function l(){return this.constructor.apply(this,arguments)||null}return l}var b=Ext.ClassManager={classes:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],maps:{alternateToName:{},aliasToName:{},nameToAliases:{},nameToAlternates:{}},enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(q){var o=this.existCache,n,r,m,l,t;if(this.classes[q]||o[q]){return true}l=h;t=this.parseNamespace(q);for(n=0,r=t.length;n<r;n++){m=t[n];if(typeof m!="string"){l=m}else{if(!l||!l[m]){return false}l=l[m]}}o[q]=true;this.triggerCreated(q);return true},createdListeners:[],nameCreatedListeners:{},triggerCreated:function(w){var y=this.createdListeners,n=this.nameCreatedListeners,o=this.maps.nameToAlternates[w],x=[w],r,u,q,t,m,l;for(r=0,u=y.length;r<u;r++){m=y[r];m.fn.call(m.scope,w)}if(o){x.push.apply(x,o)}for(r=0,u=x.length;r<u;r++){l=x[r];y=n[l];if(y){for(q=0,t=y.length;q<t;q++){m=y[q];m.fn.call(m.scope,l)}delete n[l]}}},onCreated:function(q,o,n){var m=this.createdListeners,l=this.nameCreatedListeners,r={fn:q,scope:o};if(n){if(this.isCreated(n)){q.call(o,n);return}if(!l[n]){l[n]=[]}l[n].push(r)}else{m.push(r)}},parseNamespace:function(n){var l=this.namespaceParseCache,o,r,u,m,y,x,w,q,t;if(this.enableNamespaceParseCache){if(l.hasOwnProperty(n)){return l[n]}}o=[];r=this.namespaceRewrites;u=h;m=n;for(q=0,t=r.length;q<t;q++){y=r[q];x=y.from;w=y.to;if(m===x||m.substring(0,x.length)===x){m=m.substring(x.length);if(typeof w!="string"){u=w}else{o=o.concat(w.split("."))}break}}o.push(u);o=o.concat(m.split("."));if(this.enableNamespaceParseCache){l[n]=o}return o},setNamespace:function(o,t){var m=h,u=this.parseNamespace(o),r=u.length-1,l=u[r],q,n;for(q=0;q<r;q++){n=u[q];if(typeof n!="string"){m=n}else{if(!m[n]){m[n]={}}m=m[n]}}m[l]=t;return m[l]},createNamespaces:function(){var l=h,r,n,o,m,q,t;for(o=0,q=arguments.length;o<q;o++){r=this.parseNamespace(arguments[o]);for(m=0,t=r.length;m<t;m++){n=r[m];if(typeof n!="string"){l=n}else{if(!l[n]){l[n]={}}l=l[n]}}}return l},set:function(l,q){var o=this,t=o.maps,r=t.nameToAlternates,n=o.getName(q),m;o.classes[l]=o.setNamespace(l,q);if(n&&n!==l){t.alternateToName[l]=n;m=r[n]||(r[n]=[]);m.push(l)}return this},get:function(n){var q=this.classes,l,t,m,o,r;if(q[n]){return q[n]}l=h;t=this.parseNamespace(n);for(o=0,r=t.length;o<r;o++){m=t[o];if(typeof m!="string"){l=m}else{if(!l||!l[m]){return null}l=l[m]}}return l},setAlias:function(l,m){var o=this.maps.aliasToName,q=this.maps.nameToAliases,n;if(typeof l=="string"){n=l}else{n=this.getName(l)}if(m&&o[m]!==n){o[m]=n}if(!q[n]){q[n]=[]}if(m){Ext.Array.include(q[n],m)}return this},addNameAliasMappings:function(l){var r=this.maps.aliasToName,t=this.maps.nameToAliases,o,q,n,m;for(o in l){q=t[o]||(t[o]=[]);for(m=0;m<l[o].length;m++){n=l[o][m];if(!r[n]){r[n]=o;q.push(n)}}}return this},addNameAlternateMappings:function(o){var l=this.maps.alternateToName,t=this.maps.nameToAlternates,n,q,r,m;for(n in o){q=t[n]||(t[n]=[]);for(m=0;m<o[n].length;m++){r=o[n][m];if(!l[r]){l[r]=n;q.push(r)}}}return this},getByAlias:function(l){return this.get(this.getNameByAlias(l))},getNameByAlias:function(l){return this.maps.aliasToName[l]||""},getNameByAlternate:function(l){return this.maps.alternateToName[l]||""},getAliasesByName:function(l){return this.maps.nameToAliases[l]||[]},getName:function(l){return l&&l.$className||""},getClass:function(l){return l&&l.self||null},create:function(m,o,l){var n=a();if(typeof o=="function"){o=o(n)}o.$className=m;return new d(n,o,function(){var q=o.postprocessors||b.defaultPostprocessors,z=b.postprocessors,A=[],y,t,x,r,w,u,B;delete o.postprocessors;for(t=0,x=q.length;t<x;t++){y=q[t];if(typeof y=="string"){y=z[y];u=y.properties;if(u===true){A.push(y.fn)}else{if(u){for(r=0,w=u.length;r<w;r++){B=u[r];if(o.hasOwnProperty(B)){A.push(y.fn);break}}}}}else{A.push(y)}}o.postprocessors=A;o.createdFn=l;b.processCreate(m,this,o)})},processCreate:function(o,m,r){var q=this,l=r.postprocessors.shift(),n=r.createdFn;if(!l){if(o){q.set(o,m)}if(n){n.call(m,m)}if(o){q.triggerCreated(o)}return}if(l.call(q,o,m,r,q.processCreate)!==false){q.processCreate(o,m,r)}},createOverride:function(o,u,m){var t=this,r=u.override,n=u.requires,l=u.uses,q=function(){var w,x;if(n){x=n;n=null;Ext.Loader.require(x,q)}else{w=t.get(r);delete u.override;delete u.requires;delete u.uses;Ext.override(w,u);t.triggerCreated(o);if(l){Ext.Loader.addUsedClasses(l)}if(m){m.call(w)}}};t.existCache[o]=true;t.onCreated(q,t,r);return t},instantiateByAlias:function(){var m=arguments[0],l=k.call(arguments),n=this.getNameByAlias(m);if(!n){n=this.maps.aliasToName[m];Ext.syncRequire(n)}l[0]=n;return this.instantiate.apply(this,l)},instantiate:function(){var n=arguments[0],q=typeof n,m=k.call(arguments,1),o=n,r,l;if(q!="function"){if(q!="string"&&m.length===0){m=[n];n=n.xclass}l=this.get(n)}else{l=n}if(!l){r=this.getNameByAlias(n);if(r){n=r;l=this.get(n)}}if(!l){r=this.getNameByAlternate(n);if(r){n=r;l=this.get(n)}}if(!l){Ext.syncRequire(n);l=this.get(n)}return this.getInstantiator(m.length)(l,m)},dynInstantiate:function(m,l){l=e(l,true);l.unshift(m);return this.instantiate.apply(this,l)},getInstantiator:function(o){var n=this.instantiators,q,m,l;q=n[o];if(!q){m=o;l=[];for(m=0;m<o;m++){l.push("a["+m+"]")}q=n[o]=new Function("c","a","return new c("+l.join(",")+")")}return q},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(m,q,n,l,o){if(!l){l="last"}if(!n){n=[m]}this.postprocessors[m]={name:m,properties:n||false,fn:q};this.setDefaultPostprocessorPosition(m,l,o);return this},setDefaultPostprocessors:function(l){this.defaultPostprocessors=e(l);return this},setDefaultPostprocessorPosition:function(m,q,o){var n=this.defaultPostprocessors,l;if(typeof q=="string"){if(q==="first"){n.unshift(m);return this}else{if(q==="last"){n.push(m);return this}}q=(q==="after")?1:-1}l=Ext.Array.indexOf(n,o);if(l!==-1){Ext.Array.splice(n,Math.max(0,l+q),0,m)}return this},getNamesByExpression:function(u){var r=this.maps.nameToAliases,w=[],l,q,n,m,x,o,t;if(u.indexOf("*")!==-1){u=u.replace(/\*/g,"(.*?)");x=new RegExp("^"+u+"$");for(l in r){if(r.hasOwnProperty(l)){n=r[l];if(l.search(x)!==-1){w.push(l)}else{for(o=0,t=n.length;o<t;o++){q=n[o];if(q.search(x)!==-1){w.push(l);break}}}}}}else{m=this.getNameByAlias(u);if(m){w.push(m)}else{m=this.getNameByAlternate(u);if(m){w.push(m)}else{w.push(u)}}}return w}};b.registerPostprocessor("alias",function(n,m,r){var l=r.alias,o,q;for(o=0,q=l.length;o<q;o++){g=l[o];this.setAlias(m,g)}},["xtype","alias"]);b.registerPostprocessor("singleton",function(m,l,o,n){if(o.singleton){n.call(this,m,new l(),o)}else{return true}return false});b.registerPostprocessor("alternateClassName",function(m,l,r){var o=r.alternateClassName,n,q,t;if(!(o instanceof Array)){o=[o]}for(n=0,q=o.length;n<q;n++){t=o[n];this.set(t,l)}});Ext.apply(Ext,{create:g(b,"instantiate"),widget:function(n,m){var t=n,o,q,l,r;if(typeof t!="string"){m=n;t=m.xtype}else{m=m||{}}if(m.isComponent){return m}o="widget."+t;q=b.getNameByAlias(o);if(!q){r=true}l=b.get(q);if(r||!l){return b.instantiateByAlias(o,m)}return new l(m)},createByAlias:g(b,"instantiateByAlias"),define:function(m,n,l){if(n.override){return b.createOverride.apply(b,arguments)}return b.create.apply(b,arguments)},undefine:function(u){var n=b.classes,x=b.maps,y=x.aliasToName,z=x.nameToAliases,B=x.alternateToName,r=x.nameToAlternates,l=z[u],w=r[u],o,A,m,q;delete b.namespaceParseCache[u];delete z[u];delete r[u];delete n[u];if(l){for(q=l.length;q--;){delete y[l[q]]}}if(w){for(q=w.length;q--;){delete B[w[q]]}}o=b.parseNamespace(u);A=o.length-1;m=o[0];for(q=1;q<A;q++){m=m[o[q]];if(!m){return}}try{delete m[o[A]]}catch(t){m[o[A]]=undefined}},getClassName:g(b,"getName"),getDisplayName:function(l){if(l){if(l.displayName){return l.displayName}if(l.$name&&l.$class){return Ext.getClassName(l.$class)+"#"+l.$name}if(l.$className){return l.$className}}return"Anonymous"},getClass:g(b,"getClass"),namespace:g(b,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;d.registerPreprocessor("className",function(l,m){if(m.$className){l.$className=m.$className}},true,"first");d.registerPreprocessor("alias",function(z,r){var x=z.prototype,n=e(r.xtype),l=e(r.alias),A="widget.",y=A.length,t=Array.prototype.slice.call(x.xtypesChain||[]),o=Ext.merge({},x.xtypesMap||{}),q,w,u,m;for(q=0,w=l.length;q<w;q++){u=l[q];if(u.substring(0,y)===A){m=u.substring(y);Ext.Array.include(n,m)}}z.xtype=r.xtype=n[0];r.xtypes=n;for(q=0,w=n.length;q<w;q++){m=n[q];if(!o[m]){o[m]=true;t.push(m)}}r.xtypesChain=t;r.xtypesMap=o;Ext.Function.interceptAfter(r,"onClassCreated",function(){var B=x.mixins,D,C;for(D in B){if(B.hasOwnProperty(D)){C=B[D];n=C.xtypes;if(n){for(q=0,w=n.length;q<w;q++){m=n[q];if(!o[m]){o[m]=true;t.push(m)}}}}}});for(q=0,w=n.length;q<w;q++){m=n[q];Ext.Array.include(l,A+m)}r.alias=l},["xtype","alias"])}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));if(Ext._alternatesMetadata){Ext.ClassManager.addNameAlternateMappings(Ext._alternatesMetadata);Ext._alternatesMetadata=null}if(Ext._aliasMetadata){Ext.ClassManager.addNameAliasMappings(Ext._aliasMetadata);Ext._aliasMetadata=null}Ext.Loader=new function(){var n=this,b=Ext.ClassManager,z=Ext.Class,g=Ext.Function.flexSetter,t=Ext.Function.alias,a=Ext.Function.pass,e=Ext.Function.defer,k=Ext.Array.erase,r=["extend","mixins","requires"],B={},q=[],d=/\/\.\//g,h=/\./g,m=0;Ext.apply(n,{isInHistory:B,history:q,config:{enabled:false,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",garbageCollect:false,paths:{Ext:"."},preserveScripts:true,scriptCharset:undefined},setConfig:function(E,F){if(Ext.isObject(E)&&arguments.length===1){Ext.merge(n.config,E);if("paths" in E){Ext.app.collectNamespaces(E.paths)}}else{n.config[E]=(Ext.isObject(F))?Ext.merge(n.config[E],F):F;if(E==="paths"){Ext.app.collectNamespaces(F)}}return n},getConfig:function(E){if(E){return n.config[E]}return n.config},setPath:g(function(E,F){n.config.paths[E]=F;Ext.app.namespaces[E]=true;m++;return n}),addClassPathMappings:function(F){var E;if(m==0){n.config.paths=F}else{for(E in F){n.config.paths[E]=F[E]}}m++;return n},getPath:function(E){var G="",I=n.config.paths,F=n.getPrefix(E);if(F.length>0){if(F===E){return I[F]}G=I[F];E=E.substring(F.length+1)}if(G.length>0){G+="/"}return G.replace(d,"/")+E.replace(h,"/")+".js"},getPrefix:function(F){var I=n.config.paths,G,E="";if(I.hasOwnProperty(F)){return F}for(G in I){if(I.hasOwnProperty(G)&&G+"."===F.substring(0,G.length+1)){if(G.length>E.length){E=G}}}return E},isAClassNameWithAKnownPrefix:function(E){var F=n.getPrefix(E);return F!==""&&F!==E},require:function(G,F,E,I){if(F){F.call(E)}},syncRequire:function(){},exclude:function(E){return{require:function(I,G,F){return n.require(I,G,F,E)},syncRequire:function(I,G,F){return n.syncRequire(I,G,F,E)}}},onReady:function(I,G,J,E){var F;if(J!==false&&Ext.onDocumentReady){F=I;I=function(){Ext.onDocumentReady(F,G,E)}}I.call(G)}});var w=[],x={},A={},y={},u={},C=[],D=[],l={},o=function(E,F){return F.priority-E.priority};Ext.apply(n,{documentHead:typeof document!="undefined"&&(document.head||document.getElementsByTagName("head")[0]),isLoading:false,queue:w,isClassFileLoaded:x,isFileLoaded:A,readyListeners:C,optionalRequires:D,requiresMap:l,numPendingFiles:0,numLoadedFiles:0,hasFileLoadError:false,classNameToFilePathMap:y,scriptsLoading:0,syncModeEnabled:false,scriptElements:u,refreshQueue:function(){var J=w.length,F,I,E,G;if(!J&&!n.scriptsLoading){return n.triggerReady()}for(F=0;F<J;F++){I=w[F];if(I){G=I.requires;if(G.length>n.numLoadedFiles){continue}for(E=0;E<G.length;){if(b.isCreated(G[E])){k(G,E,1)}else{E++}}if(I.requires.length===0){k(w,F,1);I.callback.call(I.scope);n.refreshQueue();break}}}return n},injectScriptElement:function(E,O,J,R,G){var P=document.createElement("script"),K=false,F=n.config,N=function(){if(!K){K=true;P.onload=P.onreadystatechange=P.onerror=null;if(typeof F.scriptChainDelay=="number"){e(O,F.scriptChainDelay,R)}else{O.call(R)}n.cleanupScriptElement(P,F.preserveScripts===false,F.garbageCollect)}},I=function(S){e(J,1,R);n.cleanupScriptElement(P,F.preserveScripts===false,F.garbageCollect)};P.type="text/javascript";P.onerror=I;G=G||F.scriptCharset;if(G){P.charset=G}if("addEventListener" in P){P.onload=N}else{if("readyState" in P){P.onreadystatechange=function(){if(this.readyState=="loaded"||this.readyState=="complete"){N()}}}else{P.onload=N}}P.src=E;(n.documentHead||document.getElementsByTagName("head")[0]).appendChild(P);return P},removeScriptElement:function(E){if(u[E]){n.cleanupScriptElement(u[E],true,!!n.getConfig("garbageCollect"));delete u[E]}return n},cleanupScriptElement:function(G,F,I){var J;G.onload=G.onreadystatechange=G.onerror=null;if(F){Ext.removeNode(G);if(I){for(J in G){try{if(J!="src"){G[J]=null}delete G[J]}catch(E){}}}}return n},loadScript:function(R){var I=n.getConfig(),G=typeof R=="string",F=G?R:R.url,K=!G&&R.onError,N=!G&&R.onLoad,P=!G&&R.scope,O=function(){n.numPendingFiles--;n.scriptsLoading--;if(K){K.call(P,"Failed loading '"+F+"', please verify that the file exists")}if(n.numPendingFiles+n.scriptsLoading===0){n.refreshQueue()}},J=function(){n.numPendingFiles--;n.scriptsLoading--;if(N){N.call(P)}if(n.numPendingFiles+n.scriptsLoading===0){n.refreshQueue()}},E;n.isLoading=true;n.numPendingFiles++;n.scriptsLoading++;E=I.disableCaching?(F+"?"+I.disableCachingParam+"="+Ext.Date.now()):F;u[F]=n.injectScriptElement(E,J,O)},loadScriptFile:function(F,P,N,T,E){if(A[F]){return n}var I=n.getConfig(),U=F+(I.disableCaching?("?"+I.disableCachingParam+"="+Ext.Date.now()):""),G=false,S,J,R,K="";T=T||n;n.isLoading=true;if(!E){R=function(){};u[F]=n.injectScriptElement(U,P,R,T)}else{if(typeof XMLHttpRequest!="undefined"){S=new XMLHttpRequest()}else{S=new ActiveXObject("Microsoft.XMLHTTP")}try{S.open("GET",U,false);S.send(null)}catch(O){G=true}J=(S.status===1223)?204:(S.status===0&&((self.location||{}).protocol=="file:"||(self.location||{}).protocol=="ionp:"))?200:S.status;G=G||(J===0);if(G){}else{if((J>=200&&J<300)||(J===304)){if(!Ext.isIE){K="\n//@ sourceURL="+F}Ext.globalEval(S.responseText+K);P.call(T)}else{}}S=null}},syncRequire:function(){var E=n.syncModeEnabled;if(!E){n.syncModeEnabled=true}n.require.apply(n,arguments);if(!E){n.syncModeEnabled=false}n.refreshQueue()},require:function(aa,R,I,K){var T={},G={},P=[],ac=[],Z=[],F=[],O,ab,V,U,E,N,Y,X,W,S,J;if(K){K=(typeof K==="string")?[K]:K;for(X=0,S=K.length;X<S;X++){E=K[X];if(typeof E=="string"&&E.length>0){P=b.getNamesByExpression(E);for(W=0,J=P.length;W<J;W++){T[P[W]]=true}}}}aa=(typeof aa==="string")?[aa]:(aa?aa:[]);if(R){if(R.length>0){O=function(){var ae=[],ad,af;for(ad=0,af=F.length;ad<af;ad++){ae.push(b.get(F[ad]))}return R.apply(this,ae)}}else{O=R}}else{O=Ext.emptyFn}I=I||Ext.global;for(X=0,S=aa.length;X<S;X++){U=aa[X];if(typeof U=="string"&&U.length>0){ac=b.getNamesByExpression(U);J=ac.length;for(W=0;W<J;W++){Y=ac[W];if(T[Y]!==true){F.push(Y);if(!b.isCreated(Y)&&!G[Y]){G[Y]=true;Z.push(Y)}}}}}if(Z.length>0){if(!n.config.enabled){throw new Error("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((Z.length>1)?"es":"")+": "+Z.join(", "))}}else{O.call(I);return n}ab=n.syncModeEnabled;if(!ab){w.push({requires:Z.slice(),callback:O,scope:I})}S=Z.length;for(X=0;X<S;X++){N=Z[X];V=n.getPath(N);if(ab&&x.hasOwnProperty(N)){if(!x[N]){n.numPendingFiles--;n.removeScriptElement(V);delete x[N]}}if(!x.hasOwnProperty(N)){x[N]=false;y[N]=V;n.numPendingFiles++;n.loadScriptFile(V,a(n.onFileLoaded,[N,V],n),a(n.onFileLoadError,[N,V],n),n,ab)}}if(ab){O.call(I);if(S===1){return b.get(N)}}return n},onFileLoaded:function(G,F){var E=x[G];n.numLoadedFiles++;x[G]=true;A[F]=true;if(!E){n.numPendingFiles--}if(n.numPendingFiles===0){n.refreshQueue()}},onFileLoadError:function(G,F,E,I){n.numPendingFiles--;n.hasFileLoadError=true},addUsedClasses:function(G){var E,F,I;if(G){G=(typeof G=="string")?[G]:G;for(F=0,I=G.length;F<I;F++){E=G[F];if(typeof E=="string"&&!Ext.Array.contains(D,E)){D.push(E)}}}return n},triggerReady:function(){var E,F=D;if(n.isLoading){n.isLoading=false;if(F.length!==0){F=F.slice();D.length=0;n.require(F,n.triggerReady,n);return n}}Ext.Array.sort(C,o);while(C.length&&!n.isLoading){E=C.shift();E.fn.call(E.scope)}return n},onReady:function(I,G,J,E){var F;if(J!==false&&Ext.onDocumentReady){F=I;I=function(){Ext.onDocumentReady(F,G,E)}}if(!n.isLoading){I.call(G)}else{C.push({fn:I,scope:G,priority:(E&&E.priority)||0})}},historyPush:function(E){if(E&&x.hasOwnProperty(E)&&!B[E]){B[E]=true;q.push(E)}return n}});Ext.disableCacheBuster=function(F,G){var E=new Date();E.setTime(E.getTime()+(F?10*365:-1)*24*60*60*1000);E=E.toGMTString();document.cookie="ext-cache=1; expires="+E+"; path="+(G||"/")};Ext.require=t(n,"require");Ext.syncRequire=t(n,"syncRequire");Ext.exclude=t(n,"exclude");Ext.onReady=function(G,F,E){n.onReady(G,F,true,E)};z.registerPreprocessor("loader",function(Y,J,X,W){var T=this,R=[],E,S=b.getName(Y),I,G,P,O,V,N,F,U,K;for(I=0,P=r.length;I<P;I++){N=r[I];if(J.hasOwnProperty(N)){F=J[N];if(typeof F=="string"){R.push(F)}else{if(F instanceof Array){for(G=0,O=F.length;G<O;G++){V=F[G];if(typeof V=="string"){R.push(V)}}}else{if(typeof F!="function"){for(G in F){if(F.hasOwnProperty(G)){V=F[G];if(typeof V=="string"){R.push(V)}}}}}}}}if(R.length===0){return}n.require(R,function(){for(I=0,P=r.length;I<P;I++){N=r[I];if(J.hasOwnProperty(N)){F=J[N];if(typeof F=="string"){J[N]=b.get(F)}else{if(F instanceof Array){for(G=0,O=F.length;G<O;G++){V=F[G];if(typeof V=="string"){J[N][G]=b.get(V)}}}else{if(typeof F!="function"){for(var Z in F){if(F.hasOwnProperty(Z)){V=F[Z];if(typeof V=="string"){J[N][Z]=b.get(V)}}}}}}}}W.call(T,Y,J,X)});return false},true,"after","className");b.registerPostprocessor("uses",function(G,F,I){var E=I.uses;if(E){n.addUsedClasses(E)}});b.onCreated(n.historyPush)}();if(Ext._classPathMetadata){Ext.Loader.addClassPathMappings(Ext._classPathMetadata);Ext._classPathMetadata=null}(function(){var a=document.getElementsByTagName("script"),b=a[a.length-1],e=b.src,d=e.substring(0,e.lastIndexOf("/")+1),g=Ext.Loader;g.setConfig({enabled:true,disableCaching:true,paths:{Ext:d+"src"}})})();Ext._endTime=new Date().getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.Error=Ext.extend(Error,{statics:{ignore:false,raise:function(a){a=a||{};if(Ext.isString(a)){a={msg:a}}var d=this.raise.caller,b;if(d){if(d.$name){a.sourceMethod=d.$name}if(d.$owner){a.sourceClass=d.$owner.$className}}if(Ext.Error.handle(a)!==true){b=Ext.Error.prototype.toString.call(a);Ext.log({msg:b,level:"error",dump:a,stack:true});throw new Ext.Error(a)}},handle:function(){return Ext.Error.ignore}},name:"Ext.Error",constructor:function(a){if(Ext.isString(a)){a={msg:a}}var b=this;Ext.apply(b,a);b.message=b.message||b.msg},toString:function(){var d=this,b=d.sourceClass?d.sourceClass:"",a=d.sourceMethod?"."+d.sourceMethod+"(): ":"",e=d.msg||"(No description provided)";return b+a+e}});Ext.deprecated=function(a){return Ext.emptyFn};Ext.JSON=(new (function(){var me=this,encodingFunction,decodingFunction,useNative=null,useHasOwn=!!{}.hasOwnProperty,isNative=function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative},pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return Ext.JSON.encodeDate(o)}else{if(Ext.isString(o)){return Ext.JSON.encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeArray=function(o,newline){var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(Ext.JSON.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(Ext.JSON.encodeValue(i),":",Ext.JSON.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(!encodingFunction){encodingFunction=isNative()?JSON.stringify:me.encodeValue}return encodingFunction(o)};me.decode=function(json,safe){if(!decodingFunction){decodingFunction=isNative()?JSON.parse:doDecode}try{return decodingFunction(json)}catch(e){if(safe===true){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}}})());Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode;Ext.apply(Ext,{userAgent:navigator.userAgent.toLowerCase(),cache:{},idSeed:1000,windowId:"ext-window",documentId:"ext-document",isReady:false,enableGarbageCollector:true,enableListenerCollection:true,rootHierarchyState:{},addCacheEntry:function(h,d,g){g=g||d.dom;var a=Ext.cache,b=h||(d&&d.id)||g.id,e=a[b]||(a[b]={data:{},events:{},dom:g,skipGarbageCollection:!!(g.getElementById||g.navigator)});if(d){d.$cache=e;e.el=d}return e},updateCacheEntry:function(a,b){a.dom=b;if(a.el){a.el.dom=b}return a},id:function(a,d){var b=this,e="";a=Ext.getDom(a,true)||{};if(a===document){a.id=b.documentId}else{if(a===window){a.id=b.windowId}}if(!a.id){if(b.isSandboxed){e=Ext.sandboxName.toLowerCase()+"-"}a.id=e+(d||"ext-gen")+(++Ext.idSeed)}return a.id},escapeId:(function(){var d=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,e=/([\W]{1})/g,b=/^(\d)/g,a=function(k,h){return"\\"+h},g=function(k,h){return"\\00"+h.charCodeAt(0).toString(16)+" "};return function(h){return d.test(h)?h:h.replace(e,a).replace(b,g)}}()),getBody:(function(){var a;return function(){return a||(a=Ext.get(document.body))}}()),getHead:(function(){var a;return function(){return a||(a=Ext.get(document.getElementsByTagName("head")[0]))}}()),getDoc:(function(){var a;return function(){return a||(a=Ext.get(document))}}()),getOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},destroy:function(){var d=arguments.length,b,a;for(b=0;b<d;b++){a=arguments[b];if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(a.isStore){a.destroyStore()}else{if(Ext.isFunction(a.destroy)){a.destroy()}else{if(a.dom){a.remove()}}}}}}},callback:function(h,g,d,b){var e,a;if(Ext.isFunction(h)){e=h}else{if(g&&Ext.isString(h)){e=g[h]}}if(e){d=d||[];g=g||window;if(b){Ext.defer(e,b,g,d)}else{a=e.apply(g,d)}}return a},resolveMethod:function(b,a){if(Ext.isFunction(b)){return b}return a[b]},htmlEncode:function(a){return Ext.String.htmlEncode(a)},htmlDecode:function(a){return Ext.String.htmlDecode(a)},urlAppend:function(a,b){return Ext.String.urlAppend(a,b)}});Ext.ns=Ext.namespace;window.undefined=window.undefined;(function(){var u=function(e){return e.test(Ext.userAgent)},A=document.compatMode=="CSS1Compat",P=function(ac,ab){var e;return(ac&&(e=ab.exec(Ext.userAgent)))?parseFloat(e[1]):0},w=document.documentMode,a=u(/opera/),C=a&&u(/version\/10\.5/),V=u(/\bchrome\b/),G=u(/webkit/),d=!V&&u(/safari/),T=d&&u(/applewebkit\/4/),R=d&&u(/version\/3/),N=d&&u(/version\/4/),n=d&&u(/version\/5\.0/),K=d&&u(/version\/5/),m=!a&&u(/msie/),U=m&&((u(/msie 7/)&&w!=8&&w!=9&&w!=10)||w==7),S=m&&((u(/msie 8/)&&w!=7&&w!=9&&w!=10)||w==8),O=m&&((u(/msie 9/)&&w!=7&&w!=8&&w!=10)||w==9),k=m&&((u(/msie 10/)&&w!=7&&w!=8&&w!=9)||w==10),X=m&&u(/msie 6/),b=!G&&u(/gecko/),aa=b&&u(/rv:1\.9/),Z=b&&u(/rv:2\.0/),Y=b&&u(/rv:5\./),y=b&&u(/rv:10\./),F=aa&&u(/rv:1\.9\.0/),D=aa&&u(/rv:1\.9\.1/),B=aa&&u(/rv:1\.9\.2/),h=u(/windows|win32/),J=u(/macintosh|mac os x/),E=u(/linux/),q=null,r=P(true,/\bchrome\/(\d+\.\d+)/),l=P(true,/\bfirefox\/(\d+\.\d+)/),t=P(m,/msie (\d+\.\d+)/),z=P(a,/version\/(\d+\.\d+)/),g=P(d,/version\/(\d+\.\d+)/),I=P(G,/webkit\/(\d+\.\d+)/),x=/^https/i.test(window.location.protocol),o;try{document.execCommand("BackgroundImageCache",false,true)}catch(W){}o=function(){};o.info=o.warn=o.error=Ext.emptyFn;Ext.setVersion("extjs","4.2.1.883");Ext.apply(Ext,{SSL_SECURE_URL:x&&m?"javascript:''":"about:blank",plainTableCls:Ext.buildSettings.baseCSSPrefix+"table-plain",plainListCls:Ext.buildSettings.baseCSSPrefix+"list-plain",enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,getDom:function(ac,ab){if(!ac||!document){return null}if(ac.dom){return ac.dom}else{if(typeof ac=="string"){var ad=Ext.getElementById(ac);if(ad&&m&&ab){if(ac==ad.getAttribute("id")){return ad}else{return null}}return ad}else{return ac}}},removeNode:X||U||S?(function(){var e;return function(ad){if(ad&&ad.tagName.toUpperCase()!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(ad):Ext.EventManager.removeAll(ad);var ab=Ext.cache,ac=ad.id;if(ab[ac]){delete ab[ac].dom;delete ab[ac]}if(S&&ad.parentNode){ad.parentNode.removeChild(ad)}e=e||document.createElement("div");e.appendChild(ad);e.innerHTML=""}}}()):function(ac){if(ac&&ac.parentNode&&ac.tagName.toUpperCase()!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(ac):Ext.EventManager.removeAll(ac);var e=Ext.cache,ab=ac.id;if(e[ab]){delete e[ab].dom;delete e[ab]}ac.parentNode.removeChild(ac)}},isStrict:A,isIEQuirks:m&&(!A&&(X||U||S||O)),isOpera:a,isOpera10_5:C,isWebKit:G,isChrome:V,isSafari:d,isSafari3:R,isSafari4:N,isSafari5:K,isSafari5_0:n,isSafari2:T,isIE:m,isIE6:X,isIE7:U,isIE7m:X||U,isIE7p:m&&!X,isIE8:S,isIE8m:X||U||S,isIE8p:m&&!(X||U),isIE9:O,isIE9m:X||U||S||O,isIE9p:m&&!(X||U||S),isIE10:k,isIE10m:X||U||S||O||k,isIE10p:m&&!(X||U||S||O),isGecko:b,isGecko3:aa,isGecko4:Z,isGecko5:Y,isGecko10:y,isFF3_0:F,isFF3_5:D,isFF3_6:B,isFF4:4<=l&&l<5,isFF5:5<=l&&l<6,isFF10:10<=l&&l<11,isLinux:E,isWindows:h,isMac:J,chromeVersion:r,firefoxVersion:l,ieVersion:t,operaVersion:z,safariVersion:g,webKitVersion:I,isSecure:x,BLANK_IMAGE_URL:(X||U)?"//www.sencha.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",value:function(ac,e,ab){return Ext.isEmpty(ac,ab)?e:ac},escapeRe:function(e){return e.replace(/([-.*+?\^${}()|\[\]\/\\])/g,"\\$1")},addBehaviors:function(ae){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(ae)})}else{var ab={},ad,e,ac;for(e in ae){if((ad=e.split("@"))[1]){ac=ad[0];if(!ab[ac]){ab[ac]=Ext.select(ac)}ab[ac].on(ad[1],ae[e])}}ab=null}},getScrollbarSize:function(ab){if(!Ext.isReady){return{}}if(ab||!q){var e=document.body,ac=document.createElement("div");ac.style.width=ac.style.height="100px";ac.style.overflow="scroll";ac.style.position="absolute";e.appendChild(ac);q={width:ac.offsetWidth-ac.clientWidth,height:ac.offsetHeight-ac.clientHeight};e.removeChild(ac)}return q},getScrollBarWidth:function(ab){var e=Ext.getScrollbarSize(ab);return e.width+2},copyTo:function(ab,ad,af,ae){if(typeof af=="string"){af=af.split(/[,;\s]/)}var ag,ac=af?af.length:0,e;for(ag=0;ag<ac;ag++){e=af[ag];if(ae||ad.hasOwnProperty(e)){ab[e]=ad[e]}}return ab},destroyMembers:function(ad){for(var ac=1,ab=arguments,e=ab.length;ac<e;ac++){Ext.destroy(ad[ab[ac]]);delete ad[ab[ac]]}},log:o,partition:function(e,ae){var af=[[],[]],ab,ad,ac=e.length;for(ab=0;ab<ac;ab++){ad=e[ab];af[(ae&&ae(ad,ab,e))||(!ae&&ad)?0:1].push(ad)}return af},invoke:function(e,ae){var ag=[],af=Array.prototype.slice.call(arguments,2),ab,ad,ac=e.length;for(ab=0;ab<ac;ab++){ad=e[ab];if(ad&&typeof ad[ae]=="function"){ag.push(ad[ae].apply(ad,af))}else{ag.push(undefined)}}return ag},zip:function(){var ah=Ext.partition(arguments,function(ai){return typeof ai!="function"}),ae=ah[0],ag=ah[1][0],e=Ext.max(Ext.pluck(ae,"length")),ad=[],af,ac,ab;for(af=0;af<e;af++){ad[af]=[];if(ag){ad[af]=ag.apply(ag,Ext.pluck(ae,af))}else{for(ac=0,ab=ae.length;ac<ab;ac++){ad[af].push(ae[ac][af])}}}return ad},toSentence:function(ab,e){var ae=ab.length,ad,ac;if(ae<=1){return ab[0]}else{ad=ab.slice(0,ae-1);ac=ab[ae-1];return Ext.util.Format.format("{0} {1} {2}",ad.join(", "),e||"and",ac)}},setGlyphFontFamily:function(e){Ext._glyphFontFamily=e},useShims:X})}());Ext.application=function(a){var d,e,b;if(typeof a==="string"){Ext.require(a,function(){d=Ext.ClassManager.get(a)})}else{Ext.Loader.setPath(a.name,a.appFolder||"app");if(e=a.paths){for(b in e){if(e.hasOwnProperty(b)){Ext.Loader.setPath(b,e[b])}}}a["paths processed"]=true;Ext.define(a.name+".$application",Ext.apply({extend:"Ext.app.Application"},a),function(){d=this})}Ext.onReady(function(){Ext.app.Application.instance=new d()})};(function(){Ext.ns("Ext.util");var h=Ext.util.Format={},d=/<\/?[^>]+>/gi,l=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,g=/\r?\n/g,b=/^#+$/,k=/[\d,\.#]+/,m=/[^\d\.#]/g,a,e={};Ext.apply(h,{thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencyAtEnd:false,undef:function(n){return n!==undefined?n:""},defaultValue:function(o,n){return o!==undefined&&o!==""?o:n},substr:"ab".substr(-1)!="b"?function(o,r,n){var q=String(o);return(r<0)?q.substr(Math.max(q.length+r,0),n):q.substr(r,n)}:function(o,q,n){return String(o).substr(q,n)},lowercase:function(n){return String(n).toLowerCase()},uppercase:function(n){return String(n).toUpperCase()},usMoney:function(n){return h.currency(n,"$",2)},currency:function(q,t,o,n){var w="",u=",0",r=0;q=q-0;if(q<0){q=-q;w="-"}o=Ext.isDefined(o)?o:h.currencyPrecision;u+=(o>0?".":"");for(;r<o;r++){u+="0"}q=h.number(q,u);if((n||h.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",w,q,t||h.currencySign)}else{return Ext.String.format("{0}{1}{2}",w,t||h.currencySign,q)}},date:function(n,o){if(!n){return""}if(!Ext.isDate(n)){n=new Date(Date.parse(n))}return Ext.Date.dateFormat(n,o||Ext.Date.defaultFormat)},dateRenderer:function(n){return function(o){return h.date(o,n)}},stripTags:function(n){return !n?n:String(n).replace(d,"")},stripScripts:function(n){return !n?n:String(n).replace(l,"")},fileSize:(function(){var n=1024,o=1048576,q=1073741824;return function(t){var r;if(t<n){if(t===1){r="1 byte"}else{r=t+" bytes"}}else{if(t<o){r=(Math.round(((t*10)/n))/10)+" KB"}else{if(t<q){r=(Math.round(((t*10)/o))/10)+" MB"}else{r=(Math.round(((t*10)/q))/10)+" GB"}}}return r}})(),math:(function(){var n={};return function(q,o){if(!n[o]){n[o]=Ext.functionFactory("v","return v "+o+";")}return n[o](q)}}()),round:function(q,o){var n=Number(q);if(typeof o=="number"){o=Math.pow(10,o);n=Math.round(q*o)/o}return n},number:function(y,r){if(!r){return y}var q=e[r];if(!q){var u=r,C=h.thousandSeparator,z=h.decimalSeparator,o,w,x,t=0,A,B,n;if(r.substr(r.length-2)=="/i"){if(!a){a=new RegExp("[^\\d\\"+h.decimalSeparator+"]","g")}r=r.substr(0,r.length-2);o=r.indexOf(C)!=-1;w=r.replace(a,"").split(z)}else{o=r.indexOf(",")!=-1;w=r.replace(m,"").split(".")}x=r.replace(k,"");if(w.length>2){}else{if(w.length===2){t=w[1].length;B=b.test(w[1])}}n=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,fnum,parts"+(o?",thousandSeparator,thousands=[],j,n,i":"")+(x?',formatString="'+r+'",formatPattern=/[\\d,\\.#]+/':"")+(B?",trailingZeroes=/\\.?0+$/;":";")+'return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"fnum=Ext.Number.toFixed(Math.abs(v), "+t+");"];if(o){if(t){n[n.length]='parts=fnum.split(".");';n[n.length]="fnum=parts[0];"}n[n.length]="if(v>=1000) {";n[n.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(t){n[n.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(t){n[n.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(B){n[n.length]='fnum=fnum.replace(trailingZeroes,"");'}n[n.length]='if(neg&&fnum!=="'+(t?"0."+Ext.String.repeat("0",t):"0")+'")fnum="-"+fnum;';n[n.length]="return ";if(x){n[n.length]="formatString.replace(formatPattern, fnum);"}else{n[n.length]="fnum;"}n[n.length]="};";q=e[u]=Ext.functionFactory("Ext",n.join(""))(Ext)}return q(y)},numberRenderer:function(n){return function(o){return h.number(o,n)}},attributes:function(o){if(typeof o==="object"){var n=[],q;for(q in o){n.push(q,'="',q==="style"?Ext.DomHelper.generateStyles(o[q]):Ext.htmlEncode(o[q]),'"')}o=n.join("")}return o||""},plural:function(n,o,q){return n+" "+(n==1?o:(q?q:o+"s"))},nl2br:function(n){return Ext.isEmpty(n)?"":n.replace(g,"<br/>")},capitalize:Ext.String.capitalize,ellipsis:Ext.String.ellipsis,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,trim:Ext.String.trim,parseBox:function(o){o=o||0;if(typeof o==="number"){return{top:o,right:o,bottom:o,left:o}}var q=o.split(" "),n=q.length;if(n==1){q[1]=q[2]=q[3]=q[0]}else{if(n==2){q[2]=q[0];q[3]=q[1]}else{if(n==3){q[3]=q[1]}}}return{top:parseInt(q[0],10)||0,right:parseInt(q[1],10)||0,bottom:parseInt(q[2],10)||0,left:parseInt(q[3],10)||0}},escapeRegex:function(n){return n.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")}})}());(Ext.cmd.derive("Ext.util.TaskRunner",Ext.Base,{interval:10,timerId:null,constructor:function(a){var b=this;if(typeof a=="number"){b.interval=a}else{if(a){Ext.apply(b,a)}}b.tasks=[];b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var d=this,b=Ext.Date.now();if(!a.pending){d.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=b;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;if(!d.firing){if(a.fireOnStart!==false){d.startTimer(0,b)}else{d.startTimer(a.interval,b)}}return a},stop:function(a){if(!a.stopped){a.stopped=true;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var o=this,g=o.tasks,a=Ext.Date.now(),q=1e+99,m=g.length,d,r,k,b,e,h;o.timerId=null;o.firing=true;for(k=0;k<m||k<(m=g.length);++k){b=g[k];if(!(h=b.stopped)){d=b.taskRunTime+b.interval;if(d<=a){e=1;try{e=b.run.apply(b.scope||b,b.args||[++b.taskRunCount])}catch(l){try{if(b.onError){e=b.onError.call(b.scope||b,b,l)}}catch(n){}}b.taskRunTime=a;if(e===false||b.taskRunCount===b.repeat){o.stop(b);h=true}else{h=b.stopped;d=a+b.interval}}if(!h&&b.duration&&b.duration<=(a-b.taskStartTime)){o.stop(b);h=true}}if(h){b.pending=false;if(!r){r=g.slice(0,k)}}else{if(r){r.push(b)}if(q>d){q=d}}}if(r){o.tasks=r}o.firing=false;if(o.tasks.length){o.startTimer(q-a,Ext.Date.now())}if(o.fireIdleEvent!==false){Ext.EventManager.idleEvent.fire()}},startTimer:function(g,d){var e=this,b=d+g,a=e.timerId;if(a&&e.nextExpires-b>e.interval){clearTimeout(a);a=null}if(!a){if(g<e.interval){g=e.interval}e.timerId=setTimeout(e.timerFn,g);e.nextExpires=b}}},1,0,0,0,0,0,[Ext.util,"TaskRunner"],function(){var b=this,a=b.prototype;a.destroy=a.stopAll;Ext.util.TaskManager=Ext.TaskManager=new b();b.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(d){Ext.apply(this,d)},restart:function(d){if(d!==undefined){this.interval=d}this.manager.start(this)},start:function(d){if(this.stopped){this.restart(d)}},stop:function(){this.manager.stop(this)}});a=b.Task.prototype;a.destroy=a.stop}));(Ext.cmd.derive("Ext.util.TaskManager",Ext.util.TaskRunner,{alternateClassName:["Ext.TaskManager"],singleton:true},0,0,0,0,0,0,[Ext.util,"TaskManager",Ext,"TaskManager"],0));(Ext.cmd.derive("Ext.perf.Accumulator",Ext.Base,(function(){var d=null,k=Ext.global.chrome,e,b=function(){b=function(){return new Date().getTime()};var o,q;if(Ext.isChrome&&k&&k.Interval){o=new k.Interval();o.start();b=function(){return o.microseconds()/1000}}else{if(window.ActiveXObject){try{q=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=q;b=function(){return q.milliseconds}}catch(r){}}else{if(Date.now){b=Date.now}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=b;return b()};function l(q,o){q.sum+=o;q.min=Math.min(q.min,o);q.max=Math.max(q.max,o)}function g(t){var q=t?t:(b()-this.time),r=this,o=r.accum;++o.count;if(!--o.depth){l(o.total,q)}l(o.pure,q-r.childTime);d=r.parent;if(d){++d.accum.childCount;d.childTime+=q}}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function m(q,o){return function(){var t=q.enter(),r=o.apply(this,arguments);t.leave();return r}}function n(o){return Math.round(o*100)/100}function h(r,q,o,u){var t={avg:0,min:u.min,max:u.max,sum:0};if(r){o=o||0;t.sum=u.sum-q*o;t.avg=t.sum/r}return t}return{constructor:function(o){var q=this;q.count=q.childCount=q.depth=q.maxDepth=0;q.pure=a();q.total=a();q.name=o},statics:{getTimestamp:b},format:function(o){if(!e){e=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(r){return Math.round(r*100)/100}})}var q=this.getData(o);q.name=this.name;q.pure.type="Pure";q.total.type="Total";q.times=[q.pure,q.total];return e.apply(q)},getData:function(o){var q=this;return{count:q.count,childCount:q.childCount,depth:q.maxDepth,pure:h(q.count,q.childCount,o,q.pure),total:h(q.count,q.childCount,o,q.total)}},enter:function(){var o=this,q={accum:o,leave:g,childTime:0,parent:d};++o.depth;if(o.maxDepth<o.depth){o.maxDepth=o.depth}d=q;q.time=b();return q},monitor:function(r,q,o){var t=this.enter();if(o){r.apply(q,o)}else{r.call(q)}t.leave()},report:function(){Ext.log(this.format())},tap:function(z,B){var A=this,t=typeof B=="string"?[B]:B,y,C,w,u,r,q,o,x;x=function(){if(typeof z=="string"){y=Ext.global;u=z.split(".");for(w=0,r=u.length;w<r;++w){y=y[u[w]]}}else{y=z}for(w=0,r=t.length;w<r;++w){q=t[w];C=q.charAt(0)=="!";if(C){q=q.substring(1)}else{C=!(q in y.prototype)}o=C?y:y.prototype;o[q]=m(A,o[q])}};Ext.ClassManager.onCreated(x,A,z);return A}}}()),1,0,0,0,0,0,[Ext.perf,"Accumulator"],function(){Ext.perf.getTimestamp=this.getTimestamp}));(Ext.cmd.derive("Ext.perf.Monitor",Ext.Base,{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var b=new Ext.perf.Accumulator("$"),h=b.total,d=Ext.perf.Accumulator.getTimestamp,g=0,k,a,e;e=d();do{k=b.enter();k.leave();++g}while(h.sum<100);a=d();return(a-e)/g},get:function(b){var d=this,a=d.accumulatorsByName[b];if(!a){d.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b);d.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(a,d,b){this.get(a).monitor(d,b)},report:function(){var d=this,b=d.accumulators,a=d.calibrate();b.sort(function(g,e){return(g.name<e.name)?-1:((e.name<g.name)?1:0)});d.updateGC();Ext.log("Calibration: "+Math.round(a*100)/100+" msec/sample");Ext.each(b,function(e){Ext.log(e.format(a))})},getData:function(d){var b={},a=this.accumulators;Ext.each(a,function(e){if(d||e.count){b[e.name]=e.getData()}});return b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure={min:Number.MAX_VALUE,max:0,sum:0};b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,d;if(a){a.count=b.garbageCollectionCounter||0;if(a.count){d=a.pure;a.total.sum=d.sum=b.garbageCollectionMilliseconds;d.min=d.max=d.sum/a.count;d=a.total;d.min=d.max=d.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(d){if(!d){d={render:{"Ext.AbstractComponent":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=d;var e,h,b,g,a;for(e in d){if(d.hasOwnProperty(e)){h=d[e];b=Ext.Perf.get(e);for(g in h){if(h.hasOwnProperty(g)){a=h[g];b.tap(g,a)}}}}this.watchGC()}},1,0,0,0,0,0,[Ext.perf,"Monitor",Ext,"Perf"],0));Ext.is={init:function(b){var d=this.platforms,g=d.length,e,a;b=b||window.navigator;for(e=0;e<g;e++){a=d[e];this[a.identity]=a.regex.test(b[a.property])}this.Desktop=this.Mac||this.Windows||(this.Linux&&!this.Android);this.Tablet=this.iPad;this.Phone=!this.Desktop&&!this.Tablet;this.iOS=this.iPhone||this.iPad||this.iPod;this.Standalone=!!window.navigator.standalone},platforms:[{property:"platform",regex:/iPhone/i,identity:"iPhone"},{property:"platform",regex:/iPod/i,identity:"iPod"},{property:"userAgent",regex:/iPad/i,identity:"iPad"},{property:"userAgent",regex:/Blackberry/i,identity:"Blackberry"},{property:"userAgent",regex:/Android/i,identity:"Android"},{property:"platform",regex:/Mac/i,identity:"Mac"},{property:"platform",regex:/Win/i,identity:"Windows"},{property:"platform",regex:/Linux/i,identity:"Linux"}]};Ext.is.init();(function(){var a=function(h,g){var e=h.ownerDocument.defaultView,k=(e?e.getComputedStyle(h,null):h.currentStyle)||h.style;return k[g]},d={"IE6-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE6-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0],"IE7-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE7-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,0,0,0],"IE8-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE8-strict":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,0,1,0,0,1],"IE9-quirks":[0,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0],"IE9-strict":[0,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,0,1],"IE10-quirks":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1],"IE10-strict":[1,1,0,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1]};function b(){var e=Ext.isIE6?"IE6":Ext.isIE7?"IE7":Ext.isIE8?"IE8":Ext.isIE9?"IE9":Ext.isIE10?"IE10":"";return e?e+(Ext.isStrict?"-strict":"-quirks"):""}Ext.supports={init:function(){var o=this,t=document,l=o.toRun||o.tests,k=l.length,e=k&&Ext.isReady&&t.createElement("div"),g=[],q=b(),m,h,r;if(e){e.innerHTML=['<div style="height:30px;width:50px;">','<div style="height:20px;width:20px;"></div>',"</div>",'<div style="width: 200px; height: 200px; position: relative; padding: 5px;">','<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>',"</div>",'<div style="position: absolute; left: 10%; top: 10%;"></div>','<div style="float:left; background-color:transparent;"></div>'].join("");t.body.appendChild(e)}h=d[q];while(k--){m=l[k];r=h&&h[k];if(r!==undefined){o[m.identity]=r}else{if(e||m.early){o[m.identity]=m.fn.call(o,t,e)}else{g.push(m)}}}if(e){t.body.removeChild(e)}o.toRun=g},PointerEvents:"pointerEvents" in document.documentElement.style,LocalStorage:(function(){try{return"localStorage" in window&&window.localStorage!==null}catch(g){return false}})(),CSS3BoxShadow:"boxShadow" in document.documentElement.style||"WebkitBoxShadow" in document.documentElement.style||"MozBoxShadow" in document.documentElement.style,ClassList:!!document.documentElement.classList,OrientationChange:((typeof window.orientation!="undefined")&&("onorientationchange" in window)),DeviceMotion:("ondevicemotion" in window),Touch:("ontouchstart" in window)&&(!Ext.is.Desktop),TimeoutActualLateness:(function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}()),tests:[{identity:"Transitions",fn:function(m,o){var l=["webkit","Moz","o","ms","khtml"],n="TransitionEnd",e=[l[0]+n,"transitionend",l[2]+n,l[3]+n,l[4]+n],k=l.length,h=0,g=false;for(;h<k;h++){if(a(o,l[h]+"TransitionProperty")){Ext.supports.CSS3Prefix=l[h];Ext.supports.CSS3TransitionEnd=e[h];g=true;break}}return g}},{identity:"RightMargin",fn:function(g,h){var e=g.defaultView;return !(e&&e.getComputedStyle(h.firstChild.firstChild,null).marginRight!="0px")}},{identity:"DisplayChangeInputSelectionBug",early:true,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{identity:"DisplayChangeTextAreaSelectionBug",early:true,fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{identity:"TransparentColor",fn:function(g,h,e){e=g.defaultView;return !(e&&e.getComputedStyle(h.lastChild,null).backgroundColor!="transparent")}},{identity:"ComputedStyle",fn:function(g,h,e){e=g.defaultView;return e&&e.getComputedStyle}},{identity:"Svg",fn:function(e){return !!e.createElementNS&&!!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}},{identity:"Canvas",fn:function(e){return !!e.createElement("canvas").getContext}},{identity:"Vml",fn:function(e){var g=e.createElement("div");g.innerHTML="<!--[if vml]><br/><br/><![endif]-->";return(g.childNodes.length==2)}},{identity:"Float",fn:function(e,g){return !!g.lastChild.style.cssFloat}},{identity:"AudioTag",fn:function(e){return !!e.createElement("audio").canPlayType}},{identity:"History",fn:function(){var e=window.history;return !!(e&&e.pushState)}},{identity:"CSS3DTransform",fn:function(){return(typeof WebKitCSSMatrix!="undefined"&&new WebKitCSSMatrix().hasOwnProperty("m41"))}},{identity:"CSS3LinearGradient",fn:function(m,e){var o="background-image:",n="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",l="linear-gradient(left top, black, white)",k="-moz-"+l,g="-ms-"+l,h="-o-"+l,q=[o+n,o+l,o+k,o+g,o+h];e.style.cssText=q.join(";");return((""+e.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{identity:"CSS3BorderRadius",fn:function(k,l){var g=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],h=false,e;for(e=0;e<g.length;e++){if(document.body.style[g[e]]!==undefined){return true}}return h}},{identity:"GeoLocation",fn:function(){return(typeof navigator!="undefined"&&"geolocation" in navigator)||(typeof google!="undefined"&&typeof google.gears!="undefined")}},{identity:"MouseEnterLeave",fn:function(e,g){return("onmouseenter" in g&&"onmouseleave" in g)}},{identity:"MouseWheel",fn:function(e,g){return("onmousewheel" in g)}},{identity:"Opacity",fn:function(e,g){if(Ext.isIE6||Ext.isIE7||Ext.isIE8){return false}g.firstChild.style.cssText="opacity:0.73";return g.firstChild.style.opacity=="0.73"}},{identity:"Placeholder",fn:function(e){return"placeholder" in e.createElement("input")}},{identity:"Direct2DBug",fn:function(){return Ext.isString(document.body.style.msTransformOrigin)&&Ext.isIE10m}},{identity:"BoundingClientRect",fn:function(e,g){return Ext.isFunction(g.getBoundingClientRect)}},{identity:"RotatedBoundingClientRect",fn:function(){var e=document.body,g=false,k=document.createElement("div"),h=k.style;if(k.getBoundingClientRect){h.WebkitTransform=h.MozTransform=h.OTransform=h.transform="rotate(90deg)";h.width="100px";h.height="30px";e.appendChild(k);g=k.getBoundingClientRect().height!==100;e.removeChild(k)}return g}},{identity:"IncludePaddingInWidthCalculation",fn:function(e,g){return g.childNodes[1].firstChild.offsetWidth==210}},{identity:"IncludePaddingInHeightCalculation",fn:function(e,g){return g.childNodes[1].firstChild.offsetHeight==210}},{identity:"ArraySort",fn:function(){var e=[1,2,3,4,5].sort(function(){return 0});return e[0]===1&&e[1]===2&&e[2]===3&&e[3]===4&&e[4]===5}},{identity:"Range",fn:function(){return !!document.createRange}},{identity:"CreateContextualFragment",fn:function(){var e=Ext.supports.Range?document.createRange():false;return e&&!!e.createContextualFragment}},{identity:"WindowOnError",fn:function(){return Ext.isIE||Ext.isGecko||Ext.webKitVersion>=534.16}},{identity:"TextAreaMaxLength",fn:function(){var e=document.createElement("textarea");return("maxlength" in e)}},{identity:"GetPositionPercentage",fn:function(e,g){return a(g.childNodes[2],"left")=="10%"}},{identity:"PercentageHeightOverflowBug",fn:function(k){var e=false,h,g;if(Ext.getScrollbarSize().height){g=k.createElement("div");h=g.style;h.height="50px";h.width="50px";h.overflow="auto";h.position="absolute";g.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");k.body.appendChild(g);if(g.firstChild.offsetHeight===50){e=true}k.body.removeChild(g)}return e}},{identity:"xOriginBug",fn:function(k,l){l.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var h=document.getElementById("b1").getBoundingClientRect(),g=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return(g.left!==h.left&&e.right!==h.right)}},{identity:"ScrollWidthInlinePaddingBug",fn:function(k){var e=false,h,g;g=k.createElement("div");h=g.style;h.height="50px";h.width="50px";h.padding="10px";h.overflow="hidden";h.position="absolute";g.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';k.body.appendChild(g);if(g.scrollWidth===70){e=true}k.body.removeChild(g);return e}}]}}());Ext.supports.init();Ext.util.DelayedTask=function(g,e,b,k){var h=this,a,d=function(){clearInterval(h.id);h.id=null;g.apply(e,b||[]);Ext.EventManager.idleEvent.fire()};k=typeof k==="boolean"?k:true;h.id=null;h.delay=function(m,o,n,l){if(k){h.cancel()}a=m||a,g=o||g;e=n||e;b=l||b;if(!h.id){h.id=setInterval(d,a)}};h.cancel=function(){if(h.id){clearInterval(h.id);h.id=null}}};(Ext.cmd.derive("Ext.util.Event",Ext.Base,function(){var e=Array.prototype.slice,a=Ext.Array.insert,b=Ext.Array.toArray,d=Ext.util.DelayedTask;return{isEvent:true,suspended:0,noOptions:{},constructor:function(h,g){this.name=g;this.observable=h;this.listeners=[]},addListener:function(t,w,y){var q=this,r,l,u,g,x,o,k,n,m,h;w=w||q.observable;if(!q.isListening(t,w)){l=q.createListener(t,w,y);if(q.firing){q.listeners=q.listeners.slice(0)}r=q.listeners;n=k=r.length;u=y&&y.priority;x=q._highestNegativePriorityIndex;o=(x!==undefined);if(u){g=(u<0);if(!g||o){for(m=(g?x:0);m<k;m++){h=r[m].o?r[m].o.priority||0:0;if(h<u){n=m;break}}}else{q._highestNegativePriorityIndex=n}}else{if(o){n=x}}if(!g&&n<=x){q._highestNegativePriorityIndex++}if(n===k){q.listeners[k]=l}else{a(q.listeners,n,[l])}}},createListener:function(k,h,n){h=h||this.observable;var l=this,m={fn:k,scope:h,ev:l},g=k;if(n){m.o=n;if(n.single){g=l.createSingle(g,m,n,h)}if(n.target){g=l.createTargeted(g,m,n,h)}if(n.delay){g=l.createDelayed(g,m,n,h)}if(n.buffer){g=l.createBuffered(g,m,n,h)}}m.fireFn=g;return m},findListener:function(m,l){var k=this.listeners,g=k.length,n,h;while(g--){n=k[g];if(n){h=n.scope;if(n.fn==m&&(h==(l||this.observable))){return g}}}return -1},isListening:function(h,g){return this.findListener(h,g)!==-1},removeListener:function(m,l){var n=this,h,q,o,g;h=n.findListener(m,l);if(h!=-1){q=n.listeners[h];o=n._highestNegativePriorityIndex;if(n.firing){n.listeners=n.listeners.slice(0)}if(q.task){q.task.cancel();delete q.task}g=q.tasks&&q.tasks.length;if(g){while(g--){q.tasks[g].cancel()}delete q.tasks}n.listeners.splice(h,1);if(o){if(h<o){n._highestNegativePriorityIndex--}else{if(h===o&&h===n.listeners.length){delete n._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var h=this.listeners,g=h.length;while(g--){this.removeListener(h[g].fn,h[g].scope)}},suspend:function(){this.suspended+=1},resume:function(){if(this.suspended){this.suspended--}},fire:function(){var n=this,l=n.listeners,m=l.length,k,h,o,g;if(!n.suspended&&m>0){n.firing=true;h=arguments.length?e.call(arguments,0):[];g=h.length;for(k=0;k<m;k++){o=l[k];if(o.o){h[g]=o.o}if(o&&o.fireFn.apply(o.scope||n.observable,h)===false){return(n.firing=false)}}}n.firing=false;return true},createTargeted:function(h,k,l,g){return function(){if(l.target===arguments[0]){h.apply(g,arguments)}}},createBuffered:function(h,k,l,g){k.task=new d();return function(){k.task.delay(l.buffer,h,g,b(arguments))}},createDelayed:function(h,k,l,g){return function(){var m=new d();if(!k.tasks){k.tasks=[]}k.tasks.push(m);m.delay(l.delay||10,h,g,b(arguments))}},createSingle:function(h,k,l,g){return function(){var m=k.ev;if(m.removeListener(k.fn,g)&&m.observable){m.observable.hasListeners[m.name]--}return h.apply(g,arguments)}}}},1,0,0,0,0,0,[Ext.util,"Event"],0));Ext.EventManager=new function(){var b=this,k=document,h=window,g=/\\/g,d=Ext.baseCSSPrefix,a=!Ext.isIE9&&"addEventListener" in k,l,e=function(){var t=k.body||k.getElementsByTagName("body")[0],n=[d+"body"],m=[],o=Ext.supports.CSS3LinearGradient,r=Ext.supports.CSS3BorderRadius,q;if(!t){return false}q=t.parentNode;function u(w){n.push(d+w)}if(Ext.isIE&&Ext.isIE9m){u("ie");if(Ext.isIE6){u("ie6")}else{u("ie7p");if(Ext.isIE7){u("ie7")}else{u("ie8p");if(Ext.isIE8){u("ie8")}else{u("ie9p");if(Ext.isIE9){u("ie9")}}}}if(Ext.isIE7m){u("ie7m")}if(Ext.isIE8m){u("ie8m")}if(Ext.isIE9m){u("ie9m")}if(Ext.isIE7||Ext.isIE8){u("ie78")}}if(Ext.isIE10){u("ie10")}if(Ext.isGecko){u("gecko");if(Ext.isGecko3){u("gecko3")}if(Ext.isGecko4){u("gecko4")}if(Ext.isGecko5){u("gecko5")}}if(Ext.isOpera){u("opera")}if(Ext.isWebKit){u("webkit")}if(Ext.isSafari){u("safari");if(Ext.isSafari2){u("safari2")}if(Ext.isSafari3){u("safari3")}if(Ext.isSafari4){u("safari4")}if(Ext.isSafari5){u("safari5")}if(Ext.isSafari5_0){u("safari5_0")}}if(Ext.isChrome){u("chrome")}if(Ext.isMac){u("mac")}if(Ext.isLinux){u("linux")}if(!r){u("nbr")}if(!o){u("nlg")}if(q){if(Ext.isStrict&&(Ext.isIE6||Ext.isIE7)){Ext.isBorderBox=false}else{Ext.isBorderBox=true}if(!Ext.isBorderBox){m.push(d+"content-box")}if(Ext.isStrict){m.push(d+"strict")}else{m.push(d+"quirks")}Ext.fly(q,"_internal").addCls(m)}Ext.fly(t,"_internal").addCls(n);return true};Ext.apply(b,{hasBoundOnReady:false,hasFiredReady:false,deferReadyEvent:1,onReadyChain:[],readyEvent:(function(){l=new Ext.util.Event();l.fire=function(){Ext._beforeReadyTime=Ext._beforeReadyTime||new Date().getTime();l.self.prototype.fire.apply(l,arguments);Ext._afterReadytime=new Date().getTime()};return l}()),idleEvent:new Ext.util.Event(),isReadyPaused:function(){return(/[?&]ext-pauseReadyFire\b/i.test(location.search)&&!Ext._continueFireReady)},bindReadyEvent:function(){if(b.hasBoundOnReady){return}if(k.readyState=="complete"){b.onReadyEvent({type:k.readyState||"body"})}else{k.addEventListener("DOMContentLoaded",b.onReadyEvent,false);h.addEventListener("load",b.onReadyEvent,false);b.hasBoundOnReady=true}},onReadyEvent:function(m){if(m&&m.type){b.onReadyChain.push(m.type)}if(b.hasBoundOnReady){k.removeEventListener("DOMContentLoaded",b.onReadyEvent,false);h.removeEventListener("load",b.onReadyEvent,false)}if(!Ext.isReady){b.fireDocReady()}},fireDocReady:function(){if(!Ext.isReady){Ext._readyTime=new Date().getTime();Ext.isReady=true;Ext.supports.init();b.onWindowUnload();l.onReadyChain=b.onReadyChain;if(Ext.isNumber(b.deferReadyEvent)){Ext.Function.defer(b.fireReadyEvent,b.deferReadyEvent);b.hasDocReadyTimer=true}else{b.fireReadyEvent()}}},fireReadyEvent:function(){b.hasDocReadyTimer=false;b.isFiring=true;while(l.listeners.length&&!b.isReadyPaused()){l.fire()}b.isFiring=false;b.hasFiredReady=true;Ext.EventManager.idleEvent.fire()},onDocumentReady:function(o,n,m){m=m||{};m.single=true;l.addListener(o,n,m);if(!(b.isFiring||b.hasDocReadyTimer)){if(Ext.isReady){b.fireReadyEvent()}else{b.bindReadyEvent()}}},stoppedMouseDownEvent:new Ext.util.Event(),propRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|freezeEvent)$/,getId:function(m){var n;m=Ext.getDom(m);if(m===k||m===h){n=m===k?Ext.documentId:Ext.windowId}else{n=Ext.id(m)}if(!Ext.cache[n]){Ext.addCacheEntry(n,null,m)}return n},prepareListenerConfig:function(q,n,t){var u=b.propRe,o,r,m;for(o in n){if(n.hasOwnProperty(o)){if(!u.test(o)){r=n[o];if(typeof r=="function"){m=[q,o,r,n.scope,n]}else{m=[q,o,r.fn,r.scope,r]}if(t){b.removeListener.apply(b,m)}else{b.addListener.apply(b,m)}}}}},mouseEnterLeaveRe:/mouseenter|mouseleave/,normalizeEvent:function(m,n){if(b.mouseEnterLeaveRe.test(m)&&!Ext.supports.MouseEnterLeave){if(n){n=Ext.Function.createInterceptor(n,b.contains)}m=m=="mouseenter"?"mouseover":"mouseout"}else{if(m=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){m="DOMMouseScroll"}}return{eventName:m,fn:n}},contains:function(n){n=n.browserEvent||n;var m=n.currentTarget,o=b.getRelatedTarget(n);if(m&&m.firstChild){while(o){if(o===m){return false}o=o.parentNode;if(o&&(o.nodeType!=1)){o=null}}}return true},addListener:function(r,u,y,A,B){if(typeof u!=="string"){b.prepareListenerConfig(r,u);return}var q=r.dom||Ext.getDom(r),w,x,o,m,n,t,z;if(typeof y==="string"){y=Ext.resolveMethod(y,A||r)}B=B||{};x=b.normalizeEvent(u,y);o=b.createListenerWrap(q,u,x.fn,A,B);m=b.getEventListenerCache(r.dom?r:q,u);u=x.eventName;w=a||(Ext.isIE9&&!q.attachEvent);if(!w){n=b.normalizeId(q);if(n){t=Ext.cache[n][u];if(t&&t.firing){m=b.cloneEventListenerCache(q,u)}}}z=!!B.capture;m.push({fn:y,wrap:o,scope:A,capture:z});if(!w){if(m.length===1){n=b.normalizeId(q,true);y=Ext.Function.bind(b.handleSingleEvent,b,[n,u],true);Ext.cache[n][u]={firing:false,fn:y};q.attachEvent("on"+u,y)}}else{q.addEventListener(u,o,z)}if(q==k&&u=="mousedown"){b.stoppedMouseDownEvent.addListener(o)}},normalizeId:function(n,m){var o;if(n===document){o=Ext.documentId}else{if(n===window){o=Ext.windowId}else{o=n.id}}if(!o&&m){o=b.getId(n)}return o},handleSingleEvent:function(t,u,o){var q=b.getEventListenerCache(u,o),n=Ext.cache[u][o],m,r;if(n.firing){return}n.firing=true;for(r=0,m=q.length;r<m;++r){q[r].wrap(t)}n.firing=false},removeListener:function(y,A,B,D){if(typeof A!=="string"){b.prepareListenerConfig(y,A,true);return}var w=Ext.getDom(y),o,q=y.dom?y:Ext.get(w),m=b.getEventListenerCache(q,A),C=b.normalizeEvent(A).eventName,x=m.length,u,z,t,r,n;if(!w){return}t=a||(Ext.isIE9&&!w.detachEvent);if(typeof B==="string"){B=Ext.resolveMethod(B,D||y)}while(x--){r=m[x];if(r&&(!B||r.fn==B)&&(!D||r.scope===D)){n=r.wrap;if(n.task){clearTimeout(n.task);delete n.task}u=n.tasks&&n.tasks.length;if(u){while(u--){clearTimeout(n.tasks[u])}delete n.tasks}if(!t){o=b.normalizeId(w,true);z=Ext.cache[o][C];if(z&&z.firing){m=b.cloneEventListenerCache(w,C)}if(m.length===1){B=z.fn;delete Ext.cache[o][C];w.detachEvent("on"+C,B)}}else{w.removeEventListener(C,n,r.capture)}if(n&&w==k&&A=="mousedown"){b.stoppedMouseDownEvent.removeListener(n)}Ext.Array.erase(m,x,1)}}},removeAll:function(q){var r=(typeof q==="string")?q:q.id,n,o,m;if(r&&(n=Ext.cache[r])){o=n.events;for(m in o){if(o.hasOwnProperty(m)){b.removeListener(q,m)}}n.events={}}},purgeElement:function(q,n){var t=Ext.getDom(q),o=0,m,r;if(n){b.removeListener(q,n)}else{b.removeAll(q)}if(t&&t.childNodes){r=t.childNodes;for(m=r.length;o<m;o++){b.purgeElement(r[o],n)}}},createListenerWrap:function(w,n,r,q,m){m=m||{};var t,u,o=function(y,x){if(!u){t=["if(!"+Ext.name+") {return;}"];if(m.buffer||m.delay||m.freezeEvent){if(m.freezeEvent){t.push("e = X.EventObject.setEvent(e);")}t.push("e = new X.EventObjectImpl(e, "+(m.freezeEvent?"true":"false")+");")}else{t.push("e = X.EventObject.setEvent(e);")}if(m.delegate){t.push('var result, t = e.getTarget("'+(m.delegate+"").replace(g,"\\\\")+'", this);');t.push("if(!t) {return;}")}else{t.push("var t = e.target, result;")}if(m.target){t.push("if(e.target !== options.target) {return;}")}if(m.stopEvent){t.push("e.stopEvent();")}else{if(m.preventDefault){t.push("e.preventDefault();")}if(m.stopPropagation){t.push("e.stopPropagation();")}}if(m.normalized===false){t.push("e = e.browserEvent;")}if(m.buffer){t.push("(wrap.task && clearTimeout(wrap.task));");t.push("wrap.task = setTimeout(function() {")}if(m.delay){t.push("wrap.tasks = wrap.tasks || [];");t.push("wrap.tasks.push(setTimeout(function() {")}t.push("result = fn.call(scope || dom, e, t, options);");if(m.single){t.push("evtMgr.removeListener(dom, ename, fn, scope);")}if(n!=="mousemove"&&n!=="unload"){t.push("if (evtMgr.idleEvent.listeners.length) {");t.push("evtMgr.idleEvent.fire();");t.push("}")}if(m.delay){t.push("}, "+m.delay+"));")}if(m.buffer){t.push("}, "+m.buffer+");")}t.push("return result;");u=Ext.cacheableFunctionFactory("e","options","fn","scope","ename","dom","wrap","args","X","evtMgr",t.join("\n"))}return u.call(w,y,m,r,q,n,w,o,x,Ext,b)};return o},getEventCache:function(o){var n,m,q;if(!o){return[]}if(o.$cache){n=o.$cache}else{if(typeof o==="string"){q=o}else{q=b.getId(o)}n=Ext.cache[q]}m=n.events||(n.events={});return m},getEventListenerCache:function(o,m){var n=b.getEventCache(o);return n[m]||(n[m]=[])},cloneEventListenerCache:function(q,m){var o=b.getEventCache(q),n;if(o[m]){n=o[m].slice(0)}else{n=[]}o[m]=n;return n},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,stopEvent:function(m){b.stopPropagation(m);b.preventDefault(m)},stopPropagation:function(m){m=m.browserEvent||m;if(m.stopPropagation){m.stopPropagation()}else{m.cancelBubble=true}},preventDefault:function(m){m=m.browserEvent||m;if(m.preventDefault){m.preventDefault()}else{m.returnValue=false;try{if(m.ctrlKey||m.keyCode>111&&m.keyCode<124){m.keyCode=-1}}catch(n){}}},getRelatedTarget:function(m){m=m.browserEvent||m;var n=m.relatedTarget;if(!n){if(b.mouseLeaveRe.test(m.type)){n=m.toElement}else{if(b.mouseEnterRe.test(m.type)){n=m.fromElement}}}return b.resolveTextNode(n)},getPageX:function(m){return b.getPageXY(m)[0]},getPageY:function(m){return b.getPageXY(m)[1]},getPageXY:function(o){o=o.browserEvent||o;var n=o.pageX,r=o.pageY,q=k.documentElement,m=k.body;if(!n&&n!==0){n=o.clientX+(q&&q.scrollLeft||m&&m.scrollLeft||0)-(q&&q.clientLeft||m&&m.clientLeft||0);r=o.clientY+(q&&q.scrollTop||m&&m.scrollTop||0)-(q&&q.clientTop||m&&m.clientTop||0)}return[n,r]},getTarget:function(m){m=m.browserEvent||m;return b.resolveTextNode(m.target||m.srcElement)},resolveTextNode:Ext.isGecko?function(n){if(n){var m=HTMLElement.prototype.toString.call(n);if(m!=="[xpconnect wrapped native prototype]"&&m!=="[object XULElement]"){return n.nodeType==3?n.parentNode:n}}}:function(m){return m&&m.nodeType==3?m.parentNode:m},curWidth:0,curHeight:0,onWindowResize:function(q,o,n){var m=b.resizeEvent;if(!m){b.resizeEvent=m=new Ext.util.Event();b.on(h,"resize",b.fireResize,null,{buffer:100})}m.addListener(q,o,n)},fireResize:function(){var m=Ext.Element.getViewWidth(),n=Ext.Element.getViewHeight();if(b.curHeight!=n||b.curWidth!=m){b.curHeight=n;b.curWidth=m;b.resizeEvent.fire(m,n)}},removeResizeListener:function(o,n){var m=b.resizeEvent;if(m){m.removeListener(o,n)}},onWindowUnload:function(q,o,n){var m=b.unloadEvent;if(!m){b.unloadEvent=m=new Ext.util.Event();b.addListener(h,"unload",b.fireUnload)}if(q){m.addListener(q,o,n)}},fireUnload:function(){try{k=h=undefined;var t,n,q,o,m;b.unloadEvent.fire();if(Ext.isGecko3){t=Ext.ComponentQuery.query("gridview");n=0;q=t.length;for(;n<q;n++){t[n].scrollToTop()}}m=Ext.cache;for(o in m){if(m.hasOwnProperty(o)){b.removeAll(o)}}}catch(r){}},removeUnloadListener:function(o,n){var m=b.unloadEvent;if(m){m.removeListener(o,n)}},useKeyDown:Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera),getKeyEvent:function(){return b.useKeyDown?"keydown":"keypress"}});if(!a&&document.attachEvent){Ext.apply(b,{pollScroll:function(){var m=true;try{document.documentElement.doScroll("left")}catch(n){m=false}if(m&&document.body){b.onReadyEvent({type:"doScroll"})}else{b.scrollTimeout=setTimeout(b.pollScroll,20)}return m},scrollTimeout:null,readyStatesRe:/complete/i,checkReadyState:function(){var m=document.readyState;if(b.readyStatesRe.test(m)){b.onReadyEvent({type:m})}},bindReadyEvent:function(){var m=true;if(b.hasBoundOnReady){return}try{m=window.frameElement===undefined}catch(n){m=false}if(!m||!k.documentElement.doScroll){b.pollScroll=Ext.emptyFn}if(b.pollScroll()===true){return}if(k.readyState=="complete"){b.onReadyEvent({type:"already "+(k.readyState||"body")})}else{k.attachEvent("onreadystatechange",b.checkReadyState);window.attachEvent("onload",b.onReadyEvent);b.hasBoundOnReady=true}},onReadyEvent:function(m){if(m&&m.type){b.onReadyChain.push(m.type)}if(b.hasBoundOnReady){document.detachEvent("onreadystatechange",b.checkReadyState);window.detachEvent("onload",b.onReadyEvent)}if(Ext.isNumber(b.scrollTimeout)){clearTimeout(b.scrollTimeout);delete b.scrollTimeout}if(!Ext.isReady){b.fireDocReady()}},onReadyChain:[]})}Ext.onReady=function(o,n,m){Ext.Loader.onReady(o,n,true,m)};Ext.onDocumentReady=b.onDocumentReady;b.on=b.addListener;b.un=b.removeListener;Ext.onReady(e)}();Ext.setVersion("community-theme","1.0.0");Ext.setVersion("ext-theme-base","4.2.1");Ext.setVersion("ext-theme-neptune","4.2.1");Ext.setVersion("ext-theme-neutral","4.2.1");(Ext.cmd.derive("Ext.util.Observable",Ext.Base,function(a){var e=[],g=Array.prototype,h=g.slice,d=Ext.util.Event,b=function(k){if(k instanceof b){return k}this.observable=k;if(arguments[1].isObservable){this.managedListeners=true}this.args=h.call(arguments,1)};b.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)};return{statics:{releaseCapture:function(k){k.fireEventArgs=this.prototype.fireEventArgs},capture:function(n,l,k){var m=function(o,q){return l.apply(k,[o].concat(q))};this.captureArgs(n,m,k)},captureArgs:function(m,l,k){m.fireEventArgs=Ext.Function.createInterceptor(m.fireEventArgs,l,k)},observe:function(k,l){if(k){if(!k.isObservable){Ext.applyIf(k,new this());this.captureArgs(k.prototype,k.fireEventArgs,k)}if(Ext.isObject(l)){k.on(l)}}return k},prepareClass:function(m,l){if(!m.HasListeners){var n=function(){},k=m.superclass.HasListeners||(l&&l.HasListeners)||a.HasListeners;m.prototype.HasListeners=m.HasListeners=n;n.prototype=m.hasListeners=new k()}}},isObservable:true,eventsSuspended:0,constructor:function(k){var l=this;Ext.apply(l,k);if(!l.hasListeners){l.hasListeners=new l.HasListeners()}l.events=l.events||{};if(l.listeners){l.on(l.listeners);l.listeners=null}if(l.bubbleEvents){l.enableBubble(l.bubbleEvents)}},onClassExtended:function(k){if(!k.HasListeners){a.prepareClass(k)}},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(t,n,q,u,w,m){var o=this,r=o.managedListeners=o.managedListeners||[],l,k;if(typeof n!=="string"){k=arguments.length>4?w:n;w=n;for(n in w){if(w.hasOwnProperty(n)){l=w[n];if(!o.eventOptionsRe.test(n)){o.addManagedListener(t,n,l.fn||l,l.scope||w.scope||u,l.fn?l:k,true)}}}if(w&&w.destroyable){return new b(o,t,w)}}else{if(typeof q==="string"){u=u||o;q=Ext.resolveMethod(q,u)}r.push({item:t,ename:n,fn:q,scope:u,options:w});t.on(n,q,u,w);if(!m&&w&&w.destroyable){return new b(o,t,n,q,u)}}},removeManagedListener:function(u,n,r,w){var q=this,x,l,t,k,o,m;if(typeof n!=="string"){x=n;for(n in x){if(x.hasOwnProperty(n)){l=x[n];if(!q.eventOptionsRe.test(n)){q.removeManagedListener(u,n,l.fn||l,l.scope||x.scope||w)}}}}else{t=q.managedListeners?q.managedListeners.slice():[];if(typeof r==="string"){w=w||q;r=Ext.resolveMethod(r,w)}for(o=0,k=t.length;o<k;o++){q.removeManagedListenerItem(false,t[o],u,n,r,w)}}},fireEvent:function(k){return this.fireEventArgs(k,h.call(arguments,1))},fireEventArgs:function(k,m){k=k.toLowerCase();var q=this,n=q.events,o=n&&n[k],l=true;if(o&&q.hasListeners[k]){l=q.continueFireEvent(k,m||e,o.bubble)}return l},continueFireEvent:function(m,o,l){var r=this,k,q,n=true;do{if(r.eventsSuspended){if((k=r.eventQueue)){k.push([m,o,l])}return n}else{q=r.events[m];if(q&&q!==true){if((n=q.fire.apply(q,o))===false){break}}}}while(l&&(r=r.getBubbleParent()));return n},getBubbleParent:function(){var l=this,k=l.getBubbleTarget&&l.getBubbleTarget();if(k&&k.isObservable){return k}return null},addListener:function(n,q,o,m){var t=this,l,r,k=0;if(typeof n!=="string"){m=n;for(n in m){if(m.hasOwnProperty(n)){l=m[n];if(!t.eventOptionsRe.test(n)){t.addListener(n,l.fn||l,l.scope||m.scope,l.fn?l:m)}}}if(m&&m.destroyable){return new b(t,m)}}else{n=n.toLowerCase();r=t.events[n];if(r&&r.isEvent){k=r.listeners.length}else{t.events[n]=r=new d(t,n)}if(typeof q==="string"){o=o||t;q=Ext.resolveMethod(q,o)}r.addListener(q,o,m);if(r.listeners.length!==k){t.hasListeners._incr_(n)}if(m&&m.destroyable){return new b(t,n,q,o,m)}}},removeListener:function(m,o,n){var r=this,l,q,k;if(typeof m!=="string"){k=m;for(m in k){if(k.hasOwnProperty(m)){l=k[m];if(!r.eventOptionsRe.test(m)){r.removeListener(m,l.fn||l,l.scope||k.scope)}}}}else{m=m.toLowerCase();q=r.events[m];if(q&&q.isEvent){if(typeof o==="string"){n=n||r;o=Ext.resolveMethod(o,n)}if(q.removeListener(o,n)){r.hasListeners._decr_(m)}}}},clearListeners:function(){var m=this.events,k=this.hasListeners,n,l;for(l in m){if(m.hasOwnProperty(l)){n=m[l];if(n.isEvent){delete k[l];n.clearListeners()}}}this.clearManagedListeners()},clearManagedListeners:function(){var l=this.managedListeners||[],m=0,k=l.length;for(;m<k;m++){this.removeManagedListenerItem(true,l[m])}this.managedListeners=[]},removeManagedListenerItem:function(l,k,q,m,o,n){if(l||(k.item===q&&k.ename===m&&(!o||k.fn===o)&&(!n||k.scope===n))){k.item.un(k.ename,k.fn,k.scope);if(!l){Ext.Array.remove(this.managedListeners,k)}}},addEvents:function(r){var q=this,n=q.events||(q.events={}),k,l,m;if(typeof r=="string"){for(l=arguments,m=l.length;m--;){k=l[m];if(!n[k]){n[k]=true}}}else{Ext.applyIf(q.events,r)}},hasListener:function(k){return !!this.hasListeners[k.toLowerCase()]},suspendEvents:function(k){this.eventsSuspended+=1;if(k&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(l){var k=arguments.length,m,n;for(m=0;m<k;m++){n=this.events[arguments[m]];if(n&&n.suspend){n.suspend()}}},resumeEvent:function(){var k=arguments.length,l,m;for(l=0;l<k;l++){m=this.events[arguments[l]];if(m&&m.resume){m.resume()}}},resumeEvents:function(){var k=this,n=k.eventQueue,m,l;if(k.eventsSuspended&&!--k.eventsSuspended){delete k.eventQueue;if(n){m=n.length;for(l=0;l<m;l++){k.continueFireEvent.apply(k,n[l])}}}},relayEvents:function(l,n,r){var q=this,k=n.length,m=0,o,t={};for(;m<k;m++){o=n[m];t[o]=q.createRelayer(r?r+o:o)}q.mon(l,t,null,null,undefined);return new b(q,l,t)},createRelayer:function(k,l){var m=this;return function(){return m.fireEventArgs.call(m,k,l?h.apply(arguments,l):arguments)}},enableBubble:function(t){if(t){var q=this,r=(typeof t=="string")?arguments:t,o=r.length,m=q.events,l,n,k;for(k=0;k<o;++k){l=r[k].toLowerCase();n=m[l];if(!n||typeof n=="boolean"){m[l]=n=new d(q,l)}q.hasListeners._incr_(l);n.bubble=true}}}}},1,0,0,0,0,0,[Ext.util,"Observable"],function(){var b=this,g=b.prototype,d=function(){},h=function(k){if(!k.HasListeners){var l=k.prototype;b.prepareClass(k,this);k.onExtended(function(m){b.prepareClass(m)});if(l.onClassMixedIn){Ext.override(k,{onClassMixedIn:function(m){h.call(this,m);this.callParent(arguments)}})}else{l.onClassMixedIn=function(m){h.call(this,m)}}}},a;d.prototype={_decr_:function(k){if(!--this[k]){delete this[k]}},_incr_:function(k){if(this.hasOwnProperty(k)){++this[k]}else{this[k]=1}}};g.HasListeners=b.HasListeners=d;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.globalEvents=a=new b({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)};function e(r){var q=(this.methodEvents=this.methodEvents||{})[r],m,l,n,o=this,k;if(!q){this.methodEvents[r]=q={};q.originalFn=this[r];q.methodName=r;q.before=[];q.after=[];k=function(w,u,t){if((l=w.apply(u||o,t))!==undefined){if(typeof l=="object"){if(l.returnValue!==undefined){m=l.returnValue}else{m=l}n=!!l.cancel}else{if(l===false){n=true}else{m=l}}}};this[r]=function(){var w=Array.prototype.slice.call(arguments,0),u,x,t;m=l=undefined;n=false;for(x=0,t=q.before.length;x<t;x++){u=q.before[x];k(u.fn,u.scope,w);if(n){return m}}if((l=q.originalFn.apply(o,w))!==undefined){m=l}for(x=0,t=q.after.length;x<t;x++){u=q.after[x];k(u.fn,u.scope,w);if(n){return m}}return m}}return q}Ext.apply(g,{onClassMixedIn:h,beforeMethod:function(m,l,k){e.call(this,m).before.push({fn:l,scope:k})},afterMethod:function(m,l,k){e.call(this,m).after.push({fn:l,scope:k})},removeMethodListener:function(q,n,m){var o=this.getMethodEvent(q),l,k;for(l=0,k=o.before.length;l<k;l++){if(o.before[l].fn==n&&o.before[l].scope==m){Ext.Array.erase(o.before,l,1);return}}for(l=0,k=o.after.length;l<k;l++){if(o.after[l].fn==n&&o.after[l].scope==m){Ext.Array.erase(o.after,l,1);return}}},toggleEventLogging:function(k){Ext.util.Observable[k?"capture":"releaseCapture"](this,function(l){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(l,arguments)}})}})}));(Ext.cmd.derive("Ext.EventObjectImpl",Ext.Base,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var a;if(Ext.isGecko){a=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else{a=12}a*=3}else{a=120}}return a}()),clickRe:/(dbl)?click/,safariKeys:{3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},btnMap:Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2},constructor:function(a,b){if(a){this.setEvent(a.browserEvent||a,b)}},setEvent:function(e,g){var d=this,b,a;if(e===d||(e&&e.browserEvent)){return e}d.browserEvent=e;if(e){b=e.button?d.btnMap[e.button]:(e.which?e.which-1:-1);if(d.clickRe.test(e.type)&&b==-1){b=0}a={type:e.type,button:b,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey||e.metaKey||false,altKey:e.altKey,keyCode:e.keyCode,charCode:e.charCode,target:Ext.EventManager.getTarget(e),relatedTarget:Ext.EventManager.getRelatedTarget(e),currentTarget:e.currentTarget,xy:(g?d.getXY():null)}}else{a={button:-1,shiftKey:false,ctrlKey:false,altKey:false,keyCode:0,charCode:0,target:null,xy:[0,0]}}Ext.apply(d,a);return d},stopEvent:function(){this.stopPropagation();this.preventDefault()},preventDefault:function(){if(this.browserEvent){Ext.EventManager.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this.browserEvent;if(a){if(a.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this)}Ext.EventManager.stopPropagation(a)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isWebKit?(this.safariKeys[a]||a):a},getPageX:function(){return this.getX()},getPageY:function(){return this.getY()},getX:function(){return this.getXY()[0]},getY:function(){return this.getXY()[1]},getXY:function(){if(!this.xy){this.xy=Ext.EventManager.getPageXY(this.browserEvent)}return this.xy},getTarget:function(b,d,a){if(b){return Ext.fly(this.target).findParent(b,d,a)}return a?Ext.get(this.target):this.target},getRelatedTarget:function(b,d,a){if(b&&this.relatedTarget){return Ext.fly(this.relatedTarget).findParent(b,d,a)}return a?Ext.get(this.relatedTarget):this.relatedTarget},correctWheelDelta:function(d){var b=this.WHEEL_SCALE,a=Math.round(d/b);if(!a&&d){a=(d<0)?-1:1}return a},getWheelDeltas:function(){var e=this,d=e.browserEvent,b=0,a=0;if(Ext.isDefined(d.wheelDeltaX)){b=d.wheelDeltaX;a=d.wheelDeltaY}else{if(d.wheelDelta){a=d.wheelDelta}else{if(d.detail){a=-d.detail;if(a>100){a=3}else{if(a<-100){a=-3}}if(Ext.isDefined(d.axis)&&d.axis===d.HORIZONTAL_AXIS){b=a;a=0}}}}return{x:e.correctWheelDelta(b),y:e.correctWheelDelta(a)}},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},within:function(e,g,b){if(e){var d=g?this.getRelatedTarget():this.getTarget(),a;if(d){a=Ext.fly(e,"_internal").contains(d);if(!a&&b){a=d==Ext.getDom(e)}return a}}return false},isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return(a>=33&&a<=40)||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a==this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},hasModifier:function(){return this.ctrlKey||this.altKey||this.shiftKey||this.metaKey},injectEvent:(function(){var e,g={},d;if(!Ext.isIE9m&&document.createEvent){e={createHtmlEvent:function(n,l,k,h){var m=n.createEvent("HTMLEvents");m.initEvent(l,k,h);return m},createMouseEvent:function(A,y,q,o,t,n,l,m,h,x,w,r,u){var k=A.createEvent("MouseEvents"),z=A.defaultView||window;if(k.initMouseEvent){k.initMouseEvent(y,q,o,z,t,n,l,n,l,m,h,x,w,r,u)}else{k=A.createEvent("UIEvents");k.initEvent(y,q,o);k.view=z;k.detail=t;k.screenX=n;k.screenY=l;k.clientX=n;k.clientY=l;k.ctrlKey=m;k.altKey=h;k.metaKey=w;k.shiftKey=x;k.button=r;k.relatedTarget=u}return k},createUIEvent:function(q,n,l,k,m){var o=q.createEvent("UIEvents"),h=q.defaultView||window;o.initUIEvent(n,l,k,h,m);return o},fireEvent:function(l,h,k){l.dispatchEvent(k)},fixTarget:function(h){if(h==window&&!h.dispatchEvent){return document}return h}}}else{if(document.createEventObject){d={0:1,1:4,2:2};e={createHtmlEvent:function(n,l,k,h){var m=n.createEventObject();m.bubbles=k;m.cancelable=h;return m},createMouseEvent:function(z,y,q,o,t,n,l,m,h,x,w,r,u){var k=z.createEventObject();k.bubbles=q;k.cancelable=o;k.detail=t;k.screenX=n;k.screenY=l;k.clientX=n;k.clientY=l;k.ctrlKey=m;k.altKey=h;k.shiftKey=x;k.metaKey=w;k.button=d[r]||r;k.relatedTarget=u;return k},createUIEvent:function(o,m,k,h,l){var n=o.createEventObject();n.bubbles=k;n.cancelable=h;return n},fireEvent:function(l,h,k){l.fireEvent("on"+h,k)},fixTarget:function(h){if(h==document){return document.documentElement}return h}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(l,m){var k=m[0],h=m[1];g[l]=function(q,n){var o=e.createHtmlEvent(l,k,h);e.fireEvent(q,l,o)}});function b(l,k){var h=(l!="mousemove");return function(q,m){var o=m.getXY(),n=e.createMouseEvent(q.ownerDocument,l,true,h,k,o[0],o[1],m.ctrlKey,m.altKey,m.shiftKey,m.metaKey,m.button,m.relatedTarget);e.fireEvent(q,l,n)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(h){g[h]=b(h,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(l,m){var k=m[0],h=m[1];g[l]=function(q,n){var o=e.createUIEvent(q.ownerDocument,l,k,h,1);e.fireEvent(q,l,o)}});if(!e){g={};e={fixTarget:Ext.identityFn}}function a(k,h){}return function(m){var l=this,k=g[l.type]||a,h=m?(m.dom||m):l.getTarget();h=e.fixTarget(h);k(h,l)}}())},1,0,0,0,0,0,[Ext,"EventObjectImpl"],function(){Ext.EventObject=new Ext.EventObjectImpl()}));(Ext.cmd.derive("Ext.dom.AbstractQuery",Ext.Base,{select:function(l,b){var k=[],e,h,g,d,a;b=b||document;if(typeof b=="string"){b=document.getElementById(b)}l=l.split(",");for(h=0,d=l.length;h<d;h++){if(typeof l[h]=="string"){if(typeof l[h][0]=="@"){e=b.getAttributeNode(l[h].substring(1));k.push(e)}else{e=b.querySelectorAll(l[h]);for(g=0,a=e.length;g<a;g++){k.push(e[g])}}}}return k},selectNode:function(b,a){return this.select(b,a)[0]},is:function(a,b){if(typeof a=="string"){a=document.getElementById(a)}return this.select(b).indexOf(a)!==-1}},0,0,0,0,0,0,[Ext.dom,"AbstractQuery"],0));(Ext.cmd.derive("Ext.dom.AbstractHelper",Ext.Base,{emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,styleSepRe:/\s*(?::|;)\s*/,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},decamelizeName:(function(){var d=/([a-z])([A-Z])/g,b={};function a(e,h,g){return h+"-"+g.toLowerCase()}return function(e){return b[e]||(b[e]=e.replace(d,a))}}()),generateMarkup:function(l,b){var k=this,h=typeof l,g,a,m,e,d;if(h=="string"||h=="number"){b.push(l)}else{if(Ext.isArray(l)){for(e=0;e<l.length;e++){if(l[e]){k.generateMarkup(l[e],b)}}}else{m=l.tag||"div";b.push("<",m);for(g in l){if(l.hasOwnProperty(g)){a=l[g];if(!k.confRe.test(g)){if(typeof a=="object"){b.push(" ",g,'="');k.generateStyles(a,b).push('"')}else{b.push(" ",k.attributeTransform[g]||g,'="',a,'"')}}}}if(k.emptyTags.test(m)){b.push("/>")}else{b.push(">");if((a=l.tpl)){a.applyOut(l.tplData,b)}if((a=l.html)){b.push(a)}if((a=l.cn||l.children)){k.generateMarkup(a,b)}d=k.closeTags;b.push(d[m]||(d[m]="</"+m+">"))}}}return b},generateStyles:function(g,d){var b=d||[],e;for(e in g){if(g.hasOwnProperty(e)){b.push(this.decamelizeName(e),":",g[e],";")}}return d||b.join("")},markup:function(a){if(typeof a=="string"){return a}var b=this.generateMarkup(a,[]);return b.join("")},applyStyles:function(d,e){if(e){var b=0,a;d=Ext.fly(d,"_applyStyles");if(typeof e=="function"){e=e.call()}if(typeof e=="string"){e=Ext.util.Format.trim(e).split(this.styleSepRe);for(a=e.length;b<a;){d.setStyle(e[b++],e[b++])}}else{if(Ext.isObject(e)){d.setStyle(e)}}}},insertHtml:function(d,h,e){var k={},a,b,l,g;d=d.toLowerCase();k.beforebegin=["BeforeBegin","previousSibling"];k.afterend=["AfterEnd","nextSibling"];b=h.ownerDocument.createRange();a="setStart"+(this.endRe.test(d)?"After":"Before");if(k[d]){b[a](h);l=b.createContextualFragment(e);h.parentNode.insertBefore(l,d=="beforebegin"?h:h.nextSibling);return h[(d=="beforebegin"?"previous":"next")+"Sibling"]}else{g=(d=="afterbegin"?"first":"last")+"Child";if(h.firstChild){b[a](h[g]);l=b.createContextualFragment(e);if(d=="afterbegin"){h.insertBefore(l,h.firstChild)}else{h.appendChild(l)}}else{h.innerHTML=e}return h[g]}throw'Illegal insertion point -> "'+d+'"'},insertBefore:function(a,d,b){return this.doInsert(a,d,b,"beforebegin")},insertAfter:function(a,d,b){return this.doInsert(a,d,b,"afterend","nextSibling")},insertFirst:function(a,d,b){return this.doInsert(a,d,b,"afterbegin","firstChild")},append:function(a,d,b){return this.doInsert(a,d,b,"beforeend","",true)},overwrite:function(a,d,b){a=Ext.getDom(a);a.innerHTML=this.markup(d);return b?Ext.get(a.firstChild):a.firstChild},doInsert:function(e,h,g,k,d,a){var b=this.insertHtml(k,Ext.getDom(e),this.markup(h));return g?Ext.get(b,true):b}},0,0,0,0,0,0,[Ext.dom,"AbstractHelper"],0));Ext.define("Ext.dom.AbstractElement_static",{override:"Ext.dom.AbstractElement",inheritableStatics:{unitRe:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,camelRe:/(-[a-z])/gi,msRe:/^-ms-/,cssRe:/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*)?;?/gi,opacityRe:/alpha\(opacity=(.*)\)/i,propertyCache:{},defaultUnit:"px",borders:{l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"},paddings:{l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"},margins:{l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"},addUnits:function(b,a){if(typeof b=="number"){return b+(a||this.defaultUnit||"px")}if(b===""||b=="auto"||b===undefined||b===null){return b||""}if(!this.unitRe.test(b)){return b||""}return b},isAncestor:function(b,d){var a=false;b=Ext.getDom(b);d=Ext.getDom(d);if(b&&d){if(b.contains){return b.contains(d)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(d)&16)}else{while((d=d.parentNode)){a=d==b||a}}}}return a},parseBox:function(d){d=d||0;var a=typeof d,e,b;if(a==="number"){return{top:d,right:d,bottom:d,left:d}}else{if(a!=="string"){return d}}e=d.split(" ");b=e.length;if(b==1){e[1]=e[2]=e[3]=e[0]}else{if(b==2){e[2]=e[0];e[3]=e[1]}else{if(b==3){e[3]=e[1]}}}return{top:parseFloat(e[0])||0,right:parseFloat(e[1])||0,bottom:parseFloat(e[2])||0,left:parseFloat(e[3])||0}},unitizeBox:function(h,g){var e=this.addUnits,d=this.parseBox(h);return e(d.top,g)+" "+e(d.right,g)+" "+e(d.bottom,g)+" "+e(d.left,g)},camelReplaceFn:function(b,d){return d.charAt(1).toUpperCase()},normalize:function(a){if(a=="float"){a=Ext.supports.Float?"cssFloat":"styleFloat"}return this.propertyCache[a]||(this.propertyCache[a]=a.replace(this.msRe,"ms-").replace(this.camelRe,this.camelReplaceFn))},getDocumentHeight:function(){return Math.max(!Ext.isStrict?document.body.scrollHeight:document.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?document.body.scrollWidth:document.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return window.innerHeight},getViewportWidth:function(){return window.innerWidth},getViewSize:function(){return{width:window.innerWidth,height:window.innerHeight}},getOrientation:function(){if(Ext.supports.OrientationChange){return(window.orientation==0)?"portrait":"landscape"}return(window.innerHeight>window.innerWidth)?"portrait":"landscape"},fromPoint:function(a,b){return Ext.get(document.elementFromPoint(a,b))},parseStyles:function(d){var a={},b=this.cssRe,e;if(d){b.lastIndex=0;while((e=b.exec(d))){a[e[1]]=e[2]||""}}return a}}},function(){var d=document,b=null,a=d.compatMode=="CSS1Compat";if(!("activeElement" in d)&&d.addEventListener){d.addEventListener("focus",function(g){if(g&&g.target){b=(g.target==d)?null:g.target}},true)}function e(h,k,g){return function(){h.selectionStart=k;h.selectionEnd=g}}this.addInheritableStatics({getActiveElement:function(){var h;try{h=d.activeElement}catch(g){}h=h||b;if(!h){h=b=document.body}return h},getRightMarginFixCleaner:function(n){var k=Ext.supports,l=k.DisplayChangeInputSelectionBug,m=k.DisplayChangeTextAreaSelectionBug,o,g,q,h;if(l||m){o=d.activeElement||b;g=o&&o.tagName;if((m&&g=="TEXTAREA")||(l&&g=="INPUT"&&o.type=="text")){if(Ext.dom.Element.isAncestor(n,o)){q=o.selectionStart;h=o.selectionEnd;if(Ext.isNumber(q)&&Ext.isNumber(h)){return e(o,q,h)}}}}return Ext.emptyFn},getViewWidth:function(g){return g?Ext.dom.Element.getDocumentWidth():Ext.dom.Element.getViewportWidth()},getViewHeight:function(g){return g?Ext.dom.Element.getDocumentHeight():Ext.dom.Element.getViewportHeight()},getDocumentHeight:function(){return Math.max(!a?d.body.scrollHeight:d.documentElement.scrollHeight,Ext.dom.Element.getViewportHeight())},getDocumentWidth:function(){return Math.max(!a?d.body.scrollWidth:d.documentElement.scrollWidth,Ext.dom.Element.getViewportWidth())},getViewportHeight:function(){return Ext.isIE9m?(Ext.isStrict?d.documentElement.clientHeight:d.body.clientHeight):self.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?d.body.clientWidth:Ext.isIE9m?d.documentElement.clientWidth:self.innerWidth},serializeForm:function(k){var l=k.elements||(document.forms[k]||Ext.getDom(k)).elements,y=false,x=encodeURIComponent,q="",n=l.length,r,g,w,A,z,t,m,u,h;for(t=0;t<n;t++){r=l[t];g=r.name;w=r.type;A=r.options;if(!r.disabled&&g){if(/select-(one|multiple)/i.test(w)){u=A.length;for(m=0;m<u;m++){h=A[m];if(h.selected){z=h.hasAttribute?h.hasAttribute("value"):h.getAttributeNode("value").specified;q+=Ext.String.format("{0}={1}&",x(g),x(z?h.value:h.text))}}}else{if(!(/file|undefined|reset|button/i.test(w))){if(!(/radio|checkbox/i.test(w)&&!r.checked)&&!(w=="submit"&&y)){q+=x(g)+"="+x(r.value)+"&";y=/submit/i.test(w)}}}}}return q.substr(0,q.length-1)}})});Ext.define("Ext.dom.AbstractElement_insertion",{override:"Ext.dom.AbstractElement",appendChild:function(g,d){var h=this,l,b,k,a;if(g.nodeType||g.dom||typeof g=="string"){g=Ext.getDom(g);h.dom.appendChild(g);return !d?Ext.get(g):g}else{if(g.length){l=Ext.fly(document.createDocumentFragment(),"_internal");b=g.length;Ext.DomHelper.useDom=true;for(k=0;k<b;k++){l.appendChild(g[k],d)}Ext.DomHelper.useDom=a;h.dom.appendChild(l.dom);return d?l.dom:l}else{return h.createChild(g,null,d)}}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(b,a){b=b||{};if(b.nodeType||b.dom||typeof b=="string"){b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?Ext.get(b):b}else{return this.createChild(b,this.dom.firstChild,a)}},insertSibling:function(b,h,m){var l=this,n=Ext.core.DomHelper,o=n.useDom,q=(h||"before").toLowerCase()=="after",g,a,d,k;if(Ext.isArray(b)){a=Ext.fly(document.createDocumentFragment(),"_internal");d=b.length;n.useDom=true;for(k=0;k<d;k++){g=a.appendChild(b[k],m)}n.useDom=o;l.dom.parentNode.insertBefore(a.dom,q?l.dom.nextSibling:l.dom);return g}b=b||{};if(b.nodeType||b.dom){g=l.dom.parentNode.insertBefore(Ext.getDom(b),q?l.dom.nextSibling:l.dom);if(!m){g=Ext.get(g)}}else{if(q&&!l.dom.nextSibling){g=n.append(l.dom.parentNode,b,!m)}else{g=n[q?"insertAfter":"insertBefore"](l.dom,b,!m)}}return g},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=Ext.get(a);b.dom.parentNode.insertBefore(a.dom,b.dom)}else{a=Ext.core.DomHelper.insertBefore(b.dom,a)}delete Ext.cache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.dom.AbstractElement.addToCache(b.isFlyweight?new Ext.dom.AbstractElement(b.dom):b);return b},createChild:function(b,a,d){b=b||{tag:"div"};if(a){return Ext.core.DomHelper.insertBefore(a,b,d!==true)}else{return Ext.core.DomHelper.append(this.dom,b,d!==true)}},wrap:function(b,d,a){var g=Ext.core.DomHelper.insertBefore(this.dom,b||{tag:"div"},true),e=g;if(a){e=Ext.DomQuery.selectNode(a,g.dom)}e.appendChild(this.dom);return d?g.dom:g},insertHtml:function(b,d,a){var e=Ext.core.DomHelper.insertHtml(b,this.dom,d);return a?Ext.get(e):e}});Ext.define("Ext.dom.AbstractElement_style",{override:"Ext.dom.AbstractElement"},function(){var e=this,q=/\w/g,w=/\s+/,d=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,m=Ext.supports.ClassList,g="padding",l="margin",a="border",x="-left",b="-right",t="-top",n="-bottom",u="-width",o={l:a+x+u,r:a+b+u,t:a+t+u,b:a+n+u},h={l:g+x,r:g+b,t:g+t,b:g+n},r={l:l+x,r:l+b,t:l+t,b:l+n},k=new e.Fly();Ext.override(e,{styleHooks:{},addStyles:function(F,E){var A=0,D=(F||"").match(q),C,y=D.length,B,z=[];if(y==1){A=Math.abs(parseFloat(this.getStyle(E[D[0]]))||0)}else{if(y){for(C=0;C<y;C++){B=D[C];z.push(E[B])}z=this.getStyle(z);for(C=0;C<y;C++){B=D[C];A+=Math.abs(parseFloat(z[E[B]])||0)}}}return A},addCls:(function(){var z=function(F){var G=this,C=G.dom,A=G.trimRe,I=F,B,J,D,E,K;if(typeof(F)=="string"){F=F.replace(A,"").split(w)}if(C&&F&&!!(E=F.length)){if(!C.className){C.className=F.join(" ")}else{B=C.classList;if(B){for(D=0;D<E;++D){K=F[D];if(K){if(!B.contains(K)){if(J){J.push(K)}else{J=C.className.replace(A,"");J=J?[J,K]:[K]}}}}if(J){C.className=J.join(" ")}}else{y(I)}}}return G},y=function(B){var C=this,D=C.dom,A;if(D&&B&&B.length){A=Ext.Element.mergeClsList(D.className,B);if(A.changed){D.className=A.join(" ")}}return C};return m?z:y})(),removeCls:function(A){var B=this,D=B.dom,C,y,z;if(typeof(A)=="string"){A=A.replace(B.trimRe,"").split(w)}if(D&&D.className&&A&&!!(y=A.length)){C=D.classList;if(y===1&&C){if(A[0]){C.remove(A[0])}}else{z=Ext.Element.removeCls(D.className,A);if(z.changed){D.className=z.join(" ")}}}return B},radioCls:function(B){var C=this.dom.parentNode.childNodes,z,A,y;B=Ext.isArray(B)?B:[B];for(A=0,y=C.length;A<y;A++){z=C[A];if(z&&z.nodeType==1){k.attach(z).removeCls(B)}}return this.addCls(B)},toggleCls:(function(){var y=function(A){var B=this,D=B.dom,C;if(D){A=A.replace(B.trimRe,"");if(A){C=D.classList;if(C){C.toggle(A)}else{z(A)}}}return B},z=function(A){return this.hasCls(A)?this.removeCls(A):this.addCls(A)};return m?y:z})(),hasCls:(function(){var y=function(B){var D=this.dom,A=false,C;if(D&&B){C=D.classList;if(C){A=C.contains(B)}else{A=z(B)}}return A},z=function(A){var B=this.dom;return B?A&&(" "+B.className+" ").indexOf(" "+A+" ")!==-1:false};return m?y:z})(),replaceCls:function(z,y){return this.removeCls(z).addCls(y)},isStyle:function(y,z){return this.getStyle(y)==z},getStyle:function(N,F){var G=this,B=G.dom,R=typeof N!="string",O=G.styleHooks,z=N,I=z,E=1,D,P,K,J,A,y,C;if(R){K={};z=I[0];C=0;if(!(E=I.length)){return K}}if(!B||B.documentElement){return K||""}D=B.style;if(F){y=D}else{y=B.ownerDocument.defaultView.getComputedStyle(B,null);if(!y){F=true;y=D}}do{J=O[z];if(!J){O[z]=J={name:e.normalize(z)}}if(J.get){A=J.get(B,G,F,y)}else{P=J.name;A=y[P]}if(!R){return A}K[z]=A;z=I[++C]}while(C<E);return K},getStyles:function(){var z=Ext.Array.slice(arguments),y=z.length,A;if(y&&typeof z[y-1]=="boolean"){A=z.pop()}return this.getStyle(z,A)},isTransparent:function(z){var y=this.getStyle(z);return y?d.test(y):false},setStyle:function(F,D){var B=this,E=B.dom,y=B.styleHooks,A=E.style,z=F,C;if(typeof z=="string"){C=y[z];if(!C){y[z]=C={name:e.normalize(z)}}D=(D==null)?"":D;if(C.set){C.set(E,D,B)}else{A[C.name]=D}if(C.afterSet){C.afterSet(E,D,B)}}else{for(z in F){if(F.hasOwnProperty(z)){C=y[z];if(!C){y[z]=C={name:e.normalize(z)}}D=F[z];D=(D==null)?"":D;if(C.set){C.set(E,D,B)}else{A[C.name]=D}if(C.afterSet){C.afterSet(E,D,B)}}}}return B},getHeight:function(z){var A=this.dom,y=z?(A.clientHeight-this.getPadding("tb")):A.offsetHeight;return y>0?y:0},getWidth:function(y){var A=this.dom,z=y?(A.clientWidth-this.getPadding("lr")):A.offsetWidth;return z>0?z:0},setWidth:function(y){var z=this;z.dom.style.width=e.addUnits(y);return z},setHeight:function(y){var z=this;z.dom.style.height=e.addUnits(y);return z},getBorderWidth:function(y){return this.addStyles(y,o)},getPadding:function(y){return this.addStyles(y,h)},margins:r,applyStyles:function(A){if(A){var z,y,B=this.dom;if(typeof A=="function"){A=A.call()}if(typeof A=="string"){A=Ext.util.Format.trim(A).split(/\s*(?::|;)\s*/);for(z=0,y=A.length;z<y;){B.style[e.normalize(A[z++])]=A[z++]}}else{if(typeof A=="object"){this.setStyle(A)}}}},setSize:function(A,y){var B=this,z=B.dom.style;if(Ext.isObject(A)){y=A.height;A=A.width}z.width=e.addUnits(A);z.height=e.addUnits(y);return B},getViewSize:function(){var y=document,z=this.dom;if(z==y||z==y.body){return{width:e.getViewportWidth(),height:e.getViewportHeight()}}else{return{width:z.clientWidth,height:z.clientHeight}}},getSize:function(z){var y=this.dom;return{width:Math.max(0,z?(y.clientWidth-this.getPadding("lr")):y.offsetWidth),height:Math.max(0,z?(y.clientHeight-this.getPadding("tb")):y.offsetHeight)}},repaint:function(){var y=this.dom;this.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){k.attach(y).removeCls(Ext.baseCSSPrefix+"repaint")},1);return this},getMargin:function(z){var A=this,C={t:"top",l:"left",r:"right",b:"bottom"},y,D,B;if(!z){B=[];for(y in A.margins){if(A.margins.hasOwnProperty(y)){B.push(A.margins[y])}}D=A.getStyle(B);if(D&&typeof D=="object"){for(y in A.margins){if(A.margins.hasOwnProperty(y)){D[C[y]]=parseFloat(D[A.margins[y]])||0}}}return D}else{return A.addStyles(z,A.margins)}},mask:function(z,D,I){var E=this,A=E.dom,B=(E.$cache||E.getCache()).data,y=B.mask,J,G,F="",C=Ext.baseCSSPrefix;E.addCls(C+"masked");if(E.getStyle("position")=="static"){E.addCls(C+"masked-relative")}if(y){y.remove()}if(D&&typeof D=="string"){F=" "+D}else{F=" "+C+"mask-gray"}J=E.createChild({cls:C+"mask"+((I!==false)?"":(" "+C+"mask-gray")),html:z?('<div class="'+(D||(C+"mask-message"))+'">'+z+"</div>"):""});G=E.getSize();B.mask=J;if(A===document.body){G.height=window.innerHeight;if(E.orientationHandler){Ext.EventManager.unOrientationChange(E.orientationHandler,E)}E.orientationHandler=function(){G=E.getSize();G.height=window.innerHeight;J.setSize(G)};Ext.EventManager.onOrientationChange(E.orientationHandler,E)}J.setSize(G);if(Ext.is.iPad){Ext.repaint()}},unmask:function(){var z=this,B=(z.$cache||z.getCache()).data,y=B.mask,A=Ext.baseCSSPrefix;if(y){y.remove();delete B.mask}z.removeCls([A+"masked",A+"masked-relative"]);if(z.dom===document.body){Ext.EventManager.unOrientationChange(z.orientationHandler,z);delete z.orientationHandler}}});Ext.onReady(function(){var G=Ext.supports,y,E,C,z,F;function D(O,J,N,I){var K=I[this.name]||"";return d.test(K)?"transparent":K}function B(R,N,P,K){var I=K.marginRight,J,O;if(I!="0px"){J=R.style;O=J.display;J.display="inline-block";I=(P?K:R.ownerDocument.defaultView.getComputedStyle(R,null)).marginRight;J.display=O}return I}function A(S,O,R,N){var I=N.marginRight,K,J,P;if(I!="0px"){K=S.style;J=e.getRightMarginFixCleaner(S);P=K.display;K.display="inline-block";I=(R?N:S.ownerDocument.defaultView.getComputedStyle(S,"")).marginRight;K.display=P;J()}return I}y=e.prototype.styleHooks;if(G.init){G.init()}if(!G.RightMargin){y.marginRight=y["margin-right"]={name:"marginRight",get:(G.DisplayChangeInputSelectionBug||G.DisplayChangeTextAreaSelectionBug)?A:B}}if(!G.TransparentColor){E=["background-color","border-color","color","outline-color"];for(C=E.length;C--;){z=E[C];F=e.normalize(z);y[z]=y[F]={name:F,get:D}}}})});Ext.define("Ext.dom.AbstractElement_traversal",{override:"Ext.dom.AbstractElement",findParent:function(k,b,a){var g=this.dom,d=document.documentElement,h=0,e;b=b||50;if(isNaN(b)){e=Ext.getDom(b);b=Number.MAX_VALUE}while(g&&g.nodeType==1&&h<b&&g!=d&&g!=e){if(Ext.DomQuery.is(g,k)){return a?Ext.get(g):g}h++;g=g.parentNode}return null},findParentNode:function(e,b,a){var d=Ext.fly(this.dom.parentNode,"_internal");return d?d.findParent(e,b,a):null},up:function(d,a,b){return this.findParentNode(d,a,!b)},select:function(a,b){return Ext.dom.Element.select(a,this.dom,b)},query:function(a){return Ext.DomQuery.select(a,this.dom)},down:function(a,b){var d=Ext.DomQuery.selectNode(a,this.dom);return b?d:Ext.get(d)},child:function(a,b){var e,d=this,g;g=Ext.id(d.dom);g=Ext.escapeId(g);e=Ext.DomQuery.selectNode("#"+g+" > "+a,d.dom);return b?e:Ext.get(e)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},prev:function(a,b){return this.matchNode("previousSibling","previousSibling",a,b)},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(b,g,a,d){if(!this.dom){return null}var e=this.dom[g];while(e){if(e.nodeType==1&&(!a||Ext.DomQuery.is(e,a))){return !d?Ext.get(e):e}e=e[b]}return null},isAncestor:function(a){return this.self.isAncestor.call(this.self,this.dom,a)}});(Ext.cmd.derive("Ext.dom.AbstractElement",Ext.Base,{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,inheritableStatics:{trimRe:/^\s+|\s+$/g,whitespaceRe:/\s/,get:function(d){var l=this,m=window.document,e=Ext.dom.Element,k,b,h,g,a;if(!d){return null}if(d.isFly){d=d.dom}if(typeof d=="string"){if(d==Ext.windowId){return e.get(window)}else{if(d==Ext.documentId){return e.get(m)}}k=Ext.cache[d];if(k&&k.skipGarbageCollection){h=k.el;return h}if(!(g=m.getElementById(d))){return null}if(k&&k.el){h=Ext.updateCacheEntry(k,g).el}else{h=new e(g,!!k)}return h}else{if(d.tagName){if(!(a=d.id)){a=Ext.id(d)}k=Ext.cache[a];if(k&&k.el){h=Ext.updateCacheEntry(k,d).el}else{h=new e(d,!!k)}return h}else{if(d instanceof l){if(d!=l.docEl&&d!=l.winEl){a=d.id;k=Ext.cache[a];if(k){Ext.updateCacheEntry(k,m.getElementById(a)||d.dom)}}return d}else{if(d.isComposite){return d}else{if(Ext.isArray(d)){return l.select(d)}else{if(d===m){if(!l.docEl){b=l.docEl=Ext.Object.chain(e.prototype);b.dom=m;b.el=b;b.id=Ext.id(m);l.addToCache(b)}return l.docEl}else{if(d===window){if(!l.winEl){l.winEl=Ext.Object.chain(e.prototype);l.winEl.dom=window;l.winEl.id=Ext.id(window);l.addToCache(l.winEl)}return l.winEl}}}}}}}return null},addToCache:function(a,b){if(a){Ext.addCacheEntry(b,a)}return a},addMethods:function(){this.override.apply(this,arguments)},mergeClsList:function(){var n,l={},h,b,e,k,d,o=[],g=false,a=this.trimRe,m=this.whitespaceRe;for(h=0,b=arguments.length;h<b;h++){n=arguments[h];if(Ext.isString(n)){n=n.replace(a,"").split(m)}if(n){for(e=0,k=n.length;e<k;e++){d=n[e];if(!l[d]){if(h){g=true}l[d]=true}}}}for(d in l){o.push(d)}o.changed=g;return o},removeCls:function(a,b){var k={},h,d,e,m=[],g=false,l=this.whitespaceRe;if(a){if(Ext.isString(a)){a=a.replace(this.trimRe,"").split(l)}for(h=0,d=a.length;h<d;h++){k[a[h]]=true}}if(b){if(Ext.isString(b)){b=b.split(l)}for(h=0,d=b.length;h<d;h++){e=b[h];if(k[e]){g=true;delete k[e]}}}for(e in k){m.push(e)}m.changed=g;return m},VISIBILITY:1,DISPLAY:2,OFFSETS:3,ASCLASS:4},constructor:function(a,b){var d=this,e=typeof a=="string"?document.getElementById(a):a,g;d.el=d;if(!e){return null}g=e.id;if(!b&&g&&Ext.cache[g]){return Ext.cache[g].el}d.dom=e;d.id=g||Ext.id(e);d.self.addToCache(d)},set:function(g,b){var d=this.dom,a,e;for(a in g){if(g.hasOwnProperty(a)){e=g[a];if(a=="style"){this.applyStyles(e)}else{if(a=="cls"){d.className=e}else{if(b!==false){if(e===undefined){d.removeAttribute(a)}else{d.setAttribute(a,e)}}else{d[a]=e}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},remove:function(){var a=this,b=a.dom;if(a.isAnimate){a.stopAnimation()}if(b){Ext.removeNode(b);delete a.dom}},contains:function(a){if(!a){return false}var b=this,d=a.dom||a;return(d===b.dom)||Ext.dom.AbstractElement.isAncestor(b.dom,d)},getAttribute:function(a,b){var d=this.dom;return d.getAttributeNS(b,a)||d.getAttribute(b+":"+a)||d.getAttribute(a)||d[a]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this},setHTML:function(a){if(this.dom){this.dom.innerHTML=a}return this},getHTML:function(){return this.dom?this.dom.innerHTML:""},hide:function(){this.setVisible(false);return this},show:function(){this.setVisible(true);return this},setVisible:function(h,a){var b=this,g=b.self,e=b.getVisibilityMode(),d=Ext.baseCSSPrefix;switch(e){case g.VISIBILITY:b.removeCls([d+"hidden-display",d+"hidden-offsets"]);b[h?"removeCls":"addCls"](d+"hidden-visibility");break;case g.DISPLAY:b.removeCls([d+"hidden-visibility",d+"hidden-offsets"]);b[h?"removeCls":"addCls"](d+"hidden-display");break;case g.OFFSETS:b.removeCls([d+"hidden-visibility",d+"hidden-display"]);b[h?"removeCls":"addCls"](d+"hidden-offsets");break}return b},getVisibilityMode:function(){var b=(this.$cache||this.getCache()).data,a=b.visibilityMode;if(a===undefined){b.visibilityMode=a=this.self.DISPLAY}return a},setVisibilityMode:function(a){(this.$cache||this.getCache()).data.visibilityMode=a;return this},getCache:function(){var a=this,b=a.dom.id||Ext.id(a.dom);a.$cache=Ext.cache[b]||Ext.addCacheEntry(b,null,a.dom);return a.$cache}},1,0,0,0,0,0,[Ext.dom,"AbstractElement"],function(){var a=this;Ext.getDetachedBody=function(){var b=a.detachedBodyEl;if(!b){b=document.createElement("div");a.detachedBodyEl=b=new a.Fly(b);b.isDetachedBody=true}return b};Ext.getElementById=function(e){var d=document.getElementById(e),b;if(!d&&(b=a.detachedBodyEl)){d=b.dom.querySelector("#"+Ext.escapeId(e))}return d};Ext.get=function(b){return Ext.dom.Element.get(b)};this.addStatics({Fly:new Ext.Class({extend:a,isFly:true,constructor:function(b){this.dom=b;this.el=this},attach:function(b){this.dom=b;this.$cache=b.id?Ext.cache[b.id]:null;return this}}),_flyweights:{},fly:function(g,d){var e=null,b=a._flyweights;d=d||"_global";g=Ext.getDom(g);if(g){e=b[d]||(b[d]=new a.Fly());e.dom=g;e.$cache=g.id?Ext.cache[g.id]:null}return e}});Ext.fly=function(){return a.fly.apply(a,arguments)};(function(b){b.destroy=b.remove;if(document.querySelector){b.getById=function(g,d){var e=document.getElementById(g)||this.dom.querySelector("#"+Ext.escapeId(g));return d?e:(e?Ext.get(e):null)}}else{b.getById=function(g,d){var e=document.getElementById(g);return d?e:(e?Ext.get(e):null)}}}(this.prototype))}));(Ext.cmd.derive("Ext.dom.Helper",Ext.dom.AbstractHelper,(function(){var b="afterbegin",l="afterend",a="beforebegin",t="beforeend",o="<table>",k="</table>",d=o+"<tbody>",r="</tbody>"+k,n=d+"<tr>",g="</tr>"+r,u=document.createElement("div"),q=["BeforeBegin","previousSibling"],m=["AfterEnd","nextSibling"],e={beforebegin:q,afterend:m},h={beforebegin:q,afterend:m,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{tableRe:/^(?:table|thead|tbody|tr|td)$/i,tableElRe:/td|tr|tbody|thead/i,useDom:false,createDom:function(w,C){var x,F=document,A,D,y,E,B,z;if(Ext.isArray(w)){x=F.createDocumentFragment();for(B=0,z=w.length;B<z;B++){this.createDom(w[B],x)}}else{if(typeof w=="string"){x=F.createTextNode(w)}else{x=F.createElement(w.tag||"div");A=!!x.setAttribute;for(D in w){if(!this.confRe.test(D)){y=w[D];if(D=="cls"){x.className=y}else{if(A){x.setAttribute(D,y)}else{x[D]=y}}}}Ext.DomHelper.applyStyles(x,w.style);if((E=w.children||w.cn)){this.createDom(E,x)}else{if(w.html){x.innerHTML=w.html}}}}if(C){C.appendChild(x)}return x},ieTable:function(B,w,C,A){u.innerHTML=[w,C,A].join("");var x=-1,z=u,y;while(++x<B){z=z.firstChild}y=z.nextSibling;if(y){y=z;z=document.createDocumentFragment();while(y){nx=y.nextSibling;z.appendChild(y);y=nx}}return z},insertIntoTable:function(F,y,x,z){var w,C,B=y==a,E=y==b,A=y==t,D=y==l;if(F=="td"&&(E||A)||!this.tableElRe.test(F)&&(B||D)){return null}C=B?x:D?x.nextSibling:E?x.firstChild:null;if(B||D){x=x.parentNode}if(F=="td"||(F=="tr"&&(A||E))){w=this.ieTable(4,n,z,g)}else{if(((F=="tbody"||F=="thead")&&(A||E))||(F=="tr"&&(B||D))){w=this.ieTable(3,d,z,r)}else{w=this.ieTable(2,o,z,k)}}x.insertBefore(w,C);return w},createContextualFragment:function(x){var w=document.createDocumentFragment(),y,z;u.innerHTML=x;z=u.childNodes;y=z.length;while(y--){w.appendChild(z[0])}return w},applyStyles:function(w,x){if(x){if(typeof x=="function"){x=x.call()}if(typeof x=="string"){x=Ext.dom.Element.parseStyles(x)}if(typeof x=="object"){Ext.fly(w,"_applyStyles").setStyle(x)}}},createHtml:function(w){return this.markup(w)},doInsert:function(z,B,A,C,y,w){z=z.dom||Ext.getDom(z);var x;if(this.useDom){x=this.createDom(B,null);if(w){z.appendChild(x)}else{(y=="firstChild"?z:z.parentNode).insertBefore(x,z[y]||z)}}else{x=this.insertHtml(C,z,this.markup(B))}return A?Ext.get(x,true):x},overwrite:function(y,x,z){var w;y=Ext.getDom(y);x=this.markup(x);if(Ext.isIE&&this.tableRe.test(y.tagName)){while(y.firstChild){y.removeChild(y.firstChild)}if(x){w=this.insertHtml("afterbegin",y,x);return z?Ext.get(w):w}return null}y.innerHTML=x;return z?Ext.get(y.firstChild):y.firstChild},insertHtml:function(y,B,z){var D,x,A,w,C;y=y.toLowerCase();if(B.insertAdjacentHTML){if(Ext.isIE&&this.tableRe.test(B.tagName)&&(C=this.insertIntoTable(B.tagName.toLowerCase(),y,B,z))){return C}if((D=h[y])){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){B.insertAdjacentHTML(D[0],z)})}else{B.insertAdjacentHTML(D[0],z)}return B[D[1]]}}else{if(B.nodeType===3){y=y==="afterbegin"?"beforebegin":y;y=y==="beforeend"?"afterend":y}x=Ext.supports.CreateContextualFragment?B.ownerDocument.createRange():undefined;w="setStart"+(this.endRe.test(y)?"After":"Before");if(e[y]){if(x){x[w](B);C=x.createContextualFragment(z)}else{C=this.createContextualFragment(z)}B.parentNode.insertBefore(C,y==a?B:B.nextSibling);return B[(y==a?"previous":"next")+"Sibling"]}else{A=(y==b?"first":"last")+"Child";if(B.firstChild){if(x){x[w](B[A]);C=x.createContextualFragment(z)}else{C=this.createContextualFragment(z)}if(y==b){B.insertBefore(C,B.firstChild)}else{B.appendChild(C)}}else{B.innerHTML=z}return B[A]}}},createTemplate:function(x){var w=this.markup(x);return new Ext.Template(w)}}})(),0,0,0,0,0,0,[Ext.dom,"Helper"],function(){Ext.ns("Ext.core");Ext.DomHelper=Ext.core.DomHelper=new this()}));(Ext.cmd.derive("Ext.Template",Ext.Base,{inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||"")}},constructor:function(e){var h=this,b=arguments,a=[],d=0,g=b.length,k;h.initialConfig={};if(g===1&&Ext.isArray(e)){b=e;g=b.length}if(g>1){for(;d<g;d++){k=b[d];if(typeof k=="object"){Ext.apply(h.initialConfig,k);Ext.apply(h,k)}else{a.push(k)}}}else{a.push(e)}h.html=a.join("");if(h.compiled){h.compile()}},isTemplate:true,disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,apply:function(a){var k=this,e=k.disableFormats!==true,h=Ext.util.Format,d=k,b;if(k.compiled){return k.compiled(a).join("")}function g(l,o,q,n){if(q&&e){if(n){n=[a[o]].concat(Ext.functionFactory("return ["+n+"];")())}else{n=[a[o]]}if(q.substr(0,5)=="this."){return d[q.substr(5)].apply(d,n)}else{return h[q].apply(h,n)}}else{return a[o]!==undefined?a[o]:""}}b=k.html.replace(k.re,g);return b},applyOut:function(a,b){var d=this;if(d.compiled){b.push.apply(b,d.compiled(a))}else{b.push(d.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,d){var b=this;b.html=a;b.compiled=null;return d?b.compile():b},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var me=this,fm=Ext.util.Format,useFormat=me.disableFormats!==true,body,bodyReturn;function fn(m,name,format,args){if(format&&useFormat){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format="this."+format.substr(5)+"("}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"',"+format+"values['"+name+"']"+args+") ,'"}bodyReturn=me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn);body="this.compiled = function(values){ return ['"+bodyReturn+"'];};";eval(body);return me},insertFirst:function(b,a,d){return this.doInsert("afterBegin",b,a,d)},insertBefore:function(b,a,d){return this.doInsert("beforeBegin",b,a,d)},insertAfter:function(b,a,d){return this.doInsert("afterEnd",b,a,d)},append:function(b,a,d){return this.doInsert("beforeEnd",b,a,d)},doInsert:function(b,e,a,g){var d=Ext.DomHelper.insertHtml(b,Ext.getDom(e),this.apply(a));return g?Ext.get(d):d},overwrite:function(d,a,e){var b=Ext.DomHelper.overwrite(Ext.getDom(d),this.apply(a));return e?Ext.get(b):b}},1,0,0,0,0,0,[Ext,"Template"],0));(Ext.cmd.derive("Ext.XTemplateParser",Ext.Base,{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(q){var A=this,w=q.length,u={elseif:"elif"},x=A.topRe,d=A.actionsRe,g,e,n,r,k,o,l,z,y,b,h,a;A.level=0;A.stack=e=[];for(g=0;g<w;g=b){x.lastIndex=g;r=x.exec(q);if(!r){A.doText(q.substring(g,w));break}y=r.index;b=x.lastIndex;if(g<y){A.doText(q.substring(g,y))}if(r[1]){b=q.indexOf("%}",y+2);A.doEval(q.substring(y+2,b));b+=2}else{if(r[2]){b=q.indexOf("]}",y+2);A.doExpr(q.substring(y+2,b));b+=2}else{if(r[3]){A.doTag(r[3])}else{if(r[4]){h=null;while((z=d.exec(r[4]))!==null){n=z[2]||z[3];if(n){n=Ext.String.htmlDecode(n);k=z[1];k=u[k]||k;h=h||{};o=h[k];if(typeof o=="string"){h[k]=[o,n]}else{if(o){h[k].push(n)}else{h[k]=n}}}}if(!h){if(A.elseRe.test(r[4])){A.doElse()}else{if(A.defaultRe.test(r[4])){A.doDefault()}else{A.doTpl();e.push({type:"tpl"})}}}else{if(h["if"]){A.doIf(h["if"],h);e.push({type:"if"})}else{if(h["switch"]){A.doSwitch(h["switch"],h);e.push({type:"switch"})}else{if(h["case"]){A.doCase(h["case"],h)}else{if(h.elif){A.doElseIf(h.elif,h)}else{if(h["for"]){++A.level;if(a=A.propRe.exec(r[4])){h.propName=a[1]||a[2]}A.doFor(h["for"],h);e.push({type:"for",actions:h})}else{if(h.foreach){++A.level;if(a=A.propRe.exec(r[4])){h.propName=a[1]||a[2]}A.doForEach(h.foreach,h);e.push({type:"foreach",actions:h})}else{if(h.exec){A.doExec(h.exec,h);e.push({type:"exec",actions:h})}}}}}}}}}else{if(r[0].length===5){e.push({type:"tpl"})}else{l=e.pop();A.doEnd(l.type,l.actions);if(l.type=="for"||l.type=="foreach"){--A.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/},1,0,0,0,0,0,[Ext,"XTemplateParser"],0));(Ext.cmd.derive("Ext.XTemplateCompiler",Ext.XTemplateParser,{useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(a){var d=this,b=d.generate(a);return d.useEval?d.evalTpl(b):(new Function("Ext",b))(Ext)},generate:function(a){var e=this,b="var fm=Ext.util.Format,ts=Object.prototype.toString;",d;e.maxLevel=0;e.body=["var c0=values, a0="+e.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(e.definitions){if(typeof e.definitions==="string"){e.definitions=[e.definitions,b]}else{e.definitions.push(b)}}else{e.definitions=[b]}e.switches=[];e.parse(a);e.definitions.push((e.useEval?"$=":"return")+" function ("+e.fnArgs+") {",e.body.join(""),"}");d=e.definitions.join("\n");e.definitions.length=e.body.length=e.switches.length=0;delete e.definitions;delete e.body;delete e.switches;return d},doText:function(d){var b=this,a=b.body;d=d.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n");if(b.useIndex){a.push("out[out.length]='",d,"'\n")}else{a.push("out.push('",d,"')\n")}},doExpr:function(b){var a=this.body;a.push("if ((v="+b+") != null) out");if(this.useIndex){a.push("[out.length]=v+''\n")}else{a.push(".push(v+'')\n")}},doTag:function(a){var b=this.parseTag(a);if(b){this.doExpr(b)}else{this.doText("{"+a+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(b,d){var a=this;if(b==="."){a.body.push("if (values) {\n")}else{if(a.propNameRe.test(b)){a.body.push("if (",a.parseTag(b),") {\n")}else{a.body.push("if (",a.addFn(b),a.callFn,") {\n")}}if(d.exec){a.doExec(d.exec)}},doElseIf:function(b,d){var a=this;if(b==="."){a.body.push("else if (values) {\n")}else{if(a.propNameRe.test(b)){a.body.push("} else if (",a.parseTag(b),") {\n")}else{a.body.push("} else if (",a.addFn(b),a.callFn,") {\n")}}if(d.exec){a.doExec(d.exec)}},doSwitch:function(b){var a=this;if(b==="."){a.body.push("switch (values) {\n")}else{if(a.propNameRe.test(b)){a.body.push("switch (",a.parseTag(b),") {\n")}else{a.body.push("switch (",a.addFn(b),a.callFn,") {\n")}}a.switches.push(0)},doCase:function(g){var e=this,d=Ext.isArray(g)?g:[g],h=e.switches.length-1,a,b;if(e.switches[h]){e.body.push("break;\n")}else{e.switches[h]++}for(b=0,h=d.length;b<h;++b){a=e.intRe.exec(d[b]);d[b]=a?a[1]:("'"+d[b].replace(e.aposRe,"\\'")+"'")}e.body.push("case ",d.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push("break;\n")}else{a.switches[b]++}a.body.push("default:\n")},doEnd:function(b,e){var d=this,a=d.level-1;if(b=="for"||b=="foreach"){if(e.exec){d.doExec(e.exec)}d.body.push("}\n");d.body.push("parent=p",a,";values=r",a+1,";xcount=n"+a+";xindex=i",a,"+1;xkey=k",a,";\n")}else{if(b=="if"||b=="switch"){d.body.push("}\n")}}},doFor:function(g,k){var e=this,d,b=e.level,a=b-1,h;if(g==="."){d="values"}else{if(e.propNameRe.test(g)){d=e.parseTag(g)}else{d=e.addFn(g)+e.callFn}}if(e.maxLevel<b){e.maxLevel=b;e.body.push("var ")}if(g=="."){h="c"+b}else{h="a"+a+"?c"+a+"[i"+a+"]:c"+a}e.body.push("i",b,"=0,n",b,"=0,c",b,"=",d,",a",b,"=",e.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",h,"\n","if (c",b,"){if(a",b,"){n",b,"=c",b,".length;}else if (c",b,".isMixedCollection){c",b,"=c",b,".items;n",b,"=c",b,".length;}else if(c",b,".isStore){c",b,"=c",b,".data.items;n",b,"=c",b,".length;}else{c",b,"=[c",b,"];n",b,"=1;}}\n","for (xcount=n",b,";i",b,"<n"+b+";++i",b,"){\n","values=c",b,"[i",b,"]");if(k.propName){e.body.push(".",k.propName)}e.body.push("\n","xindex=i",b,"+1\n");if(k.between){e.body.push('if(xindex>1){ out.push("',k.between,'"); } \n')}},doForEach:function(g,k){var e=this,d,b=e.level,a=b-1,h;if(g==="."){d="values"}else{if(e.propNameRe.test(g)){d=e.parseTag(g)}else{d=e.addFn(g)+e.callFn}}if(e.maxLevel<b){e.maxLevel=b;e.body.push("var ")}if(g=="."){h="c"+b}else{h="a"+a+"?c"+a+"[i"+a+"]:c"+a}e.body.push("i",b,"=-1,n",b,"=0,c",b,"=",d,",a",b,"=",e.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",h,"\n","for(k",b," in c",b,"){\n","xindex=++i",b,"+1;\n","xkey=k",b,";\n","values=c",b,"[k",b,"];");if(k.propName){e.body.push(".",k.propName)}if(k.between){e.body.push('if(xindex>1){ out.push("',k.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(d,e){var b=this,a="f"+b.definitions.length;b.definitions.push("function "+a+"("+b.fnArgs+") {"," try { with(values) {","  "+d," }} catch(e) {","}","}");b.body.push(a+b.callFn+"\n")},addFn:function(a){var d=this,b="f"+d.definitions.length;if(a==="."){d.definitions.push("function "+b+"("+d.fnArgs+") {"," return values","}")}else{if(a===".."){d.definitions.push("function "+b+"("+d.fnArgs+") {"," return parent","}")}else{d.definitions.push("function "+b+"("+d.fnArgs+") {"," try { with(values) {","  return("+a+")"," }} catch(e) {","}","}")}}return b},parseTag:function(b){var k=this,a=k.tagRe.exec(b),g,l,e,h,d;if(!a){return null}g=a[1];l=a[2];e=a[3];h=a[4];if(g=="."){if(!k.validTypes){k.definitions.push("var validTypes={string:1,number:1,boolean:1};");k.validTypes=true}d='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(g=="#"){d="xindex"}else{if(g=="$"){d="xkey"}else{if(g.substr(0,7)=="parent."){d=g}else{if(isNaN(g)&&g.indexOf("-")==-1&&g.indexOf(".")!=-1){d="values."+g}else{d="values['"+g+"']"}}}}}if(h){d="("+d+h+")"}if(l&&k.useFormat){e=e?","+e:"";if(l.substr(0,5)!="this."){l="fm."+l+"("}else{l+="("}}else{return d}return l+d+e+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},0,0,0,0,0,0,[Ext,"XTemplateCompiler"],function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"}));(Ext.cmd.derive("Ext.XTemplate",Ext.Template,{emptyObj:{},apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,g){var h=this,d;if(!h.fn){d=new Ext.XTemplateCompiler({useFormat:h.disableFormats!==true,definitions:h.definitions});h.fn=d.compile(h.html)}try{h.fn(b,a,g||h.emptyObj,1,1)}catch(k){}return b},compile:function(){return this},statics:{getTpl:function(b,e){var d=b[e],a;if(d&&!d.isTemplate){d=Ext.ClassManager.dynInstantiate("Ext.XTemplate",d);if(b.hasOwnProperty(e)){a=b}else{for(a=b.self.prototype;a&&!a.hasOwnProperty(e);a=a.superclass){}}a[e]=d;d.owner=a}return d||null}}},0,0,0,0,0,0,[Ext,"XTemplate"],0));Ext.ns("Ext.core");Ext.dom.Query=Ext.core.DomQuery=Ext.DomQuery=(function(){var DQ,doc=document,cache={},simpleCache={},valueCache={},useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(function(){var d=doc.createElement("div");d.innerHTML="<!-- -->text<!-- -->";return d.children&&(d.children.length===0)})(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(function(){var xmlDoc,xmlString='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){xmlDoc=(new DOMParser()).parseFromString(xmlString,"application/xml")}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlString)}return !!xmlDoc.getElementsByTagName("a:b").length})(),longHexToChar=function($0,$1){return String.fromCharCode(parseInt($1,16))},shortToLongHex=function($0,$1){while($1.length<6){$1="0"+$1}return"\\"+$1},charToLongHex=function($0,$1){num=$1.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(selector){return(hasEscapes)?selector.replace(longHex,longHexToChar):selector},setupEscapes=function(path){hasEscapes=(path.indexOf("\\")>-1);if(hasEscapes){path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return path};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function child(parent,index){return parent.children[index]}:function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null};next=useElementPointer?function(n){return n.nextElementSibling}:function(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n};prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n};function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}byClassName=useClassList?function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci,classList;for(i=0;ci=nodeSet[i];i++){classList=ci.classList;if(classList){if(classList.contains(cls)){result[++ri]=ci}}else{if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}}return result}:function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci;for(i=0;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}return result};function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs,i,ni,j,ci,cn,utag,n,cj;if(!ns){return result}tagName=tagName.replace("|",":")||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){tagName=unescapeCssSelector(tagName);if(!supportsColonNsSeparator&&DQ.isXml(ns[0])&&tagName.indexOf(":")!==-1){for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName.split(":").pop());for(j=0;ci=cs[j];j++){if(ci.tagName===tagName){result[++ri]=ci}}}}else{for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(j=0;ci=cs[j];j++){result[++ri]=ci}}}}else{if(mode=="/"||mode==">"){utag=tagName.toUpperCase();for(i=0;ni=ns[i];i++){cn=ni.childNodes;for(j=0;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){a.push.apply(a,b);return a}function byTag(cs,tagName){if(cs.tagName||cs===doc){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1,i,ci;tagName=tagName.toLowerCase();for(i=0;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){id=unescapeCssSelector(id);if(cs.tagName||cs===doc){cs=[cs]}if(!id){return cs}var result=[],ri=-1,i,ci;for(i=0;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=DQ.operators[op],a,xml,hasXml,i,ci;value=unescapeCssSelector(value);for(i=0;ci=cs[i];i++){if(ci.nodeType===1){if(!hasXml){xml=DQ.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=DQ.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}}return result}function byPseudo(cs,name,value){value=unescapeCssSelector(value);return DQ.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r,i,len,c;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(i=1,len=cs.length;i<len;i++){c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1,d,j;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[],i,len;for(i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[],i,len;if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(i=0;i<len1;i++){c1[i]._qdiff=d}for(i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){id=unescapeCssSelector(id);var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return DQ={getStyle:function(el,name){return Ext.fly(el,"_DomQuery").getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||doc;if(typeof root=="string"){root=doc.getElementById(root)}var paths=path.split(","),results=[],i,len,subPath,result;for(i=0,len=paths.length;i<len;i++){subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=DQ.compile(subPath,type);if(!cache[subPath]){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:subPath+" is not a valid selector"})}}else{setupEscapes(subPath)}result=cache[subPath](root);if(result&&result!==doc){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:doc.querySelectorAll?function(path,root,type,single){root=root||doc;if(!DQ.isXml(root)){try{if(root.parentNode&&(root.nodeType!==9)&&path.indexOf(",")===-1&&!startIdRe.test(path)){path="#"+Ext.escapeId(Ext.id(root))+" "+path;root=root.parentNode}return single?[root.querySelector(path)]:Ext.Array.toArray(root.querySelectorAll(path))}catch(e){}}return DQ.jsSelect.call(this,path,root,type)}:function(path,root,type){return DQ.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root,null,true)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=DQ.compile(path,"select")}else{setupEscapes(path)}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=DQ.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=doc.getElementById(el)}var isArray=Ext.isArray(el),result=DQ.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=DQ.compile(ss,"simple")}else{setupEscapes(ss)}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)===0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0,i,n,j,cn,pn;for(i=0;n=c[i];i++){pn=n.parentNode;if(batch!=pn._batch){j=0;for(cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l===0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f===0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1,i,ci,cns,j,cn,empty;for(i=0;ci=c[i];i++){cns=ci.childNodes;j=0;empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if((ci.textContent||ci.innerText||ci.text||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.checked===true){r[++ri]=ci}}return r},not:function(c,ss){return DQ.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s,i,ci,j;for(i=0;ci=c[i];i++){for(j=0;s=ss[j];j++){if(DQ.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=DQ.select,r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},focusable:function(candidates){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isFocusable()){results.push(c)}}return results},visible:function(candidates,deep){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isVisible(deep)){results.push(c)}}return results}}}}());Ext.query=Ext.DomQuery.select;Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(b){var e=this,d,g,a=e.dom.id||Ext.id(e.dom);if(!Ext.fx.Manager.hasFxBlock(a)){if(b.listeners){d=b.listeners;delete b.listeners}if(b.internalListeners){b.listeners=b.internalListeners;delete b.internalListeners}g=new Ext.fx.Anim(e.anim(b));if(d){g.on(d)}Ext.fx.Manager.queueFx(g)}return e},anim:function(a){if(!Ext.isObject(a)){return(a)?{}:false}var b=this,d=a.duration||Ext.fx.Anim.prototype.duration,g=a.easing||"ease",e;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));Ext.fx.Manager.setFxDefaults(b.id,{delay:0});e={target:b.dom,remove:a.remove,alternate:a.alternate||false,duration:d,easing:g,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:true,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(e.to,a.to);delete e.to.to;delete e.to.from;delete e.to.remove;delete e.to.alternate;delete e.to.keyframes;delete e.to.iterations;delete e.to.listeners;delete e.to.target;delete e.to.paused;delete e.to.callback;delete e.to.scope;delete e.to.duration;delete e.to.easing;delete e.to.concurrent;delete e.to.block;delete e.to.stopAnimation;delete e.to.delay;return e},slideIn:function(e,d,g){var k=this,b=k.dom,n=b.style,m,a,h,l;e=e||"t";d=d||{};m=function(){var u=this,t=d.listeners,r=Ext.fly(b,"_anim"),w,o,x,q;if(!g){r.fixDisplay()}w=r.getBox();if((e=="t"||e=="b")&&w.height===0){w.height=b.scrollHeight}else{if((e=="l"||e=="r")&&w.width===0){w.width=b.scrollWidth}}o=r.getStyles("width","height","left","right","top","bottom","position","z-index",true);r.setSize(w.width,w.height);if(d.preserveScroll){h=r.cacheScrollValues()}q=r.wrap({id:Ext.id()+"-anim-wrap-for-"+r.dom.id,style:{visibility:g?"visible":"hidden"}});l=q.dom.parentNode;q.setPositioning(r.getPositioning(true));if(q.isStyle("position","static")){q.position("relative")}r.clearPositioning("auto");q.clip();if(h){h()}r.setStyle({visibility:"",position:"absolute"});if(g){q.setSize(w.width,w.height)}switch(e){case"t":x={from:{width:w.width+"px",height:"0px"},to:{width:w.width+"px",height:w.height+"px"}};n.bottom="0px";break;case"l":x={from:{width:"0px",height:w.height+"px"},to:{width:w.width+"px",height:w.height+"px"}};k.anchorAnimX(e);break;case"r":x={from:{x:w.x+w.width,width:"0px",height:w.height+"px"},to:{x:w.x,width:w.width+"px",height:w.height+"px"}};k.anchorAnimX(e);break;case"b":x={from:{y:w.y+w.height,width:w.width+"px",height:"0px"},to:{y:w.y,width:w.width+"px",height:w.height+"px"}};break;case"tl":x={from:{x:w.x,y:w.y,width:"0px",height:"0px"},to:{width:w.width+"px",height:w.height+"px"}};n.bottom="0px";k.anchorAnimX("l");break;case"bl":x={from:{y:w.y+w.height,width:"0px",height:"0px"},to:{y:w.y,width:w.width+"px",height:w.height+"px"}};k.anchorAnimX("l");break;case"br":x={from:{x:w.x+w.width,y:w.y+w.height,width:"0px",height:"0px"},to:{x:w.x,y:w.y,width:w.width+"px",height:w.height+"px"}};k.anchorAnimX("r");break;case"tr":x={from:{x:w.x+w.width,width:"0px",height:"0px"},to:{x:w.x,width:w.width+"px",height:w.height+"px"}};n.bottom="0px";k.anchorAnimX("r");break}q.show();a=Ext.apply({},d);delete a.listeners;a=new Ext.fx.Anim(Ext.applyIf(a,{target:q,duration:500,easing:"ease-out",from:g?x.to:x.from,to:g?x.from:x.to}));a.on("afteranimate",function(){var y=Ext.fly(b,"_anim");y.setStyle(o);if(g){if(d.useDisplay){y.setDisplayed(false)}else{y.hide()}}if(q.dom){if(q.dom.parentNode){q.dom.parentNode.insertBefore(y.dom,q.dom)}else{l.appendChild(y.dom)}q.remove()}if(h){h()}u.end()});if(t){a.on(t)}};k.animate({duration:d.duration?Math.max(d.duration,500)*2:1000,listeners:{beforeanimate:m}});return k},slideOut:function(a,b){return this.slideIn(a,b,true)},puff:function(g){var e=this,h=e.dom,b,d=e.getBox(),a=e.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",true);g=Ext.applyIf(g||{},{easing:"ease-out",duration:500,useDisplay:false});b=function(){var k=Ext.fly(h,"_anim");k.clearOpacity();k.show();this.to={width:d.width*2,height:d.height*2,x:d.x-(d.width/2),y:d.y-(d.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var l=Ext.fly(h,"_anim");if(l){if(g.useDisplay){l.setDisplayed(false)}else{l.hide()}l.setStyle(a);Ext.callback(g.callback,g.scope)}})};e.animate({duration:g.duration,easing:g.easing,listeners:{beforeanimate:{fn:b}}});return e},switchOff:function(d){var b=this,e=b.dom,a;d=Ext.applyIf(d||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});a=function(){var m=Ext.fly(e,"_anim"),l=this,k=m.getSize(),n=m.getXY(),h,g;m.clearOpacity();m.clip();g=m.getPositioning();h=new Ext.fx.Animator({target:e,duration:d.duration,easing:d.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:n[1]+k.height/2},100:{width:1,x:n[0]+k.width/2}}});h.on("afteranimate",function(){var o=Ext.fly(e,"_anim");if(d.useDisplay){o.setDisplayed(false)}else{o.hide()}o.clearOpacity();o.setPositioning(g);o.setSize(k);l.end()})};b.animate({duration:(Math.max(d.duration,500)*2),listeners:{beforeanimate:{fn:a}},callback:d.callback,scope:d.scope});return b},frame:function(a,e,g){var d=this,h=d.dom,b;a=a||"#C3DAF9";e=e||1;g=g||{};b=function(){var n=Ext.fly(h,"_anim"),m=this,o,l,k;n.show();o=n.getBox();l=Ext.getBody().createChild({id:n.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+a}});k=new Ext.fx.Anim({target:l,duration:g.duration||1000,iterations:e,from:{top:o.y,left:o.x,borderWidth:0,opacity:1,height:o.height,width:o.width},to:{top:o.y-20,left:o.x-20,borderWidth:10,opacity:0,height:o.height+40,width:o.width+40}});k.on("afteranimate",function(){l.remove();m.end()})};d.animate({duration:(Math.max(g.duration,500)*2)||2000,listeners:{beforeanimate:{fn:b}},callback:g.callback,scope:g.scope});return d},ghost:function(a,e){var d=this,g=d.dom,b;a=a||"b";b=function(){var m=Ext.fly(g,"_anim"),l=m.getWidth(),k=m.getHeight(),n=m.getXY(),h=m.getPositioning(),o={opacity:0};switch(a){case"t":o.y=n[1]-k;break;case"l":o.x=n[0]-l;break;case"r":o.x=n[0]+l;break;case"b":o.y=n[1]+k;break;case"tl":o.x=n[0]-l;o.y=n[1]-k;break;case"bl":o.x=n[0]-l;o.y=n[1]+k;break;case"br":o.x=n[0]+l;o.y=n[1]+k;break;case"tr":o.x=n[0]+l;o.y=n[1]-k;break}this.to=o;this.on("afteranimate",function(){var q=Ext.fly(g,"_anim");if(q){q.hide();q.clearOpacity();q.setPositioning(h)}})};d.animate(Ext.applyIf(e||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:b}}));return d},highlight:function(e,b){var l=this,g=l.dom,n={},k,q,h,d,a,m;if(g.tagName.match(l.tableTagRe)){return l.select("div").highlight(e,b)}b=b||{};d=b.listeners||{};h=b.attr||"backgroundColor";n[h]=e||"ffff9c";if(!b.to){q={};q[h]=b.endColor||l.getColor(h,"ffffff","")}else{q=b.to}b.listeners=Ext.apply(Ext.apply({},d),{beforeanimate:function(){k=g.style[h];var o=Ext.fly(g,"_anim");o.clearOpacity();o.show();a=d.beforeanimate;if(a){m=a.fn||a;return m.apply(a.scope||d.scope||window,arguments)}},afteranimate:function(){if(g){g.style[h]=k}a=d.afteranimate;if(a){m=a.fn||a;m.apply(a.scope||d.scope||window,arguments)}}});l.animate(Ext.apply({},b,{duration:1000,easing:"ease-in",from:n,to:q}));return l},pause:function(a){var b=this;Ext.fx.Manager.setFxDefaults(b.id,{delay:a});return b},fadeIn:function(d){var a=this,b=a.dom;a.animate(Ext.apply({},d,{opacity:1,internalListeners:{beforeanimate:function(g){var e=Ext.fly(b,"_anim");if(e.isStyle("display","none")){e.setDisplayed("")}else{e.show()}}}}));return this},fadeOut:function(d){var a=this,b=a.dom;d=Ext.apply({opacity:0,internalListeners:{afteranimate:function(g){if(b&&g.to.opacity===0){var e=Ext.fly(b,"_anim");if(d.useDisplay){e.setDisplayed(false)}else{e.hide()}}}}},d);a.animate(d);return a},scale:function(a,b,d){this.animate(Ext.apply({},d,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this},anchorAnimX:function(a){var b=(a==="l")?"right":"left";this.dom.style[b]="0px"}});Ext.define("Ext.dom.Element_dd",{override:"Ext.dom.Element",initDD:function(d,b,e){var a=new Ext.dd.DD(Ext.id(this.dom),d,b);return Ext.apply(a,e)},initDDProxy:function(d,b,e){var a=new Ext.dd.DDProxy(Ext.id(this.dom),d,b);return Ext.apply(a,e)},initDDTarget:function(d,b,e){var a=new Ext.dd.DDTarget(Ext.id(this.dom),d,b);return Ext.apply(a,e)}});Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var b=Ext.dom.Element,l="visibility",h="display",r="none",g="hidden",q="visible",t="offsets",m="asclass",a="nosize",d="originalDisplay",e="visibilityMode",k="isVisible",o=Ext.baseCSSPrefix+"hide-offsets",n=function(w){var x=(w.$cache||w.getCache()).data,y=x[d];if(y===undefined){x[d]=y=""}return y},u=function(x){var y=(x.$cache||x.getCache()).data,w=y[e];if(w===undefined){y[e]=w=b.VISIBILITY}return w};b.override({originalDisplay:"",visibilityMode:1,setVisible:function(A,w){var y=this,z=y.dom,x=u(y);if(typeof w=="string"){switch(w){case h:x=b.DISPLAY;break;case l:x=b.VISIBILITY;break;case t:x=b.OFFSETS;break;case a:case m:x=b.ASCLASS;break}y.setVisibilityMode(x);w=false}if(!w||!y.anim){if(x==b.DISPLAY){return y.setDisplayed(A)}else{if(x==b.OFFSETS){y[A?"removeCls":"addCls"](o)}else{if(x==b.VISIBILITY){y.fixDisplay();z.style.visibility=A?"":g}else{if(x==b.ASCLASS){y[A?"removeCls":"addCls"](y.visibilityCls||b.visibilityCls)}}}}}else{if(A){y.setOpacity(0.01);y.setVisible(true)}if(!Ext.isObject(w)){w={duration:350,easing:"ease-in"}}y.animate(Ext.applyIf({callback:function(){if(!A){Ext.fly(z,"_internal").setVisible(false).setOpacity(1)}},to:{opacity:(A)?1:0}},w))}(y.$cache||y.getCache()).data[k]=A;return y},hasMetrics:function(){var w=u(this);return this.isVisible()||(w==b.OFFSETS)||(w==b.VISIBILITY)},toggle:function(w){var x=this;x.setVisible(!x.isVisible(),x.anim(w));return x},setDisplayed:function(w){if(typeof w=="boolean"){w=w?n(this):r}this.setStyle(h,w);return this},fixDisplay:function(){var w=this;if(w.isStyle(h,r)){w.setStyle(l,g);w.setStyle(h,n(w));if(w.isStyle(h,r)){w.setStyle(h,"block")}}},hide:function(w){if(typeof w=="string"){this.setVisible(false,w);return this}this.setVisible(false,this.anim(w));return this},show:function(w){if(typeof w=="string"){this.setVisible(true,w);return this}this.setVisible(true,this.anim(w));return this}})});Ext.define("Ext.dom.Element_position",{override:"Ext.dom.Element"},function(){var D,w=this,q="left",m="right",u="top",k="bottom",r="position",l="static",E="relative",A="z-index",z="BODY",d="padding",y="border",x="-left",o="-right",a="-top",n="-bottom",h="-width",g={l:y+x+h,r:y+o+h,t:y+a+h,b:y+n+h},e={l:d+x,r:d+o,t:d+a,b:d+n},B=[e.l,e.r,e.t,e.b],b=[g.l,g.r,g.t,g.b],C=Math.round,F=document,t=function(G){if(!D){D=new Ext.Element.Fly()}D.attach(G);return D};w.override({pxRe:/^\d+(?:\.\d*)?px$/i,inheritableStatics:{getX:function(G){return w.getXY(G)[0]},getXY:function(J){var O=F.body,I=F.documentElement,G=0,K=0,P=[0,0],N,S;J=Ext.getDom(J);if(J!=F&&J!=O){if(Ext.isIE){try{N=J.getBoundingClientRect();K=I.clientTop||O.clientTop;G=I.clientLeft||O.clientLeft}catch(R){N={left:0,top:0}}}else{N=J.getBoundingClientRect()}S=t(F).getScroll();P=[C(N.left+S.left-G),C(N.top+S.top-K)]}return P},getY:function(G){return w.getXY(G)[1]},setX:function(I,G){w.setXY(I,[G,false])},setXY:function(I,J){(I=Ext.fly(I,"_setXY")).position();var K=I.translatePoints(J),G=I.dom.style,N;G.right="auto";for(N in K){if(!isNaN(K[N])){G[N]=K[N]+"px"}}},setY:function(G,I){w.setXY(G,[false,I])}},center:function(G){return this.alignTo(G||F,"c-c")},clearPositioning:function(G){G=G||"";return this.setStyle({left:G,right:G,top:G,bottom:G,"z-index":"",position:l})},getAnchorToXY:function(K,G,J,I){return K.getAnchorXY(G,J,I)},getBottom:function(G){return(G?this.getLocalY():this.getY())+this.getHeight()},getBorderPadding:function(){var G=this.getStyle(B),I=this.getStyle(b);return{beforeX:(parseFloat(I[g.l])||0)+(parseFloat(G[e.l])||0),afterX:(parseFloat(I[g.r])||0)+(parseFloat(G[e.r])||0),beforeY:(parseFloat(I[g.t])||0)+(parseFloat(G[e.t])||0),afterY:(parseFloat(I[g.b])||0)+(parseFloat(G[e.b])||0)}},getCenterXY:function(){return this.getAlignToXY(F,"c-c")},getLeft:function(G){return G?this.getLocalX():this.getX()},getLocalX:function(){var J=this,I=J.dom.offsetParent,G=J.getStyle("left");if(!G||G==="auto"){G=0}else{if(J.pxRe.test(G)){G=parseFloat(G)}else{G=J.getX();if(I){G-=w.getX(I)}}}return G},getLocalXY:function(){var K=this,J=K.dom.offsetParent,I=K.getStyle(["left","top"]),G=I.left,N=I.top;if(!G||G==="auto"){G=0}else{if(K.pxRe.test(G)){G=parseFloat(G)}else{G=K.getX();if(J){G-=w.getX(J)}}}if(!N||N==="auto"){N=0}else{if(K.pxRe.test(N)){N=parseFloat(N)}else{N=K.getY();if(J){N-=w.getY(J)}}}return[G,N]},getLocalY:function(){var I=this,G=I.dom.offsetParent,J=I.getStyle("top");if(!J||J==="auto"){J=0}else{if(I.pxRe.test(J)){J=parseFloat(J)}else{J=I.getY();if(G){J-=w.getY(G)}}}return J},getPageBox:function(J){var O=this,K=O.dom,R=K.nodeName==z,S=R?Ext.Element.getViewWidth():K.offsetWidth,N=R?Ext.Element.getViewHeight():K.offsetHeight,U=O.getXY(),T=U[1],G=U[0]+S,P=U[1]+N,I=U[0];if(J){return new Ext.util.Region(T,G,P,I)}else{return{left:I,top:T,width:S,height:N,right:G,bottom:P}}},getPositioning:function(I){var G=this.getStyle(["left","top","position","z-index"]),J=this.dom;if(I){if(G.left==="auto"){G.left=J.offsetLeft+"px"}if(G.top==="auto"){G.top=J.offsetTop+"px"}}return G},getRight:function(G){return(G?this.getLocalX():this.getX())+this.getWidth()},getTop:function(G){return G?this.getLocalY():this.getY()},getX:function(){return w.getX(this.dom)},getXY:function(){return w.getXY(this.dom)},getY:function(){return w.getY(this.dom)},moveTo:function(G,J,I){return this.setXY([G,J],I)},position:function(N,K,G,J){var I=this;if(!N&&I.isStyle(r,l)){I.setStyle(r,E)}else{if(N){I.setStyle(r,N)}}if(K){I.setStyle(A,K)}if(G||J){I.setXY([G||false,J||false])}},setBottom:function(G){this.dom.style[k]=this.addUnits(G);return this},setBounds:function(I,N,K,G,J){return this.setBox({x:I,y:N,width:K,height:G},J)},setLeft:function(G){this.dom.style[q]=this.addUnits(G);return this},setLeftTop:function(K,J){var I=this,G=I.dom.style;G.left=I.addUnits(K);G.top=I.addUnits(J);return I},setLocalX:function(G){var I=this.dom.style;I.right="auto";I.left=(G===null)?"auto":G+"px"},setLocalXY:function(G,J){var I=this.dom.style;I.right="auto";if(G&&G.length){J=G[1];G=G[0]}if(G===null){I.left="auto"}else{if(G!==undefined){I.left=G+"px"}}if(J===null){I.top="auto"}else{if(J!==undefined){I.top=J+"px"}}},setLocalY:function(G){this.dom.style.top=(G===null)?"auto":G+"px"},setLocation:function(G,J,I){return this.setXY([G,J],I)},setPositioning:function(G){return this.setStyle(G)},setRight:function(G){this.dom.style[m]=this.addUnits(G);return this},setTop:function(G){this.dom.style[u]=this.addUnits(G);return this},setX:function(G,I){return this.setXY([G,this.getY()],I)},setXY:function(J,G){var I=this;if(!G||!I.anim){w.setXY(I.dom,J)}else{if(!Ext.isObject(G)){G={}}I.animate(Ext.applyIf({to:{x:J[0],y:J[1]}},G))}return this},setY:function(I,G){return this.setXY([this.getX(),I],G)}});w.getTrueXY=w.getXY});Ext.define("Ext.dom.Element_scroll",{override:"Ext.dom.Element",isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},getScroll:function(){var d=this,k=d.dom,h=document,a=h.body,b=h.documentElement,g,e;if(k===h||k===a){g=b.scrollLeft||(a?a.scrollLeft:0);e=b.scrollTop||(a?a.scrollTop:0)}else{g=k.scrollLeft;e=k.scrollTop}return{left:g,top:e}},getScrollLeft:function(){var b=this.dom,a=document;if(b===a||b===a.body){return this.getScroll().left}else{return b.scrollLeft}},getScrollTop:function(){var b=this.dom,a=document;if(b===a||b===a.body){return this.getScroll().top}else{return b.scrollTop}},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},scrollBy:function(b,a,d){var e=this,g=e.dom;if(b.length){d=a;a=b[1];b=b[0]}else{if(typeof b!="number"){d=a;a=b.y;b=b.x}}if(b){e.scrollTo("left",e.constrainScrollLeft(g.scrollLeft+b),d)}if(a){e.scrollTo("top",e.constrainScrollTop(g.scrollTop+a),d)}return e},scrollTo:function(d,g,a){var h=/top/i.test(d),e=this,l=h?"scrollTop":"scrollLeft",k=e.dom,b;if(!a||!e.anim){k[l]=g;k[l]=g}else{b={to:{}};b.to[l]=g;if(Ext.isObject(a)){Ext.applyIf(b,a)}e.animate(b)}return e},scrollIntoView:function(b,g,d,k){var q=this,n=q.dom,l=q.getOffsetsTo(b=Ext.getDom(b)||Ext.getBody().dom),h=l[0]+b.scrollLeft,r=l[1]+b.scrollTop,a=r+n.offsetHeight,t=h+n.offsetWidth,x=b.clientHeight,w=parseInt(b.scrollTop,10),e=parseInt(b.scrollLeft,10),m=w+x,u=e+b.clientWidth,o;if(k){if(d){d=Ext.apply({listeners:{afteranimate:function(){q.scrollChildFly.attach(n).highlight()}}},d)}else{q.scrollChildFly.attach(n).highlight()}}if(n.offsetHeight>x||r<w){o=r}else{if(a>m){o=a-x}}if(o!=null){q.scrollChildFly.attach(b).scrollTo("top",o,d)}if(g!==false){o=null;if(n.offsetWidth>b.clientWidth||h<e){o=h}else{if(t>u){o=t-b.clientWidth}}if(o!=null){q.scrollChildFly.attach(b).scrollTo("left",o,d)}}return q},scrollChildIntoView:function(b,a){this.scrollChildFly.attach(Ext.getDom(b)).scrollIntoView(this,a)},scroll:function(m,a,d){if(!this.isScrollable()){return false}var l=this,g=l.dom,k=m==="r"||m==="l"?"left":"top",b=false,e,h;if(m==="r"){a=-a}if(k==="left"){e=g.scrollLeft;h=l.constrainScrollLeft(e+a)}else{e=g.scrollTop;h=l.constrainScrollTop(e+a)}if(h!==e){this.scrollTo(k,h,d);b=true}return b},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)}},function(){this.prototype.scrollChildFly=new this.Fly();this.prototype.scrolltoFly=new this.Fly()});Ext.define("Ext.dom.Element_style",{override:"Ext.dom.Element"},function(){var x=this,r=document.defaultView,u=/table-row|table-.*-group/,a="_internal",z="hidden",w="height",l="width",g="isClipped",n="overflow",q="overflow-x",o="overflow-y",A="originalClip",b=/#document|body/i,B,h,t,e,y,m,C;if(!r||!r.getComputedStyle){x.prototype.getStyle=function(I,G){var X=this,S=X.dom,V=typeof I!="string",k=X.styleHooks,E=I,F=E,R=1,K=G,W,N,D,J,P,T,O;if(V){D={};E=F[0];O=0;if(!(R=F.length)){return D}}if(!S||S.documentElement){return D||""}N=S.style;if(G){T=N}else{T=S.currentStyle;if(!T){K=true;T=N}}do{J=k[E];if(!J){k[E]=J={name:x.normalize(E)}}if(J.get){P=J.get(S,X,K,T)}else{W=J.name;if(J.canThrow){try{P=T[W]}catch(U){P=""}}else{P=T?T[W]:""}}if(!V){return P}D[E]=P;E=F[++O]}while(O<R);return D}}x.override({getHeight:function(F,D){var E=this,G=E.isStyle("display","none"),k,I;if(G){return 0}k=E.dom.offsetHeight;if(Ext.supports.Direct2DBug){I=E.adjustDirect2DDimension(w);if(D){k+=I}else{if(I>0&&I<0.5){k++}}}if(F){k-=E.getBorderWidth("tb")+E.getPadding("tb")}return(k<0)?0:k},getWidth:function(k,I){var F=this,J=F.dom,G=F.isStyle("display","none"),E,D,K;if(G){return 0}if(I&&Ext.supports.BoundingClientRect){E=J.getBoundingClientRect();D=(F.vertical&&!Ext.isIE9&&!Ext.supports.RotatedBoundingClientRect)?(E.bottom-E.top):(E.right-E.left)}else{D=J.offsetWidth}if(Ext.supports.Direct2DBug&&!F.vertical){K=F.adjustDirect2DDimension(l);if(I){D+=K}else{if(K>0&&K<0.5){D++}}}if(k){D-=F.getBorderWidth("lr")+F.getPadding("lr")}return(D<0)?0:D},setWidth:function(D,k){var E=this;D=E.adjustWidth(D);if(!k||!E.anim){E.dom.style.width=E.addUnits(D)}else{if(!Ext.isObject(k)){k={}}E.animate(Ext.applyIf({to:{width:D}},k))}return E},setHeight:function(k,D){var E=this;k=E.adjustHeight(k);if(!D||!E.anim){E.dom.style.height=E.addUnits(k)}else{if(!Ext.isObject(D)){D={}}E.animate(Ext.applyIf({to:{height:k}},D))}return E},applyStyles:function(k){Ext.DomHelper.applyStyles(this.dom,k);return this},setSize:function(E,k,D){var F=this;if(Ext.isObject(E)){D=k;k=E.height;E=E.width}E=F.adjustWidth(E);k=F.adjustHeight(k);if(!D||!F.anim){F.dom.style.width=F.addUnits(E);F.dom.style.height=F.addUnits(k)}else{if(D===true){D={}}F.animate(Ext.applyIf({to:{width:E,height:k}},D))}return F},getViewSize:function(){var E=this,F=E.dom,D=b.test(F.nodeName),k;if(D){k={width:x.getViewWidth(),height:x.getViewHeight()}}else{k={width:F.clientWidth,height:F.clientHeight}}return k},getSize:function(k){return{width:this.getWidth(k),height:this.getHeight(k)}},adjustWidth:function(k){var D=this,E=(typeof k=="number");if(E&&D.autoBoxAdjust&&!D.isBorderBox()){k-=(D.getBorderWidth("lr")+D.getPadding("lr"))}return(E&&k<0)?0:k},adjustHeight:function(k){var D=this,E=(typeof k=="number");if(E&&D.autoBoxAdjust&&!D.isBorderBox()){k-=(D.getBorderWidth("tb")+D.getPadding("tb"))}return(E&&k<0)?0:k},getColor:function(D,E,K){var G=this.getStyle(D),F=K||K===""?K:"#",J,k,I=0;if(!G||(/transparent|inherit/.test(G))){return E}if(/^r/.test(G)){G=G.slice(4,G.length-1).split(",");k=G.length;for(;I<k;I++){J=parseInt(G[I],10);F+=(J<16?"0":"")+J.toString(16)}}else{G=G.replace("#","");F+=G.length==3?G.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):G}return(F.length>5?F.toLowerCase():E)},setOpacity:function(D,k){var E=this;if(!E.dom){return E}if(!k||!E.anim){E.setStyle("opacity",D)}else{if(typeof k!="object"){k={duration:350,easing:"ease-in"}}E.animate(Ext.applyIf({to:{opacity:D}},k))}return E},clearOpacity:function(){return this.setOpacity("")},adjustDirect2DDimension:function(E){var K=this,D=K.dom,I=K.getStyle("display"),G=D.style.display,N=D.style.position,J=E===l?0:1,k=D.currentStyle,F;if(I==="inline"){D.style.display="inline-block"}D.style.position=I.match(u)?"absolute":"static";F=(parseFloat(k[E])||parseFloat(k.msTransformOrigin.split(" ")[J])*2)%1;D.style.position=N;if(I==="inline"){D.style.display=G}return F},clip:function(){var D=this,E=(D.$cache||D.getCache()).data,k;if(!E[g]){E[g]=true;k=D.getStyle([n,q,o]);E[A]={o:k[n],x:k[q],y:k[o]};D.setStyle(n,z);D.setStyle(q,z);D.setStyle(o,z)}return D},unclip:function(){var D=this,E=(D.$cache||D.getCache()).data,k;if(E[g]){E[g]=false;k=E[A];if(k.o){D.setStyle(n,k.o)}if(k.x){D.setStyle(q,k.x)}if(k.y){D.setStyle(o,k.y)}}return D},boxWrap:function(k){k=k||Ext.baseCSSPrefix+"box";var D=Ext.get(this.insertHtml("beforeBegin","<div class='"+k+"'>"+Ext.String.format(x.boxMarkup,k)+"</div>"));Ext.DomQuery.selectNode("."+k+"-mc",D.dom).appendChild(this.dom);return D},getComputedHeight:function(){var D=this,k=Math.max(D.dom.offsetHeight,D.dom.clientHeight);if(!k){k=parseFloat(D.getStyle(w))||0;if(!D.isBorderBox()){k+=D.getFrameWidth("tb")}}return k},getComputedWidth:function(){var D=this,k=Math.max(D.dom.offsetWidth,D.dom.clientWidth);if(!k){k=parseFloat(D.getStyle(l))||0;if(!D.isBorderBox()){k+=D.getFrameWidth("lr")}}return k},getFrameWidth:function(D,k){return(k&&this.isBorderBox())?0:(this.getPadding(D)+this.getBorderWidth(D))},addClsOnOver:function(E,I,D){var F=this,G=F.dom,k=Ext.isFunction(I);F.hover(function(){if(k&&I.call(D||F,F)===false){return}Ext.fly(G,a).addCls(E)},function(){Ext.fly(G,a).removeCls(E)});return F},addClsOnFocus:function(E,I,D){var F=this,G=F.dom,k=Ext.isFunction(I);F.on("focus",function(){if(k&&I.call(D||F,F)===false){return false}Ext.fly(G,a).addCls(E)});F.on("blur",function(){Ext.fly(G,a).removeCls(E)});return F},addClsOnClick:function(E,I,D){var F=this,G=F.dom,k=Ext.isFunction(I);F.on("mousedown",function(){if(k&&I.call(D||F,F)===false){return false}Ext.fly(G,a).addCls(E);var K=Ext.getDoc(),J=function(){Ext.fly(G,a).removeCls(E);K.removeListener("mouseup",J)};K.on("mouseup",J)});return F},getStyleSize:function(){var G=this,I=this.dom,D=b.test(I.nodeName),F,k,E;if(D){return{width:x.getViewWidth(),height:x.getViewHeight()}}F=G.getStyle([w,l],true);if(F.width&&F.width!="auto"){k=parseFloat(F.width);if(G.isBorderBox()){k-=G.getFrameWidth("lr")}}if(F.height&&F.height!="auto"){E=parseFloat(F.height);if(G.isBorderBox()){E-=G.getFrameWidth("tb")}}return{width:k||G.getWidth(true),height:E||G.getHeight(true)}},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable"},selectable:function(){var k=this;k.dom.unselectable="";k.removeCls(x.unselectableCls);k.addCls(x.selectableCls);return k},unselectable:function(){var k=this;if(Ext.isOpera){k.dom.unselectable="on"}k.removeCls(x.selectableCls);k.addCls(x.unselectableCls);return k},setVertical:function(G,D){var F=this,E=x.prototype,k;F.vertical=true;if(D){F.addCls(F.verticalCls=D)}F.setWidth=E.setHeight;F.setHeight=E.setWidth;if(!Ext.isIE9m){F.getWidth=E.getHeight;F.getHeight=E.getWidth}F.styleHooks=(G===270)?x.prototype.verticalStyleHooks270:x.prototype.verticalStyleHooks90},setHorizontal:function(){var D=this,k=D.verticalCls;delete D.vertical;if(k){delete D.verticalCls;D.removeCls(k)}delete D.setWidth;delete D.setHeight;if(!Ext.isIE9m){delete D.getWidth;delete D.getHeight}delete D.styleHooks}});x.prototype.styleHooks=B=Ext.dom.AbstractElement.prototype.styleHooks;x.prototype.verticalStyleHooks90=h=Ext.Object.chain(x.prototype.styleHooks);x.prototype.verticalStyleHooks270=t=Ext.Object.chain(x.prototype.styleHooks);h.width={name:"height"};h.height={name:"width"};h["margin-top"]={name:"marginLeft"};h["margin-right"]={name:"marginTop"};h["margin-bottom"]={name:"marginRight"};h["margin-left"]={name:"marginBottom"};h["padding-top"]={name:"paddingLeft"};h["padding-right"]={name:"paddingTop"};h["padding-bottom"]={name:"paddingRight"};h["padding-left"]={name:"paddingBottom"};h["border-top"]={name:"borderLeft"};h["border-right"]={name:"borderTop"};h["border-bottom"]={name:"borderRight"};h["border-left"]={name:"borderBottom"};t.width={name:"height"};t.height={name:"width"};t["margin-top"]={name:"marginRight"};t["margin-right"]={name:"marginBottom"};t["margin-bottom"]={name:"marginLeft"};t["margin-left"]={name:"marginTop"};t["padding-top"]={name:"paddingRight"};t["padding-right"]={name:"paddingBottom"};t["padding-bottom"]={name:"paddingLeft"};t["padding-left"]={name:"paddingTop"};t["border-top"]={name:"borderRight"};t["border-right"]={name:"borderBottom"};t["border-bottom"]={name:"borderLeft"};t["border-left"]={name:"borderTop"};if(Ext.isIE7m){B.fontSize=B["font-size"]={name:"fontSize",canThrow:true};B.fontStyle=B["font-style"]={name:"fontStyle",canThrow:true};B.fontFamily=B["font-family"]={name:"fontFamily",canThrow:true}}if(Ext.isIEQuirks||Ext.isIE&&Ext.ieVersion<=8){function d(F,D,E,k){if(k[this.styleName]=="none"){return"0px"}return k[this.name]}e=["Top","Right","Bottom","Left"];y=e.length;while(y--){m=e[y];C="border"+m+"Width";B["border-"+m.toLowerCase()+"-width"]=B[C]={name:C,styleName:"border"+m+"Style",get:d}}}Ext.getDoc().on("selectstart",function(G,J){var I=document.documentElement,F=x.selectableCls,E=x.unselectableCls,k=J&&J.tagName;k=k&&k.toLowerCase();if(k==="input"||k==="textarea"){return}while(J&&J.nodeType===1&&J!==I){var D=Ext.fly(J);if(D.hasCls(F)){return}if(D.hasCls(E)){G.stopEvent();return}J=J.parentNode}})});Ext.onReady(function(){var d=/alpha\(opacity=(.*)\)/i,b=/^\s+|\s+$/g,a=Ext.dom.Element.prototype.styleHooks;a.opacity={name:"opacity",afterSet:function(h,g,e){if(e.isLayer){e.onOpacitySet(g)}}};if(!Ext.supports.Opacity&&Ext.isIE){Ext.apply(a.opacity,{get:function(k){var h=k.style.filter,g,e;if(h.match){g=h.match(d);if(g){e=parseFloat(g[1]);if(!isNaN(e)){return e?e/100:0}}}return 1},set:function(k,g){var e=k.style,h=e.filter.replace(d,"").replace(b,"");e.zoom=1;if(typeof(g)=="number"&&g>=0&&g<1){g*=100;e.filter=h+(h.length?" ":"")+"alpha(opacity="+g+")"}else{e.filter=h}}})}});(Ext.cmd.derive("Ext.util.Positionable",Ext.Base,{_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(d,b){var a=this.getConstrainVector(b,d);if(a){d[0]+=a[0];d[1]+=a[1]}return d},alignTo:function(d,a,h,b){var g=this,e=g.el;return g.setXY(g.getAlignToXY(d,a,h),e.anim&&!!b?e.anim(b):false)},anchorTo:function(k,g,b,a,m,n){var h=this,l=!Ext.isEmpty(m),d=function(){h.alignTo(k,g,b,a);Ext.callback(n,h)},e=h.getAnchor();h.removeAnchor();Ext.apply(e,{fn:d,scroll:l});Ext.EventManager.onWindowResize(d,null);if(l){Ext.EventManager.on(window,"scroll",d,null,{buffer:!isNaN(m)?m:50})}d();return h},calculateAnchorXY:function(h,l,k,e){var m=this,d=m.el,n=document,g=d.dom==n.body||d.dom==n,o=Math.round,q,b,a;h=(h||"tl").toLowerCase();e=e||{};b=e.width||g?Ext.Element.getViewWidth():m.getWidth();a=e.height||g?Ext.Element.getViewHeight():m.getHeight();switch(h){case"tl":q=[0,0];break;case"bl":q=[0,a];break;case"tr":q=[b,0];break;case"c":q=[o(b*0.5),o(a*0.5)];break;case"t":q=[o(b*0.5),0];break;case"l":q=[0,o(a*0.5)];break;case"r":q=[b,o(a*0.5)];break;case"b":q=[o(b*0.5),a];break;case"tc":q=[o(b*0.5),0];break;case"bc":q=[o(b*0.5),a];break;case"br":q=[b,a]}return[q[0]+l,q[1]+k]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(m,J,g){var K=this,G=Ext.Element.getViewWidth()-10,e=Ext.Element.getViewHeight()-10,N=document,I=N.documentElement,t=N.body,F=(I.scrollLeft||t.scrollLeft||0),D=(I.scrollTop||t.scrollTop||0),a,k,A,h,B,C,w,z,E,u,r,b,d,l,o,q,n;m=Ext.get(m.el||m);if(!m||!m.dom){}g=g||[0,0];J=(!J||J=="?"?"tl-bl?":(!(/-/).test(J)&&J!==""?"tl-"+J:J||"tl-bl")).toLowerCase();J=K.convertPositionSpec(J);a=J.match(K._alignRe);u=a[1];r=a[2];E=!!a[3];k=K.getAnchorXY(u,true);A=K.getAnchorToXY(m,r,false);q=A[0]-k[0]+g[0];n=A[1]-k[1]+g[1];if(E){h=K.getWidth();B=K.getHeight();C=m.getRegion();b=u.charAt(0);d=u.charAt(u.length-1);l=r.charAt(0);o=r.charAt(r.length-1);w=((b=="t"&&l=="b")||(b=="b"&&l=="t"));z=((d=="r"&&o=="l")||(d=="l"&&o=="r"));if(q+h>G+F){q=z?C.left-h:G+F-h}if(q<F){q=z?C.right:F}if(n+B>e+D){n=w?C.top-B:e+D-B}if(n<D){n=w?C.bottom:D}}return[q,n]},getAnchor:function(){var b=this.el,d=(b.$cache||b.getCache()).data,a;if(!b.dom){return}a=d._anchor;if(!a){a=d._anchor={}}return a},getAnchorXY:function(e,l,b){var k=this,m=k.getXY(),a=k.el,o=document,d=a.dom==o.body||a.dom==o,n=a.getScroll(),h=d?n.left:l?0:m[0],g=d?n.top:l?0:m[1];return k.calculateAnchorXY(e,h,g,b)},getBox:function(e,l){var g=this,q=l?g.getLocalXY():g.getXY(),m=q[0],k=q[1],n=g.getWidth(),b=g.getHeight(),d,a,o;if(e){d=g.getBorderPadding();a=d.beforeX;o=d.beforeY;m+=a;k+=o;n-=(a+d.afterX);b-=(o+d.afterY)}return{x:m,left:m,0:m,y:k,top:k,1:k,width:n,height:b,right:m+n,bottom:k+b}},calculateConstrainedPosition:function(k,b,o,e){var n=this,d,l=n.floatParent,g=l?l.getTargetEl():null,a,h,m,q=false;if(o&&l){a=g.getXY();h=g.getBorderPadding();a[0]+=h.beforeX;a[1]+=h.beforeY;if(b){m=[b[0]+a[0],b[1]+a[1]]}}else{m=b}k=k||n.constrainTo||g||n.container||n.el.parent();d=(n.constrainHeader?n.header:n).getConstrainVector(k,m,e);if(d){q=b||n.getPosition(o);q[0]+=d[0];q[1]+=d[1]}return q},getConstrainVector:function(g,d,a){var l=this.getRegion(),b=[0,0],h=(this.shadow&&this.constrainShadow&&!this.shadowDisabled)?this.shadow.getShadowSize():undefined,e=false,k=this.constraintInsets;if(!(g instanceof Ext.util.Region)){g=Ext.get(g.el||g).getViewRegion()}if(k){k=Ext.isObject(k)?k:Ext.Element.parseBox(k);g.adjust(k.top,k.right,k.bottom,k.length)}if(d){l.translateBy(d[0]-l.x,d[1]-l.y)}if(a){l.right=l.left+a[0];l.bottom=l.top+a[1]}if(h){g.adjust(h[0],-h[1],-h[2],h[3])}if(l.right>g.right){e=true;b[0]=(g.right-l.right)}if(l.left+b[0]<g.left){e=true;b[0]=(g.left-l.left)}if(l.bottom>g.bottom){e=true;b[1]=(g.bottom-l.bottom)}if(l.top+b[1]<g.top){e=true;b[1]=(g.top-l.top)}return e?b:false},getOffsetsTo:function(a){var d=this.getXY(),b=Ext.fly(a.el||a,"_internal").getXY();return[d[0]-b[0],d[1]-b[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var h=this,d=h.el,a=d.dom.nodeName==="BODY",g,m,k,l,e,b,n;if(a){m=d.getScroll();e=m.left;l=m.top;b=Ext.dom.AbstractElement.getViewportWidth();n=Ext.dom.AbstractElement.getViewportHeight()}else{g=h.getBorderPadding();k=h.getXY();e=k[0]+g.beforeX;l=k[1]+g.beforeY;b=h.getWidth(true);n=h.getHeight(true)}return new Ext.util.Region(l,e+b,l+n,e)},move:function(m,b,d){var h=this,q=h.getXY(),n=q[0],l=q[1],e=[n-b,l],o=[n+b,l],k=[n,l-b],a=[n,l+b],g={l:e,left:e,r:o,right:o,t:k,top:k,up:k,b:a,bottom:a,down:a};m=m.toLowerCase();h.setXY([g[m][0],g[m][1]],d)},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return this},setBox:function(g,a){var k=this,b=k.el,m=g.x,l=g.y,q=[m,l],n=g.width,e=g.height,d=(k.constrain||k.constrainHeader),o=d&&k.calculateConstrainedPosition(null,[m,l],false,[n,e]);if(o){m=o[0];l=o[1]}if(!a||!b.anim){k.setSize(n,e);k.setXY([m,l]);k.afterSetPosition(m,l)}else{k.animate(Ext.applyIf({to:{x:m,y:l,width:b.adjustWidth(n),height:b.adjustHeight(e)},listeners:{afteranimate:Ext.Function.bind(k.afterSetPosition,k,[m,l])}},a))}return k},setRegion:function(b,a){return this.setBox({x:b.left,y:b.top,width:b.right-b.left,height:b.bottom-b.top},a)},translatePoints:function(a,d){var b=this.translateXY(a,d);return{left:b.x,top:b.y}},translateXY:function(k,g){var e=this,b=e.el,l=b.getStyle(e._positionTopLeft),a=l.position=="relative",d=parseFloat(l.left),h=parseFloat(l.top),m=e.getXY();if(Ext.isArray(k)){g=k[1];k=k[0]}if(isNaN(d)){d=a?0:b.dom.offsetLeft}if(isNaN(h)){h=a?0:b.dom.offsetTop}d=(typeof k=="number")?k-m[0]+d:undefined;h=(typeof g=="number")?g-m[1]+h:undefined;return{x:d,y:h}}},0,0,0,0,0,0,[Ext.util,"Positionable"],0));(Ext.cmd.derive("Ext.dom.Element",Ext.dom.AbstractElement,function(a){var b="hidden",h=document,m="visibility",d="display",n="none",g=Ext.baseCSSPrefix+"masked",o=Ext.baseCSSPrefix+"masked-relative",l=Ext.baseCSSPrefix+"mask-msg",q=/^body/i,k,e=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1},r=function(y){var x=[],t=-1,w,u;for(w=0;u=y[w];w++){if(u.scrollTop>0||u.scrollLeft>0){x[++t]=u}}return x};return{alternateClassName:["Ext.Element","Ext.core.Element"],tableTagRe:/^(?:tr|td|table|tbody)$/i,addUnits:function(){return a.addUnits.apply(a,arguments)},focus:function(x,w){var t=this;w=w||t.dom;try{if(Number(x)){Ext.defer(t.focus,x,t,[null,w])}else{w.focus()}}catch(u){}return t},blur:function(){var t=this,w=t.dom;if(w!==document.body){try{w.blur()}catch(u){}return t}else{return t.focus(undefined,w)}},isBorderBox:function(){var t=Ext.isBorderBox;if(t&&Ext.isIE7m){t=!((this.dom.tagName||"").toLowerCase() in e)}return t},hover:function(u,t,x,w){var y=this;y.on("mouseenter",u,x||y.dom,w);y.on("mouseleave",t,x||y.dom,w);return y},getAttributeNS:function(u,t){return this.getAttribute(t,u)},getAttribute:(Ext.isIE&&!(Ext.isIE9p&&h.documentMode>=9))?function(t,w){var x=this.dom,u;if(w){u=typeof x[w+":"+t];if(u!="undefined"&&u!="unknown"){return x[w+":"+t]||null}return null}if(t==="for"){t="htmlFor"}return x[t]||null}:function(t,u){var w=this.dom;if(u){return w.getAttributeNS(u,t)||w.getAttribute(u+":"+t)}return w.getAttribute(t)||w[t]||null},cacheScrollValues:function(){var y=this,x,w,u,z=[],t=function(){for(u=0;u<x.length;u++){w=x[u];w.scrollLeft=z[u][0];w.scrollTop=z[u][1]}};if(!Ext.DomQuery.pseudos.isScrolled){Ext.DomQuery.pseudos.isScrolled=r}x=y.query(":isScrolled");for(u=0;u<x.length;u++){w=x[u];z[u]=[w.scrollLeft,w.scrollTop]}return t},autoBoxAdjust:true,isVisible:function(t){var w=this,x=w.dom,u=x.ownerDocument.documentElement;if(!k){k=new a.Fly()}while(x!==u){if(!x||x.nodeType===11||(k.attach(x)).isStyle(m,b)||k.isStyle(d,n)){return false}if(!t){break}x=x.parentNode}return true},isDisplayed:function(){return !this.isStyle(d,n)},enableDisplayMode:function(u){var t=this;t.setVisibilityMode(a.DISPLAY);if(!Ext.isEmpty(u)){(t.$cache||t.getCache()).data.originalDisplay=u}return t},mask:function(t,E,B){var G=this,x=G.dom,y=x.style.setExpression,A=(G.$cache||G.getCache()).data,w=A.maskShimEl,D=A.maskEl,u=A.maskMsg,z,C;if(!(q.test(x.tagName)&&G.getStyle("position")=="static")){G.addCls(o)}if(D){D.remove()}if(u){u.remove()}if(w){w.remove()}if(Ext.isIE6){w=Ext.DomHelper.append(x,{tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"},true);A.maskShimEl=w;w.setDisplayed(true)}Ext.DomHelper.append(x,[{cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{cls:E?l+" "+E:l,cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",cls:Ext.baseCSSPrefix+"mask-msg-text",html:t||""}}}]);u=Ext.get(x.lastChild);D=Ext.get(u.dom.previousSibling);A.maskMsg=u;A.maskEl=D;G.addCls(g);D.setDisplayed(true);if(typeof t=="string"){u.setDisplayed(true);u.center(G)}else{u.setDisplayed(false)}if(!Ext.supports.IncludePaddingInWidthCalculation&&y){try{D.dom.style.setExpression("width",'this.parentNode.clientWidth + "px"');z='this.parentNode.clientWidth + "px"';if(w){w.dom.style.setExpression("width",z)}D.dom.style.setExpression("width",z)}catch(F){}}if(!Ext.supports.IncludePaddingInHeightCalculation&&y){try{C="this.parentNode."+(x==h.body?"scrollHeight":"offsetHeight")+' + "px"';if(w){w.dom.style.setExpression("height",C)}D.dom.style.setExpression("height",C)}catch(F){}}else{if(Ext.isIE9m&&!(Ext.isIE7&&Ext.isStrict)&&G.getStyle("height")=="auto"){if(w){w.setSize(undefined,B||G.getHeight())}D.setSize(undefined,B||G.getHeight())}}return D},unmask:function(){var y=this,z=(y.$cache||y.getCache()).data,x=z.maskEl,u=z.maskShimEl,t=z.maskMsg,w;if(x){w=x.dom.style;if(w.clearExpression){w.clearExpression("width");w.clearExpression("height")}if(x){x.remove();delete z.maskEl}if(t){t.remove();delete z.maskMsg}y.removeCls([g,o]);if(u){w=u.dom.style;if(w.clearExpression){w.clearExpression("width");w.clearExpression("height")}u.remove();delete z.maskShimEl}}},isMasked:function(){var w=this,y=(w.$cache||w.getCache()).data,u=y.maskEl,t=y.maskMsg,x=false;if(u&&u.isVisible()){if(t){t.center(w)}x=true}return x},createShim:function(){var t=h.createElement("iframe"),u;t.frameBorder="0";t.className=Ext.baseCSSPrefix+"shim";t.src=Ext.SSL_SECURE_URL;u=Ext.get(this.dom.parentNode.insertBefore(t,this.dom));u.autoBoxAdjust=false;return u},addKeyListener:function(u,x,w){var t;if(typeof u!="object"||Ext.isArray(u)){t={target:this,key:u,fn:x,scope:w}}else{t={target:this,key:u.key,shift:u.shift,ctrl:u.ctrl,alt:u.alt,fn:x,scope:w}}return new Ext.util.KeyMap(t)},addKeyMap:function(t){return new Ext.util.KeyMap(Ext.apply({target:this},t))},on:function(t,x,w,u){Ext.EventManager.on(this,t,x,w||this,u);return this},un:function(t,w,u){Ext.EventManager.un(this,t,w,u||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this);return this},select:function(t){return a.select(t,false,this.dom)}}},0,0,0,0,0,[[Ext.util.Positionable.prototype.mixinId||Ext.util.Positionable.$className,Ext.util.Positionable]],[Ext.dom,"Element",Ext,"Element",Ext.core,"Element"],function(){var DOC=document,EC=Ext.cache,Element=this,AbstractElement=Ext.dom.AbstractElement,focusRe=/^a|button|embed|iframe|input|object|select|textarea$/i,nonSpaceRe=/\S/,scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,useDocForId=!Ext.isIE8m,internalFly;Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';function garbageCollect(){if(!Ext.enableGarbageCollector){clearInterval(Element.collectorThreadId)}else{var eid,d,o,t;for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}o=EC[eid];if(o.skipGarbageCollection){continue}d=o.dom;if(d&&(!d.parentNode||(!d.offsetParent&&!Ext.getElementById(eid)))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(d)}delete EC[eid]}}if(Ext.isIE){t={};for(eid in EC){if(!EC.hasOwnProperty(eid)){continue}t[eid]=EC[eid]}EC=Ext.cache=t}}}Element.collectorThreadId=setInterval(garbageCollect,30000);Element.addMethods({monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){timer=setTimeout(Ext.Function.bind(handler,scope||me,[e]),delay)},mouseenter:function(){clearTimeout(timer)},freezeEvent:true};me.on(listeners);return listeners},swallowEvent:function(eventName,preventDefault){var me=this,e,eLen,fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){eLen=eventName.length;for(e=0;e<eLen;e++){me.on(eventName[e],fn)}return me}me.on(eventName,fn);return me},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e)})},clean:function(forceReclean){var me=this,dom=me.dom,data=(me.$cache||me.getCache()).data,n=dom.firstChild,ni=-1,nx;if(data.isCleaned&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType==3){if(!(nonSpaceRe.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType==3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{internalFly.attach(n).clean();n.nodeIndex=++ni}n=nx}data.isCleaned=true;return me},load:function(options){this.getLoader().load(options);return this},getLoader:function(){var me=this,data=(me.$cache||me.getCache()).data,loader=data.loader;if(!loader){data.loader=loader=new Ext.ElementLoader({target:me})}return loader},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,destNode,sourceNode,nodeType,newAttrs,attLen,attName;if(Ext.isIE9m&&dest.mergeAttributes){dest.mergeAttributes(source,true);dest.src=source.src}else{newAttrs=source.attributes;attLen=newAttrs.length;for(i=0;i<attLen;i++){attName=newAttrs[i].name;if(attName!=="id"){dest.setAttribute(attName,newAttrs[i].value)}}}if(sourceLen!==destLen){dest.innerHTML=source.innerHTML;return}for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destNode=destNodes[i];nodeType=sourceNode.nodeType;if(nodeType!==destNode.nodeType||(nodeType===1&&sourceNode.tagName!==destNode.tagName)){dest.innerHTML=source.innerHTML;return}if(nodeType===3){destNode.data=sourceNode.data}else{if(sourceNode.id&&destNode.id!==sourceNode.id){destNode.id=sourceNode.id}destNode.style.cssText=sourceNode.style.cssText;destNode.className=sourceNode.className;internalFly.attach(destNode).syncContent(sourceNode)}}},update:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'"></span>';interval=setInterval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id))){return false}clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while((match=scriptTagRe.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(config,renderTo,matchBox){config=(typeof config=="object")?config:{tag:"div",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},needsTabIndex:function(){if(this.dom){if((this.dom.nodeName==="a")&&(!this.dom.href)){return true}return !focusRe.test(this.dom.nodeName)}},isFocusable:function(asFocusEl){var dom=this.dom,tabIndexAttr=dom.getAttributeNode("tabIndex"),tabIndex,nodeName=dom.nodeName,canFocus=false;if(tabIndexAttr&&tabIndexAttr.specified){tabIndex=tabIndexAttr.value}if(dom&&!dom.disabled){if(tabIndex==-1){canFocus=Ext.FocusManager&&Ext.FocusManager.enabled&&asFocusEl}else{if(focusRe.test(nodeName)){if((nodeName!=="a")||dom.href){canFocus=true}}else{canFocus=tabIndex!=null&&tabIndex>=0}}canFocus=canFocus&&this.isVisible(true)}return canFocus}});if(Ext.isIE){Element.prototype.getById=function(id,asDom){var dom=this.dom,cacheItem,el,ret;if(dom){el=(useDocForId&&DOC.getElementById(id))||dom.all[id];if(el){if(asDom){ret=el}else{cacheItem=EC[id];if(cacheItem&&cacheItem.el){ret=Ext.updateCacheEntry(cacheItem,el).el}else{ret=new Element(el)}}return ret}}return asDom?Ext.getDom(id):Element.get(id)}}Element.createAlias({addListener:"on",removeListener:"un",clearListeners:"removeAllListeners",focusable:"isFocusable"});Element.Fly=AbstractElement.Fly=new Ext.Class({extend:Element,isFly:true,constructor:function(dom){this.dom=dom;this.el=this},attach:AbstractElement.Fly.prototype.attach});internalFly=new Element.Fly();if(Ext.isIE){Ext.getElementById=function(id){var el=DOC.getElementById(id),detachedBodyEl;if(!el&&(detachedBodyEl=AbstractElement.detachedBodyEl)){el=detachedBodyEl.dom.all[id]}return el}}else{if(!DOC.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(id){return DOC.getElementById(id)}}}}));(Ext.cmd.derive("Ext.dom.CompositeElementLite",Ext.Base,{alternateClassName:"Ext.CompositeElementLite",statics:{importElementMethods:function(){var b,d=Ext.dom.Element.prototype,a=this.prototype;for(b in d){if(typeof d[b]=="function"){(function(e){a[e]=a[e]||function(){return this.invoke(e,arguments)}}).call(a,b)}}}},constructor:function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.dom.AbstractElement.Fly()},isComposite:true,getElement:function(a){return this.el.attach(a)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(d,a){var g=this.elements,b,e;if(!d){return this}if(typeof d=="string"){d=Ext.dom.Element.selectorFunction(d,a)}else{if(d.isComposite){d=d.elements}else{if(!Ext.isIterable(d)){d=[d]}}}for(b=0,e=d.length;b<e;++b){g.push(this.transformElement(d[b]))}return this},invoke:function(e,a){var h=this.elements,g=h.length,d,b;e=Ext.dom.Element.prototype[e];for(b=0;b<g;b++){d=h[b];if(d){e.apply(this.getElement(d),a)}}return this},item:function(b){var d=this.elements[b],a=null;if(d){a=this.getElement(d)}return a},slice:function(){return this.elements.slice.apply(this.elements,arguments)},addListener:function(b,l,k,h){var g=this.elements,a=g.length,d,m;for(d=0;d<a;d++){m=g[d];if(m){Ext.EventManager.on(m,b,l,k||m,h)}}return this},each:function(h,g){var k=this,d=k.elements,a=d.length,b,l;for(b=0;b<a;b++){l=d[b];if(l){l=this.getElement(l);if(h.call(g||l,l,k,b)===false){break}}}return k},fill:function(a){var b=this;b.elements=[];b.add(a);return b},insert:function(b,a){Ext.Array.insert(this.elements,b,a)},filter:function(b){var k=this,d=k.elements,h=d.length,e=[],g=0,l=typeof b=="function",m,a;for(;g<h;g++){a=d[g];m=false;if(a){a=k.getElement(a);if(l){m=b.call(a,a,k,g)!==false}else{m=a.is(b)}if(m){e.push(k.transformElement(a))}}}k.elements=e;return k},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(g,e,a){var b=!isNaN(g)?g:this.indexOf(g),h;if(b>-1){e=Ext.getDom(e);if(a){h=this.elements[b];h.parentNode.insertBefore(e,h);Ext.removeNode(h)}Ext.Array.splice(this.elements,b,1,e)}return this},clear:function(e){var d=this,b=d.elements,a=b.length-1;if(e){for(;a>=0;a--){Ext.removeNode(b[a])}}this.elements=[]},addElements:function(g,b){if(!g){return this}if(typeof g=="string"){g=Ext.dom.Element.selectorFunction(g,b)}var d=this.elements,a=g.length,h;for(h=0;h<a;h++){d.push(Ext.get(g[h]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(g,m){g=[].concat(g);var e=this,h=e.elements,d=g.length,l,b,a;for(a=0;a<d;a++){l=g[a];if((b=(h[l]||h[l=e.indexOf(l)]))){if(m){if(b.dom){b.remove()}else{Ext.removeNode(b)}}Ext.Array.erase(h,l,1)}}return e}},1,0,0,0,0,0,[Ext.dom,"CompositeElementLite",Ext,"CompositeElementLite"],function(){this.importElementMethods();this.prototype.on=this.prototype.addListener;if(Ext.DomQuery){Ext.dom.Element.selectorFunction=Ext.DomQuery.select}Ext.dom.Element.select=function(a,b){var d;if(typeof a=="string"){d=Ext.dom.Element.selectorFunction(a,b)}else{if(a.length!==undefined){d=a}else{}}return new Ext.CompositeElementLite(d)};Ext.select=function(){return Ext.dom.Element.select.apply(Ext.dom.Element,arguments)}}));(Ext.cmd.derive("Ext.dom.CompositeElement",Ext.dom.CompositeElementLite,{alternateClassName:"Ext.CompositeElement",getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}},0,0,0,0,0,0,[Ext.dom,"CompositeElement",Ext,"CompositeElement"],function(){Ext.dom.Element.select=function(a,e,b){var d;if(typeof a=="string"){d=Ext.dom.Element.selectorFunction(a,b)}else{if(a.length!==undefined){d=a}else{}}return(e===true)?new Ext.CompositeElement(d):new Ext.CompositeElementLite(d)}}));Ext.select=Ext.Element.select;(Ext.cmd.derive("Ext.util.HashMap",Ext.Base,{generation:0,constructor:function(a){a=a||{};var d=this,b=a.keyFn;d.initialConfig=a;d.addEvents("add","clear","remove","replace");d.mixins.observable.constructor.call(d,a);d.clear(true);if(b){d.getKey=b}},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,d){var b=this;if(arguments.length===1){d=a;a=b.getKey(d)}if(b.containsKey(a)){return b.replace(a,d)}b.map[a]=d;++b.length;b.generation++;if(b.hasListeners.add){b.fireEvent("add",b,a,d)}return d},replace:function(b,e){var d=this,g=d.map,a;if(arguments.length===1){e=b;b=d.getKey(e)}if(!d.containsKey(b)){d.add(b,e)}a=g[b];g[b]=e;d.generation++;if(d.hasListeners.replace){d.fireEvent("replace",d,b,e,a)}return e},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return false},removeAtKey:function(a){var b=this,d;if(b.containsKey(a)){d=b.map[a];delete b.map[a];--b.length;b.generation++;if(b.hasListeners.remove){b.fireEvent("remove",b,a,d)}return true}return false},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(a){var b=this;if(a||b.generation){b.map={};b.length=0;b.generation=a?0:b.generation+1}if(a!==true&&b.hasListeners.clear){b.fireEvent("clear",b)}return b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(e){var a=[],b,d=this.map;for(b in d){if(d.hasOwnProperty(b)){a.push(e?b:d[b])}}return a},each:function(e,d){var a=Ext.apply({},this.map),b,g=this.length;d=d||this;for(b in a){if(a.hasOwnProperty(b)){if(e.call(d,b,a[b],g)===false){break}}}return this},clone:function(){var d=new this.self(this.initialConfig),b=this.map,a;d.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){d.add(a,b[a])}}d.resumeEvents();return d},findKey:function(b){var a,d=this.map;for(a in d){if(d.hasOwnProperty(a)&&d[a]===b){return a}}return undefined}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"HashMap"],0));(Ext.cmd.derive("Ext.AbstractManager",Ext.Base,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,e){var b=a[this.typeName]||a.type||e,d=this.types[b];return new d(a)},onAvailable:function(h,d,b){var a=this.all,e,g;if(a.containsKey(h)){e=a.get(h);d.call(b||e,e)}else{g=function(m,k,l){if(k==h){d.call(b||l,l);a.un("add",g)}};a.on("add",g)}},each:function(b,a){this.all.each(b,a||this)},getCount:function(){return this.all.getCount()}},1,0,0,0,0,0,[Ext,"AbstractManager"],0));(Ext.cmd.derive("Ext.ComponentManager",Ext.AbstractManager,{alternateClassName:"Ext.ComponentMgr",singleton:true,typeName:"xtype",create:function(a,b){if(typeof a=="string"){return Ext.widget(a)}if(a.isComponent){return a}return Ext.widget(a.xtype||b,a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b;a.prototype[this.typeName]=b}},0,0,0,0,0,0,[Ext,"ComponentManager",Ext,"ComponentMgr"],function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}}));(Ext.cmd.derive("Ext.ComponentQuery",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext,"ComponentQuery"],function(){var l=this,o=Ext.dom.Query.operators,t=/(\d*)n\+?(\d*)/,a=/\D/,q=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),h=function(y,x){return x.method.apply(this,[y].concat(x.args))},b=function(z,D){var x=[],A=0,C=z.length,B,y=D!==">";for(;A<C;A++){B=z[A];if(B.getRefItems){x=x.concat(B.getRefItems(y))}}return x},k=function(y){var x=[],z=0,B=y.length,A;for(;z<B;z++){A=y[z];while(!!(A=A.getRefOwner())){x.push(A)}}return x},u=function(y,D,C){if(D==="*"){return y.slice()}else{var x=[],z=0,B=y.length,A;for(;z<B;z++){A=y[z];if(A.isXType(D,C)){x.push(A)}}return x}},n=function(y,B){var x=[],z=0,C=y.length,A;for(;z<C;z++){A=y[z];if(A.hasCls(B)){x.push(A)}}return x},w=function(F,G,A,z){var K=[],E=0,y=F.length,J,B,I,x,D,C;if(G.charAt(0)==="@"){J=true;G=G.substr(1)}if(G.charAt(0)==="?"){J=true;B=true;G=G.substr(1)}for(;E<y;E++){I=F[E];if(!J||I.hasOwnProperty(G)){x=I[G];if(B){K.push(I)}else{if(A==="~="){if(x){if(!Ext.isArray(x)){x=x.split(" ")}for(D=0,C=x.length;D<C;D++){if(o[A](Ext.coerce(x[D],z),z)){K.push(I);break}}}}else{if(!z?!!I[G]:o[A](Ext.coerce(x,z),z)){K.push(I)}}}}}return K},g=function(y,C){var x=[],z=0,B=y.length,A;for(;z<B;z++){A=y[z];if(A.getItemId()===C){x.push(A)}}return x},r=function(x,y,z){return l.pseudos[y](x,z)},m=/^(\s?([>\^])\s?|\s|$)/,e=/^(#)?([\w\-]+|\*)(?:\((true|false)\))?/,d=[{re:/^\.([\w\-]+)(?:\((true|false)\))?/,method:u},{re:/^(?:\[((?:@|\?)?[\w\-\$]*[^\^\$\*~%!])\s?(?:(=|.=)\s?['"]?(.*?)["']?)?\])/,method:w},{re:/^#([\w\-]+)/,method:g},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:r},{re:/^(?:\{([^\}]+)\})/,method:q}];l.Query=Ext.extend(Object,{constructor:function(x){x=x||{};Ext.apply(this,x)},execute:function(y){var A=this.operations,B=0,C=A.length,z,x;if(!y){x=Ext.ComponentManager.all.getArray()}else{if(Ext.isIterable(y)){x=y}else{if(y.isMixedCollection){x=y.items}}}for(;B<C;B++){z=A[B];if(z.mode==="^"){x=k(x||[y])}else{if(z.mode){x=b(x||[y],z.mode)}else{x=h(x||b([y]),z)}}if(B===C-1){return x}}return[]},is:function(z){var y=this.operations,C=Ext.isArray(z)?z:[z],x=C.length,D=y[y.length-1],B,A;C=h(C,D);if(C.length===x){if(y.length>1){for(A=0,B=C.length;A<B;A++){if(Ext.Array.indexOf(this.execute(),C[A])===-1){return false}}}return true}return false}});Ext.apply(this,{cache:{},pseudos:{not:function(D,x){var E=Ext.ComponentQuery,B=0,C=D.length,A=[],z=-1,y;for(;B<C;++B){y=D[B];if(!E.is(y,x)){A[++z]=y}}return A},first:function(y){var x=[];if(y.length>0){x.push(y[0])}return x},last:function(z){var x=z.length,y=[];if(x>0){y.push(z[x-1])}return y},focusable:function(y){var x=y.length,A=[],z=0,B;for(;z<x;z++){B=y[z];if(B.isFocusable()){A.push(B)}}return A},"nth-child":function(D,E){var F=[],y=t.exec(E=="even"&&"2n"||E=="odd"&&"2n+1"||!a.test(E)&&"n+"+E||E),C=(y[1]||1)-0,A=y[2]-0,B,x,z;for(B=0;x=D[B];B++){z=B+1;if(C==1){if(A==0||z==A){F.push(x)}}else{if((z+A)%C==0){F.push(x)}}}return F}},query:function(y,F){var G=y.split(","),x=G.length,z=0,A=[],I=[],E={},C,B,D;for(;z<x;z++){y=Ext.String.trim(G[z]);C=this.cache[y]||(this.cache[y]=this.parse(y));A=A.concat(C.execute(F))}if(x>1){B=A.length;for(z=0;z<B;z++){D=A[z];if(!E[D.id]){I.push(D);E[D.id]=true}}A=I}return A},is:function(y,x){if(!x){return true}var A=x.split(","),B=A.length,z=0,C;for(;z<B;z++){x=Ext.String.trim(A[z]);C=this.cache[x]||(this.cache[x]=this.parse(x));if(C.is(y)){return true}}return false},parse:function(A){var y=[],z=d.length,E,B,F,G,I,C,D,x;while(A&&E!==A){E=A;B=A.match(e);if(B){F=B[1];if(F==="#"){y.push({method:g,args:[Ext.String.trim(B[2])]})}else{if(F==="."){y.push({method:n,args:[Ext.String.trim(B[2])]})}else{y.push({method:u,args:[Ext.String.trim(B[2]),Boolean(B[3])]})}}A=A.replace(B[0],"")}while(!(G=A.match(m))){for(C=0;A&&C<z;C++){D=d[C];I=A.match(D.re);x=D.method;if(I){y.push({method:Ext.isString(D.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[x].concat(I.slice(1)))):D.method,args:I.slice(1)});A=A.replace(I[0],"");break}if(C===(z-1)){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(G[1]){y.push({mode:G[2]||G[1]});A=A.replace(G[0],"")}}return new l.Query({operations:y})}})}));(Ext.cmd.derive("Ext.util.ProtoElement",Ext.Base,(function(){var b=Ext.String.splitWords,a=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(d){var e=this;Ext.apply(e,d);e.classList=b(e.cls);e.classMap=a(e.classList);delete e.cls;if(Ext.isFunction(e.style)){e.styleFn=e.style;delete e.style}else{if(typeof e.style=="string"){e.style=Ext.Element.parseStyles(e.style)}else{if(e.style){e.style=Ext.apply({},e.style)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(o){var m=this,n=(typeof o==="string")?b(o):o,e=n.length,k=m.classList,d=m.classMap,g=m.flushClassList,h=0,l;for(;h<e;++h){l=n[h];if(!d[l]){d[l]=true;k.push(l);if(g){g.push(l);delete m.removedClasses[l]}}}return m},hasCls:function(d){return d in this.classMap},removeCls:function(q){var o=this,m=o.classList,g=(o.classList=[]),k=a(b(q)),e=m.length,d=o.classMap,l=o.removedClasses,h,n;for(h=0;h<e;++h){n=m[h];if(k[n]){if(l){if(d[n]){l[n]=true;Ext.Array.remove(o.flushClassList,n)}}delete d[n]}else{g.push(n)}}return o},setStyle:function(h,g){var e=this,d=e.style||(e.style={});if(typeof h=="string"){if(arguments.length===1){e.setStyle(Ext.Element.parseStyles(h))}else{d[h]=g}}else{Ext.apply(d,h)}return e},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(k){var g=this,h=g.flushClassList||g.classList,e=g.removedClasses,d;if(g.styleFn){d=Ext.apply({},g.styleFn());Ext.apply(d,g.style)}else{d=g.style}k[g.clsProp]=h.join(" ");if(d){k[g.styleProp]=g.styleIsText?Ext.DomHelper.generateStyles(d):d}if(e){e=Ext.Object.getKeys(e);if(e.length){k[g.removedProp]=e.join(" ")}}if(g.unselectableAttr){k.unselectable="on"}return k}}}()),1,0,0,0,0,0,[Ext.util,"ProtoElement"],0));(Ext.cmd.derive("Ext.PluginManager",Ext.AbstractManager,{alternateClassName:"Ext.PluginMgr",singleton:true,typeName:"ptype",create:function(b,e,d){var a;if(b.init){a=b}else{if(d){b=Ext.apply({},b);b.cmp=d}else{d=b.cmp}if(b.xclass){a=Ext.create(b)}else{a=Ext.ClassManager.getByAlias(("plugin."+(b.ptype||e)));if(typeof a==="function"){a=new a(b)}}}if(a&&d&&a.setCmp&&!a.setCmpCalled){a.setCmp(d);a.setCmpCalled=true}return a},findByType:function(d,h){var g=[],b=this.types,a,e;for(a in b){if(!b.hasOwnProperty(a)){continue}e=b[a];if(e.type==d&&(!h||(h===true&&e.isDefault))){g.push(e)}}return g}},0,0,0,0,0,0,[Ext,"PluginManager",Ext,"PluginMgr"],function(){Ext.preg=function(){return Ext.PluginManager.registerType.apply(Ext.PluginManager,arguments)}}));(Ext.cmd.derive("Ext.util.Filter",Ext.Base,{id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,statics:{createFilterFn:function(a){return a&&a.length?function(g){var e=true,h=a.length,b,d;for(b=0;e&&b<h;b++){d=a[b];if(!d.disabled){e=e&&d.filterFn.call(d.scope||d,g)}}return e}:function(){return true}}},operatorFns:{"<":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<this.value},"<=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)<=this.value},"=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)==this.value},">=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>=this.value},">":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)>this.value},"!=":function(a){return Ext.coerce(this.getRoot(a)[this.property],this.value)!=this.value}},constructor:function(a){var b=this;b.initialConfig=a;Ext.apply(b,a);b.filter=b.filter||b.filterFn;if(b.filter===undefined){b.setValue(a.value)}},setValue:function(b){var a=this;a.value=b;if(a.property===undefined||a.value===undefined){}else{a.filter=a.createFilterFn()}a.filterFn=a.filter},setFilterFn:function(a){this.filterFn=this.filter=a},createFilterFn:function(){var a=this,d=a.createValueMatcher(),b=a.property;if(a.operator){return a.operatorFns[a.operator]}else{return function(e){var g=a.getRoot(e)[b];return d===null?g===null:d.test(g)}}},getRoot:function(b){var a=this.root;return a===undefined?b:b[a]},createValueMatcher:function(){var e=this,g=e.value,h=e.anyMatch,d=e.exactMatch,a=e.caseSensitive,b=Ext.String.escapeRegex;if(g===null){return g}if(!g.exec){g=String(g);if(h===true){g=b(g)}else{g="^"+b(g);if(d===true){g+="$"}}g=new RegExp(g,a?"":"i")}return g},serialize:function(){var b=this,a=Ext.apply({},b.initialConfig);a.value=b.value;return a}},1,0,0,0,0,0,[Ext.util,"Filter"],function(){this.prototype.operatorFns["=="]=this.prototype.operatorFns["="]}));(Ext.cmd.derive("Ext.util.AbstractMixedCollection",Ext.Base,{isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(b,a){var d=this;if(arguments.length===1&&Ext.isObject(b)){d.initialConfig=b;Ext.apply(d,b)}else{d.allowFunctions=b===true;if(a){d.getKey=a}d.initialConfig={allowFunctions:d.allowFunctions,getKey:d.getKey}}d.items=[];d.map={};d.keys=[];d.indexMap={};d.length=0;d.mixins.observable.constructor.call(d)},allowFunctions:false,add:function(d,e){var a=this.length,b;if(arguments.length===1){b=this.insert(a,d)}else{b=this.insert(a,d,e)}return b},getKey:function(a){return a.id},replace:function(d,g){var e=this,a,b;if(arguments.length==1){g=arguments[0];d=e.getKey(g)}a=e.map[d];if(typeof d=="undefined"||d===null||typeof a=="undefined"){return e.add(d,g)}e.generation++;b=e.indexOfKey(d);e.items[b]=g;e.map[d]=g;if(e.hasListeners.replace){e.fireEvent("replace",d,a,g)}return g},updateKey:function(h,k){var e=this,g=e.map,d=e.indexMap,a=e.indexOfKey(h),b;if(a>-1){b=g[h];delete g[h];delete d[h];g[k]=b;d[k]=a;e.keys[a]=k;e.generation++}},addAll:function(d){var b=this,a;if(arguments.length>1||Ext.isArray(d)){b.insert(b.length,arguments.length>1?arguments:d)}else{for(a in d){if(d.hasOwnProperty(a)){if(b.allowFunctions||typeof d[a]!="function"){b.add(a,d[a])}}}}},each:function(g,e){var b=Ext.Array.push([],this.items),d=0,a=b.length,h;for(;d<a;d++){h=b[d];if(g.call(e||h,h,d,a)===false){break}}},eachKey:function(g,e){var h=this.keys,b=this.items,d=0,a=h.length;for(;d<a;d++){g.call(e||window,h[d],b[d],d,a)}},findBy:function(g,e){var h=this.keys,b=this.items,d=0,a=b.length;for(;d<a;d++){if(g.call(e||window,b[d],h[d])){return b[d]}}return null},insert:function(b,d,e){var a;if(Ext.isIterable(d)){a=this.doInsert(b,d,e)}else{if(arguments.length>2){a=this.doInsert(b,[d],[e])}else{a=this.doInsert(b,[d])}a=a[0]}return a},doInsert:function(l,r,q){var n=this,b,d,h,m=r.length,a=m,g=n.hasListeners.add,e,k={},o,u,t;if(q!=null){n.useLinearSearch=true}else{q=r;r=new Array(m);for(h=0;h<m;h++){r[h]=this.getKey(q[h])}}n.suspendEvents();for(h=0;h<m;h++){b=r[h];d=n.indexOfKey(b);if(d!==-1){if(d<l){l--}n.removeAt(d)}if(b!=null){if(k[b]!=null){o=true;a--}k[b]=h}}n.resumeEvents();if(o){u=r;t=q;r=new Array(a);q=new Array(a);h=0;for(b in k){r[h]=u[k[b]];q[h]=t[k[b]];h++}m=a}e=l===n.length&&n.indexGeneration===n.generation;Ext.Array.insert(n.items,l,q);Ext.Array.insert(n.keys,l,r);n.length+=m;n.generation++;if(e){n.indexGeneration=n.generation}for(h=0;h<m;h++,l++){b=r[h];if(b!=null){n.map[b]=q[h];if(e){n.indexMap[b]=l}}if(g){n.fireEvent("add",l,q[h],b)}}return q},remove:function(e){var d=this,b,a;if(!d.useLinearSearch&&(b=d.getKey(e))){a=d.indexOfKey(b)}else{a=Ext.Array.indexOf(d.items,e)}return(a===-1)?false:d.removeAt(a)},removeAll:function(a){var d=this,b;if(a||d.hasListeners.remove){if(a){for(b=a.length-1;b>=0;--b){d.remove(a[b])}}else{while(d.length){d.removeAt(0)}}}else{d.length=d.items.length=d.keys.length=0;d.map={};d.indexMap={};d.generation++;d.indexGeneration=d.generation}},removeAt:function(a){var d=this,e,b;if(a<d.length&&a>=0){d.length--;e=d.items[a];Ext.Array.erase(d.items,a,1);b=d.keys[a];if(typeof b!="undefined"){delete d.map[b]}Ext.Array.erase(d.keys,a,1);if(d.hasListeners.remove){d.fireEvent("remove",e,b)}d.generation++;return e}return false},removeRange:function(k,a){var l=this,b,m,h,g,d,e;if(k<l.length&&k>=0){if(!a){a=1}g=Math.min(k+a,l.length);a=g-k;e=g===l.length;d=e&&l.indexGeneration===l.generation;for(h=k;h<g;h++){m=l.keys[h];if(m!=null){delete l.map[m];if(d){delete l.indexMap[m]}}}b=l.items[h-1];l.length-=a;l.generation++;if(d){l.indexGeneration=l.generation}if(e){l.items.length=l.keys.length=l.length}else{l.items.splice(k,a);l.keys.splice(k,a)}return b}return false},removeAtKey:function(b){var e=this,d=e.keys,a;if(b==null){for(a=d.length-1;a>=0;a--){if(d[a]==null){e.removeAt(a)}}}else{return e.removeAt(e.indexOfKey(b))}},getCount:function(){return this.length},indexOf:function(d){var b=this,a;if(d!=null){if(!b.useLinearSearch&&(a=b.getKey(d))){return this.indexOfKey(a)}return Ext.Array.indexOf(b.items,d)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var g=this,e=g.indexMap={},d=g.keys,a=d.length,b;for(b=0;b<a;b++){e[d[b]]=b}g.indexGeneration=g.generation},get:function(b){var e=this,a=e.map[b],d=a!==undefined?a:(typeof b=="number")?e.items[b]:undefined;return typeof d!="function"||e.allowFunctions?d:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(d){var b=this,a;if(d!=null){if(!b.useLinearSearch&&(a=b.getKey(d))){return this.map[a]!=null}return Ext.Array.indexOf(this.items,d)!==-1}return false},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(k,b,l,a){var d=this.extractValues(k,b),h=d.length,g=0,e;l=l||0;a=(a||a===0)?a:h-1;for(e=l;e<=a;e++){g+=d[e]}return g},collect:function(m,g,k){var n=this.extractValues(m,g),a=n.length,b={},d=[],l,h,e;for(e=0;e<a;e++){l=n[e];h=String(l);if((k||!Ext.isEmpty(l))&&!b[h]){b[h]=true;d.push(l)}}return d},extractValues:function(d,a){var b=this.items;if(a){b=Ext.Array.pluck(b,a)}return Ext.Array.pluck(b,d)},hasRange:function(b,a){return(a<this.length)},getRange:function(l,b){var k=this,e=k.items,d=[],a=e.length,h,g;if(a<1){return d}if(l>b){g=true;h=l;l=b;b=h}if(l<0){l=0}if(b==null||b>=a){b=a-1}d=e.slice(l,b+1);if(g&&d.length){d.reverse()}return d},filter:function(e,d,g,a){var b=[];if(Ext.isString(e)){b.push(new Ext.util.Filter({property:e,value:d,anyMatch:g,caseSensitive:a}))}else{if(Ext.isArray(e)||e instanceof Ext.util.Filter){b=b.concat(e)}}return this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(g,e){var l=this,a=new l.self(l.initialConfig),k=l.keys,b=l.items,h=b.length,d;a.getKey=l.getKey;for(d=0;d<h;d++){if(g.call(e||l,b[d],k[d])){a.add(k[d],b[d])}}return a},findIndex:function(d,b,g,e,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,e,a);return this.findIndexBy(function(h){return h&&b.test(h[d])},null,g)},findIndexBy:function(g,e,l){var k=this,h=k.keys,b=k.items,d=l||0,a=b.length;for(;d<a;d++){if(g.call(e||k,b[d],h[d])){return d}}return -1},createValueMatcher:function(d,g,a,b){if(!d.exec){var e=Ext.String.escapeRegex;d=String(d);if(g===true){d=e(d)}else{d="^"+e(d);if(b===true){d+="$"}}d=new RegExp(d,a?"":"i")}return d},clone:function(){var a=this,b=new this.self(a.initialConfig);b.add(a.keys,a.items);return b}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.util,"AbstractMixedCollection"],0));(Ext.cmd.derive("Ext.util.Sorter",Ext.Base,{direction:"ASC",constructor:function(a){var b=this;Ext.apply(b,a);b.updateSortFunction()},createSortFunction:function(b){var d=this,e=d.direction||"ASC",a=e.toUpperCase()=="DESC"?-1:1;return function(h,g){return a*b.call(d,h,g)}},defaultSorterFn:function(e,d){var b=this,a=b.transform,h=b.getRoot(e)[b.property],g=b.getRoot(d)[b.property];if(a){h=a(h);g=a(g)}return h>g?1:(h<g?-1:0)},getRoot:function(a){return this.root===undefined?a:a[this.root]},setDirection:function(b){var a=this;a.direction=b?b.toUpperCase():b;a.updateSortFunction()},toggle:function(){var a=this;a.direction=Ext.String.toggle(a.direction,"ASC","DESC");a.updateSortFunction()},updateSortFunction:function(a){var b=this;a=a||b.sorterFn||b.defaultSorterFn;b.sort=b.createSortFunction(a)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}},1,0,0,0,0,0,[Ext.util,"Sorter"],0));(Ext.cmd.derive("Ext.util.Sortable",Ext.Base,{isSortable:true,defaultSortDirection:"ASC",statics:{createComparator:function(a){return a&&a.length?function(e,d){var b=a[0].sort(e,d),h=a.length,g=1;for(;g<h;g++){b=b||a[g].sort.call(this,e,d)}return b}:function(){return 0}}},initSortable:function(){var a=this,b=a.sorters;a.sorters=new Ext.util.AbstractMixedCollection(false,function(d){return d.id||d.property});if(b){a.sorters.addAll(a.decodeSorters(b))}},sort:function(h,g,b,e){var d=this,k,a;if(Ext.isArray(h)){e=b;b=g;a=h}else{if(Ext.isObject(h)){e=b;b=g;a=[h]}else{if(Ext.isString(h)){k=d.sorters.get(h);if(!k){k={property:h,direction:g};a=[k]}else{if(g===undefined){k.toggle()}else{k.setDirection(g)}}}}}if(a&&a.length){a=d.decodeSorters(a);if(Ext.isString(b)){if(b==="prepend"){d.sorters.insert(0,a)}else{d.sorters.addAll(a)}}else{d.sorters.clear();d.sorters.addAll(a)}}if(e!==false){d.fireEvent("beforesort",d,a);d.onBeforeSort(a);h=d.sorters.items;if(h.length){d.doSort(d.generateComparator())}}return h},generateComparator:function(){var a=this.sorters.getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(h){if(!Ext.isArray(h)){if(h===undefined){h=[]}else{h=[h]}}var e=h.length,k=Ext.util.Sorter,a=this.model?this.model.prototype.fields:null,g,b,d;for(d=0;d<e;d++){b=h[d];if(!(b instanceof k)){if(Ext.isString(b)){b={property:b}}Ext.applyIf(b,{root:this.sortRoot,direction:"ASC"});if(b.fn){b.sorterFn=b.fn}if(typeof b=="function"){b={sorterFn:b}}if(a&&!b.transform){g=a.get(b.property);b.transform=g&&g.sortType!==Ext.identityFn?g.sortType:undefined}h[d]=new Ext.util.Sorter(b)}}return h},getSorters:function(){return this.sorters.items},getFirstSorter:function(){var d=this.sorters.items,a=d.length,b=0,e;for(;b<a;++b){e=d[b];if(!e.isGrouper){return e}}return null}},0,0,0,0,0,0,[Ext.util,"Sortable"],function(){this.prototype.createComparator=this.createComparator}));(Ext.cmd.derive("Ext.util.MixedCollection",Ext.util.AbstractMixedCollection,{constructor:function(){var a=this;a.callParent(arguments);a.addEvents("sort");a.mixins.sortable.initSortable.call(a)},doSort:function(a){this.sortBy(a)},_sort:function(n,b,m){var l=this,e,g,d=String(b).toUpperCase()=="DESC"?-1:1,k=[],q=l.keys,h=l.items,a;m=m||function(r,o){return r-o};for(e=0,g=h.length;e<g;e++){k[k.length]={key:q[e],value:h[e],index:e}}Ext.Array.sort(k,function(r,o){return m(r[n],o[n])*d||(r.index<o.index?-1:1)});for(e=0,g=k.length;e<g;e++){a=k[e];h[e]=a.value;q[e]=a.key;l.indexMap[a.key]=e}l.generation++;l.indexGeneration=l.generation;l.fireEvent("sort",l)},sortBy:function(b){var l=this,a=l.items,k,h=l.keys,e,g=a.length,d;for(d=0;d<g;d++){a[d].$extCollectionIndex=d}Ext.Array.sort(a,function(n,m){return b(n,m)||(n.$extCollectionIndex<m.$extCollectionIndex?-1:1)});for(d=0;d<g;d++){k=a[d];e=l.getKey(k);h[d]=e;l.indexMap[e]=d;delete a.$extCollectionIndex}l.generation++;l.indexGeneration=l.generation;l.fireEvent("sort",l,a,h)},findInsertionIndex:function(g,e){var h=this,b=h.items,l=0,a=b.length-1,d,k;if(!e){e=h.generateComparator()}while(l<=a){d=(l+a)>>1;k=e(g,b[d]);if(k>=0){l=d+1}else{if(k<0){a=d-1}}}return l},reorder:function(e){var k=this,b=k.items,d=0,h=b.length,a=[],g=[],l;k.suspendEvents();for(l in e){a[e[l]]=b[l]}for(d=0;d<h;d++){if(e[d]==undefined){g.push(b[d])}}for(d=0;d<h;d++){if(a[d]==undefined){a[d]=g.shift()}}k.clear();k.addAll(a);k.resumeEvents();k.fireEvent("sort",k)},sortByKey:function(a,b){this._sort("key",a,b||function(e,d){var h=String(e).toUpperCase(),g=String(d).toUpperCase();return h>g?1:(h<g?-1:0)})}},1,0,0,0,0,[["sortable",Ext.util.Sortable]],[Ext.util,"MixedCollection"],0));(Ext.cmd.derive("Ext.fx.target.Target",Ext.Base,{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id}},1,0,0,0,0,0,[Ext.fx.target,"Target"],0));(Ext.cmd.derive("Ext.fx.target.Element",Ext.fx.target.Target,{type:"element",getElVal:function(b,a,d){if(d==undefined){if(a==="x"){d=b.getX()}else{if(a==="y"){d=b.getY()}else{if(a==="scrollTop"){d=b.getScroll().top}else{if(a==="scrollLeft"){d=b.getScroll().left}else{if(a==="height"){d=b.getHeight()}else{if(a==="width"){d=b.getWidth()}else{d=b.getStyle(a)}}}}}}}return d},getAttr:function(a,d){var b=this.target;return[[b,this.getElVal(b,a,d)]]},setAttr:function(l){var g=this.target,k=l.length,m,h,b,e,d,a;for(e=0;e<k;e++){m=l[e].attrs;for(h in m){if(m.hasOwnProperty(h)){a=m[h].length;for(d=0;d<a;d++){b=m[h][d];this.setElVal(b[0],h,b[1])}}}}},setElVal:function(b,a,d){if(a==="x"){b.setX(d)}else{if(a==="y"){b.setY(d)}else{if(a==="scrollTop"){b.scrollTo("top",d)}else{if(a==="scrollLeft"){b.scrollTo("left",d)}else{if(a==="width"){b.setWidth(d)}else{if(a==="height"){b.setHeight(d)}else{b.setStyle(a,d)}}}}}}}},0,0,0,0,0,0,[Ext.fx.target,"Element"],0));(Ext.cmd.derive("Ext.fx.target.ElementCSS",Ext.fx.target.Element,{setAttr:function(q,g){var t={attrs:[],duration:[],easing:[]},n=q.length,h,r,l,m,d,b,k,e,a;for(k=0;k<n;k++){r=q[k];d=r.duration;m=r.easing;r=r.attrs;for(l in r){if(Ext.Array.indexOf(t.attrs,l)==-1){t.attrs.push(l.replace(/[A-Z]/g,function(o){return"-"+o.toLowerCase()}));t.duration.push(d+"ms");t.easing.push(m)}}}h=t.attrs.join(",");d=t.duration.join(",");m=t.easing.join(", ");for(k=0;k<n;k++){r=q[k].attrs;for(l in r){a=r[l].length;for(e=0;e<a;e++){b=r[l][e];b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",g?"":h);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",g?"":d);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",g?"":m);b[0].setStyle(l,b[1]);if(g){b=b[0].dom.offsetWidth}else{b[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},b[0],{single:true})}}}}}},0,0,0,0,0,0,[Ext.fx.target,"ElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElement",Ext.fx.target.Element,{isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,l){var b=[],k=this.target,h=k.elements,g=h.length,d,e;for(d=0;d<g;d++){e=h[d];if(e){e=k.getElement(e);b.push([e,this.getElVal(e,a,l)])}}return b},setAttr:function(q){var m=this.target,n=q.length,b=m.elements,u=b.length,r,e,t,l,d,h,g,a;for(h=0;h<n;h++){t=q[h].attrs;for(l in t){if(t.hasOwnProperty(l)){a=t[l].length;for(g=0;g<a;g++){r=t[l][g][1];for(e=0;e<u;++e){el=b[e];if(el){el=m.getElement(el);this.setElVal(el,l,r)}}}}}}}},1,0,0,0,0,0,[Ext.fx.target,"CompositeElement"],0));(Ext.cmd.derive("Ext.fx.target.CompositeElementCSS",Ext.fx.target.CompositeElement,{setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}},0,0,0,0,0,0,[Ext.fx.target,"CompositeElementCSS"],0));(Ext.cmd.derive("Ext.fx.target.Sprite",Ext.fx.target.Target,{type:"draw",getFromPrim:function(b,a){var d;switch(a){case"rotate":case"rotation":d=b.attr.rotation;return{x:d.x||0,y:d.y||0,degrees:d.degrees||0};case"scale":case"scaling":d=b.attr.scaling;return{x:d.x||1,y:d.y||1,cx:d.cx||0,cy:d.cy||0};case"translate":case"translation":d=b.attr.translation;return{x:d.x||0,y:d.y||0};default:return b.attr[a]}},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.getFromPrim(this.target,a)]]},setAttr:function(n){var h=n.length,l=[],b,g,r,u,t,q,o,e,d,m,k,a;for(e=0;e<h;e++){b=n[e].attrs;for(g in b){r=b[g];a=r.length;for(d=0;d<a;d++){t=r[d][0];u=r[d][1];if(g==="translate"||g==="translation"){o={x:u.x,y:u.y}}else{if(g==="rotate"||g==="rotation"){m=u.x;if(isNaN(m)){m=null}k=u.y;if(isNaN(k)){k=null}o={degrees:u.degrees,x:m,y:k}}else{if(g==="scale"||g==="scaling"){m=u.x;if(isNaN(m)){m=null}k=u.y;if(isNaN(k)){k=null}o={x:m,y:k,cx:u.cx,cy:u.cy}}else{if(g==="width"||g==="height"||g==="x"||g==="y"){o=parseFloat(u)}else{o=u}}}}q=Ext.Array.indexOf(l,t);if(q==-1){l.push([t,{}]);q=l.length-1}l[q][1][g]=o}}}h=l.length;for(e=0;e<h;e++){l[e][0].setAttributes(l[e][1])}this.target.redraw()}},0,0,0,0,0,0,[Ext.fx.target,"Sprite"],0));(Ext.cmd.derive("Ext.fx.target.CompositeSprite",Ext.fx.target.Sprite,{getAttr:function(a,k){var b=[],h=[].concat(this.target.items),g=h.length,e,d;for(e=0;e<g;e++){d=h[e];b.push([d,k!=undefined?k:this.getFromPrim(d,a)])}return b}},0,0,0,0,0,0,[Ext.fx.target,"CompositeSprite"],0));(Ext.cmd.derive("Ext.fx.target.Component",Ext.fx.target.Target,{type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==undefined?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(x,k,b){var t=this,r=x.length,A,q,d,l,g,n,e,u,z,m,a={},y;for(l=0;l<r;l++){A=x[l].attrs;for(q in A){n=A[q].length;for(g=0;g<n;g++){d=A[q][g];y=a[t.setMethods[q]]||(a[t.setMethods[q]]={});y.target=d[0];y[q]=d[1]}}if(a.setPosition){d=a.setPosition;e=(d.left===undefined)?undefined:parseFloat(d.left);u=(d.top===undefined)?undefined:parseFloat(d.top);d.target.setPosition(e,u)}if(a.setPagePosition){d=a.setPagePosition;d.target.setPagePosition(d.x,d.y)}if(a.setSize){d=a.setSize;z=(d.width===undefined)?d.target.getWidth():parseFloat(d.width);m=(d.height===undefined)?d.target.getHeight():parseFloat(d.height);d.target.el.setSize(z,m);if(b||t.dynamic){Ext.globalEvents.on({idle:Ext.Function.bind(d.target.setSize,d.target,[z,m]),single:true})}}if(a.setOpacity){d=a.setOpacity;d.target.el.setStyle("opacity",d.opacity)}}}},0,0,0,0,0,0,[Ext.fx.target,"Component"],0));(Ext.cmd.derive("Ext.fx.Queue",Ext.Base,{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);if(b){return b.fxDefaults}return{}},setFxDefaults:function(a,d){var b=this.targets.get(a);if(b){b.fxDefaults=Ext.apply(b.fxDefaults||{},d)}},stopAnimation:function(b){var e=this,a=e.getFxQueue(b),d=a.length;while(d){a[d-1].end();d--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return(a&&!!a.length)?a[0]:false},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(b){if(!b){return false}var d=this,a=d.fxQueue[b],e=d.targets.get(b);if(!e){return false}if(!a){d.fxQueue[b]=[];if(e.type!="element"){e.target.on("destroy",function(){d.fxQueue[b]=[]})}}return d.fxQueue[b]},queueFx:function(e){var d=this,g=e.target,a,b;if(!g){return}a=d.getFxQueue(g.getId());b=a.length;if(b){if(e.concurrent){e.paused=false}else{a[b-1].on("afteranimate",function(){e.paused=false})}}else{e.paused=false}e.on("afteranimate",function(){Ext.Array.remove(a,e);if(a.length===0){d.targets.remove(e.target)}if(e.remove){if(g.type=="element"){var h=Ext.get(g.id);if(h){h.remove()}}}},d,{single:true});a.push(e)}},1,0,0,0,0,0,[Ext.fx,"Queue"],0));(Ext.cmd.derive("Ext.fx.Manager",Ext.Base,{singleton:true,constructor:function(){var a=this;a.items=new Ext.util.MixedCollection();a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(e){var b=this,d=!b.forceJS&&Ext.supports.Transitions,a;b.useCSS3=d;if(e){if(e.tagName||Ext.isString(e)||e.isFly){e=Ext.get(e);a=new Ext.fx.target["Element"+(d?"CSS":"")](e)}else{if(e.dom){a=new Ext.fx.target["Element"+(d?"CSS":"")](e)}else{if(e.isComposite){a=new Ext.fx.target["CompositeElement"+(d?"CSS":"")](e)}else{if(e.isSprite){a=new Ext.fx.target.Sprite(e)}else{if(e.isCompositeSprite){a=new Ext.fx.target.CompositeSprite(e)}else{if(e.isComponent){a=new Ext.fx.target.Component(e)}else{if(e.isAnimTarget){return e}else{return null}}}}}}}b.targets.add(a);return a}else{return null}},addAnim:function(e){var d=this,b=d.items,a=d.task;b.add(e.id,e);if(!a&&b.length){a=d.task={run:d.runner,interval:d.interval,scope:d};d.taskRunner.start(a)}},removeAnim:function(e){var d=this,b=d.items,a=d.task;b.removeAtKey(e.id);if(a&&!b.length){d.taskRunner.stop(a);delete d.task}},runner:function(){var e=this,b=e.items.getRange(),d=0,a=b.length,g;e.targetArr={};e.timestamp=new Date();for(;d<a;d++){g=b[d];if(g.isReady()){e.startAnim(g)}}for(d=0;d<a;d++){g=b[d];if(g.isRunning()){e.runAnim(g)}}e.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(e){if(!e){return}var d=this,h=d.useCSS3&&e.target.type=="element",a=d.timestamp-e.startTime,b=(a>=e.duration),g,k;g=this.collectTargetData(e,a,h,b);if(h){e.target.setAttr(g.anims[e.id].attributes,true);d.collectTargetData(e,e.duration,h,b);e.paused=true;g=e.target.target;if(e.target.isComposite){g=e.target.target.last()}k={};k[Ext.supports.CSS3TransitionEnd]=e.lastFrame;k.scope=e;k.single=true;g.on(k)}},collectTargetData:function(d,a,g,h){var b=d.target.getId(),e=this.targetArr[b];if(!e){e=this.targetArr[b]={id:b,el:d.target,anims:{}}}e.anims[d.id]={id:d.id,anim:d,elapsed:a,isLastFrame:h,attributes:[{duration:d.duration,easing:(g&&d.reverse)?d.easingFn.reverse().toCSS3():d.easing,attrs:d.runAnim(a)}]};return e},applyPendingAttrs:function(){var g=this.targetArr,h,d,b,e,a;for(d in g){if(g.hasOwnProperty(d)){h=g[d];for(a in h.anims){if(h.anims.hasOwnProperty(a)){b=h.anims[a];e=b.anim;if(b.attributes&&e.isRunning()){h.el.setAttr(b.attributes,false,b.isLastFrame);if(b.isLastFrame){e.lastFrame()}}}}}}}},1,0,0,0,0,[["queue",Ext.fx.Queue]],[Ext.fx,"Manager"],0));(Ext.cmd.derive("Ext.fx.Animator",Ext.Base,{isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{});b.config=a;b.id=Ext.id(null,"ext-animator-");b.addEvents("beforeanimate","keyframe","afteranimate");b.mixins.observable.constructor.call(b,a);b.timeline=[];b.createTimeline(b.keyframes);if(b.target){b.applyAnimator(b.target);Ext.fx.Manager.addAnim(b)}},sorter:function(e,d){return e.pct-d.pct},createTimeline:function(e){var k=this,n=[],l=k.to||{},b=k.duration,o,a,d,h,m,g;for(m in e){if(e.hasOwnProperty(m)&&k.animKeyFramesRE.test(m)){g={attrs:Ext.apply(e[m],l)};if(m=="from"){m=0}else{if(m=="to"){m=100}}g.pct=parseInt(m,10);n.push(g)}}Ext.Array.sort(n,k.sorter);h=n.length;for(d=0;d<h;d++){o=(n[d-1])?b*(n[d-1].pct/100):0;a=b*(n[d].pct/100);k.timeline.push({duration:a-o,attrs:n[d].attrs})}},applyAnimator:function(e){var k=this,l=[],n=k.timeline,h=n.length,b,g,a,m,d;if(k.fireEvent("beforeanimate",k)!==false){for(d=0;d<h;d++){b=n[d];m=b.attrs;g=m.easing||k.easing;a=m.damper||k.damper;delete m.easing;delete m.damper;b=new Ext.fx.Anim({target:e,easing:g,damper:a,duration:b.duration,paused:true,to:m});l.push(b)}k.animations=l;k.target=b.target;for(d=0;d<h-1;d++){b=l[d];b.nextAnim=l[d+1];b.on("afteranimate",function(){this.nextAnim.paused=false});b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},k)}l[h-1].on("afteranimate",function(){this.lastFrame()},k)}},start:function(e){var g=this,d=g.delay,b=g.delayStart,a;if(d){if(!b){g.delayStart=e;return}else{a=e-b;if(a<d){return}else{e=new Date(b.getTime()+d)}}}if(g.fireEvent("beforeanimate",g)!==false){g.startTime=e;g.running=true;g.animations[g.keyframeStep].paused=false}},lastFrame:function(){var d=this,a=d.iterations,b=d.currentIteration;b++;if(b<a){d.startTime=new Date();d.currentIteration=b;d.keyframeStep=0;d.applyAnimator(d.target);d.animations[d.keyframeStep].paused=false}else{d.currentIteration=0;d.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date()-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Animator"],0));(Ext.cmd.derive("Ext.fx.CubicBezier",Ext.Base,{singleton:true,cubicBezierAtTime:function(u,e,b,r,q,l){var m=3*e,o=3*(r-e)-m,a=1-m-o,k=3*b,n=3*(q-b)-k,w=1-k-n;function h(x){return((a*x+o)*x+m)*x}function d(y,A){var z=g(y,A);return((w*z+n)*z+k)*z}function g(t,E){var D,C,A,y,B,z;for(A=t,z=0;z<8;z++){y=h(A)-t;if(Math.abs(y)<E){return A}B=(3*a*A+2*o)*A+m;if(Math.abs(B)<0.000001){break}A=A-y/B}D=0;C=1;A=t;if(A<D){return D}if(A>C){return C}while(D<C){y=h(A);if(Math.abs(y-t)<E){return A}if(t>y){D=A}else{C=A}A=(C-D)/2+D}return A}return d(u,1/(200*l))},cubicBezier:function(b,g,a,d){var e=function(h){return Ext.fx.CubicBezier.cubicBezierAtTime(h,b,g,a,d,1)};e.toCSS3=function(){return"cubic-bezier("+[b,g,a,d].join(",")+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-a,1-d,1-b,1-g)};return e}},0,0,0,0,0,0,[Ext.fx,"CubicBezier"],0));Ext.require("Ext.fx.CubicBezier",function(){var g=Math,k=g.PI,e=g.pow,b=g.sin,h=g.sqrt,a=g.abs,d=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(r){var l=0.07813-r/2,u=-0.25,w=h(0.0066+l*l),A=w-l,o=e(a(A),1/3)*(A<0?-1:1),z=-w-l,m=e(a(z),1/3)*(z<0?-1:1),B=o+m+0.25;return e(1-B,2)*3*B*0.1+(1-B)*3*B*B+B*B*B},easeIn:function(l){return e(l,1.7)},easeOut:function(l){return e(l,0.48)},easeInOut:function(A){var r=0.48-A/1.04,o=h(0.1734+r*r),l=o-r,z=e(a(l),1/3)*(l<0?-1:1),w=-o-r,u=e(a(w),1/3)*(w<0?-1:1),m=z+u+0.5;return(1-m)*3*m*m+m*m*m},backIn:function(l){return l*l*((d+1)*l-d)},backOut:function(l){l=l-1;return l*l*((d+1)*l+d)+1},elasticIn:function(o){if(o===0||o===1){return o}var m=0.3,l=m/4;return e(2,-10*o)*b((o-l)*(2*k)/m)+1},elasticOut:function(l){return 1-Ext.fx.Easing.elasticIn(1-l)},bounceIn:function(l){return 1-Ext.fx.Easing.bounceOut(1-l)},bounceOut:function(r){var o=7.5625,q=2.75,m;if(r<(1/q)){m=o*r*r}else{if(r<(2/q)){r-=(1.5/q);m=o*r*r+0.75}else{if(r<(2.5/q)){r-=(2.25/q);m=o*r*r+0.9375}else{r-=(2.625/q);m=o*r*r+0.984375}}}return m}},function(){var m=Ext.fx.Easing.self,l=m.prototype;m.implement({"back-in":l.backIn,"back-out":l.backOut,"ease-in":l.easeIn,"ease-out":l.easeOut,"elastic-in":l.elasticIn,"elastic-out":l.elasticOut,"bounce-in":l.bounceIn,"bounce-out":l.bounceOut,"ease-in-out":l.easeInOut})})});(Ext.cmd.derive("Ext.draw.Color",Ext.Base,{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbRe:/\s*rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)\s*/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,lightnessFactor:0.2,constructor:function(e,d,a){var b=this,g=Ext.Number.constrain;b.r=g(e,0,255);b.g=g(d,0,255);b.b=g(a,0,255)},getRed:function(){return this.r},getGreen:function(){return this.g},getBlue:function(){return this.b},getRGB:function(){var a=this;return[a.r,a.g,a.b]},getHSL:function(){var n=this,a=n.r/255,m=n.g/255,o=n.b/255,q=Math.max(a,m,o),e=Math.min(a,m,o),t=q-e,k,u=0,d=0.5*(q+e);if(e!=q){u=(d<0.5)?t/(q+e):t/(2-q-e);if(a==q){k=60*(m-o)/t}else{if(m==q){k=120+60*(o-a)/t}else{k=240+60*(a-m)/t}}if(k<0){k+=360}if(k>=360){k-=360}}return[k,u,d]},getLighter:function(b){var a=this.getHSL();b=b||this.lightnessFactor;a[2]=Ext.Number.constrain(a[2]+b,0,1);return this.fromHSL(a[0],a[1],a[2])},getDarker:function(a){a=a||this.lightnessFactor;return this.getLighter(-a)},toString:function(){var k=this,d=Math.round,h=d(k.r).toString(16),e=d(k.g).toString(16),a=d(k.b).toString(16);h=(h.length==1)?"0"+h:h;e=(e.length==1)?"0"+e:e;a=(a.length==1)?"0"+a:a;return["#",h,e,a].join("")},toHex:function(b){if(Ext.isArray(b)){b=b[0]}if(!Ext.isString(b)){return""}if(b.substr(0,1)==="#"){return b}var g=this.colorToHexRe.exec(b),h,e,a,d;if(Ext.isArray(g)){h=parseInt(g[2],10);e=parseInt(g[3],10);a=parseInt(g[4],10);d=a|(e<<8)|(h<<16);return g[1]+"#"+("000000"+d.toString(16)).slice(-6)}else{return b}},fromString:function(l){var d,h,e,a,k=parseInt;if((l.length==4||l.length==7)&&l.substr(0,1)==="#"){d=l.match(this.hexRe);if(d){h=k(d[1],16)>>0;e=k(d[2],16)>>0;a=k(d[3],16)>>0;if(l.length==4){h+=(h*16);e+=(e*16);a+=(a*16)}}}else{d=l.match(this.rgbRe);if(d){h=d[1];e=d[2];a=d[3]}}return(typeof h=="undefined")?undefined:new Ext.draw.Color(h,e,a)},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},fromHSL:function(k,r,e){var a,b,d,g,o=[],q=Math.abs,n=Math.floor;if(r==0||k==null){o=[e,e,e]}else{k/=60;a=r*(1-q(2*e-1));b=a*(1-q(k-2*n(k/2)-1));d=e-a/2;switch(n(k)){case 0:o=[a,b,0];break;case 1:o=[b,a,0];break;case 2:o=[0,a,b];break;case 3:o=[0,b,a];break;case 4:o=[b,0,a];break;case 5:o=[a,0,b];break}o=[o[0]+d,o[1]+d,o[2]+d]}return new Ext.draw.Color(o[0]*255,o[1]*255,o[2]*255)}},3,0,0,0,0,0,[Ext.draw,"Color"],function(){var a=this.prototype;this.addStatics({fromHSL:function(){return a.fromHSL.apply(a,arguments)},fromString:function(){return a.fromString.apply(a,arguments)},toHex:function(){return a.toHex.apply(a,arguments)}})}));(Ext.cmd.derive("Ext.draw.Draw",Ext.Base,{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,availableAnimAttrs:{along:"along",blur:null,"clip-rect":"csv",cx:null,cy:null,fill:"color","fill-opacity":null,"font-size":null,height:null,opacity:null,path:"path",r:null,rotation:"csv",rx:null,ry:null,scale:"csv",stroke:"color","stroke-opacity":null,"stroke-width":null,translation:"csv",width:null,x:null,y:null},is:function(b,a){a=String(a).toLowerCase();return(a=="object"&&b===Object(b))||(a=="undefined"&&typeof b==a)||(a=="null"&&b===null)||(a=="array"&&Array.isArray&&Array.isArray(b))||(Object.prototype.toString.call(b).toLowerCase().slice(8,-1))==a},ellipsePath:function(b){var a=b.attr;return Ext.String.format("M{0},{1}A{2},{3},0,1,1,{0},{4}A{2},{3},0,1,1,{0},{1}z",a.x,a.y-a.ry,a.rx,a.ry,a.y+a.ry)},rectPath:function(b){var a=b.attr;if(a.radius){return Ext.String.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",a.x+a.radius,a.y,a.width-a.radius*2,a.radius,-a.radius,a.height-a.radius*2,a.radius*2-a.width,a.radius*2-a.height)}else{return Ext.String.format("M{0},{1}L{2},{1},{2},{3},{0},{3}z",a.x,a.y,a.width+a.x,a.height+a.y)}},path2string:function(){return this.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.draw.Draw.pathToStringRE,"$1")},parsePathString:function(a){if(!a){return null}var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[],b=this;if(b.is(a,"array")&&b.is(a[0],"array")){d=b.pathClone(a)}if(!d.length){String(a).replace(b.pathCommandRE,function(h,g,m){var l=[],k=g.toLowerCase();m.replace(b.pathValuesRE,function(o,n){n&&l.push(+n)});if(k=="m"&&l.length>2){d.push([g].concat(Ext.Array.splice(l,0,2)));k="l";g=(g=="m")?"l":"L"}while(l.length>=e[k]){d.push([g].concat(Ext.Array.splice(l,0,e[k])));if(!e[k]){break}}})}d.toString=b.path2string;return d},mapPath:function(m,h){if(!h){return m}var k,g,d,l,a,e,b;m=this.path2curve(m);for(d=0,l=m.length;d<l;d++){b=m[d];for(a=1,e=b.length;a<e-1;a+=2){k=h.x(b[a],b[a+1]);g=h.y(b[a],b[a+1]);b[a]=k;b[a+1]=g}}return m},pathClone:function(h){var d=[],a,g,b,e;if(!this.is(h,"array")||!this.is(h&&h[0],"array")){h=this.parsePathString(h)}for(b=0,e=h.length;b<e;b++){d[b]=[];for(a=0,g=h[b].length;a<g;a++){d[b][a]=h[b][a]}}d.toString=this.path2string;return d},pathToAbsolute:function(d){if(!this.is(d,"array")||!this.is(d&&d[0],"array")){d=this.parsePathString(d)}var l=[],n=0,m=0,q=0,o=0,h=0,k=d.length,b,e,g,a;if(k&&d[0][0]=="M"){n=+d[0][1];m=+d[0][2];q=n;o=m;h++;l[0]=["M",n,m]}for(;h<k;h++){b=l[h]=[];e=d[h];if(e[0]!=e[0].toUpperCase()){b[0]=e[0].toUpperCase();switch(b[0]){case"A":b[1]=e[1];b[2]=e[2];b[3]=e[3];b[4]=e[4];b[5]=e[5];b[6]=+(e[6]+n);b[7]=+(e[7]+m);break;case"V":b[1]=+e[1]+m;break;case"H":b[1]=+e[1]+n;break;case"M":q=+e[1]+n;o=+e[2]+m;default:g=1;a=e.length;for(;g<a;g++){b[g]=+e[g]+((g%2)?n:m)}}}else{g=0;a=e.length;for(;g<a;g++){l[h][g]=e[g]}}switch(b[0]){case"Z":n=q;m=o;break;case"H":n=b[1];break;case"V":m=b[1];break;case"M":e=l[h];a=e.length;q=e[a-2];o=e[a-1];default:e=l[h];a=e.length;n=e[a-2];m=e[a-1]}}l.toString=this.path2string;return l},pathToRelative:function(e){if(!this.is(e,"array")||!this.is(e&&e[0],"array")){e=this.parsePathString(e)}var o=[],t=0,q=0,z=0,w=0,d=0,a,u,l,h,g,n,A,m,b;if(e[0][0]=="M"){t=e[0][1];q=e[0][2];z=t;w=q;d++;o.push(["M",t,q])}for(l=d,A=e.length;l<A;l++){a=o[l]=[];u=e[l];if(u[0]!=u[0].toLowerCase()){a[0]=u[0].toLowerCase();switch(a[0]){case"a":a[1]=u[1];a[2]=u[2];a[3]=u[3];a[4]=u[4];a[5]=u[5];a[6]=+(u[6]-t).toFixed(3);a[7]=+(u[7]-q).toFixed(3);break;case"v":a[1]=+(u[1]-q).toFixed(3);break;case"m":z=u[1];w=u[2];default:for(h=1,m=u.length;h<m;h++){a[h]=+(u[h]-((h%2)?t:q)).toFixed(3)}}}else{a=o[l]=[];if(u[0]=="m"){z=u[1]+t;w=u[2]+q}for(g=0,b=u.length;g<b;g++){o[l][g]=u[g]}}n=o[l].length;switch(o[l][0]){case"z":t=z;q=w;break;case"h":t+=+o[l][n-1];break;case"v":q+=+o[l][n-1];break;default:t+=+o[l][n-2];q+=+o[l][n-1]}}o.toString=this.path2string;return o},path2curve:function(m){var e=this,k=e.pathToAbsolute(m),d=k.length,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b,a,h,g;for(b=0;b<d;b++){k[b]=e.command2curve(k[b],l);if(k[b].length>7){k[b].shift();g=k[b];while(g.length){Ext.Array.splice(k,b++,0,["C"].concat(Ext.Array.splice(g,0,6)))}Ext.Array.erase(k,b,1);d=k.length;b--}a=k[b];h=a.length;l.x=a[h-2];l.y=a[h-1];l.bx=parseFloat(a[h-4])||l.x;l.by=parseFloat(a[h-3])||l.y}return k},interpolatePaths:function(u,n){var l=this,e=l.pathToAbsolute(u),o=l.pathToAbsolute(n),q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(w,x){if(w[x].length>7){w[x].shift();var y=w[x];while(y.length){Ext.Array.splice(w,x++,0,["C"].concat(Ext.Array.splice(y,0,6)))}Ext.Array.erase(w,x,1);r=Math.max(e.length,o.length||0)}},d=function(A,z,x,w,y){if(A&&z&&A[y][0]=="M"&&z[y][0]!="M"){Ext.Array.splice(z,y,0,["M",w.x,w.y]);x.bx=0;x.by=0;x.x=A[y][1];x.y=A[y][2];r=Math.max(e.length,o.length||0)}},k,r,h,t,g,m;for(k=0,r=Math.max(e.length,o.length||0);k<r;k++){e[k]=l.command2curve(e[k],q);b(e,k);(o[k]=l.command2curve(o[k],a));b(o,k);d(e,o,q,a,k);d(o,e,a,q,k);h=e[k];t=o[k];g=h.length;m=t.length;q.x=h[g-2];q.y=h[g-1];q.bx=parseFloat(h[g-4])||q.x;q.by=parseFloat(h[g-3])||q.y;a.bx=(parseFloat(t[m-4])||a.x);a.by=(parseFloat(t[m-3])||a.y);a.x=t[m-2];a.y=t[m-1]}return[e,o]},command2curve:function(e,b){var a=this;if(!e){return["C",b.x,b.y,b.x,b.y,b.x,b.y]}if(e[0]!="T"&&e[0]!="Q"){b.qx=b.qy=null}switch(e[0]){case"M":b.X=e[1];b.Y=e[2];break;case"A":e=["C"].concat(a.arc2curve.apply(a,[b.x,b.y].concat(e.slice(1))));break;case"S":e=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(e.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));e=["C"].concat(a.quadratic2curve(b.x,b.y,b.qx,b.qy,e[1],e[2]));break;case"Q":b.qx=e[1];b.qy=e[2];e=["C"].concat(a.quadratic2curve(b.x,b.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(b.x,b.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(b.x,b.y,e[1],b.y,e[1],b.y);break;case"V":e=["C"].concat(b.x,b.y,b.x,e[1],b.x,e[1]);break;case"Z":e=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y);break}return e},quadratic2curve:function(b,e,k,g,a,d){var h=1/3,l=2/3;return[h*b+l*k,h*e+l*g,h*a+l*k,h*d+l*g,a,d]},rotate:function(b,k,a){var e=Math.cos(a),d=Math.sin(a),h=b*e-k*d,g=b*d+k*e;return{x:h,y:g}},arc2curve:function(A,ao,P,N,E,q,l,z,an,F){var C=this,e=Math.PI,D=C.radian,K=e*120/180,b=D*(+E||0),V=[],S=Math,ac=S.cos,a=S.sin,ae=S.sqrt,B=S.abs,r=S.asin,R,X,W,aj,d,aa,ad,I,G,o,n,w,m,am,g,al,Y,ab,Z,ak,ai,ah,af,U,ag,T,J,O,u;if(!F){R=C.rotate(A,ao,-b);A=R.x;ao=R.y;R=C.rotate(z,an,-b);z=R.x;an=R.y;X=(A-z)/2;W=(ao-an)/2;aj=(X*X)/(P*P)+(W*W)/(N*N);if(aj>1){aj=ae(aj);P=aj*P;N=aj*N}d=P*P;aa=N*N;ad=(q==l?-1:1)*ae(B((d*aa-d*W*W-aa*X*X)/(d*W*W+aa*X*X)));I=ad*P*W/N+(A+z)/2;G=ad*-N*X/P+(ao+an)/2;o=r(((ao-G)/N).toFixed(7));n=r(((an-G)/N).toFixed(7));o=A<I?e-o:o;n=z<I?e-n:n;if(o<0){o=e*2+o}if(n<0){n=e*2+n}if(l&&o>n){o=o-e*2}if(!l&&n>o){n=n-e*2}}else{o=F[0];n=F[1];I=F[2];G=F[3]}w=n-o;if(B(w)>K){J=n;O=z;u=an;n=o+K*(l&&n>o?1:-1);z=I+P*ac(n);an=G+N*a(n);V=C.arc2curve(z,an,P,N,E,0,l,O,u,[n,J,I,G])}w=n-o;m=ac(o);am=a(o);g=ac(n);al=a(n);Y=S.tan(w/4);ab=4/3*P*Y;Z=4/3*N*Y;ak=[A,ao];ai=[A+ab*am,ao-Z*m];ah=[z+ab*al,an-Z*g];af=[z,an];ai[0]=2*ak[0]-ai[0];ai[1]=2*ak[1]-ai[1];if(F){return[ai,ah,af].concat(V)}else{V=[ai,ah,af].concat(V).join().split(",");U=[];T=V.length;for(ag=0;ag<T;ag++){U[ag]=ag%2?C.rotate(V[ag-1],V[ag],b).y:C.rotate(V[ag],V[ag+1],b).x}return U}},rotateAndTranslatePath:function(l){var d=l.rotation.degrees,e=l.rotation.x,b=l.rotation.y,q=l.translation.x,m=l.translation.y,o,h,a,n,g,k=[];if(!d&&!q&&!m){return this.pathToAbsolute(l.attr.path)}q=q||0;m=m||0;o=this.pathToAbsolute(l.attr.path);for(h=o.length;h--;){a=k[h]=o[h].slice();if(a[0]=="A"){n=this.rotatePoint(a[6],a[7],d,e,b);a[6]=n.x+q;a[7]=n.y+m}else{g=1;while(a[g+1]!=null){n=this.rotatePoint(a[g],a[g+1],d,e,b);a[g]=n.x+q;a[g+1]=n.y+m;g+=2}}}return k},rotatePoint:function(b,k,g,a,h){if(!g){return{x:b,y:k}}a=a||0;h=h||0;b=b-a;k=k-h;g=g*this.radian;var e=Math.cos(g),d=Math.sin(g);return{x:b*e-k*d+a,y:b*d+k*e+h}},pathDimensions:function(r){if(!r||!(r+"")){return{x:0,y:0,width:0,height:0}}r=this.path2curve(r);var o=0,n=0,g=[],b=[],k=0,m=r.length,d,a,q,h,e,l;for(;k<m;k++){d=r[k];if(d[0]=="M"){o=d[1];n=d[2];g.push(o);b.push(n)}else{l=this.curveDim(o,n,d[1],d[2],d[3],d[4],d[5],d[6]);g=g.concat(l.min.x,l.max.x);b=b.concat(l.min.y,l.max.y);o=d[5];n=d[6]}}a=Math.min.apply(0,g);q=Math.min.apply(0,b);h=Math.max.apply(0,g);e=Math.max.apply(0,b);return{x:Math.round(a),y:Math.round(q),path:r,width:Math.round(h-a),height:Math.round(e-q)}},intersectInside:function(b,d,a){return(a[0]-d[0])*(b[1]-d[1])>(a[1]-d[1])*(b[0]-d[0])},intersectIntersection:function(r,q,h,g){var d=[],b=h[0]-g[0],a=h[1]-g[1],n=r[0]-q[0],l=r[1]-q[1],o=h[0]*g[1]-h[1]*g[0],m=r[0]*q[1]-r[1]*q[0],k=1/(b*l-a*n);d[0]=(o*n-m*b)*k;d[1]=(o*l-m*a)*k;return d},intersect:function(q,d){var o=this,l=0,n=d.length,k=d[n-1],r=q,h,t,m,a,b,g;for(;l<n;++l){h=d[l];b=r;r=[];t=b[b.length-1];g=0;a=b.length;for(;g<a;g++){m=b[g];if(o.intersectInside(m,k,h)){if(!o.intersectInside(t,k,h)){r.push(o.intersectIntersection(t,m,k,h))}r.push(m)}else{if(o.intersectInside(t,k,h)){r.push(o.intersectIntersection(t,m,k,h))}}t=m}k=h}return r},bezier:function(h,g,o,n,e){if(e===0){return h}else{if(e===1){return n}}var l=1-e,k=l*l*l,m=e/l;return k*(h+m*(3*g+m*(3*o+n*m)))},bezierDim:function(w,u,o,n){var y=[],g,k,t,h,x,e,z,l,q,m;if(w+3*o==n+3*u){g=w-u;g/=2*(w-u-u+o);if(g<1&&g>0){y.push(g)}}else{k=w-3*u+3*o-n;t=2*(w-u-u+o);h=w-u;x=t*t-4*k*h;e=k+k;if(x===0){g=t/e;if(g<1&&g>0){y.push(g)}}else{if(x>0){z=Math.sqrt(x);g=(z+t)/e;if(g<1&&g>0){y.push(g)}g=(t-z)/e;if(g<1&&g>0){y.push(g)}}}}l=Math.min(w,n);q=Math.max(w,n);for(m=0;m<y.length;m++){l=Math.min(l,this.bezier(w,u,o,n,y[m]));q=Math.max(q,this.bezier(w,u,o,n,y[m]))}return[l,q]},curveDim:function(b,a,e,d,n,m,k,g){var l=this.bezierDim(b,e,n,k),h=this.bezierDim(a,d,m,g);return{min:{x:l[0],y:h[0]},max:{x:l[1],y:h[1]}}},getAnchors:function(g,e,n,m,B,A,w){w=w||4;var l=Math,u=l.PI,x=u/2,q=l.abs,a=l.sin,b=l.cos,h=l.atan,z,y,k,o,t,r,D,C,d;z=(n-g)/w;y=(B-n)/w;if((m>=e&&m>=A)||(m<=e&&m<=A)){k=o=x}else{k=h((n-g)/q(m-e));if(e<m){k=u-k}o=h((B-n)/q(m-A));if(A<m){o=u-o}}d=x-((k+o)%(u*2))/2;if(d>x){d-=u}k+=d;o+=d;t=n-z*a(k);r=m+z*b(k);D=n+y*a(o);C=m+y*b(o);if((m>e&&r<e)||(m<e&&r>e)){t+=q(e-r)*(t-n)/(r-m);r=e}if((m>A&&C<A)||(m<A&&C>A)){D-=q(A-C)*(D-n)/(C-m);C=A}return{x1:t,y1:r,x2:D,y2:C}},smooth:function(a,r){var q=this.path2curve(a),d=[q[0]],h=q[0][1],g=q[0][2],t,w,z=1,k=q.length,e=1,m=h,l=g,C,B,A,n,u,o,b;for(;z<k;z++){C=q[z];B=C.length;A=q[z-1];n=A.length;u=q[z+1];o=u&&u.length;if(C[0]=="M"){m=C[1];l=C[2];t=z+1;while(q[t][0]!="C"){t++}d.push(["M",m,l]);e=d.length;h=m;g=l;continue}if(C[B-2]==m&&C[B-1]==l&&(!u||u[0]=="M")){b=d[e].length;w=this.getAnchors(A[n-2],A[n-1],m,l,d[e][b-2],d[e][b-1],r);d[e][1]=w.x2;d[e][2]=w.y2}else{if(!u||u[0]=="M"){w={x1:C[B-2],y1:C[B-1]}}else{w=this.getAnchors(A[n-2],A[n-1],C[B-2],C[B-1],u[o-2],u[o-1],r)}}d.push(["C",h,g,w.x1,w.y1,C[B-2],C[B-1]]);h=w.x2;g=w.y2}return d},findDotAtSegment:function(b,a,e,d,m,l,k,h,n){var g=1-n;return{x:Math.pow(g,3)*b+Math.pow(g,2)*3*n*e+g*3*n*n*m+Math.pow(n,3)*k,y:Math.pow(g,3)*a+Math.pow(g,2)*3*n*d+g*3*n*n*l+Math.pow(n,3)*h}},snapEnds:function(r,d,n,z){if(Ext.isDate(r)){return this.snapEndsByDate(r,d,n)}var g=(d-r)/n,b=Math.floor(Math.log(g)/Math.LN10)+1,q=Math.pow(10,b),e,u,w=Math.round((g%q)*Math.pow(10,2-b)),x=[[0,15],[10,1],[20,4],[25,2],[50,9],[100,15]],a=0,o,l,t,k,y=1000000000,h=x.length;u=Math.floor(r/q)*q;if(r==u&&u>0){u=Math.floor((r-(q/10))/q)*q}if(z){for(t=0;t<h;t++){o=x[t][0];l=(o-w)<0?1000000:(o-w)/x[t][1];if(l<y){k=o;y=l}}g=Math.floor(g*Math.pow(10,-b))*Math.pow(10,b)+k*Math.pow(10,b-2);if(r<0&&d>=0){e=0;while(e>r){e-=g;a++}r=+e.toFixed(10);e=0;while(e<d){e+=g;a++}d=+e.toFixed(10)}else{e=r=u;while(e<d){e+=g;a++}}d=+e.toFixed(10)}else{r=u;a=n}return{from:r,to:d,power:b,step:g,steps:a}},snapEndsByDate:function(m,n,b,o){var g=false,k=[[Ext.Date.MILLI,[1,2,5,10,20,50,100,200,250,500]],[Ext.Date.SECOND,[1,2,5,10,15,30]],[Ext.Date.MINUTE,[1,2,5,10,15,30]],[Ext.Date.HOUR,[1,2,3,4,6,12]],[Ext.Date.DAY,[1,2,7,14]],[Ext.Date.MONTH,[1,2,3,6]]],h=k.length,l=false,d,e,a,q;for(q=0;q<h;q++){d=k[q];if(!l){for(e=0;e<d[1].length;e++){if(n<Ext.Date.add(m,d[0],d[1][e]*b)){g=[d[0],d[1][e]];l=true;break}}}}if(!g){a=this.snapEnds(m.getFullYear(),n.getFullYear()+1,b,o);g=[Date.YEAR,Math.round(a.step)]}return this.snapEndsByDateAndStep(m,n,g,o)},snapEndsByDateAndStep:function(o,q,a,t){var r=[o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()],n,d,u,b,l,g,m,e,k=a[0],h=a[1];if(t){d=o}else{switch(k){case Ext.Date.MILLI:d=new Date(r[0],r[1],r[2],r[3],r[4],r[5],Math.floor(r[6]/h)*h);break;case Ext.Date.SECOND:d=new Date(r[0],r[1],r[2],r[3],r[4],Math.floor(r[5]/h)*h,0);break;case Ext.Date.MINUTE:d=new Date(r[0],r[1],r[2],r[3],Math.floor(r[4]/h)*h,0,0);break;case Ext.Date.HOUR:d=new Date(r[0],r[1],r[2],Math.floor(r[3]/h)*h,0,0,0);break;case Ext.Date.DAY:d=new Date(r[0],r[1],Math.floor((r[2]-1)/h)*h+1,0,0,0,0);break;case Ext.Date.MONTH:d=new Date(r[0],Math.floor(r[1]/h)*h,1,0,0,0,0);break;default:d=new Date(Math.floor(r[0]/h)*h,0,1,0,0,0,0);break}}e=((k===Ext.Date.MONTH)&&(h==1/2||h==1/3||h==1/4));n=(e?[]:0);u=new Date(d);while(u<q){if(e){b=new Date(u);l=b.getFullYear();g=b.getMonth();m=b.getDate();switch(h){case 1/2:if(m>=15){m=1;if(++g>11){l++}}else{m=15}break;case 1/3:if(m>=20){m=1;if(++g>11){l++}}else{if(m>=10){m=20}else{m=10}}break;case 1/4:if(m>=22){m=1;if(++g>11){l++}}else{if(m>=15){m=22}else{if(m>=8){m=15}else{m=8}}}break}u.setYear(l);u.setMonth(g);u.setDate(m);n.push(new Date(u))}else{u=Ext.Date.add(u,k,h);n++}}if(t){u=q}if(e){return{from:+d,to:+u,steps:n}}else{return{from:+d,to:+u,step:(u-d)/n,steps:n}}},sorter:function(e,d){return e.offset-d.offset},rad:function(a){return a%360*Math.PI/180},degrees:function(a){return a*180/Math.PI%360},withinBox:function(a,d,b){b=b||{};return(a>=b.x&&a<=(b.x+b.width)&&d>=b.y&&d<=(b.y+b.height))},parseGradient:function(n){var g=this,h=n.type||"linear",d=n.angle||0,l=g.radian,o=n.stops,a=[],m,b,k,e;if(h=="linear"){b=[0,0,Math.cos(d*l),Math.sin(d*l)];k=1/(Math.max(Math.abs(b[2]),Math.abs(b[3]))||1);b[2]*=k;b[3]*=k;if(b[2]<0){b[0]=-b[2];b[2]=0}if(b[3]<0){b[1]=-b[3];b[3]=0}}for(m in o){if(o.hasOwnProperty(m)&&g.stopsRE.test(m)){e={offset:parseInt(m,10),color:Ext.draw.Color.toHex(o[m].color)||"#ffffff",opacity:o[m].opacity||1};a.push(e)}}Ext.Array.sort(a,g.sorter);if(h=="linear"){return{id:n.id,type:h,vector:b,stops:a}}else{return{id:n.id,type:h,centerX:n.centerX,centerY:n.centerY,focalX:n.focalX,focalY:n.focalY,radius:n.radius,vector:b,stops:a}}}},0,0,0,0,0,0,[Ext.draw,"Draw"],0));(Ext.cmd.derive("Ext.fx.PropertyHandler",Ext.Base,{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(m,d,a,h,l){a=(typeof a=="number")?a:1;var k=this.unitRE,e=k.exec(m),b,g;if(e){m=e[1];g=e[2];if(!this.scrollRE.test(l)&&!g&&this.pixelDefaultsRE.test(l)){g="px"}}m=+m||0;e=k.exec(d);if(e){d=e[1];g=e[2]||g}d=+d||0;b=(h!=null)?h:m;return{from:m,delta:(d-b)*a,units:g}},get:function(q,b,a,o,l){var n=q.length,e=[],g,k,m,d,h;for(g=0;g<n;g++){if(o){k=o[g][1].from}if(Ext.isArray(q[g][1])&&Ext.isArray(b)){m=[];d=0;h=q[g][1].length;for(;d<h;d++){m.push(this.computeDelta(q[g][1][d],b[d],a,k,l))}e.push([q[g][0],m])}else{e.push([q[g][0],this.computeDelta(q[g][1],b,a,k,l)])}}return e},set:function(m,h){var k=m.length,d=[],e,a,l,g,b;for(e=0;e<k;e++){a=m[e][1];if(Ext.isArray(a)){l=[];b=0;g=a.length;for(;b<g;b++){l.push(a[b].from+a[b].delta*h+(a[b].units||0))}d.push([m[e][0],l])}else{d.push([m[e][0],a.from+a.delta*h+(a.units||0)])}}return d}},stringHandler:{computeDelta:function(g,b,e,d,a){return{from:g,delta:b}},get:function(q,b,a,o,l){var n=q.length,e=[],g,k,m,d,h;for(g=0;g<n;g++){e.push([q[g][0],this.computeDelta(q[g][1],b,a,k,l)])}return e},set:function(m,h){var k=m.length,d=[],e,a,l,g,b;for(e=0;e<k;e++){a=m[e][1];d.push([m[e][0],a.delta])}return d}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(g,a){a=(typeof a=="number")?a:1;var h=false,d=[this.hexRE,this.rgbRE,this.hex3RE],e=d.length,l,b,m,k;for(k=0;k<e;k++){m=d[k];b=(k%2===0)?16:10;l=m.exec(g);if(l&&l.length===4){if(k===2){l[1]+=l[1];l[2]+=l[2];l[3]+=l[3]}h={red:parseInt(l[1],b),green:parseInt(l[2],b),blue:parseInt(l[3],b)};break}}return h||g},computeDelta:function(k,a,g,d){k=this.parseColor(k);a=this.parseColor(a,g);var h=d?d:k,b=typeof h,e=typeof a;if(b=="string"||b=="undefined"||e=="string"||e=="undefined"){return a||h}return{from:k,delta:{red:Math.round((a.red-h.red)*g),green:Math.round((a.green-h.green)*g),blue:Math.round((a.blue-h.blue)*g)}}},get:function(l,a,h,e){var k=l.length,d=[],g,b;for(g=0;g<k;g++){if(e){b=e[g][1].from}d.push([l[g][0],this.computeDelta(l[g][1],a,h,b)])}return d},set:function(m,g){var h=m.length,d=[],e,b,a,k,l;for(e=0;e<h;e++){b=m[e][1];if(b){k=b.from;l=b.delta;b=(typeof b=="object"&&"red" in b)?"rgb("+b.red+", "+b.green+", "+b.blue+")":b;b=(typeof b=="object"&&b.length)?b[0]:b;if(typeof b=="undefined"){return[]}a=typeof b=="string"?b:"rgb("+[(k.red+Math.round(l.red*g))%256,(k.green+Math.round(l.green*g))%256,(k.blue+Math.round(l.blue*g))%256].join(",")+")";d.push([m[e][0],a])}}return d}},object:{interpolate:function(e,b){b=(typeof b=="number")?b:1;var a={},d;for(d in e){a[d]=parseFloat(e[d])*b}return a},computeDelta:function(k,a,d,b){k=this.interpolate(k);a=this.interpolate(a,d);var h=b?b:k,g={},e;for(e in a){g[e]=a[e]-h[e]}return{from:k,delta:g}},get:function(l,a,h,e){var k=l.length,d=[],g,b;for(g=0;g<k;g++){if(e){b=e[g][1].from}d.push([l[g][0],this.computeDelta(l[g][1],a,h,b)])}return d},set:function(n,h){var k=n.length,d=[],g={},e,l,m,b,a;for(e=0;e<k;e++){b=n[e][1];l=b.from;m=b.delta;for(a in l){g[a]=l[a]+m[a]*h}d.push([n[e][0],g])}return d}},path:{computeDelta:function(g,a,d,b){d=(typeof d=="number")?d:1;var e;g=+g||0;a=+a||0;e=(b!=null)?b:g;return{from:g,delta:(a-e)*d}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.draw.Draw.parsePathString(a)}return a},get:function(b,m,a,t){var d=this.forcePath(m),o=[],w=b.length,e,l,q,h,r,n,g,x,u;for(q=0;q<w;q++){u=this.forcePath(b[q][1]);h=Ext.draw.Draw.interpolatePaths(u,d);u=h[0];d=h[1];e=u.length;x=[];for(n=0;n<e;n++){h=[u[n][0]];l=u[n].length;for(g=1;g<l;g++){r=t&&t[0][1][n][g].from;h.push(this.computeDelta(u[n][g],d[n][g],a,r))}x.push(h)}o.push([b[q][0],x])}return o},set:function(r,o){var q=r.length,g=[],l,h,e,m,n,d,a,b;for(l=0;l<q;l++){d=r[l][1];m=[];a=d.length;for(h=0;h<a;h++){n=[d[h][0]];b=d[h].length;for(e=1;e<b;e++){n.push(d[h][e].from+d[h][e].delta*o)}m.push(n.join(","))}g.push([r[l][0],m.join(",")])}return g}}}},0,0,0,0,0,0,[Ext.fx,"PropertyHandler"],function(){var b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],d=b.length,a=0,e;for(;a<d;a++){e=b[a];this[e]=this.color}b=["cursor"];d=b.length;a=0;for(;a<d;a++){e=b[a];this[e]=this.stringHandler}}));(Ext.cmd.derive("Ext.fx.Anim",Ext.Base,{isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b=this,d;a=a||{};if(a.keyframes){return new Ext.fx.Animator(a)}Ext.apply(b,a);if(b.from===undefined){b.from={}}b.propHandlers={};b.config=a;b.target=Ext.fx.Manager.createTarget(b.target);b.easingFn=Ext.fx.Easing[b.easing];b.target.dynamic=b.dynamic;if(!b.easingFn){b.easingFn=String(b.easing).match(b.bezierRE);if(b.easingFn&&b.easingFn.length==5){d=b.easingFn;b.easingFn=Ext.fx.CubicBezier.cubicBezier(+d[1],+d[2],+d[3],+d[4])}}b.id=Ext.id(null,"ext-anim-");b.addEvents("beforeanimate","afteranimate","lastframe");b.mixins.observable.constructor.call(b);Ext.fx.Manager.addAnim(b)},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var g=this,k=g.from,l=g.to,h=g.initialFrom||{},d={},a,b,m,e;for(e in l){if(l.hasOwnProperty(e)){a=g.target.getAttr(e,k[e]);b=l[e];if(!Ext.fx.PropertyHandler[e]){if(Ext.isObject(b)){m=g.propHandlers[e]=Ext.fx.PropertyHandler.object}else{m=g.propHandlers[e]=Ext.fx.PropertyHandler.defaultHandler}}else{m=g.propHandlers[e]=Ext.fx.PropertyHandler[e]}d[e]=m.get(a,b,g.damper,h[e],e)}}g.currentAttrs=d},start:function(e){var g=this,d=g.delay,b=g.delayStart,a;if(d){if(!b){g.delayStart=e;return}else{a=e-b;if(a<d){return}else{e=new Date(b.getTime()+d)}}}if(g.fireEvent("beforeanimate",g)!==false){g.startTime=e;if(!g.paused&&!g.currentAttrs){g.initAttrs()}g.running=true;g.frameCount=0}},runAnim:function(o){var l=this,n=l.currentAttrs,e=l.duration,d=l.easingFn,b=l.propHandlers,h={},k,m,g,a;if(o>=e){o=e;a=true}if(l.reverse){o=e-o}for(g in n){if(n.hasOwnProperty(g)){m=n[g];k=a?1:d(o/e);h[g]=b[g].set(m,k)}}l.frameCount++;return h},lastFrame:function(){var d=this,a=d.iterations,b=d.currentIteration;b++;if(b<a){if(d.alternate){d.reverse=!d.reverse}d.startTime=new Date();d.currentIteration=b;d.paused=false}else{d.currentIteration=0;d.end();d.fireEvent("lastframe",d,d.startTime)}},endWasCalled:0,end:function(){if(this.endWasCalled++){return}var a=this;a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime])},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.fx,"Anim"],0));Ext.enableFx=true;(Ext.cmd.derive("Ext.util.Animate",Ext.Base,{isAnimate:true,animate:function(a){var b=this;if(Ext.fx.Manager.hasFxBlock(b.id)){return b}Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));return this},anim:function(a){if(!Ext.isObject(a)){return(a)?{}:false}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}},0,0,0,0,0,0,[Ext.util,"Animate"],function(){Ext.applyIf(Ext.Element.prototype,this.prototype);Ext.CompositeElementLite.importElementMethods()}));(Ext.cmd.derive("Ext.util.ElementContainer",Ext.Base,{childEls:[],constructor:function(){var b=this,a;if(b.hasOwnProperty("childEls")){a=b.childEls;delete b.childEls;b.addChildEls.apply(b,a)}},destroy:function(){var g=this,e=g.getChildEls(),h,a,d,b;for(d=e.length;d--;){a=e[d];if(typeof a!="string"){a=a.name}h=g[a];if(h){g[a]=null;h.remove()}}},addChildEls:function(){var b=this,a=arguments;if(b.hasOwnProperty("childEls")){b.childEls.push.apply(b.childEls,a)}else{b.childEls=b.getChildEls().concat(Array.prototype.slice.call(a))}b.prune(b.childEls,false)},applyChildEls:function(b,a){var g=this,h=g.getChildEls(),l,m,e,d,k;l=(a||g.id)+"-";for(e=h.length;e--;){m=h[e];if(typeof m=="string"){k=b.getById(l+m)}else{if((d=m.select)){k=Ext.select(d,true,b.dom)}else{if((d=m.selectNode)){k=Ext.get(Ext.DomQuery.selectNode(d,b.dom))}else{k=b.getById(m.id||(l+m.itemId))}}m=m.name}g[m]=k}},getChildEls:function(){var b=this,a;if(b.hasOwnProperty("childEls")){return b.childEls}a=b.self;return a.$childEls||b.getClassChildEls(a)},getClassChildEls:function(r){var m=this,t=r.$childEls,o,e,b,l,q,k,a,d,g,h,n;if(!t){h=r.superclass;if(h){h=h.self;d=[h.$childEls||m.getClassChildEls(h)];n=h.prototype.mixins||{}}else{d=[];n={}}g=r.prototype;k=g.mixins;for(a in k){if(k.hasOwnProperty(a)&&!n.hasOwnProperty(a)){q=k[a].self;d.push(q.$childEls||m.getClassChildEls(q))}}d.push(g.hasOwnProperty("childEls")&&g.childEls);for(e=0,b=d.length;e<b;++e){o=d[e];if(o&&o.length){if(!t){t=o}else{if(!l){l=true;t=t.slice(0)}t.push.apply(t,o)}}}r.$childEls=t=(t?m.prune(t,!l):[])}return t},prune:function(d,g){var b=d.length,e={},a;while(b--){a=d[b];if(typeof a!="string"){a=a.name}if(!e[a]){e[a]=1}else{if(g){g=false;d=d.slice(0)}Ext.Array.erase(d,b,1)}}return d},removeChildEls:function(h){var g=this,a=g.getChildEls(),e=(g.childEls=[]),k,b,d;for(b=0,k=a.length;b<k;++b){d=a[b];if(!h(d)){e.push(d)}}}},1,0,0,0,0,0,[Ext.util,"ElementContainer"],0));(Ext.cmd.derive("Ext.util.Renderable",Ext.Base,{frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table class="',Ext.plainTableCls,'" cellpadding="0"><tbody>','<tpl if="top">',"<tr>",'<tpl if="left"><td id="{fgid}TL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","<tr>",'<tpl if="left"><td id="{fgid}ML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}MC" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">',"<tr>",'<tpl if="left"><td id="{fgid}BL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</tbody></table>","{%this.renderDockedItems(out,values,1);%}"],afterRender:function(){var e=this,g={},l=e.protoEl,k=e.el,d,h,a,b;e.finishRenderChildren();if(e.contentEl){h=Ext.baseCSSPrefix;a=h+"hide-";b=Ext.get(e.contentEl);b.removeCls([h+"hidden",a+"display",a+"offsets",a+"nosize"]);e.getContentTarget().appendChild(b.dom)}l.writeTo(g);d=g.removed;if(d){k.removeCls(d)}d=g.cls;if(d.length){k.addCls(d)}d=g.style;if(g.style){k.setStyle(d)}e.protoEl=null;if(!e.ownerCt){e.updateLayout()}},afterFirstLayout:function(b,l){var e=this,k=e.x,g=e.y,d,a,h,m;if(!e.ownerLayout){d=Ext.isDefined(k);a=Ext.isDefined(g)}if(e.floating&&(!d||!a)){if(e.floatParent){h=e.floatParent.getTargetEl().getViewRegion();m=e.el.getAlignToXY(e.floatParent.getTargetEl(),"c-c");h.x=m[0]-h.x;h.y=m[1]-h.y}else{m=e.el.getAlignToXY(e.container,"c-c");h=e.container.translateXY(m[0],m[1])}k=d?k:h.x;g=a?g:h.y;d=a=true}if(d||a){e.setPosition(k,g)}e.onBoxReady(b,l)},applyRenderSelectors:function(){var e=this,b=e.renderSelectors,d=e.el,g=d.dom,a;e.applyChildEls(d);if(b){for(a in b){if(b.hasOwnProperty(a)&&b[a]){e[a]=Ext.get(Ext.DomQuery.selectNode(b[a],g))}}}},beforeRender:function(){var d=this,g=d.getTargetEl(),e=d.getOverflowEl(),b=d.getComponentLayout(),a=d.getOverflowStyle();d.frame=d.frame||d.alwaysFramed;if(!b.initialized){b.initLayout()}if(e){e.setStyle(a);d.overflowStyleSet=true}d.setUI(d.ui);if(d.disabled){d.disable(true)}},doApplyRenderTpl:function(d,a){var e=a.$comp,b;if(!e.rendered){b=e.initRenderTpl();b.applyOut(a.renderData,d)}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(a,d){var b=d.$comp;if(b.html){Ext.DomHelper.generateMarkup(b.html,a);delete b.html}if(b.tpl){if(!b.tpl.isTemplate){b.tpl=new Ext.XTemplate(b.tpl)}if(b.data){b.tpl.applyOut(b.data,a);delete b.data}}},doRenderFramingDockedItems:function(a,d,e){var b=d.$comp;if(!b.rendered&&b.doRenderDockedItems){d.renderData.$skipDockedItems=true;b.doRenderDockedItems.call(this,a,d,e)}},finishRender:function(a){var e=this,b,g,d;if(!e.el||e.$pid){if(e.container){d=e.container.getById(e.id,true)}else{d=Ext.getDom(e.id)}if(!e.el){e.wrapPrimaryEl(d)}else{delete e.$pid;if(!e.el.dom){e.wrapPrimaryEl(e.el)}d.parentNode.insertBefore(e.el.dom,d);Ext.removeNode(d)}}else{if(!e.rendering){b=e.initRenderTpl();if(b){g=e.initRenderData();b.insertFirst(e.getTargetEl(),g)}}}if(!e.container){e.container=Ext.get(e.el.dom.parentNode)}if(e.ctCls){e.container.addCls(e.ctCls)}e.onRender(e.container,a);if(!e.overflowStyleSet){e.getOverflowEl().setStyle(e.getOverflowStyle())}e.el.setVisibilityMode(Ext.Element[e.hideMode.toUpperCase()]);if(e.overCls){e.el.hover(e.addOverCls,e.removeOverCls,e)}if(e.hasListeners.render){e.fireEvent("render",e)}e.afterRender();if(e.hasListeners.afterrender){e.fireEvent("afterrender",e)}e.initEvents();if(e.hidden){e.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getElConfig:function(){var l=this,n=l.autoEl,h=l.getFrameInfo(),b={tag:"div",tpl:h?l.initFramingTpl(h.table):l.initRenderTpl()},a=l.protoEl,d,g,k,o,e,m;l.initStyles(a);a.writeTo(b);a.flush();if(Ext.isString(n)){b.tag=n}else{Ext.apply(b,n)}b.id=l.id;if(b.tpl){if(h){g=l.frameElNames;k=g.length;b.tplData=m=l.getFrameRenderData();m.renderData=l.initRenderData();e=m.fgid;for(d=0;d<k;d++){o=g[d];l.addChildEls({name:"frame"+o,id:e+o})}l.addChildEls({name:"frameBody",id:e+"MC"})}else{b.tplData=l.initRenderData()}}return b},initFramingTpl:function(b){var a=this.getFrameTpl(b);if(a&&!a.applyRenderTpl){this.setupFramingTpl(a)}return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},getRenderTree:function(){var a=this;if(!a.hasListeners.beforerender||a.fireEvent("beforerender",a)!==false){a.beforeRender();a.rendering=true;if(a.el){return{tag:"div",id:(a.$pid=Ext.id())}}return a.getElConfig()}return null},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,childElCls:""},a.renderData)},initRenderTpl:function(){var a=this.getTpl("renderTpl");if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},onRender:function(e,g){var h=this,l=h.x,k=h.y,d=null,a,m,b=h.el;h.applyRenderSelectors();h.rendering=null;h.rendered=true;if(l!=null){d={x:l}}if(k!=null){(d=d||{}).y=k}if(!h.getFrameInfo()&&Ext.isBorderBox){a=h.width;m=h.height;if(typeof a==="number"){d=d||{};d.width=a}if(typeof m==="number"){d=d||{};d.height=m}}h.lastBox=b.lastBox=d},render:function(d,b){var g=this,e=g.el&&(g.el=Ext.get(g.el)),k,a,h;Ext.suspendLayouts();d=g.initContainer(d);h=g.getInsertPosition(b);if(!e){a=g.getRenderTree();if(g.ownerLayout&&g.ownerLayout.transformItemRenderTree){a=g.ownerLayout.transformItemRenderTree(a)}if(a){if(h){e=Ext.DomHelper.insertBefore(h,a)}else{e=Ext.DomHelper.append(d,a)}g.wrapPrimaryEl(e)}}else{if(!g.hasListeners.beforerender||g.fireEvent("beforerender",g)!==false){g.beforeRender();g.initStyles(e);if(g.allowDomMove!==false){if(h){d.dom.insertBefore(e.dom,h)}else{d.dom.appendChild(e.dom)}}}else{k=true}}if(e&&!k){g.finishRender(b)}Ext.resumeLayouts(!g.hidden&&!d.isDetachedBody)},ensureAttachedToBody:function(d){var b=this,a;while(b.ownerCt){b=b.ownerCt}if(b.container.isDetachedBody){b.container=a=Ext.getBody();a.appendChild(b.el.dom);if(d){b.updateLayout()}if(typeof b.x=="number"||typeof b.y=="number"){b.setPosition(b.x,b.y)}}},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent},wrapPrimaryEl:function(a){this.el=Ext.get(a,true)},initFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var k=this,g=k.getFrameInfo(),a,d,e=k.frameElNames,h=e.length,b,l,m;if(g){a=k.getFrameTpl(g.table);l=k.getFrameRenderData();d=l.fgid;a.insertFirst(k.el,l);k.frameBody=k.el.down("."+k.frameCls+"-mc");k.removeChildEls(function(n){return n.id&&k.frameIdRegex.test(n.id)});for(b=0;b<h;b++){m=e[b];k["frame"+m]=k.el.getById(d+m)}}},getFrameRenderData:function(){var d=this,b=d.frameSize,a=(d.frameGenId||0)+1;d.frameGenId=a;return{$comp:d,fgid:d.id+"-frame"+a,ui:d.ui,uiCls:d.uiCls,frameCls:d.frameCls,baseCls:d.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,frameElCls:""}},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var g=this,k=g.frameSize&&g.frameSize.table,h=g.frameTL,e=g.frameBL,d=g.frameML,a=g.frameMC,b;g.initFrame();if(a){if(g.frame){b=g.frameMC.dom.className;a.insertAfter(g.frameMC);g.frameMC.remove();g.frameBody=g.frameMC=a;a.dom.className=b;if(k){g.el.query("> table")[1].remove()}else{if(h){h.remove()}if(e){e.remove()}if(d){d.remove()}}}}else{if(g.frame){g.applyRenderSelectors()}}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var C=this,t=C.frameInfoCache,g=C.getFramingInfoCls()+"-frameInfo",D=t[g],u=Math.max,r,n,y,q,E,h,m,b,d,o,k,x,z,l,a,e,B,w,A;if(D==null){r=Ext.fly(C.getStyleProxy(g),"frame-style-el");y=r.getStyle("font-family");if(y){y=y.split("-");e=parseInt(y[1],10);B=parseInt(y[2],10);w=parseInt(y[3],10);A=parseInt(y[4],10);b=parseInt(y[5],10);d=parseInt(y[6],10);o=parseInt(y[7],10);k=parseInt(y[8],10);x=parseInt(y[9],10);z=parseInt(y[10],10);l=parseInt(y[11],10);a=parseInt(y[12],10);q=u(b,u(e,B));E=u(d,u(B,w));h=u(o,u(A,w));m=u(k,u(e,A));D={table:y[0].charAt(0)==="t",vertical:y[0].charAt(1)==="v",top:q,right:E,bottom:h,left:m,width:m+E,height:q+h,maxWidth:u(q,E,h,m),border:{top:b,right:d,bottom:o,left:k,width:k+d,height:b+o},padding:{top:x,right:z,bottom:l,left:a,width:a+z,height:x+l},radius:{tl:e,tr:B,br:w,bl:A}}}else{D=false}t[g]=D}C.frame=!!D;C.frameSize=D;return D},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.AbstractComponent.prototype.styleProxyEl=Ext.getBody().createChild({style:{position:"absolute",top:"-10000px"}},null,true));a.className=b;return a},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},frameInfoCache:{}},0,0,0,0,0,0,[Ext.util,"Renderable"],0));(Ext.cmd.derive("Ext.state.Provider",Ext.Base,{prefix:"ext-",constructor:function(a){a=a||{};var b=this;Ext.apply(b,a);b.addEvents("statechange");b.state={};b.mixins.observable.constructor.call(b)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){var b=this;delete b.state[a];b.fireEvent("statechange",b,a,null)},set:function(a,d){var b=this;b.state[a]=d;b.fireEvent("statechange",b,a,d)},decodeValue:function(h){var d=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,b=n.exec(unescape(h)),k,e,a,m,g,l;if(!b||!b[1]){return}e=b[1];h=b[2];switch(e){case"e":return null;case"n":return parseFloat(h);case"d":return new Date(Date.parse(h));case"b":return(h=="1");case"a":k=[];if(h!=""){m=h.split("^");g=m.length;for(l=0;l<g;l++){h=m[l];k.push(d.decodeValue(h))}}return k;case"o":k={};if(h!=""){m=h.split("^");g=m.length;for(l=0;l<g;l++){h=m[l];a=h.split("=");k[a[0]]=d.decodeValue(a[1])}}return k;default:return h}},encodeValue:function(g){var h="",e=0,b,a,d;if(g==null){return"e:1"}else{if(typeof g=="number"){b="n:"+g}else{if(typeof g=="boolean"){b="b:"+(g?"1":"0")}else{if(Ext.isDate(g)){b="d:"+g.toGMTString()}else{if(Ext.isArray(g)){for(a=g.length;e<a;e++){h+=this.encodeValue(g[e]);if(e!=a-1){h+="^"}}b="a:"+h}else{if(typeof g=="object"){for(d in g){if(typeof g[d]!="function"&&g[d]!==undefined){h+=d+"="+this.encodeValue(g[d])+"^"}}b="o:"+h.substring(0,h.length-1)}else{b="s:"+g}}}}}}return escape(b)}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Provider"],0));(Ext.cmd.derive("Ext.state.Manager",Ext.Base,{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}},1,0,0,0,0,0,[Ext.state,"Manager"],0));(Ext.cmd.derive("Ext.state.Stateful",Ext.Base,{stateful:false,saveDelay:100,constructor:function(a){var b=this;a=a||{};if(a.stateful!==undefined){b.stateful=a.stateful}if(a.saveDelay!==undefined){b.saveDelay=a.saveDelay}b.stateId=b.stateId||a.stateId;if(!b.stateEvents){b.stateEvents=[]}if(a.stateEvents){b.stateEvents.concat(a.stateEvents)}this.addEvents("beforestaterestore","staterestore","beforestatesave","statesave");b.mixins.observable.constructor.call(b);if(b.stateful!==false){b.addStateEvents(b.stateEvents);b.initState()}},addStateEvents:function(d){var g=this,b,e,a;if(g.stateful&&g.getStateId()){if(typeof d=="string"){d=Array.prototype.slice.call(arguments,0)}a=g.stateEventsByName||(g.stateEventsByName={});for(b=d.length;b--;){e=d[b];if(!a[e]){a[e]=1;g.on(e,g.onStateChange,g)}}}},onStateChange:function(){var d=this,a=d.saveDelay,e,b;if(!d.stateful){return}if(a){if(!d.stateTask){e=Ext.state.Stateful;b=e.runner||(e.runner=new Ext.util.TaskRunner());d.stateTask=b.newTask({run:d.saveState,scope:d,interval:a,repeat:1})}d.stateTask.start()}else{d.saveState()}},saveState:function(){var b=this,e=b.stateful&&b.getStateId(),a=b.hasListeners,d;if(e){d=b.getState()||{};if(!a.beforestatesave||b.fireEvent("beforestatesave",b,d)!==false){Ext.state.Manager.set(e,d);if(a.statesave){b.fireEvent("statesave",b,d)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var b=this,e=b.stateful&&b.getStateId(),a=b.hasListeners,d;if(e){d=Ext.state.Manager.get(e);if(d){d=Ext.apply({},d);if(!a.beforestaterestore||b.fireEvent("beforestaterestore",b,d)!==false){b.applyState(d);if(a.staterestore){b.fireEvent("staterestore",b,d)}}}}},savePropToState:function(h,g,e){var b=this,d=b[h],a=b.initialConfig;if(b.hasOwnProperty(h)){if(!a||a[h]!==d){if(g){g[e||h]=d}return true}}return false},savePropsToState:function(g,d){var b=this,a,e;if(typeof g=="string"){b.savePropToState(g,d)}else{for(a=0,e=g.length;a<e;++a){b.savePropToState(g[a],d)}}return d},destroy:function(){var b=this,a=b.stateTask;if(a){a.destroy();b.stateTask=null}b.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.state,"Stateful"],0));(Ext.cmd.derive("Ext.AbstractComponent",Ext.Base,{statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(a,d){var b=this.runningLayoutContext||this.pendingLayouts;if(b){b.cancelComponent(a,false,d)}},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var d=this.callParent();if(Ext.globalEvents.hasListeners.afterlayout){Ext.globalEvents.fireEvent("afterlayout")}return d}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.globalEvents.hasListeners.resumelayouts){Ext.globalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,g){var d=this,a=d.runningLayoutContext,e;if(a){a.queueInvalidate(b)}else{e=d.pendingLayouts||(d.pendingLayouts=new Ext.layout.Context());e.queueInvalidate(b);if(!g&&!d.layoutSuspendCount&&!b.isLayoutSuspended()){d.flushLayouts()}}}},isComponent:true,getAutoId:function(){this.autoGenId=true;return ++Ext.AbstractComponent.AUTO_ID},deferLayouts:false,autoGenId:false,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:false,disabled:false,draggable:false,floating:false,hideMode:"display",autoShow:false,autoRender:false,allowDomMove:true,rendered:false,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:true,_isLayoutRoot:false,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(d){var g=this,e,a,b;if(d){Ext.apply(g,d);b=g.xhooks;if(b){delete g.xhooks;Ext.override(g,b)}}else{d={}}g.initialConfig=d;g.mixins.elementCt.constructor.call(g);g.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur");g.getId();g.setupProtoEl();if(g.cls){g.initialCls=g.cls;g.protoEl.addCls(g.cls)}if(g.style){g.initialStyle=g.style;g.protoEl.setStyle(g.style)}g.renderData=g.renderData||{};g.renderSelectors=g.renderSelectors||{};if(g.plugins){g.plugins=g.constructPlugins()}if(!g.hasListeners){g.hasListeners=new g.HasListeners()}g.initComponent();Ext.ComponentManager.register(g);g.mixins.observable.constructor.call(g);g.mixins.state.constructor.call(g,d);this.addStateEvents("resize");if(g.plugins){for(e=0,a=g.plugins.length;e<a;e++){g.plugins[e]=g.initPlugin(g.plugins[e])}}g.loader=g.getLoader();if(g.renderTo){g.render(g.renderTo)}if(g.autoShow&&!g.isContained){g.show()}},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var b=this,d=null,a=b.getSizeModel();if(a.width.configured){d=b.addPropertyToState(d,"width")}if(a.height.configured){d=b.addPropertyToState(d,"height")}return d},addPropertyToState:function(g,e,d){var b=this,a=arguments.length;if(a==3||b.hasOwnProperty(e)){if(a<3){d=b[e]}if(d!==b.initialConfig[e]){(g||(g={}))[e]=d}}return g},show:Ext.emptyFn,animate:function(d){var A=this,k,o,n,a,e,b,z,u,q,g,x,r,l,t,y,m;d=d||{};e=d.to||{};if(Ext.fx.Manager.hasFxBlock(A.id)){return A}k=Ext.isDefined(e.width);if(k){a=Ext.Number.constrain(e.width,A.minWidth,A.maxWidth)}o=Ext.isDefined(e.height);if(o){n=Ext.Number.constrain(e.height,A.minHeight,A.maxHeight)}if(!d.dynamic&&(k||o)){u=(d.from?d.from.width:undefined)||A.getWidth();q=u;g=(d.from?d.from.height:undefined)||A.getHeight();x=g;r=false;if(o&&n>g){x=n;r=true}if(k&&a>u){q=a;r=true}if(o||k){m=A.el.getStyle("overtflow");if(m!=="hidden"){A.el.setStyle("overflow","hidden")}}if(r){b=!Ext.isNumber(A.width);z=!Ext.isNumber(A.height);A.setSize(q,x);A.el.setSize(u,g);if(b){delete A.width}if(z){delete A.height}}if(k){e.width=a}if(o){e.height=n}}l=A.constrain;t=A.constrainHeader;if(l||t){A.constrain=A.constrainHeader=false;y=d.callback;d.callback=function(){A.constrain=l;A.constrainHeader=t;if(y){y.call(d.scope||A,arguments)}if(m!=="hidden"){A.el.setStyle("overflow",m)}}}return A.mixins.animate.animate.apply(A,arguments)},setHiddenState:function(a){var b=this.getHierarchyState();this.hidden=a;if(a){b.hidden=true}else{delete b.hidden}},onHide:function(){if(this.ownerLayout){this.updateLayout({isRoot:false})}},onShow:function(){this.updateLayout({isRoot:false})},constructPlugin:function(b){var a=this;if(typeof b=="string"){b=Ext.PluginManager.create({},b,a)}else{b=Ext.PluginManager.create(b,null,a)}return b},constructPlugins:function(){var g=this,d=g.plugins,b,e,a;if(d){b=[];if(!Ext.isArray(d)){d=[d]}for(e=0,a=d.length;e<a;e++){b[e]=g.constructPlugin(d[e])}}g.pluginsInitialized=true;return b},initPlugin:function(a){a.init(this);return a},addPlugin:function(b){var a=this;b=a.constructPlugin(b);if(a.plugins){a.plugins.push(b)}else{a.plugins=[b]}if(a.pluginsInitialized){a.initPlugin(b)}return b},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},findPlugin:function(e){var b,a=this.plugins,d=a&&a.length;for(b=0;b<d;b++){if(a[b].ptype===e){return a[b]}}},getPlugin:function(b){var d,a=this.plugins,e=a&&a.length;for(d=0;d<e;d++){if(a[d].pluginId===b){return a[d]}}},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(b){var a=this;if(!a.floatingDescendants){a.floatingDescendants=new Ext.ZIndexManager(a)}a.floatingDescendants.register(b)},unregisterFloatingItem:function(b){var a=this;if(a.floatingDescendants){a.floatingDescendants.unregister(b)}},layoutSuspendCount:0,suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount==1){a.suspendLayout=true}},resumeLayouts:function(b){var a=this;if(!a.rendered){return}if(!--a.layoutSuspendCount){a.suspendLayout=false;if(b&&!a.isLayoutSuspended()){a.updateLayout(b)}}},setupProtoEl:function(){var a=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:a.join(" ")})},initCls:function(){var b=this,a=[b.baseCls,b.getComponentLayout().targetCls];if(b.componentCls){a.push(b.componentCls)}else{b.componentCls=b.baseCls}return a},setUI:function(d){var b=this,g=b.uiCls,e=b.activeUI,a;if(d===e){return}if(e){a=b.removeClsWithUI(g,true);if(a.length){b.removeCls(a)}b.removeUIFromElement()}else{b.uiCls=[]}b.ui=d;b.activeUI=d;b.addUIToElement();a=b.addClsWithUI(g,true);if(a.length){b.addCls(a)}if(b.rendered){b.updateLayout()}},addClsWithUI:function(d,l){var k=this,h=[],g=0,e=k.uiCls=Ext.Array.clone(k.uiCls),b=k.activeUI,a,m;if(typeof d==="string"){d=(d.indexOf(" ")<0)?[d]:Ext.String.splitWords(d)}a=d.length;for(;g<a;g++){m=d[g];if(m&&!k.hasUICls(m)){e.push(m);if(b){h=h.concat(k.addUIClsToElement(m))}}}if(l!==true&&b){k.addCls(h)}return h},removeClsWithUI:function(e,n){var m=this,l=[],h=0,a=Ext.Array,k=a.remove,g=m.uiCls=a.clone(m.uiCls),d=m.activeUI,b,o;if(typeof e==="string"){e=(e.indexOf(" ")<0)?[e]:Ext.String.splitWords(e)}b=e.length;for(h=0;h<b;h++){o=e[h];if(o&&m.hasUICls(o)){k(g,o);if(d){l=l.concat(m.removeUIClsFromElement(o))}}}if(n!==true&&d){m.removeCls(l)}return l},hasUICls:function(a){var b=this,d=b.uiCls||[];return Ext.Array.contains(d,a)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(l){var k=this,b=k.baseCls+"-"+k.ui+"-"+l,m=[Ext.baseCSSPrefix+l,k.baseCls+"-"+l,b],h,g,e,a,d;if(k.rendered&&k.frame&&!Ext.supports.CSS3BorderRadius){h=k.frameElementsArray;g=h.length;for(e=0;e<g;e++){d=h[e];a=k["frame"+d.toUpperCase()];if(a){a.addCls(b+"-"+d)}}}return m},removeUIClsFromElement:function(l){var k=this,b=k.baseCls+"-"+k.ui+"-"+l,m=[Ext.baseCSSPrefix+l,k.baseCls+"-"+l,b],h,g,e,a,d;if(k.rendered&&k.frame&&!Ext.supports.CSS3BorderRadius){h=k.frameElementsArray;g=h.length;for(e=0;e<g;e++){d=h[e];a=k["frame"+d.toUpperCase()];if(a){a.removeCls(b+"-"+d)}}}return m},addUIToElement:function(){var h=this,b=h.baseCls+"-"+h.ui,a,g,d,e,k;h.addCls(b);if(h.rendered&&h.frame&&!Ext.supports.CSS3BorderRadius){a=h.frameElementsArray;g=a.length;for(d=0;d<g;d++){k=a[d];e=h["frame"+k.toUpperCase()];if(e){e.addCls(b+"-"+k)}}}},removeUIFromElement:function(){var h=this,b=h.baseCls+"-"+h.ui,a,g,d,e,k;h.removeCls(b);if(h.rendered&&h.frame&&!Ext.supports.CSS3BorderRadius){a=h.frameElementsArray;g=a.length;for(d=0;d<g;d++){k=a[d];e=h["frame"+k.toUpperCase()];if(e){e.removeCls(b+"-"+k)}}}},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initStyles:function(n){var h=this,d=Ext.Element,e=h.margin,g=h.border,o=h.cls,a=h.style,l=h.x,k=h.y,b,m;h.initPadding(n);if(e!=null){n.setStyle("margin",this.unitizeBox((e===true)?5:e))}if(g!=null){h.setBorder(g,n)}if(o&&o!=h.initialCls){n.addCls(o);h.cls=h.initialCls=null}if(a&&a!=h.initialStyle){n.setStyle(a);h.style=h.initialStyle=null}if(l!=null){n.setStyle(h.horizontalPosProp,(typeof l=="number")?(l+"px"):l)}if(k!=null){n.setStyle("top",(typeof k=="number")?(k+"px"):k)}if(Ext.isBorderBox&&(!h.ownerCt||h.floating)){n.addCls(h.borderBoxCls)}if(!h.getFrameInfo()){b=h.width;m=h.height;if(b!=null){if(typeof b==="number"){if(Ext.isBorderBox){n.setStyle("width",b+"px")}}else{n.setStyle("width",b)}}if(m!=null){if(typeof m==="number"){if(Ext.isBorderBox){n.setStyle("height",m+"px")}}else{n.setStyle("height",m)}}}},initPadding:function(d){var a=this,b=a.padding;if(b!=null){if(a.layout&&a.layout.managePadding&&a.contentPaddingProperty==="padding"){d.setStyle("padding",0)}else{d.setStyle("padding",this.unitizeBox((b===true)?5:b))}}},parseBox:function(a){return Ext.dom.Element.parseBox(a)},unitizeBox:function(a){return Ext.dom.Element.unitizeBox(a)},setMargin:function(d,b){var a=this;if(a.rendered){if(!d&&d!==0){d=""}else{if(d===true){d=5}d=this.unitizeBox(d)}a.getTargetEl().setStyle("margin",d);if(!b){a.updateLayout()}}else{a.margin=d}},initEvents:function(){var g=this,k=g.afterRenderEvents,b,e,h,d,a;if(k){for(h in k){e=g[h];if(e&&e.on){b=k[h];for(d=0,a=b.length;d<a;++d){g.mon(e,b[d])}}}}g.addFocusListener()},addFocusListener:function(){var d=this,b=d.getFocusEl(),a;if(b){if(b.isComponent){return b.addFocusListener()}a=b.needsTabIndex();if(!d.focusListenerAdded&&(!a||Ext.FocusManager.enabled)){if(a){b.dom.tabIndex=-1}b.on({focus:d.onFocus,blur:d.onBlur,scope:d});d.focusListenerAdded=true}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var b=this,a;if((b.focusable!==false)&&(a=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(true)){return a.isFocusable(true)}},beforeFocus:Ext.emptyFn,onFocus:function(g){var d=this,b=d.focusCls,a=d.getFocusEl();if(!d.disabled){d.beforeFocus(g);if(b&&a){a.addCls(d.addClsWithUI(b,true))}if(!d.hasFocus){d.hasFocus=true;d.fireEvent("focus",d,g)}}},beforeBlur:Ext.emptyFn,onBlur:function(g){var d=this,b=d.focusCls,a=d.getFocusEl();if(d.destroying){return}d.beforeBlur(g);if(b&&a){a.removeCls(d.removeClsWithUI(b,true))}if(d.validateOnBlur){d.validate()}d.hasFocus=false;d.fireEvent("blur",d,g);d.postBlur(g)},postBlur:Ext.emptyFn,is:function(a){return Ext.ComponentQuery.is(this,a)},up:function(e,g){var d=this.getRefOwner(),b=typeof g==="string",k=typeof g==="number",a=g&&g.isComponent,h=0;if(e){for(;d;d=d.getRefOwner()){h++;if(e.isComponent){if(d===e){return d}}else{if(Ext.ComponentQuery.is(d,e)){return d}}if(b&&d.is(g)){return}if(k&&h===g){return}if(a&&d===g){return}}}return d},nextSibling:function(b){var g=this.ownerCt,d,e,a,h;if(g){d=g.items;a=d.indexOf(this)+1;if(a){if(b){for(e=d.getCount();a<e;a++){if((h=d.getAt(a)).is(b)){return h}}}else{if(a<d.getCount()){return d.getAt(a)}}}}return null},previousSibling:function(b){var e=this.ownerCt,d,a,g;if(e){d=e.items;a=d.indexOf(this);if(a!=-1){if(b){for(--a;a>=0;a--){if((g=d.getAt(a)).is(b)){return g}}}else{if(a){return d.getAt(--a)}}}}return null},previousNode:function(b,e){var l=this,k=l.ownerCt,a,h,g,d;if(e&&l.is(b)){return l}if(k){for(h=k.items.items,g=Ext.Array.indexOf(h,l)-1;g>-1;g--){d=h[g];if(d.query){a=d.query(b);a=a[a.length-1];if(a){return a}}if(d.is(b)){return d}}return k.previousNode(b,true)}return null},nextNode:function(e,l){var b=this,d=b.ownerCt,m,g,k,h,a;if(l&&b.is(e)){return b}if(d){for(g=d.items.items,h=Ext.Array.indexOf(g,b)+1,k=g.length;h<k;h++){a=g[h];if(a.is(e)){return a}if(a.down){m=a.down(e);if(m){return m}}}return d.nextNode(e)}return null},getId:function(){return this.id||(this.id="ext-comp-"+(this.getAutoId()))},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var g=this,b=null,e,d,a;if(typeof g.autoScroll==="boolean"){b={overflow:a=g.autoScroll?"auto":""};g.scrollFlags={overflowX:a,overflowY:a,x:true,y:true,both:true}}else{e=g.overflowX;d=g.overflowY;if(e!==undefined||d!==undefined){b={overflowX:e=e||"",overflowY:d=d||""};g.scrollFlags={overflowX:e,overflowY:d,x:e=(e==="auto"||e==="scroll"),y:d=(d==="auto"||d==="scroll"),both:e&&d}}else{g.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}}if(b&&Ext.isIE7m){b.position="relative"}return b},isXType:function(b,a){if(a){return this.xtype===b}else{return this.xtypesMap[b]}},getXTypes:function(){var d=this.self,e,b,a;if(!d.xtypes){e=[];b=this;while(b){a=b.xtypes;if(a!==undefined){e.unshift.apply(e,a)}b=b.superclass}d.xtypeChain=e;d.xtypes=e.join("/")}return d.xtypes},update:function(b,d,a){var g=this,h=(g.tpl&&!Ext.isString(b)),e;if(h){g.data=b}else{g.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b}if(g.rendered){e=g.isContainer?g.layout.getRenderTarget():g.getTargetEl();if(h){g.tpl[g.tplWriteMode](e,b||{})}else{e.update(g.html,d,a)}g.updateLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(a){var b=this,d;if(b.hidden||!b.rendered||b.isDestroyed){d=true}else{if(a){d=b.isHierarchicallyHidden()}}return !d},isHierarchicallyHidden:function(){var e=this,d=false,b,a;for(;(b=e.ownerCt||e.floatParent);e=b){a=b.getHierarchyState();if(a.hidden){d=true;break}if(e.getHierarchyState().collapseImmune){if(b.collapsed&&!e.collapseImmune){d=true;break}}else{d=!!a.collapsed;break}}return d},onBoxReady:function(b,a){var d=this;if(d.disableOnBoxReady){d.onDisable()}else{if(d.enableOnBoxReady){d.onEnable()}}if(d.resizable){d.initResizable(d.resizable)}if(d.draggable){d.initDraggable()}if(d.hasListeners.boxready){d.fireEvent("boxready",d,b,a)}},enable:function(a){var b=this;delete b.disableOnBoxReady;b.removeCls(b.disabledCls);if(b.rendered){b.onEnable()}else{b.enableOnBoxReady=true}b.disabled=false;delete b.resetDisable;if(a!==true){b.fireEvent("enable",b)}return b},disable:function(a){var b=this;delete b.enableOnBoxReady;b.addCls(b.disabledCls);if(b.rendered){b.onDisable()}else{b.disableOnBoxReady=true}b.disabled=true;if(a!==true){delete b.resetDisable;b.fireEvent("disable",b)}return b},onEnable:function(){if(this.maskOnDisable){this.el.dom.disabled=false;this.unmask()}},onDisable:function(){var d=this,b=d.focusCls,a=d.getFocusEl();if(b&&a){a.removeCls(d.removeClsWithUI(b,true))}if(d.maskOnDisable){d.el.dom.disabled=true;d.mask()}},mask:function(){var b=this.lastBox,d=this.getMaskTarget(),a=[];if(b){a[2]=b.height}d.mask.apply(d,a)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(a){return this[a?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(a){var d=this,b=d.rendered?d.el:d.protoEl;b.addCls.apply(b,arguments);return d},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(a){var d=this,b=d.rendered?d.el:d.protoEl;return b.hasCls.apply(b,arguments)},removeCls:function(a){var d=this,b=d.rendered?d.el:d.protoEl;b.removeCls.apply(b,arguments);return d},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(b,h,g,a){var k=this,e,d;if(Ext.isString(b)&&(Ext.isObject(h)||a&&a.element)){if(a.element){e=h;h={};h[b]=e;b=a.element;if(g){h.scope=g}for(d in a){if(a.hasOwnProperty(d)){if(k.eventOptionsRe.test(d)){h[d]=a[d]}}}}if(k[b]&&k[b].on){k.mon(k[b],h)}else{k.afterRenderEvents=k.afterRenderEvents||{};if(!k.afterRenderEvents[b]){k.afterRenderEvents[b]=[]}k.afterRenderEvents[b].push(h)}return}return k.mixins.observable.addListener.apply(k,arguments)},removeManagedListenerItem:function(b,a,l,e,h,g){var k=this,d=a.options?a.options.element:null;if(d){d=k[d];if(d&&d.un){if(b||(a.item===l&&a.ename===e&&(!h||a.fn===h)&&(!g||a.scope===g))){d.un(a.ename,a.fn,a.scope);if(!b){Ext.Array.remove(k.managedListeners,a)}}}}else{return k.mixins.observable.removeManagedListenerItem.apply(k,arguments)}},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},onAdded:function(a,d){var b=this;b.ownerCt=a;if(b.hierarchyState){b.hierarchyState.invalid=true;delete b.hierarchyState}if(b.hasListeners.added){b.fireEvent("added",b,a,d)}},onRemoved:function(b){var a=this;if(a.hasListeners.removed){a.fireEvent("removed",a,a.ownerCt)}delete a.ownerCt;delete a.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(d,a,b,g){var e=this;if(e.floating&&e.constrain){e.doConstrain()}if(e.hasListeners.resize){e.fireEvent("resize",e,d,a,b,g)}},setSize:function(b,a){var d=this;if(b&&typeof b=="object"){a=b.height;b=b.width}if(typeof b=="number"){d.width=Ext.Number.constrain(b,d.minWidth,d.maxWidth)}else{if(b===null){delete d.width}}if(typeof a=="number"){d.height=Ext.Number.constrain(a,d.minHeight,d.maxHeight)}else{if(a===null){delete d.height}}if(d.rendered&&d.isVisible()){d.updateLayout({isRoot:false})}return d},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return true}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return true}b=a.ownerLayout;if(!b){break}a=b.owner}return false},updateLayout:function(d){var e=this,g,b=e.lastBox,a=d&&d.isRoot;if(b){b.invalid=true}if(!e.rendered||e.layoutSuspendCount||e.suspendLayout){return}if(e.hidden){Ext.AbstractComponent.cancelLayout(e)}else{if(typeof a!="boolean"){a=e.isLayoutRoot()}}if(a||!e.ownerLayout||!e.ownerLayout.onContentChange(e)){if(!e.isLayoutSuspended()){g=(d&&d.hasOwnProperty("defer"))?d.defer:e.deferLayouts;Ext.AbstractComponent.updateLayout(e,g)}}},getSizeModel:function(m){var r=this,a=Ext.layout.SizeModel,e=r.componentLayout.ownerContext,b=r.width,u=r.height,w,d,h,g,k,t,o,q,n,l;if(e){l=e.widthModel;k=e.heightModel}if(!l||!k){h=((w=typeof b)=="number");g=((d=typeof u)=="number");n=r.floating||!(t=r.ownerLayout);if(n){o=Ext.layout.Layout.prototype.autoSizePolicy;q=r.floating?3:r.shrinkWrap;if(h){l=a.configured}if(g){k=a.configured}}else{o=t.getItemSizePolicy(r,m);q=t.isItemShrinkWrap(r)}if(e){e.ownerSizePolicy=o}q=(q===true)?3:(q||0);if(n&&q){if(b&&w=="string"){q&=2}if(u&&d=="string"){q&=1}}if(q!==3){if(!m){m=r.ownerCt&&r.ownerCt.getSizeModel()}if(m){q|=(m.width.shrinkWrap?1:0)|(m.height.shrinkWrap?2:0)}}if(!l){if(!o.setsWidth){if(h){l=a.configured}else{l=(q&1)?a.shrinkWrap:a.natural}}else{if(o.readsWidth){if(h){l=a.calculatedFromConfigured}else{l=(q&1)?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else{l=a.calculated}}}if(!k){if(!o.setsHeight){if(g){k=a.configured}else{k=(q&2)?a.shrinkWrap:a.natural}}else{if(o.readsHeight){if(g){k=a.calculatedFromConfigured}else{k=(q&2)?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else{k=a.calculated}}}}return l.pairsByHeightOrdinal[k.ordinal]},isDescendant:function(a){if(a.isContainer){for(var b=this.ownerCt;b;b=b.ownerCt){if(b===a){return true}}}return false},doComponentLayout:function(){this.updateLayout();return this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"))}return a.componentLayout},afterComponentLayout:function(d,a,b,g){var e=this;if(++e.componentLayoutCounter===1){e.afterFirstLayout(d,a)}if(d!==b||a!==g){e.onResize(d,a,b,g)}},beforeComponentLayout:function(b,a){return true},setPosition:function(a,g,b){var d=this,e=d.beforeSetPosition.apply(d,arguments);if(e&&d.rendered){a=e.x;g=e.y;if(b){if(a!==d.getLocalX()||g!==d.getLocalY()){d.stopAnimation();d.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[a,g])},to:{x:a,y:g}},b))}}else{d.setLocalXY(a,g);d.afterSetPosition(a,g)}}return d},beforeSetPosition:function(a,g,b){var e,d;if(a){if(Ext.isNumber(d=a[0])){b=g;g=a[1];a=d}else{if((d=a.x)!==undefined){b=g;g=a.y;a=d}}}if(this.constrain||this.constrainHeader){e=this.calculateConstrainedPosition(null,[a,g],true);if(e){a=e[0];g=e[1]}}e={x:this.x=a,y:this.y=g,anim:b,hasX:a!==undefined,hasY:g!==undefined};return(e.hasX||e.hasY)?e:null},afterSetPosition:function(a,d){var b=this;b.onPosition(a,d);if(b.hasListeners.move){b.fireEvent("move",b,a,d)}},onPosition:Ext.emptyFn,setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var d=this,b=d.autoLoad?(Ext.isObject(d.autoLoad)?d.autoLoad:{url:d.autoLoad}):null,a=d.loader||b;if(a){if(!a.isLoader){d.loader=new Ext.ComponentLoader(Ext.apply({target:d,autoLoad:b},a))}else{a.setTarget(d)}return d.loader}return null},setDocked:function(b,d){var a=this;a.dock=b;if(d&&a.ownerCt&&a.rendered){a.ownerCt.updateLayout()}return a},setBorder:function(b,e){var d=this,a=!!e;if(d.rendered||a){if(!a){e=d.el}if(!b){b=0}else{if(b===true){b="1px"}else{b=this.unitizeBox(b)}}e.setStyle("border-width",b);if(!a){d.updateLayout()}}d.border=b},onDestroy:function(){var a=this;if(a.monitorResize&&Ext.EventManager.resizeEvent){Ext.EventManager.resizeEvent.removeListener(a.setSize,a)}Ext.destroy(a.componentLayout,a.loadMask,a.floatingDescendants)},destroy:function(){var e=this,b=e.renderSelectors,a,d;if(!e.isDestroyed){if(!e.hasListeners.beforedestroy||e.fireEvent("beforedestroy",e)!==false){e.destroying=true;e.beforeDestroy();if(e.floating){delete e.floatParent;if(e.zIndexManager){e.zIndexManager.unregister(e)}}else{if(e.ownerCt&&e.ownerCt.remove){e.ownerCt.remove(e,false)}}e.stopAnimation();e.onDestroy();Ext.destroy(e.plugins);if(e.hasListeners.destroy){e.fireEvent("destroy",e)}Ext.ComponentManager.unregister(e);e.mixins.state.destroy.call(e);e.clearListeners();if(e.rendered){if(!e.preserveElOnDestroy){e.el.remove()}e.mixins.elementCt.destroy.call(e);if(b){for(a in b){if(b.hasOwnProperty(a)){d=e[a];if(d){delete e[a];d.remove()}}}}delete e.el;delete e.frameBody;delete e.rendered}e.destroying=false;e.isDestroyed=true}}},isDescendantOf:function(a){return !!this.findParentBy(function(b){return b===a})},getHierarchyState:function(a){var g=this,l=(a&&g.hierarchyStateInner)||g.hierarchyState,d=g.ownerCt,b,e,h,k;if(!l||l.invalid){b=g.getRefOwner();if(d){k=g.ownerLayout===d.layout}g.hierarchyState=l=Ext.Object.chain(b?b.getHierarchyState(k):Ext.rootHierarchyState);g.initHierarchyState(l);if((e=g.componentLayout).initHierarchyState){e.initHierarchyState(l)}if(g.isContainer){g.hierarchyStateInner=h=Ext.Object.chain(l);e=g.layout;if(e&&e.initHierarchyState){e.initHierarchyState(h,l)}if(a){l=h}}}return l},initHierarchyState:function(b){var a=this;if(a.collapsed){b.collapsed=true}if(a.hidden){b.hidden=true}if(a.collapseImmune){b.collapseImmune=true}},getAnchorToXY:function(e,a,d,b){return e.getAnchorXY(a,d,b)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)}},1,0,0,0,0,[["positionable",Ext.util.Positionable],["observable",Ext.util.Observable],["animate",Ext.util.Animate],["elementCt",Ext.util.ElementContainer],["renderable",Ext.util.Renderable],["state",Ext.state.Stateful]],[Ext,"AbstractComponent"],function(){var a=this;a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(d,b){a.suspendLayouts();d.call(b);a.resumeLayouts(true)}}));(Ext.cmd.derive("Ext.AbstractPlugin",Ext.Base,{disabled:false,isPlugin:true,constructor:function(a){this.pluginConfig=a;Ext.apply(this,a)},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,destroy:Ext.emptyFn,enable:function(){this.disabled=false},disable:function(){this.disabled=true},onClassExtended:function(b,e,a){var d=e.alias;if(d&&!e.ptype){if(Ext.isArray(d)){d=d[0]}b.prototype.ptype=d.split("plugin.")[1]}}},1,0,0,0,0,0,[Ext,"AbstractPlugin"],0));(Ext.cmd.derive("Ext.data.flash.BinaryXhr",Ext.Base,{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.globalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,d,b){var a;a=this.liveConnections[Number(e)];if(a){a.onFlashStateChange(d,b)}},registerConnection:function(b){var a=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[a]=b;return a},injectFlashPlugin:function(){var h,b,d,a,g=this,e,k;a=document.createElement("img");a.setAttribute("src",window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif");a.setAttribute("alt","Get Adobe Flash player");d=document.createElement("a");d.setAttribute("href","http://www.adobe.com/go/getflashplayer");d.appendChild(a);b=document.createElement("p");b.innerHTML="To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed.";h=document.createElement("div");h.setAttribute("id","ext-flash-polyfill");h.appendChild(b);h.appendChild(a);Ext.getBody().dom.appendChild(h);e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");k="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){k=Ext.flashPluginPath}Ext.Loader.loadScript({url:e,onLoad:function(){var m="11.4.0";var o="playerProductInstall.swf";var l={};var q={};q.quality="high";q.bgcolor="#ffffff";q.allowscriptaccess="sameDomain";q.allowfullscreen="true";var n={};n.id="ext-flash-polyfill";n.name="polyfill";n.align="middle";swfobject.embedSWF(k,"ext-flash-polyfill","0","0",m,o,l,q,n)},onError:function(){},scope:g});Ext.globalEvents.addEvents("flashready");Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var b=this;Ext.apply(b,a);b.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){return}a.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.removeListener("flashready",a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,d){a.push(b+": "+d)});return a.join("\r\n")},getResponseHeader:function(b){var a=this.responseHeaders;return(a&&a[b])||null},open:function(h,d,e,a,b){var g=this;g.method=h;g.url=d;g.async=e!==false;g.user=a;g.password=b},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.globalEvents.addListener("flashready",b.onFlashReady,b)}else{this.onFlashReady()}},onFlashReady:function(){var d=this,b,a;d.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(d);b={method:d.method,url:d.url,user:d.user,password:d.password,mimeType:d.mimeType,requestHeaders:d.requestHeaders,body:d.body,javascriptId:d.javascriptId};a=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!=b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(b,a){this.requestHeaders[b]=a},onreadystatechange:Ext.emptyFn,parseData:function(b){var a=this;this.status=b.status||0;a.responseHeaders={};if(a.mimeType){a.responseHeaders["content-type"]=a.mimeType}if(b.reason=="complete"){this.responseBytes=b.data;a.responseHeaders["content-length"]=b.data.length}else{if(b.reason=="error"||b.reason=="securityError"){this.statusText=b.text;a.responseHeaders["content-length"]=0}}},onFlashStateChange:function(d,b){var a=this;if(d==4){a.parseData(b);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}a.setReadyState(d)}},1,0,0,0,0,0,[Ext.data.flash,"BinaryXhr"],0));(Ext.cmd.derive("Ext.data.Connection",Ext.Base,{statics:{requestId:0},url:null,async:true,method:null,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",constructor:function(a){a=a||{};Ext.apply(this,a);this.requests={};this.mixins.observable.constructor.call(this)},request:function(n){n=n||{};var h=this,m=n.scope||window,g=n.username||h.username,k=n.password||h.password||"",b,d,e,a,l;if(h.fireEvent("beforerequest",h,n)!==false){d=h.setOptions(n,m);if(h.isFormUpload(n)){h.upload(n.form,d.url,d.data,n);return null}if(n.autoAbort||h.autoAbort){h.abort()}b=n.async!==false?(n.async||h.async):false;l=h.openRequest(n,d,b,g,k);if(!h.isXdr){a=h.setupHeaders(l,n,d.data,d.params)}e={id:++Ext.data.Connection.requestId,xhr:l,headers:a,options:n,async:b,binary:n.binary||h.binary,timeout:setTimeout(function(){e.timedout=true;h.abort(e)},n.timeout||h.timeout)};h.requests[e.id]=e;h.latestId=e.id;if(b){if(!h.isXdr){l.onreadystatechange=Ext.Function.bind(h.onStateChange,h,[e])}}if(h.isXdr){h.processXdrRequest(e,l)}l.send(d.data);if(!b){return h.onComplete(e)}return e}else{Ext.callback(n.callback,n.scope,[n,undefined,undefined]);return null}},processXdrRequest:function(b,d){var a=this;delete b.headers;b.contentType=b.options.contentType||a.defaultXdrContentType;d.onload=Ext.Function.bind(a.onStateChange,a,[b,true]);d.onerror=d.ontimeout=Ext.Function.bind(a.onStateChange,a,[b,false])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.defaultXdrContentType},upload:function(b,k,y,g){b=Ext.getDom(b);g=g||{};var r=Ext.id(),o=document.createElement("iframe"),d=[],e="multipart/form-data",x={target:b.target,method:b.method,encoding:b.encoding,enctype:b.enctype,action:b.action},a=function(h,A){l=document.createElement("input");Ext.fly(l).set({type:"hidden",value:A,name:h});b.appendChild(l);d.push(l)},l,n,u,z,t,m,q,w;Ext.fly(o).set({id:r,name:r,cls:Ext.baseCSSPrefix+"hide-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(o);if(document.frames){document.frames[r].name=r}Ext.fly(b).set({target:r,method:"POST",enctype:e,encoding:e,action:k||x.action});if(y){n=Ext.Object.fromQueryString(y)||{};for(z in n){if(n.hasOwnProperty(z)){u=n[z];if(Ext.isArray(u)){t=u.length;for(m=0;m<t;m++){a(z,u[m])}}else{a(z,u)}}}}Ext.fly(o).on("load",Ext.Function.bind(this.onUploadComplete,this,[o,g]),null,{single:!Ext.isOpera});b.submit();Ext.fly(b).set(x);q=d.length;for(w=0;w<q;w++){Ext.removeNode(d[w])}},onUploadComplete:function(a,n){var h=this,b={responseText:"",responseXML:null},l,m,k,d;try{k=a.contentWindow.document||a.contentDocument||window.frames[a.id].document;if(k){if(Ext.isOpera&&k.location=="about:blank"){return}if(k.body){if((d=k.body.firstChild)&&/pre/i.test(d.tagName)){b.responseText=d.textContent}else{if((d=k.getElementsByTagName("textarea")[0])){b.responseText=d.value}else{b.responseText=k.body.textContent||k.body.innerText}}}b.responseXML=k.XMLDocument||k;l=n.success;m=true}}catch(g){b.responseText='{success:false,message:"'+Ext.String.trim(g.message||g.description)+'"}';l=n.failure;m=false}h.fireEvent("requestcomplete",h,b,n);Ext.callback(l,n.scope,[b,n]);Ext.callback(n.callback,n.scope,[n,m,b]);setTimeout(function(){Ext.removeNode(a)},100)},isFormUpload:function(a){var b=this.getForm(a);if(b){return(a.isUpload||(/multipart\/form-data/i).test(b.getAttribute("enctype")))}return false},getForm:function(a){return Ext.getDom(a.form)||null},setOptions:function(o,n){var l=this,g=o.params||{},k=l.extraParams,e=o.urlParams,d=o.url||l.url,m=o.jsonData,b,a,h;if(Ext.isFunction(g)){g=g.call(n,o)}if(Ext.isFunction(d)){d=d.call(n,o)}d=this.setupUrl(o,d);h=o.rawData||o.binaryData||o.xmlData||m||null;if(m&&!Ext.isPrimitive(m)){h=Ext.encode(h)}if(o.binaryData){if(l.nativeBinaryPostSupport()){h=(new Uint8Array(o.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){h=h.buffer}}}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}if(Ext.isObject(k)){k=Ext.Object.toQueryString(k)}g=g+((k)?((g)?"&":"")+k:"");e=Ext.isObject(e)?Ext.Object.toQueryString(e):e;g=this.setupParams(o,g);b=(o.method||l.method||((g||h)?"POST":"GET")).toUpperCase();this.setupMethod(o,b);a=o.disableCaching!==false?(o.disableCaching||l.disableCaching):false;if(b==="GET"&&a){d=Ext.urlAppend(d,(o.disableCachingParam||l.disableCachingParam)+"="+(new Date().getTime()))}if((b=="GET"||h)&&g){d=Ext.urlAppend(d,g);g=null}if(e){d=Ext.urlAppend(d,e)}return{url:d,method:b,data:h||g||null}},setupUrl:function(b,a){var d=this.getForm(b);if(d){a=a||d.action}return a},setupParams:function(a,e){var d=this.getForm(a),b;if(d&&!this.isFormUpload(a)){b=Ext.Element.serializeForm(d);e=e?(e+"&"+b):b}return e},setupMethod:function(a,b){if(this.isFormUpload(a)){return"POST"}return b},setupHeaders:function(q,r,g,d){var l=this,b=Ext.apply({},r.headers||{},l.defaultHeaders||{}),o=l.defaultPostHeader,m=r.jsonData,a=r.xmlData,n,h;if(!b["Content-Type"]&&(g||d)){if(g){if(r.rawData){o="text/plain"}else{if(a&&Ext.isDefined(a)){o="text/xml"}else{if(m&&Ext.isDefined(m)){o="application/json"}}}}b["Content-Type"]=o}if(l.useDefaultXhrHeader&&!b["X-Requested-With"]){b["X-Requested-With"]=l.defaultXhrHeader}try{for(n in b){if(b.hasOwnProperty(n)){h=b[n];q.setRequestHeader(n,h)}}}catch(k){l.fireEvent("exception",n,h)}return b},newRequest:function(a){var b=this,d;if(a.binaryData){if(b.nativeBinaryPostSupport()){d=this.getXhrInstance()}else{d=new Ext.data.flash.BinaryXhr()}}else{if((a.cors||b.cors)&&Ext.isIE&&Ext.ieVersion<=9){d=b.getXdrInstance();b.isXdr=true}else{d=b.getXhrInstance()}}return d},openRequest:function(d,a,e,k,b){var g=this,h=g.newRequest(d);if(k){h.open(a.method,a.url,e,k,b)}else{if(g.isXdr){h.open(a.method,a.url)}else{h.open(a.method,a.url,e)}}if(d.binary||g.binary){if(window.Uint8Array){h.responseType="arraybuffer"}else{if(h.overrideMimeType){h.overrideMimeType("text/plain; charset=x-user-defined")}}}if(d.withCredentials||g.withCredentials){h.withCredentials=true}return h},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return a},getXhrInstance:(function(){var b=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],d=0,a=b.length,h;for(;d<a;++d){try{h=b[d];h();break}catch(g){}}return h}()),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return false}var b=a.xhr.readyState;return((a.xhr instanceof Ext.data.flash.BinaryXhr)&&b!=4)||!(b===0||b==4)},abort:function(b){var a=this,g;if(!b){b=a.getLatest()}if(b&&a.isLoading(b)){g=b.xhr;try{g.onreadystatechange=null}catch(d){g.onreadystatechange=Ext.emptyFn}g.abort();a.clearTimeout(b);if(!b.timedout){b.aborted=true}a.onComplete(b);a.cleanup(b)}},abortAll:function(){var b=this.requests,a;for(a in b){if(b.hasOwnProperty(a)){this.abort(b[a])}}},getLatest:function(){var b=this.latestId,a;if(b){a=this.requests[b]}return a||null},onStateChange:function(d,a){var b=this;if((d.xhr&&d.xhr.readyState==4)||b.isXdr){b.clearTimeout(d);b.onComplete(d,a);b.cleanup(d);Ext.EventManager.idleEvent.fire()}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(k,g){var h=this,d=k.options,a,m,b;try{a=h.parseStatus(k.xhr.status)}catch(l){a={success:false,isException:false}}m=h.isXdr?g:a.success;if(m){b=h.createResponse(k);h.fireEvent("requestcomplete",h,b,d);Ext.callback(d.success,d.scope,[b,d])}else{if(a.isException||k.aborted||k.timedout){b=h.createException(k)}else{b=h.createResponse(k)}h.fireEvent("requestexception",h,b,d);Ext.callback(d.failure,d.scope,[b,d])}Ext.callback(d.callback,d.scope,[d,m,b]);delete h.requests[k.id];return b},parseStatus:function(a){a=a==1223?204:a;var d=(a>=200&&a<300)||a==304,b=false;if(!d){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break}}return{success:d,isException:b}},createResponse:function(g){var l=this,n=g.xhr,d=l.isXdr,b={},o=d?[]:n.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),k=o.length,q,h,m,e,a;while(k--){q=o[k];h=q.indexOf(":");if(h>=0){m=q.substr(0,h).toLowerCase();if(q.charAt(h+1)==" "){++h}b[m]=q.substr(h+1)}}g.xhr=null;delete g.xhr;e={request:g,requestId:g.id,status:n.status,statusText:n.statusText,getResponseHeader:function(r){return b[r.toLowerCase()]},getAllResponseHeaders:function(){return b}};if(d){l.processXdrResponse(e,n)}if(g.binary){e.responseBytes=l.getByteArray(n)}else{e.responseText=n.responseText;e.responseXML=n.responseXML}n=null;return e},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(m){var d=m.response,l=m.responseBody,b,h,a,g;if(m instanceof Ext.data.flash.BinaryXhr){b=m.responseBytes}else{if(window.Uint8Array){b=d?new Uint8Array(d):[]}else{if(Ext.isIE9p){try{b=new VBArray(l).toArray()}catch(k){b=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(m.responseBody,b=[])}else{b=[];h=m.responseText;a=h.length;for(g=0;g<a;g++){b.push(h.charCodeAt(g)&255)}}}}}return b},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Connection"],0));(Ext.cmd.derive("Ext.Ajax",Ext.data.Connection,{singleton:true,autoAbort:false},0,0,0,0,0,0,[Ext,"Ajax"],0));(Ext.cmd.derive("Ext.util.Floating",Ext.Base,{focusOnToFront:true,shadow:"sides",constrain:false,constructor:function(b){var a=this;a.fixed=a.fixed&&!(Ext.isIE6||Ext.isIEQuirks);a.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:a.hideMode,hidden:a.hidden,shadow:(typeof a.shadow!="undefined")?a.shadow:"sides",shadowOffset:a.shadowOffset,constrain:false,fixed:a.fixed,shim:(a.shim===false)?false:undefined},a.floating),b);if(a.modal&&!(Ext.FocusManager&&Ext.FocusManager.enabled)){a.mon(a.el,{keydown:a.onKeyDown,scope:a})}a.mon(a.el,{mousedown:a.onMouseDown,scope:a});a.floating=true;a.registerWithOwnerCt();a.initHierarchyEvents()},initHierarchyEvents:function(){var b=this,a=this.syncHidden;if(!b.hasHierarchyEventListeners){b.mon(b.hierarchyEventSource,{hide:a,collapse:a,show:a,expand:a,added:a,scope:b});b.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var d=this,b=d.ownerCt,a=d.zIndexParent;if(a){a.unregisterFloatingItem(d)}a=d.zIndexParent=d.up("[floating]");d.setFloatParent(b||a);delete d.ownerCt;if(a){a.registerFloatingItem(d)}else{Ext.WindowManager.register(d)}},onKeyDown:function(g){var d=this,a,k,h,b;if(g.getKey()==Ext.EventObject.TAB){a=g.shiftKey;k=d.el.query(":focusable");h=k[0];b=k[k.length-1];if(h&&b&&g.target===(a?h:b)){g.stopEvent();(a?b:h).focus(false,true)}}},onMouseDown:function(b){var a=this.focusTask;if(this.floating&&(!a||!a.id)){this.toFront(!!b.getTarget(":focusable"))}},setFloatParent:function(b){var a=this;a.floatParent=b;if((a.constrain||a.constrainHeader)&&!a.constrainTo){a.constrainTo=b?b.getTargetEl():a.container}},syncShadow:function(){if(this.floating){this.el.sync(true)}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var d=this,e=d.hidden||!d.rendered,a=d.hierarchicallyHidden=d.isHierarchicallyHidden(),b=d.pendingShow;if(e!==a){if(a){d.hide();d.pendingShow=true}else{if(b){delete d.pendingShow;if(b.length){d.show.apply(d,b)}else{d.show()}}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+10000}return a},doConstrain:function(a){var b=this,d=b.calculateConstrainedPosition(a,null,true);if(d){b.setPosition(d)}},toFront:function(d){var b=this,a=b.zIndexParent,e=b.preventFocusOnActivate;if(a&&b.bringParentToFront!==false){a.toFront(true)}if(!Ext.isDefined(d)){d=!b.focusOnToFront}if(d){b.preventFocusOnActivate=true}if(b.zIndexManager.bringToFront(b,d)){if(!d){b.focus(false,true)}}b.preventFocusOnActivate=e;return b},setActive:function(b,d){var a=this;if(b){if(a.el.shadow&&!a.maximized){a.el.enableShadow(true)}if(!a.preventFocusOnActivate){a.focus(false,true)}a.fireEvent("activate",a)}else{if(a.isWindow&&(d&&d.isWindow)&&a.hideShadowOnDeactivate){a.el.disableShadow()}a.fireEvent("deactivate",a)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else{a.needsCenter=true}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter},fitContainer:function(d){var h=this,g=h.floatParent,b=g?g.getTargetEl():h.container,a=b.getViewSize(false),e=g||(b.dom!==document.body)?[0,0]:b.getXY();a.x=e[0];a.y=e[1];h.setBox(a,d)}},1,0,0,0,0,0,[Ext.util,"Floating"],0));(Ext.cmd.derive("Ext.Component",Ext.AbstractComponent,{statics:{DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g},resizeHandles:"all",floating:false,defaultAlign:"tl-bl?",toFrontOnShow:true,hideMode:"display",offsetsCls:Ext.baseCSSPrefix+"hide-offsets",bubbleEvents:[],defaultComponentLayoutType:"autocomponent",constructor:function(a){var b=this;a=a||{};if(a.initialConfig){if(a.isAction){b.baseAction=a}a=a.initialConfig}else{if(a.tagName||a.dom||Ext.isString(a)){a={applyTo:a,id:a.id||a}}}b.callParent([a]);if(b.baseAction){b.baseAction.addComponent(b)}},initComponent:function(){var a=this;a.callParent();if(a.listeners){a.on(a.listeners);a.listeners=null}a.enableBubble(a.bubbleEvents)},afterRender:function(){var a=this;a.callParent();if(!(a.x&&a.y)&&(a.pageX||a.pageY)){a.setPagePosition(a.pageX,a.pageY)}},setAutoScroll:function(a){var b=this;b.autoScroll=!!a;if(b.rendered){b.getOverflowEl().setStyle(b.getOverflowStyle())}b.updateLayout();return b},setOverflowXY:function(b,a){var d=this,e=arguments.length;if(e){d.overflowX=b||"";if(e>1){d.overflowY=a||""}}if(d.rendered){d.getOverflowEl().setStyle(d.getOverflowStyle())}d.updateLayout();return d},beforeRender:function(){var b=this,d=b.floating,a;if(d){b.addCls(Ext.baseCSSPrefix+"layer");a=d.cls;if(a){b.addCls(a)}}return b.callParent()},beforeLayout:function(){this.callParent(arguments);if(this.floating){this.onBeforeFloatLayout()}},afterComponentLayout:function(){this.callParent(arguments);if(this.floating){this.onAfterFloatLayout()}},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else{this.callParent(arguments)}},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:false,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a);a.target=b;b.resizer=new Ext.resizer.Resizer(a)},getDragEl:function(){return this.el},initDraggable:function(){var d=this,a=(d.resizer&&d.resizer.el!==d.el)?d.resizerComponent=new Ext.Component({el:d.resizer.el,rendered:true,container:d.container}):d,b=Ext.applyIf({el:a.getDragEl(),constrainTo:(d.constrain||d.draggable.constrain)?(d.constrainTo||(d.floatParent?d.floatParent.getTargetEl():d.container)):undefined},d.draggable);if(d.constrain||d.constrainDelegate){b.constrain=d.constrain;b.constrainDelegate=d.constrainDelegate}d.dd=new Ext.util.ComponentDragger(a,b)},scrollBy:function(b,a,d){var e;if((e=this.getTargetEl())&&e.dom){e.scrollBy.apply(e,arguments)}},setLoading:function(d,e){var b=this,a={target:b};if(b.rendered){Ext.destroy(b.loadMask);b.loadMask=null;if(d!==false&&!b.collapsed){if(Ext.isObject(d)){Ext.apply(a,d)}else{if(Ext.isString(d)){a.msg=d}}if(e){Ext.applyIf(a,{useTargetEl:true})}b.loadMask=new Ext.LoadMask(a);b.loadMask.show()}}return b.loadMask},beforeSetPosition:function(){var b=this,d=b.callParent(arguments),a;if(d){a=b.adjustPosition(d.x,d.y);d.x=a.x;d.y=a.y}return d||null},afterSetPosition:function(b,a){this.onPosition(b,a);this.fireEvent("move",this,b,a)},showAt:function(a,e,b){var d=this;if(!d.rendered&&(d.autoRender||d.floating)){d.x=a;d.y=e;return d.show()}if(d.floating){d.setPosition(a,e,b)}else{d.setPagePosition(a,e,b)}d.show()},showBy:function(b,e,d){var a=this;if(a.floating&&b){a.show();if(a.rendered&&!a.hidden){a.alignTo(b,e||a.defaultAlign,d)}}return a},setPagePosition:function(a,h,b){var d=this,e,g;if(Ext.isArray(a)){h=a[1];a=a[0]}d.pageX=a;d.pageY=h;if(d.floating){if(d.isContainedFloater()){g=d.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(g.left)){a-=g.left}if(Ext.isNumber(h)&&Ext.isNumber(g.top)){h-=g.top}}else{e=d.el.translateXY(a,h);a=e.x;h=e.y}d.setPosition(a,h,b)}else{e=d.el.translateXY(a,h);d.setPosition(e.x,e.y,b)}return d},isContainedFloater:function(){return(this.floating&&this.floatParent)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getOuterSize:function(){var a=this.el;return{width:a.getWidth()+a.getMargin("lr"),height:a.getHeight()+a.getMargin("tb")}},adjustPosition:function(a,e){var b=this,d;if(b.isContainedFloater()){d=b.floatParent.getTargetEl().getViewRegion();a+=d.left;e+=d.top}return{x:a,y:e}},getPosition:function(a){var b=this,e,d=b.isContainedFloater(),g;if((a===true)&&!d){return[b.getLocalX(),b.getLocalY()]}e=b.getXY();if((a===true)&&d){g=b.floatParent.getTargetEl().getViewRegion();e[0]-=g.left;e[1]-=g.top}return e},getId:function(){var a=this,b;if(!a.id){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{b=Ext.name.toLowerCase()+"-comp"}a.id=b+"-"+a.getAutoId()}return a.id},show:function(e,a,b){var d=this,g=d.rendered;if(d.hierarchicallyHidden||(d.floating&&!g&&d.isHierarchicallyHidden())){if(!g){d.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;d.pendingShow=arguments}else{d.pendingShow=true}}else{if(g&&d.isVisible()){if(d.toFrontOnShow&&d.floating){d.toFront()}}else{if(d.fireEvent("beforeshow",d)!==false){d.hidden=false;delete this.getHierarchyState().hidden;Ext.suspendLayouts();if(!g&&(d.autoRender||d.floating)){d.doAutoRender();g=d.rendered}if(g){d.beforeShow();Ext.resumeLayouts();d.onShow.apply(d,arguments);d.afterShow.apply(d,arguments)}else{Ext.resumeLayouts(true)}}else{d.onShowVeto()}}}return d},onShowVeto:Ext.emptyFn,beforeShow:Ext.emptyFn,onShow:function(){var a=this;a.el.show();a.callParent(arguments);if(a.floating){if(a.maximized){a.fitContainer()}else{if(a.constrain){a.doConstrain()}}}},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},afterShow:function(k,b,g){var h=this,l=h.el,a,d,e;k=h.getAnimateTarget(k);if(!h.ghost){k=null}if(k){d={x:l.getX(),y:l.getY(),width:l.dom.offsetWidth,height:l.dom.offsetHeight};a={x:k.getX(),y:k.getY(),width:k.dom.offsetWidth,height:k.dom.offsetHeight};l.addCls(h.offsetsCls);e=h.ghost();e.el.stopAnimation();e.setX(-10000);h.ghostBox=d;e.el.animate({from:a,to:d,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;h.unghost();delete h.ghostBox;l.removeCls(h.offsetsCls);h.onShowComplete(b,g)}}})}else{h.onShowComplete(b,g)}h.fireHierarchyEvent("show")},onShowComplete:function(a,b){var d=this;if(d.floating){d.toFront();d.onFloatShow()}Ext.callback(a,b||d);d.fireEvent("show",d);delete d.hiddenByLayout},hide:function(g,b,d){var e=this,a;if(e.pendingShow){delete e.pendingShow}if(!(e.rendered&&!e.isVisible())){a=(e.fireEvent("beforehide",e)!==false);if(e.hierarchicallyHidden||a){e.hidden=true;e.getHierarchyState().hidden=true;if(e.rendered){e.onHide.apply(e,arguments)}}}return e},onHide:function(k,a,g){var h=this,d,e,b;k=h.getAnimateTarget(k);if(!h.ghost){k=null}if(k){b={x:k.getX(),y:k.getY(),width:k.dom.offsetWidth,height:k.dom.offsetHeight};d=h.ghost();d.el.stopAnimation();e=h.getSize();d.el.animate({to:b,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;d.el.hide();d.el.setSize(e);h.afterHide(a,g)}}})}h.el.hide();if(!k){h.afterHide(a,g)}},afterHide:function(a,b){var d=this,e=Ext.Element.getActiveElement();d.hiddenByLayout=null;Ext.AbstractComponent.prototype.onHide.call(d);if(e===d.el||d.el.contains(e)){Ext.fly(e).blur()}Ext.callback(a,b||d);d.fireEvent("hide",d);d.fireHierarchyEvent("hide")},onDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.dd,a.resizer,a.proxy,a.proxyWrap,a.resizerComponent)}delete a.focusTask;a.callParent()},deleteMembers:function(){var b=arguments,a=b.length,d=0;for(;d<a;++d){delete this[b[d]]}},focus:function(h,d,l,e){var g=this,a,k,b;if(d){if(!g.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask(g.focus)}g.focusTask.delay(Ext.isNumber(d)?d:10,null,g,[h,false,l,e]);return g}if(g.focusTask){g.focusTask.cancel()}if(g.rendered&&!g.isDestroyed&&g.isVisible(true)&&(a=g.getFocusEl())){if(a.isComponent){return a.focus(h,d)}if((k=a.dom)){if(a.needsTabIndex()){k.tabIndex=-1}if(g.floating){b=g.container.dom.scrollTop}a.focus();if(h===true){k.select()}Ext.callback(l,e)}if(g.floating){g.toFront(true);if(b!==undefined){g.container.dom.scrollTop=b}}}return g},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},blur:function(){var a;if(this.rendered&&(a=this.getFocusEl())){a.blur()}return this},getEl:function(){return this.el},getResizeEl:function(){return this.el},getPositionEl:function(){return this.el},getActionEl:function(){return this.el},getVisibilityEl:function(){return this.el},getRefOwner:function(){return this.ownerCt||this.floatParent},getBubbleTarget:function(){return this.getRefOwner()},getContentTarget:function(){return this.el},cloneConfig:function(d){d=d||{};var e=d.id||Ext.id(),a=Ext.applyIf(d,this.initialConfig),b;a.id=e;b=Ext.getClass(this);return new b(a)},getXType:function(){return this.self.xtype},findParentBy:function(a){var b;for(b=this.getBubbleTarget();b&&!a(b,this);b=b.getBubbleTarget()){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},bubble:function(d,b,a){var e=this;while(e){if(d.apply(b||e,a||[e])===false){break}e=e.getBubbleTarget()}return this},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy},fireHierarchyEvent:function(a){this.hierarchyEventSource.fireEvent(a,this)},onAdded:function(){this.callParent(arguments);if(this.hierarchyEventSource.hasListeners.added){this.fireHierarchyEvent("added")}}},1,["component","box"],["component","box"],{component:true,box:true},["widget.box","widget.component"],[["floating",Ext.util.Floating]],[Ext,"Component"],function(){this.hierarchyEventSource=this.prototype.hierarchyEventSource=new Ext.util.Observable({events:{hide:true,show:true,collapse:true,expand:true,added:true}})}));Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;if(!a._borderRegionInited){a._borderRegionInited=true;a.addStateEvents(["changeregion","changeweight"]);Ext.override(a,{getState:function(){var b=a.callParent();b=a.addPropertyToState(b,"region");b=a.addPropertyToState(b,"weight");return b}})}},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return(a&&a.isBorderLayout)?a:null},setBorderRegion:function(n){var m=this,d,e=m.region;if(n!==e){d=m.getOwningBorderLayout();if(d){var h=d.regionFlags[n],o=m.placeholder,a=m.splitter,b=d.owner,r=d.regionMeta,g=m.collapsed||m.floated,q,l,k;if(m.fireEventArgs("beforechangeregion",[m,n])===false){return e}Ext.suspendLayouts();m.region=n;Ext.apply(m,h);if(m.updateCollapseTool){m.updateCollapseTool()}if(a){Ext.apply(a,h);a.updateOrientation();l=b.items;k=l.indexOf(m);if(k>=0){q=r[n].splitterDelta;if(l.getAt(k+q)!==a){l.remove(a);k=l.indexOf(m);if(q>0){++k}l.insert(k,a)}}}if(o){if(g){m.expand(false)}b.remove(o);m.placeholder=null;if(g){m.collapse(null,false)}}b.updateLayout();Ext.resumeLayouts(true);m.fireEventArgs("changeregion",[m,e])}else{m.region=n}}return e},setRegionWeight:function(e){var d=this,b=d.getOwningBorderContainer(),g=d.placeholder,a=d.weight;if(e!==a){if(d.fireEventArgs("beforechangeweight",[d,e])!==false){d.weight=e;if(g){g.weight=e}if(b){b.updateLayout()}d.fireEventArgs("changeweight",[d,a])}}return a}});Ext.define("ExtThemeNeptune.Component",{override:"Ext.Component",initComponent:function(){this.callParent();if(this.dock&&this.border===undefined){this.border=false}},initStyles:function(){var b=this,a=b.border;if(b.dock){b.border=null}b.callParent(arguments);b.border=a}});(Ext.cmd.derive("Ext.ElementLoader",Ext.Base,{statics:{Renderer:{Html:function(a,b,d){a.getTarget().update(b.responseText,d.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(b){var d=this,a;b=b||{};Ext.apply(d,b);d.setTarget(d.target);d.addEvents("beforeload","exception","load");d.mixins.observable.constructor.call(d);if(d.autoLoad){a=d.autoLoad;if(a===true){a={}}d.load(a)}},setTarget:function(b){var a=this;b=Ext.get(b);if(a.target&&a.target!=b){a.abort()}a.target=b},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(d){d=Ext.apply({},d);var g=this,a=Ext.isDefined(d.loadMask)?d.loadMask:g.loadMask,h=Ext.apply({},d.params),b=Ext.apply({},d.ajaxOptions),k=d.callback||g.callback,e=d.scope||g.scope||g;Ext.applyIf(b,g.ajaxOptions);Ext.applyIf(d,b);Ext.applyIf(h,g.params);Ext.apply(h,g.baseParams);Ext.applyIf(d,{url:g.url});Ext.apply(d,{scope:g,params:h,callback:g.onComplete});if(g.fireEvent("beforeload",g,d)===false){return}if(a){g.addMask(a)}g.active={options:d,mask:a,scope:e,callback:k,success:d.success||g.success,failure:d.failure||g.failure,renderer:d.renderer||g.renderer,scripts:Ext.isDefined(d.scripts)?d.scripts:g.scripts};g.active.request=Ext.Ajax.request(d);g.setOptions(g.active,d)},setOptions:Ext.emptyFn,onComplete:function(b,h,a){var e=this,g=e.active,d;if(g){d=g.scope;if(h){h=e.getRenderer(g.renderer).call(e,e,a,g)!==false}if(h){Ext.callback(g.success,d,[e,a,b]);e.fireEvent("load",e,a,b)}else{Ext.callback(g.failure,d,[e,a,b]);e.fireEvent("exception",e,a,b)}Ext.callback(g.callback,d,[e,h,a,b]);if(g.mask){e.removeMask()}}delete e.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(a,b){var d=this;d.stopAutoRefresh();d.autoRefresh=setInterval(function(){d.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"ElementLoader"],0));(Ext.cmd.derive("Ext.ComponentLoader",Ext.ElementLoader,{statics:{Renderer:{Data:function(a,b,g){var h=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){h=false}return h},Component:function(a,d,k){var l=true,h=a.getTarget(),b=[];try{b=Ext.decode(d.responseText)}catch(g){l=false}if(l){h.suspendLayouts();if(k.removeAll){h.removeAll()}h.add(b);h.resumeLayouts(true)}return l}}},target:null,loadMask:false,renderer:"html",setTarget:function(b){var a=this;if(Ext.isString(b)){b=Ext.getCmp(b)}if(a.target&&a.target!=b){a.abort()}a.target=b},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll},getRenderer:function(b){if(Ext.isFunction(b)){return b}var a=this.statics().Renderer;switch(b){case"component":return a.Component;case"data":return a.Data;default:return Ext.ElementLoader.Renderer.Html}}},0,0,0,0,0,0,[Ext,"ComponentLoader"],0));(Ext.cmd.derive("Ext.layout.SizeModel",Ext.Base,{constructor:function(d){var g=this,e=g.self,a=e.sizeModelsArray,b;Ext.apply(g,d);g[b=g.name]=true;g.fixed=!(g.auto=g.natural||g.shrinkWrap);a[g.ordinal=a.length]=e[b]=e.sizeModels[b]=g},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},1,0,0,0,0,0,[Ext.layout,"SizeModel"],function(){var g=this,a=g.sizeModelsArray,d,b,k,h,e;new g({name:"calculated"});new g({name:"configured",names:{width:"width",height:"height"}});new g({name:"natural"});new g({name:"shrinkWrap"});new g({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new g({name:"calculatedFromNatural",natural:true});new g({name:"calculatedFromShrinkWrap",shrinkWrap:true});new g({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new g({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new g({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(d=0,k=a.length;d<k;++d){e=a[d];e.pairsByHeightOrdinal=h=[];for(b=0;b<k;++b){h.push({width:e,height:a[b]})}}}));(Ext.cmd.derive("Ext.layout.Layout",Ext.Base,{isLayout:true,initialized:false,running:false,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(h,g){var n=Ext.ClassManager,d=this.layoutsByType,e,k,b,a,l,m;if(!h||typeof h==="string"){l=h||g;b={}}else{if(h.isLayout){return h}else{b=h;l=h.type||g}}if(!(a=d[l])){e="layout."+l;k=n.getNameByAlias(e);if(!k){m=true}a=n.get(k);if(m||!a){return n.instantiateByAlias(e,b||{})}d[l]=a}return new a(b)}},constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-");Ext.apply(b,a);b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(d){var b=this,a=b.context,e;if(b.lastWidthModel!=d.widthModel){if(b.lastWidthModel){e=true}b.lastWidthModel=d.widthModel}if(b.lastHeightModel!=d.heightModel){if(b.lastWidthModel){e=true}b.lastHeightModel=d.heightModel}if(e){(a=d.context).clearTriggers(b,false);a.clearTriggers(b,true);b.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},isItemBoxParent:function(a){return false},isItemLayoutRoot:function(e){var d=e.getSizeModel(),b=d.width,a=d.height;if(!e.componentLayout.lastComponentSize&&(b.calculated||a.calculated)){return false}return !b.shrinkWrap&&!a.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(e,b){var k=e.length,g,h,d,a;if(k){a=[];for(g=0;g<k;++g){h=e[g];if(!h.rendered){if(b&&(b[h.id]!==undefined)){d=b[h.id]}else{this.configureItem(h);d=h.getRenderTree();if(b){b[h.id]=d}}if(d){a.push(d)}}}}return a},finishRender:Ext.emptyFn,finishRenderItems:function(g,a){var e=a.length,b,d;for(b=0;b<e;b++){d=a[b];if(d.rendering){d.finishRender(b);this.afterRenderItem(d)}}},renderChildren:function(){var b=this,a=b.getLayoutItems(),d=b.getRenderTarget();b.renderItems(a,d)},renderItems:function(a,h){var g=this,e=a.length,b=0,d;if(e){Ext.suspendLayouts();for(;b<e;b++){d=a[b];if(d&&!d.rendered){g.renderItem(d,h,b)}else{if(!g.isValidParent(d,h,b)){g.moveItem(d,h,b)}else{g.configureItem(d)}}}Ext.resumeLayouts(true)}},isValidParent:function(h,k,b){var d=h.el?h.el.dom:Ext.getDom(h),g=(k&&k.dom)||k,a=d.parentNode,e;if(a){e=a.className;if(e&&e.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){d=d.parentNode}}if(d&&g){if(typeof b=="number"){b=this.getPositionOffset(b);return d===g.childNodes[b]}return d.parentNode===g}return false},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(d,e,a){var b=this;if(!d.rendered){b.configureItem(d);d.render(e,a);b.afterRenderItem(d)}},moveItem:function(b,d,a){d=d.dom||d;if(typeof a=="number"){a=d.childNodes[a]}d.insertBefore(b.el.dom,a||null);b.container=Ext.get(d);this.configureItem(b)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(g){var e=this,d=g.el,b=e.owner,a;if(g.rendered){a=[].concat(e.itemCls||[]);if(b.itemCls){a=Ext.Array.push(a,b.itemCls)}if(a.length){d.removeCls(a)}}delete g.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(a,e){for(var b=0,d=a.length;b<d;++b){a[b].$i=b}Ext.Array.sort(a,function(h,g){var k=g.weight-h.weight;if(!k){k=h.$i-g.$i;if(h[e]){k=-k}}return k});for(b=0;b<d;++b){delete a[b].$i}}},1,0,0,0,0,0,[Ext.layout,"Layout"],function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels}));(Ext.cmd.derive("Ext.layout.container.Container",Ext.layout.Layout,{alternateClassName:"Ext.layout.ContainerLayout",type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,childEls:["overflowPadderEl"],renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(d,a){var b=this;b.callParent(arguments);if(a){if(b.usesContainerHeight){++d.consumersContainerHeight}if(b.usesContainerWidth){++d.consumersContainerWidth}}},cacheChildItems:function(g){var d=g.context,h=[],a=this.getVisibleItems(),e=a.length,b;g.childItems=h;g.visibleItems=a;for(b=0;b<e;++b){h.push(d.getCmp(a[b]))}},cacheElements:function(){var a=this.owner;this.applyChildEls(a.el,a.id)},configureItem:function(d){var b=this,e=b.itemCls,a=b.owner.itemCls,g;d.ownerLayout=b;if(e){g=typeof e==="string"?[e]:e}if(a){g=Ext.Array.push(g||[],a)}if(g){d.addCls(g)}},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(b,g){var d=g.$comp.layout,a=d.getRenderTpl(),e=d.getRenderData();a.applyOut(e,b)},doRenderItems:function(b,e){var d=e.$layout,a=d.getRenderTree();if(a){Ext.DomHelper.generateMarkup(a,b)}},finishRender:function(){var b=this,d,a;b.callParent();b.cacheElements();d=b.getRenderTarget();a=b.getLayoutItems();b.finishRenderItems(d,a)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(b,h){var d=b.targetContext,g=d.getFrameInfo(),m=b.paddingContext.getPaddingInfo(),l=0,n=0,e,k,a,o;if(!b.widthModel.shrinkWrap){++n;a=h?d.getDomProp("width"):d.getProp("width");e=(typeof a=="number");if(e){++l;a-=g.width+m.width;if(a<0){a=0}}}if(!b.heightModel.shrinkWrap){++n;o=h?d.getDomProp("height"):d.getProp("height");k=(typeof o=="number");if(k){++l;o-=g.height+m.height;if(o<0){o=0}}}return{width:a,height:o,needed:n,got:l,gotAll:l==n,gotWidth:e,gotHeight:k}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;if(b){a+=b}}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return(b&&b.items)||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var g=this,k=g.getRenderTarget(),a=g.getLayoutItems(),e=a.length,h=[],b,d;for(b=0;b<e;b++){d=a[b];if(d.rendered&&g.isValidParent(d,k,b)){h.push(d)}}return h},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");if(!b.renderContent){a.owner.setupRenderTpl(b)}return b},getRenderTree:function(){var a,d=this.owner.items,e,b={};do{e=d.generation;a=this.getItemsRenderTree(this.getLayoutItems(),b)}while(d.generation!==e);return a},renderChildren:function(){var b=this,d=b.owner.items,g=b.getRenderTarget(),e,a;do{e=d.generation;a=b.getLayoutItems();b.renderItems(a,g)}while(d.generation!==e)},getScrollbarsNeeded:function(d,l,b,k){var a=Ext.getScrollbarSize(),g=typeof d=="number",m=typeof l=="number",h=0,e=0;if(!a.width){return 0}if(m&&l<k){e=2;d-=a.width}if(g&&d<b){h=1;if(!e&&m){l-=a.height;if(l<k){e=2}}}return e+h},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var h=this.getRenderTarget(),b=this.getLayoutItems(),g=b.length,a=[],d,e;for(d=0;d<g;d++){e=b[d];if(e.rendered&&this.isValidParent(e,h,d)&&e.hidden!==true){a.push(e)}}return a},setupRenderTpl:function(b){var a=this;b.renderBody=a.doRenderBody;b.renderContainer=a.doRenderContainer;b.renderItems=a.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()}},1,0,0,0,["layout.container"],[["elementCt",Ext.util.ElementContainer]],[Ext.layout.container,"Container",Ext.layout,"ContainerLayout"],0));(Ext.cmd.derive("Ext.layout.container.Auto",Ext.layout.container.Container,{type:"autocontainer",childEls:["outerCt","innerCt","clearEl"],reserveScrollbar:false,managePadding:true,manageOverflow:false,lastOverflowAdjust:{width:0,height:0},renderTpl:["{% if (!(Ext.isIEQuirks || Ext.isIE7m)) { %}",'<span id="{ownerId}-outerCt" style="display:table;">','<div id="{ownerId}-innerCt" style="display:table-cell;height:100%;','vertical-align:top;{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</span>","{% } else if (values.shrinkWrapWidth) { %}",'<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</td>","</tr>","</table>","{% } else { %}",'<div id="{ownerId}-outerCt" style="zoom:1;{%this.renderPadding(out, values)%}">','<div id="{ownerId}-innerCt" style="zoom:1;height:100%;" class="{innerCtCls}">',"{%this.renderBody(out,values)%}",'<div id="{ownerId}-clearEl" class="',Ext.baseCSSPrefix,'clear"','role="presentation"></div>',"</div>","</div>","{% values.$layout.isShrinkWrapTpl = false %}","{% } %}"],tableTpl:['<table id="{ownerId}-outerCt" class="'+Ext.plainTableCls+'">',"<tr>",'<td id="{ownerId}-innerCt" style="vertical-align:top;padding:0;','{%this.renderPadding(out, values)%}" class="{innerCtCls}">',"</td>","</tr>","</table>"],isShrinkWrapTpl:true,beginLayout:function(g){var e=this,a,b,d,h;e.callParent(arguments);e.initContextItems(g);if(!e.isShrinkWrapTpl){if(g.widthModel.shrinkWrap){h=true}if(Ext.isStrict&&Ext.isIE7){d=e.getOverflowXStyle(g);if((d==="auto"||d==="scroll")&&g.paddingContext.getPaddingInfo().right){h=true}}if(h){e.insertTableCt(g)}}if(!e.isShrinkWrapTpl&&Ext.isIE7&&Ext.isStrict&&!e.clearElHasPadding){a=g.paddingContext.getPaddingInfo().bottom;b=e.getOverflowYStyle(g);if(a&&(b==="auto"||b==="scroll")){e.clearEl.setStyle("height",a);e.clearElHasPadding=true}}},beforeLayoutCycle:function(d){var a=this.owner,e=a.hierarchyState,b=a.hierarchyStateInner;if(!e||e.invalid){e=a.getHierarchyState();b=a.hierarchyStateInner}if(d.widthModel.shrinkWrap&&this.isShrinkWrapTpl){b.inShrinkWrapTable=true}else{delete b.inShrinkWrapTable}},beginLayoutCycle:function(k){var o=this,d=o.outerCt,n=o.lastOuterCtWidth||"",m=o.lastOuterCtHeight||"",q=o.lastOuterCtTableLayout||"",b=k.state,r,h,l,t,e,a,g;o.callParent(arguments);l=t=e="";if(!k.widthModel.shrinkWrap&&o.isShrinkWrapTpl){if(Ext.isIE7m&&Ext.isStrict){h=o.getOverflowYStyle(k);if(h==="auto"||h==="scroll"){a=true}}if(!a){l="100%"}g=o.owner.hierarchyStateInner;r=o.getOverflowXStyle(k);e=(g.inShrinkWrapTable||r==="auto"||r==="scroll")?"":"fixed"}if(!k.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){t="100%"}if((l!==n)||o.hasOuterCtPxWidth){d.setStyle("width",l);o.lastOuterCtWidth=l;o.hasOuterCtPxWidth=false}if(e!==q){d.setStyle("table-layout",e);o.lastOuterCtTableLayout=e}if((t!==m)||o.hasOuterCtPxHeight){d.setStyle("height",t);o.lastOuterCtHeight=t;o.hasOuterCtPxHeight=false}if(o.hasInnerCtPxHeight){o.innerCt.setStyle("height","");o.hasInnerCtPxHeight=false}b.overflowAdjust=b.overflowAdjust||o.lastOverflowAdjust},calculate:function(d){var a=this,b=d.state,g=a.getContainerSize(d,true),e=b.calculatedItems||(b.calculatedItems=a.calculateItems?a.calculateItems(d,g):true);a.setCtSizeIfNeeded(d,g);if(e&&d.hasDomProp("containerChildrenSizeDone")){a.calculateContentSize(d);if(g.gotAll){if(a.manageOverflow&&!d.state.secondPass&&!a.reserveScrollbar){a.calculateOverflow(d,g)}return}}a.done=false},calculateContentSize:function(h){var g=this,a=((h.widthModel.shrinkWrap?1:0)|(h.heightModel.shrinkWrap?2:0)),d=(a&1)||undefined,k=(a&2)||undefined,e=0,b=h.props;if(d){if(isNaN(b.contentWidth)){++e}else{d=undefined}}if(k){if(isNaN(b.contentHeight)){++e}else{k=undefined}}if(e){if(d&&!h.setContentWidth(g.measureContentWidth(h))){g.done=false}if(k&&!h.setContentHeight(g.measureContentHeight(h))){g.done=false}}},calculateOverflow:function(d){var k=this,b,m,a,h,g,e,l;g=(k.getOverflowXStyle(d)==="auto");e=(k.getOverflowYStyle(d)==="auto");if(g||e){a=Ext.getScrollbarSize();l=d.overflowContext.el.dom;h=0;if(l.scrollWidth>l.clientWidth){h|=1}if(l.scrollHeight>l.clientHeight){h|=2}b=(e&&(h&2))?a.width:0;m=(g&&(h&1))?a.height:0;if(b!==k.lastOverflowAdjust.width||m!==k.lastOverflowAdjust.height){k.done=false;d.invalidate({state:{overflowAdjust:{width:b,height:m},overflowState:h,secondPass:true}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderPadding:function(b,e){var d=e.$layout,a=e.$layout.owner,g=a[a.contentPaddingProperty];if(d.managePadding&&g){b.push("padding:",a.unitizeBox(g))}},finishedLayout:function(b){var a=this.innerCt;this.callParent(arguments);if(Ext.isIEQuirks||Ext.isIE8m){a.repaint()}if(Ext.isOpera){a.setStyle("position","relative");a.dom.scrollWidth;a.setStyle("position","")}},getContainerSize:function(b,d){var a=this.callParent(arguments),e=b.state.overflowAdjust;if(e){a.width-=e.width;a.height-=e.height}return a},getRenderData:function(){var a=this.owner,b=this.callParent();if((Ext.isIEQuirks||Ext.isIE7m)&&((a.shrinkWrap&1)||(a.floating&&!a.width))){b.shrinkWrapWidth=true}return b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(d){var b=this,e=d.target,a=b.owner.customOverflowEl;d.outerCtContext=d.getEl("outerCt",b);d.innerCtContext=d.getEl("innerCt",b);if(a){d.overflowContext=d.getEl(a)}else{d.overflowContext=d.targetContext}if(e[e.contentPaddingProperty]!==undefined){d.paddingContext=b.isShrinkWrapTpl?d.innerCtContext:d.outerCtContext}},initLayout:function(){var d=this,b=Ext.getScrollbarSize().width,a=d.owner;d.callParent();if(b&&d.manageOverflow&&!d.hasOwnProperty("lastOverflowAdjust")){if(a.autoScroll||d.reserveScrollbar){d.lastOverflowAdjust={width:b,height:0}}}},insertTableCt:function(b){var k=this,a=k.owner,d=0,g,h,m,e,l;g=Ext.XTemplate.getTpl(this,"tableTpl");g.renderPadding=k.doRenderPadding;k.outerCt.dom.removeChild(k.innerCt.dom);h=document.createDocumentFragment();m=k.innerCt.dom.childNodes;e=m.length;for(;d<e;d++){h.appendChild(m[0])}l=k.getTarget();l.dom.innerHTML=g.apply({$layout:k,ownerId:k.owner.id});l.down("td").dom.appendChild(h);k.applyChildEls(a.el,a.id);k.isShrinkWrapTpl=true;b.removeEl(k.outerCt);b.removeEl(k.innerCt);k.initContextItems(b)},measureContentHeight:function(b){var a=this.outerCt.getHeight(),d=b.target;if(this.managePadding&&(d[d.contentPaddingProperty]===undefined)){a+=b.targetContext.getPaddingInfo().height}return a},measureContentWidth:function(e){var h,d,b,a,g;if(this.chromeCellMeasureBug){h=this.innerCt.dom;d=h.style;b=d.display;if(b=="table-cell"){d.display="";h.offsetWidth;d.display=b}}a=this.outerCt.getWidth();g=e.target;if(this.managePadding&&(g[g.contentPaddingProperty]===undefined)){a+=e.targetContext.getPaddingInfo().width}return a},setCtSizeIfNeeded:function(e,r){var y=this,o=r.width,l=r.height,h=e.paddingContext.getPaddingInfo(),m=y.getTarget(),g=y.getOverflowXStyle(e),n=y.getOverflowYStyle(e),t=(g==="auto"||g==="scroll"),q=(n==="auto"||n==="scroll"),u=Ext.getScrollbarSize(),w=y.isShrinkWrapTpl,b=y.manageOverflow,a,x,k,d;if(o&&!e.widthModel.shrinkWrap&&((Ext.isIE7m&&Ext.isStrict&&w&&q)||(Ext.isIEQuirks&&!w&&!t))){if(!b){if(q&&(m.dom.scrollHeight>m.dom.clientHeight)){o-=u.width}}e.outerCtContext.setProp("width",o+h.width);y.hasOuterCtPxWidth=true}if(l&&!e.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){x=true}if(((Ext.isIE8&&Ext.isStrict)||Ext.isIE7m&&Ext.isStrict&&w)){k=true;d=!Ext.isIE8}if((x||k)&&t&&(m.dom.scrollWidth>m.dom.clientWidth)){l=Math.max(l-u.height,0)}if(x){e.outerCtContext.setProp("height",l+h.height);y.hasOuterCtPxHeight=true}if(k){if(d){l+=h.height}e.innerCtContext.setProp("height",l);y.hasInnerCtPxHeight=true}}if(Ext.isIE7&&Ext.isStrict&&!w&&(n==="auto")){a=(g==="auto")?"overflow-x":"overflow-y";m.setStyle(a,"hidden");m.setStyle(a,"auto")}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},0,0,0,0,["layout.auto","layout.autocontainer"],0,[Ext.layout.container,"Auto"],function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26}));(Ext.cmd.derive("Ext.ZIndexManager",Ext.Base,{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(a){var b=this;b.list={};b.zIndexStack=[];b.front=null;if(a){if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):undefined,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}}else{Ext.EventManager.onWindowResize(b._onContainerResize,b);b.zseed=b.getNextZSeed();Ext.onDocumentReady(function(){b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(b){this.zseed=b;var a=this.assignZIndices();this._activateLast();return a},assignZIndices:function(){var d=this.zIndexStack,b=d.length,g=0,k=this.zseed,e,h;for(;g<b;g++){e=d[g];if(e&&!e.hidden){k=e.setZIndex(k);if(e.modal){h=e}}}if(h){this._showModalMask(h)}return k},_setActiveChild:function(b,a){var d=this.front,e=b.preventFocusOnActivate;if(b!==d){if(d&&!d.destroying){d.setActive(false,b)}this.front=b;if(b&&b!=a){b.preventFocusOnActivate=b.preventFocusOnActivate||a&&(a.preventFocusOnActivate||!a.focusOnToFront);b.setActive(true);if(b.modal){this._showModalMask(b)}b.preventFocusOnActivate=e}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var e=this,a=e.zIndexStack,d=a.length-1,b;for(;d>=0&&a[d].hidden;--d){}if((b=a[d])){e._setActiveChild(b,e.front);if(b.modal){return}}else{if(e.front&&!e.front.destroying){e.front.setActive(false)}e.front=null}for(;d>=0;--d){b=a[d];if(b.isVisible()&&b.modal){e._showModalMask(b);return}}e._hideModalMask()},_showModalMask:function(b){var e=this,k=b.el.getStyle("zIndex")-4,d=b.floatParent?b.floatParent.getTargetEl():b.container,a=e.mask,h=e.maskShim,g;if(!a){if(Ext.isIE6){h=e.maskShim=Ext.getBody().createChild({tag:"iframe",cls:Ext.baseCSSPrefix+"shim "+Ext.baseCSSPrefix+"mask-shim"});h.setVisibilityMode(Ext.Element.DISPLAY)}a=e.mask=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});a.setVisibilityMode(Ext.Element.DISPLAY);a.on("click",e._onMaskClick,e)}a.maskTarget=d;g=e.getMaskBox();if(h){h.setStyle("zIndex",k);h.show();h.setBox(g)}a.setStyle("zIndex",k);a.show();a.setBox(g)},_hideModalMask:function(){var b=this.mask,a=this.maskShim;if(b&&b.isVisible()){b.maskTarget=undefined;b.hide();if(a){a.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return a.getBox()}},_onContainerResize:function(){var d=this,b=d.mask,a=d.maskShim,e;if(b&&b.isVisible()){b.hide();if(a){a.hide()}e=d.getMaskBox();if(a){a.setSize(e);a.show()}b.setSize(e);b.show()}},register:function(b){var d=this,a=b.afterHide;if(b.zIndexManager){b.zIndexManager.unregister(b)}b.zIndexManager=d;d.list[b.id]=b;d.zIndexStack.push(b);b.afterHide=function(){a.apply(b,arguments);d.onComponentHide(b)}},unregister:function(a){var b=this,d=b.list;delete a.zIndexManager;if(d&&d[a.id]){delete d[a.id];delete a.afterHide;Ext.Array.remove(b.zIndexStack,a);b._activateLast()}},get:function(a){return a.isComponent?a:this.list[a]},bringToFront:function(b,e){var d=this,a=false,g=d.zIndexStack;b=d.get(b);if(b!==d.front){Ext.Array.remove(g,b);if(b.preventBringToFront){g.unshift(b)}else{g.push(b)}d.assignZIndices();if(!e){d._activateLast()}a=true;d.front=b;if(b.modal){d._showModalMask(b)}}return a},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var b=this.list,a,d;for(d in b){if(b.hasOwnProperty(d)){a=b[d];if(a.isComponent&&a.isVisible()){a.hide()}}}},hide:function(){var e=0,b=this.zIndexStack,a=b.length,d;this.tempHidden=[];for(;e<a;e++){d=b[e];if(d.isVisible()){this.tempHidden.push(d);d.el.hide();d.hidden=true}}},show:function(){var d=0,e=this.tempHidden,a=e?e.length:0,b;for(;d<a;d++){b=e[d];b.el.show();b.hidden=false;b.setPosition(b.x,b.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(h,g){var k=[],e=0,b=this.zIndexStack,a=b.length,d;for(;e<a;e++){d=b[e];if(h.call(g||d,d)!==false){k.push(d)}}return k},each:function(d,b){var e=this.list,g,a;for(g in e){if(e.hasOwnProperty(g)){a=e[g];if(a.isComponent&&d.call(b||a,a)===false){return}}}},eachBottomUp:function(h,g){var b=this.zIndexStack,e=0,a=b.length,d;for(;e<a;e++){d=b[e];if(d.isComponent&&h.call(g||d,d)===false){return}}},eachTopDown:function(g,e){var a=this.zIndexStack,d=a.length,b;for(;d-->0;){b=a[d];if(b.isComponent&&g.call(e||b,b)===false){return}}},destroy:function(){var b=this,d=b.list,a,e;for(e in d){if(d.hasOwnProperty(e)){a=d[e];if(a.isComponent){a.destroy()}}}delete b.zIndexStack;delete b.list;delete b.container;delete b.targetEl}},1,0,0,0,0,0,[Ext,"ZIndexManager",Ext,"WindowGroup"],function(){Ext.WindowManager=Ext.WindowMgr=new this()}));(Ext.cmd.derive("Ext.Queryable",Ext.Base,{isQueryable:true,query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this)},queryBy:function(h,g){var d=[],b=this.getRefItems(true),e=0,a=b.length,k;for(;e<a;++e){k=b[e];if(h.call(g||k,k)!==false){d.push(k)}}return d},queryById:function(a){return this.down("#"+a)},child:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query("> "+a)[0]||null},down:function(a){if(a&&a.isComponent){a="#"+Ext.escapeId(a.getItemId())}a=a||"";return this.query(a)[0]||null},getRefItems:function(){return[]}},0,0,0,0,0,0,[Ext,"Queryable"],0));(Ext.cmd.derive("Ext.container.AbstractContainer",Ext.Component,{renderTpl:"{%this.renderContainer(out,values)%}",suspendLayout:false,autoDestroy:true,defaultType:"panel",detachOnRemove:true,isContainer:true,layoutCounter:0,baseCls:Ext.baseCSSPrefix+"container",defaultLayoutType:"auto",initComponent:function(){var a=this;a.addEvents("afterlayout","beforeadd","beforeremove","add","remove");a.callParent();a.getLayout();a.initItems()},initItems:function(){var b=this,a=b.items;b.items=new Ext.util.AbstractMixedCollection(false,b.getComponentId);b.floatingItems=new Ext.util.MixedCollection(false,b.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}b.add(a)}},getFocusEl:function(){return this.getTargetEl()},finishRenderChildren:function(){this.callParent();var a=this.getLayout();if(a){a.finishRender()}},beforeRender:function(){var b=this,a=b.getLayout(),d;b.callParent();if(!a.initialized){a.initLayout()}d=a.targetCls;if(d){b.applyTargetCls(d)}},applyTargetCls:function(a){this.addCls(a)},afterComponentLayout:function(){var b=this.floatingItems.items,a=b.length,e,d;this.callParent(arguments);for(e=0;e<a;e++){d=b[e];if(!d.rendered&&d.autoShow){d.show()}}},onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},repositionFloatingItems:function(){var b=this.floatingItems.items,a=b.length,e,d;for(e=0;e<a;e++){d=b[e];if(d.el&&!d.hidden){d.setPosition(d.x,d.y)}}},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)},getDefaultContentTarget:function(){return this.el},getContentTarget:function(){return this.getLayout().getContentTarget()},setLayout:function(b){var a=this.layout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.layout=b;b.setOwner(this)},getLayout:function(){var a=this;if(!a.layout||!a.layout.isLayout){a.setLayout(Ext.layout.Layout.create(a.layout,a.self.prototype.layout||a.defaultLayoutType))}return a.layout},doLayout:function(){this.updateLayout();return this},afterLayout:function(b){var a=this;++a.layoutCounter;if(a.hasListeners.afterlayout){a.fireEvent("afterlayout",a,b)}},prepareItems:function(b,e){if(Ext.isArray(b)){b=b.slice()}else{b=[b]}var h=this,d=0,a=b.length,g;for(;d<a;d++){g=b[d];if(g==null){Ext.Array.erase(b,d,1);--d;--a}else{if(e){g=this.applyDefaults(g)}g.isContained=h;b[d]=h.lookupComponent(g);delete g.isContained;delete b[d].isContained}}return b},applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},lookupComponent:function(a){return(typeof a=="string")?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType)},getComponentId:function(a){return a.getItemId&&a.getItemId()},add:function(){var l=this,h=Ext.Array.slice(arguments),e=(typeof h[0]=="number")?h.shift():-1,d=l.getLayout(),n,k,b,a,o,m,g;if(h.length==1&&Ext.isArray(h[0])){k=h[0];n=true}else{k=h}if(l.rendered){Ext.suspendLayouts()}g=k=l.prepareItems(k,true);a=k.length;if(!n&&a==1){g=k[0]}for(b=0;b<a;b++){o=k[b];m=(e<0)?l.items.length:(e+b);if(o.floating){l.floatingItems.add(o);o.onAdded(l,m);if(l.hasListeners.add){l.fireEvent("add",l,o,m)}}else{if((!l.hasListeners.beforeadd||l.fireEvent("beforeadd",l,o,m)!==false)&&l.onBeforeAdd(o)!==false){l.items.insert(m,o);o.onAdded(l,m);l.onAdd(o,m);d.onAdd(o,m);if(l.hasListeners.add){l.fireEvent("add",l,o,m)}}}}l.updateLayout();if(l.rendered){Ext.resumeLayouts(true)}return g},onAdd:Ext.emptyFn,onRemove:Ext.emptyFn,insert:function(d,b){var a;if(b&&b.isComponent){a=this.items.indexOf(b);if(a!==-1){return this.move(a,d)}}return this.add(d,b)},move:function(b,e){var a=this.items,d;if(b.isComponent){b=a.indexOf(b)}d=a.removeAt(b);if(d===false){return false}a.insert(e,d);this.onMove(d,b,e);this.updateLayout();return d},onMove:Ext.emptyFn,onBeforeAdd:function(a){if(a.ownerCt&&a.ownerCt!==this){a.ownerCt.remove(a,false)}},remove:function(a,b){var d=this,e=d.getComponent(a);if(e&&(!d.hasListeners.beforeremove||d.fireEvent("beforeremove",d,e)!==false)){d.doRemove(e,b);if(d.hasListeners.remove){d.fireEvent("remove",d,e)}if(!d.destroying&&!e.floating){d.updateLayout()}}return e},doRemove:function(d,b){b=b===true||(b!==false&&this.autoDestroy);var h=this,g=h.layout,a=g&&h.rendered,e=d.destroying||b,k=d.floating;if(k){h.floatingItems.remove(d)}else{h.items.remove(d)}if(a&&!k){if(g.running){Ext.AbstractComponent.cancelLayout(d,e)}g.onRemove(d,e)}d.onRemoved(e);h.onRemove(d,e);if(b){d.destroy()}else{if(a&&!k){g.afterRemove(d)}if(h.detachOnRemove&&d.rendered){h.detachComponent(d)}}},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},removeAll:function(d){var k=this,g=k.items.items.slice().concat(k.floatingItems.items),b=[],e=0,a=g.length,h;k.suspendLayouts();for(;e<a;e++){h=g[e];k.remove(h,d);if(h.ownerCt!==k){b.push(h)}}k.resumeLayouts(!!a);return b},getRefItems:function(d){var k=this,e=k.items.items,b=e.length,g=0,h,a=[];for(;g<b;g++){h=e[g];a[a.length]=h;if(d&&h.getRefItems){a.push.apply(a,h.getRefItems(true))}}e=k.floatingItems.items;b=e.length;for(g=0;g<b;g++){h=e[g];a[a.length]=h;if(d&&h.getRefItems){a.push.apply(a,h.getRefItems(true))}}return a},cascade:function(m,n,a){var l=this,e=l.items?l.items.items:[],g=e.length,d=0,k,h=a?a.concat(l):[l],b=h.length-1;if(m.apply(n||l,h)!==false){for(;d<g;d++){k=e[d];if(k.cascade){k.cascade(m,n,a)}else{h[b]=k;m.apply(n||e,h)}}}return this},isAncestor:function(a){while(a){if(a.ownerCt===this){return true}a=a.ownerCt}},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var b=this.items.get(a);if(!b&&typeof a!="number"){b=this.floatingItems.get(a)}return b},contains:function(d,b){var a=false;if(b){this.cascade(function(e){if(e.contains&&e.contains(d)){a=true;return false}});return a}else{return this.items.contains(d)||this.floatingItems.contains(d)}},nextChild:function(g,b){var d=this,a,e=d.items.indexOf(g);if(e!==-1){a=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1);if(!a&&d.ownerCt){a=d.ownerCt.nextChild(d,b)}}return a},prevChild:function(g,b){var d=this,a,e=d.items.indexOf(g);if(e!==-1){a=b?Ext.ComponentQuery(b,d.items.items.slice(e+1)):d.items.getAt(e+1);if(!a&&d.ownerCt){a=d.ownerCt.nextChild(d,b)}}return a},enable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),d=e.length,b,a;for(a=0;a<d;a++){b=e[a];if(b.resetDisable){b.enable()}}return this},disable:function(){this.callParent(arguments);var e=this.getChildItemsToDisable(),d=e.length,b,a;for(a=0;a<d;a++){b=e[a];if(b.resetDisable!==false&&!b.disabled){b.disable();b.resetDisable=true}}return this},getChildItemsToDisable:function(){return this.query("[isFormField],button")},beforeDestroy:function(){var b=this,a=b.items,d=b.floatingItems,e;if(a){while((e=a.first())){b.doRemove(e,true)}}if(d){while((e=d.first())){b.doRemove(e,true)}}Ext.destroy(b.layout);b.callParent()}},0,0,["component","box"],{component:true,box:true},0,[["queryable",Ext.Queryable]],[Ext.container,"AbstractContainer"],0));(Ext.cmd.derive("Ext.container.Container",Ext.container.AbstractContainer,{alternateClassName:"Ext.Container",getChildByElement:function(g,a){var k,d,b=0,e=this.getRefItems(),h=e.length;g=Ext.getDom(g);for(;b<h;b++){k=e[b];d=k.getEl();if(d&&((d.dom===g)||d.contains(g))){return(a&&k.getChildByElement)?k.getChildByElement(g,a):k}}return null}},0,["container"],["container","component","box"],{container:true,component:true,box:true},["widget.container"],0,[Ext.container,"Container",Ext,"Container"],0));(Ext.cmd.derive("Ext.layout.container.Editor",Ext.layout.container.Container,{autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var d=this,a=d.owner.autoSize,b=a&&a.width,g=d.sizePolicies;g=g[b]||g.$;b=a&&a.height;g=g[b]||g.$;return g},calculate:function(h){var g=this,b=g.owner,a=b.autoSize,e,d;if(a===true){a=g.autoSizeDefault}if(a){e=g.getDimension(b,a.width,"getWidth",b.width);d=g.getDimension(b,a.height,"getHeight",b.height)}h.childItems[0].setSize(e,d);h.setWidth(e);h.setHeight(d);h.setContentSize(e||b.field.getWidth(),d||b.field.getHeight())},getDimension:function(a,b,e,d){switch(b){case"boundEl":return a.boundEl[e]();case"field":return undefined;default:return d}}},0,0,0,0,["layout.editor"],0,[Ext.layout.container,"Editor"],0));(Ext.cmd.derive("Ext.Editor",Ext.container.Container,{layout:"editor",allowBlur:true,revertInvalid:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,focusOnToFront:false,hidden:true,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this,b=a.field=Ext.ComponentManager.create(a.field,"textfield");Ext.apply(b,{inEditor:true,msgTarget:b.msgTarget=="title"?"title":"qtip"});a.mon(b,{scope:a,blur:a.onFieldBlur,specialkey:a.onSpecialKey});if(b.grow){a.mon(b,"autosize",a.onFieldAutosize,a,{delay:1})}a.floating={constrain:a.constrain};a.items=b;a.callParent(arguments);a.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onFieldAutosize:function(){this.updateLayout()},afterRender:function(b,a){var d=this,g=d.field,e=g.inputEl;d.callParent(arguments);if(e){e.dom.name="";if(d.swallowKeys){e.swallowEvent(["keypress","keydown"])}}},onSpecialKey:function(h,g){var e=this,b=g.getKey(),a=e.completeOnEnter&&b==g.ENTER,d=e.cancelOnEsc&&b==g.ESC;if(a||d){g.stopEvent();Ext.defer(function(){if(a){e.completeEdit()}else{e.cancelEdit()}if(h.triggerBlur){h.triggerBlur(g)}},10)}e.fireEvent("specialkey",e,h,g)},startEdit:function(a,d){var b=this,e=b.field;b.completeEdit();b.boundEl=Ext.get(a);d=Ext.isDefined(d)?d:Ext.String.trim(b.boundEl.dom.innerText||b.boundEl.dom.innerHTML);if(!b.rendered){if(b.ownerCt){b.parentEl=b.ownerCt.el;b.parentEl.position()}b.render(b.parentEl||document.body)}if(b.fireEvent("beforestartedit",b,b.boundEl,d)!==false){b.startValue=d;b.show();e.suspendEvents();e.reset();e.setValue(d);e.resumeEvents();b.realign(true);e.focus();if(e.autoSize){e.autoSize()}b.editing=true}},realign:function(a){var b=this;if(a===true){b.updateLayout()}b.alignTo(b.boundEl,b.alignment,b.offsets)},completeEdit:function(a){var b=this,e=b.field,d;if(!b.editing){return}if(e.assertValue){e.assertValue()}d=b.getValue();if(!e.isValid()){if(b.revertInvalid!==false){b.cancelEdit(a)}return}if(String(d)===String(b.startValue)&&b.ignoreNoChange){b.hideEdit(a);return}if(b.fireEvent("beforecomplete",b,d,b.startValue)!==false){d=b.getValue();if(b.updateEl&&b.boundEl){b.boundEl.update(d)}b.hideEdit(a);b.fireEvent("complete",b,d,b.startValue)}},onShow:function(){var a=this;a.callParent(arguments);if(a.hideEl!==false){a.boundEl.hide()}a.fireEvent("startedit",a,a.boundEl,a.startValue)},cancelEdit:function(a){var d=this,b=d.startValue,g=d.field,e;if(d.editing){e=d.getValue();g.suspendEvents();d.setValue(b);g.resumeEvents();d.hideEdit(a);d.fireEvent("canceledit",d,e,b)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onFieldBlur:function(g,d){var a=this,b=Ext.Element.getActiveElement();if(a.allowBlur===true&&a.editing&&a.selectSameEditor!==true){a.completeEdit()}if(Ext.fly(b).isFocusable()||b.getAttribute("tabIndex")){b.focus()}},onHide:function(){var a=this,b=a.field;if(a.editing){a.completeEdit();return}if(b.hasFocus&&b.triggerBlur){b.triggerBlur()}if(b.collapse){b.collapse()}if(a.hideEl!==false){a.boundEl.show()}a.callParent(arguments)},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){var a=this;Ext.destroy(a.field);delete a.field;delete a.parentEl;delete a.boundEl;a.callParent(arguments)}},0,["editor"],["container","editor","component","box"],{container:true,editor:true,component:true,box:true},["widget.editor"],0,[Ext,"Editor"],0));(Ext.cmd.derive("Ext.util.KeyMap",Ext.Base,{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if((arguments.length!==1)||(typeof a==="string")||a.dom||a.tagName||a===document||a.isComponent){b.legacyConstructor.apply(b,arguments);return}Ext.apply(b,a);b.bindings=[];if(!b.target.isComponent){b.target=Ext.get(b.target)}if(b.binding){b.addBinding(b.binding)}else{if(a.key){b.addBinding(a)}}b.enable()},legacyConstructor:function(b,e,a){var d=this;Ext.apply(d,{target:Ext.get(b),eventName:a||d.eventName,bindings:[]});if(e){d.addBinding(e)}d.enable()},addBinding:function(g){var d=this,e=g.key,b,a;if(d.processing){d.bindings=bindings.slice(0)}if(Ext.isArray(g)){for(b=0,a=g.length;b<a;b++){d.addBinding(g[b])}return}d.bindings.push(Ext.apply({keyCode:d.processKeys(e)},g))},removeBinding:function(h){var g=this,k=g.bindings,a=k.length,b,e,d;if(g.processing){g.bindings=k.slice(0)}d=g.processKeys(h.key);for(b=0;b<a;++b){e=k[b];if(e.fn===h.fn&&e.scope===h.scope){if(h.alt==e.alt&&h.crtl==e.crtl&&h.shift==e.shift){if(Ext.Array.equals(e.keyCode,d)){Ext.Array.erase(g.bindings,b,1);return}}}}},processKeys:function(h){var k=false,e,g,b,a,d;if(Ext.isString(h)){g=[];b=h.toUpperCase();for(d=0,a=b.length;d<a;++d){g.push(b.charCodeAt(d))}h=g;k=true}if(!Ext.isArray(h)){h=[h]}if(!k){for(d=0,a=h.length;d<a;++d){e=h[d];if(Ext.isString(e)){h[d]=e.toUpperCase().charCodeAt(0)}}}return h},handleTargetEvent:(function(){var a=/input|textarea/i;return function(h){var g=this,l,d,b,k,e;if(g.enabled){l=g.bindings;d=0;b=l.length;h=g.processEvent.apply(g||g.processEventScope,arguments);if(g.ignoreInputFields){k=h.target;e=k.contentEditable;if(a.test(k.tagName)||(e===""||e==="true")){return}}if(!h.getKey){return h}g.processing=true;for(;d<b;++d){g.processBinding(l[d],h)}g.processing=false}}}()),processEvent:Ext.identityFn,processBinding:function(h,a){if(this.checkModifiers(h,a)){var k=a.getKey(),m=h.fn||h.handler,n=h.scope||this,l=h.keyCode,b=h.defaultEventAction,d,g,e=new Ext.EventObjectImpl(a);for(d=0,g=l.length;d<g;++d){if(k===l[d]){if(m.call(n,k,a)!==true&&b){e[b]()}break}}}},checkModifiers:function(l,h){var g=["shift","ctrl","alt"],d=0,a=g.length,k,b;for(;d<a;++d){b=g[d];k=l[b];if(!(k===undefined||(k===h[b+"Key"]))){return false}}return true},on:function(b,e,d){var k,a,g,h;if(Ext.isObject(b)&&!Ext.isArray(b)){k=b.key;a=b.shift;g=b.ctrl;h=b.alt}else{k=b}this.addBinding({key:k,shift:a,ctrl:g,alt:h,fn:e,scope:d})},un:function(b,e,d){var k,a,g,h;if(Ext.isObject(b)&&!Ext.isArray(b)){k=b.key;a=b.shift;g=b.ctrl;h=b.alt}else{k=b}this.removeBinding({key:k,shift:a,ctrl:g,alt:h,fn:e,scope:d})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(d){var a=this,b=a.target;a.bindings=[];a.disable();if(d===true){if(b.isComponent){b.destroy()}else{b.remove()}}delete a.target}},1,0,0,0,0,0,[Ext.util,"KeyMap",Ext,"KeyMap"],0));(Ext.cmd.derive("Ext.util.KeyNav",Ext.Base,{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(arguments.length===2){b.legacyConstructor.apply(b,arguments);return}b.setConfig(a)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(b){var g=this,d={target:b.target,ignoreInputFields:b.ignoreInputFields,eventName:g.getKeyEvent("forceKeyDown" in b?b.forceKeyDown:g.forceKeyDown,b.eventName)},h,a,l,e,k;if(g.map){g.map.destroy()}if(b.processEvent){d.processEvent=b.processEvent;d.processEventScope=b.processEventScope||g}if(b.keyMap){h=g.map=b.keyMap}else{h=g.map=new Ext.util.KeyMap(d);g.destroyKeyMap=true}a=Ext.util.KeyNav.keyOptions;l=b.scope||g;for(e in a){if(a.hasOwnProperty(e)){if(k=b[e]){if(typeof k==="function"){k={handler:k,defaultEventAction:(b.defaultEventAction!==undefined)?b.defaultEventAction:g.defaultEventAction}}h.addBinding({key:a[e],handler:Ext.Function.bind(g.handleEvent,k.scope||l,k.handler||k.fn,true),defaultEventAction:(k.defaultEventAction!==undefined)?k.defaultEventAction:g.defaultEventAction})}}}h.disable();if(!b.disabled){h.enable()}},handleEvent:function(d,b,a){return a.call(this,b)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){if(b||(Ext.EventManager.useKeyDown&&!a)){return"keydown"}else{return a||this.eventName}}},1,0,0,0,0,0,[Ext.util,"KeyNav",Ext,"KeyNav"],0));(Ext.cmd.derive("Ext.FocusManager",Ext.Base,{singleton:true,alternateClassName:["Ext.FocusMgr"],enabled:false,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,d=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.addEvents("beforecomponentfocus","componentfocus","disable","enable");b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.AbstractComponent,{onFocus:function(){this.callParent(arguments);if(b.enabled&&this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentFocus.apply(b,arguments)}},onBlur:function(){this.callParent(arguments);if(b.enabled&&!this.hasFocus){Array.prototype.unshift.call(arguments,this);b.onComponentBlur.apply(b,arguments)}},onDestroy:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentDestroy.apply(b,arguments)}}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);if(b.enabled){Array.prototype.unshift.call(arguments,this);b.onComponentHide.apply(b,arguments)}}});b.keyNav=new Ext.util.KeyNav(Ext.getDoc(),{disabled:true,scope:b,backspace:b.focusLast,enter:b.navigateIn,esc:b.navigateOut,tab:b.navigateSiblings,space:b.navigateIn,del:b.focusLast,left:b.navigateSiblings,right:b.navigateSiblings,down:b.navigateSiblings,up:b.navigateSiblings});b.focusData={};b.subscribers=new Ext.util.HashMap();b.focusChain={};Ext.apply(d.pseudos,{nextFocus:function(h,g,l){l=l||1;g=parseInt(g,10);var e=h.length,k=g,m;for(;;){if((k+=l)>=e){k=0}else{if(k<0){k=e-1}}if(k===g){return[]}if((m=h[k]).isFocusable()){return[m]}}return[]},prevFocus:function(g,e){return this.nextFocus(g,e,-1)},root:function(g){var e=g.length,k=[],h=0,l;for(;h<e;h++){l=g[h];if(!l.ownerCt){k.push(l)}}return k}})},addXTypeToWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.addXTypeToWhitelist,a);return}if(!Ext.Array.contains(a.whitelist,b)){a.whitelist.push(b)}},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);if(!a.isDestroyed){a.blur()}},disable:function(){var a=this;if(!a.enabled){return}delete a.options;a.enabled=false;a.removeDOM();a.keyNav.disable();a.fireEvent("disable",a)},enable:function(a){var b=this;if(a===true){a={focusFrame:true}}b.options=a=a||{};if(b.enabled){return}b.enabled=true;b.initDOM(a);b.keyNav.enable();b.focusEl.focus();delete b.focusedCmp;b.fireEvent("enable",b)},focusLast:function(b){var a=this;if(a.isWhitelisted(a.focusedCmp)){return true}if(a.previousFocusedCmp){a.previousFocusedCmp.focus()}},getRootComponents:function(){var b=Ext.ComponentQuery,a=b.query(":focusable:root:not([floating])"),d=b.query(":focusable:root[floating]");d.sort(function(g,e){return g.el.getZIndex()>e.el.getZIndex()});return d.concat(a)},initDOM:function(d){var h=this,b=h.focusFrameCls,g=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),e=0,a=g.length;if(!Ext.isReady){return Ext.onReady(h.initDOM,h)}for(;e<a;e++){g[e].addFocusListener()}if(!h.focusEl){h.focusEl=Ext.getBody();h.focusEl.dom.tabIndex=-1}if(!h.focusFrame&&d.focusFrame){h.focusFrame=Ext.getBody().createChild({cls:b,children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"});h.focusFrame.setVisibilityMode(Ext.Element.DISPLAY);h.focusFrame.hide().setLocalXY(0,0)}},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(h){var d=this,a=d.focusedCmp,b,g;if(d.isWhitelisted(a)){return true}if(!a){b=d.getRootComponents()[0];if(b){if(b.getFocusEl()===d.focusEl){d.focusEl.blur()}b.focus()}}else{g=a.hasFocus?Ext.ComponentQuery.query(">:focusable",a)[0]:a;if(g){g.focus()}else{if(Ext.isFunction(a.onClick)){h.button=0;a.onClick(h);if(a.isVisible(true)){a.focus()}else{d.navigateOut()}}}}},navigateOut:function(d){var b=this,a;if(!b.focusedCmp||!(a=b.focusedCmp.up(":focusable"))){b.focusEl.focus()}else{a.focus()}return true},navigateSiblings:function(l,b,t){var m=this,a=b||m,u=l.getKey(),h=Ext.EventObject,n=l.shiftKey||u==h.LEFT||u==h.UP,d=u==h.LEFT||u==h.RIGHT||u==h.UP||u==h.DOWN,k=n?"prev":"next",r,g,q,o;q=(a.focusedCmp&&a.focusedCmp.comp)||a.focusedCmp;if(!q&&!t){return true}if(d&&m.isWhitelisted(q)){return true}if(!q||q.is(":root")){o=m.getRootComponents()}else{t=t||q.up();if(t){o=t.getRefItems()}}if(o){r=q?Ext.Array.indexOf(o,q):-1;g=Ext.ComponentQuery.query(":"+k+"Focus("+r+")",o)[0];if(g&&q!==g){g.focus();return g}}},onComponentBlur:function(b,d){var a=this;if(a.focusedCmp===b){a.previousFocusedCmp=b;delete a.focusedCmp}if(a.focusFrame){a.focusFrame.hide()}},onComponentFocus:function(g,h){var d=this,a=d.focusChain,b;if(!g.isFocusable()){d.clearComponent(g);if(a[g.id]){return}b=g.up();if(b){a[g.id]=true;b.focus()}return}d.focusChain={};d.focusTask.delay(10,null,null,[g,g.getFocusEl()])},handleComponentFocus:function(o,k){var m=this,t,a,h,r,b,n,e,g,d,q,l;if(m.fireEvent("beforecomponentfocus",m,o,m.previousFocusedCmp)===false){m.clearComponent(o);return}m.focusedCmp=o;if(m.shouldShowFocusFrame(o)){t="."+m.focusFrameCls+"-";a=m.focusFrame;h=(k.dom?k:k.el).getBox();r=h.top;b=h.left;n=h.width;e=h.height;g=a.child(t+"top");d=a.child(t+"bottom");q=a.child(t+"left");l=a.child(t+"right");g.setWidth(n).setLocalXY(b,r);d.setWidth(n).setLocalXY(b,r+e-2);q.setHeight(e-2).setLocalXY(b,r+2);l.setHeight(e-2).setLocalXY(b+n-2,r+2);a.show()}m.fireEvent("componentfocus",m,o,m.previousFocusedCmp)},onComponentHide:function(g){var e=this,b=false,a=e.focusedCmp,d;if(a){b=g.hasFocus||(g.isContainer&&g.isAncestor(e.focusedCmp))}e.clearComponent(g);if(b&&(d=g.up(":focusable"))){d.focus()}else{e.focusEl.focus()}},onComponentDestroy:function(){},removeDOM:function(){var a=this;if(a.enabled||a.subscribers.length){return}Ext.destroy(a.focusFrame);delete a.focusEl;delete a.focusFrame},removeXTypeFromWhitelist:function(b){var a=this;if(Ext.isArray(b)){Ext.Array.forEach(b,a.removeXTypeFromWhitelist,a);return}Ext.Array.remove(a.whitelist,b)},setupSubscriberKeys:function(a,h){var g=this,e=a.getFocusEl(),d=h.scope,b={backspace:g.focusLast,enter:g.navigateIn,esc:g.navigateOut,scope:g},k=function(l){if(g.focusedCmp===a){return g.navigateSiblings(l,g,a)}else{return g.navigateSiblings(l)}};Ext.iterate(h,function(m,l){b[m]=function(o){var n=k(o);if(Ext.isFunction(l)&&l.call(d||a,o,n)===true){return true}return n}},g);return new Ext.util.KeyNav(e,b)},shouldShowFocusFrame:function(d){var b=this,a=b.options||{};if(!b.focusFrame||!d){return false}if(a.focusFrame){return true}if(b.focusData[d.id].focusFrame){return true}return false}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext,"FocusManager",Ext,"FocusMgr"],0));(Ext.cmd.derive("Ext.Img",Ext.Component,{autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",initComponent:function(){if(this.glyph){this.autoEl="div"}this.callParent()},getElConfig:function(){var g=this,b=g.callParent(),h=Ext._glyphFontFamily,e=g.glyph,a,d;if(g.autoEl=="img"){a=b}else{if(g.glyph){if(typeof e==="string"){d=e.split("@");e=d[0];h=d[1]}b.html="&#"+e+";";if(h){b.style="font-family:"+h}}else{b.cn=[a={tag:"img",id:g.id+"-img"}]}}if(a){if(g.imgCls){a.cls=(a.cls?a.cls+" ":"")+g.imgCls}a.src=g.src||Ext.BLANK_IMAGE_URL}if(g.alt){(a||b).alt=g.alt}if(g.title){(a||b).title=g.title}return b},onRender:function(){var b=this,a;b.callParent(arguments);a=b.el;b.imgEl=(b.autoEl=="img")?a:a.getById(b.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},setSrc:function(d){var a=this,b=a.imgEl;a.src=d;if(b){b.dom.src=d||Ext.BLANK_IMAGE_URL}},setGlyph:function(d){var b=this,e=Ext._glyphFontFamily,a,g;if(d!=b.glyph){if(typeof d==="string"){a=d.split("@");d=a[0];e=a[1]}g=b.el.dom;g.innerHTML="&#"+d+";";if(e){g.style="font-family:"+e}}}},0,["image","imagecomponent"],["image","component","box","imagecomponent"],{image:true,component:true,box:true,imagecomponent:true},["widget.image","widget.imagecomponent"],0,[Ext,"Img"],0));(Ext.cmd.derive("Ext.util.Bindable",Ext.Base,{bindStore:function(b,d,a){a=a||"store";var e=this,g=e[a];if(!d&&g){e.onUnbindStore(g,d,a);if(b!==g&&g.autoDestroy){g.destroyStore()}else{e.unbindStoreListeners(g)}}if(b){b=Ext.data.StoreManager.lookup(b);e.bindStoreListeners(b);e.onBindStore(b,d,a)}e[a]=b||null;return e},getStore:function(){return this.store},unbindStoreListeners:function(a){var b=this.storeListeners;if(b){a.un(b)}},bindStoreListeners:function(a){var d=this,b=Ext.apply({},d.getStoreListeners(a));if(!b.scope){b.scope=d}d.storeListeners=b;a.on(b)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn},0,0,0,0,0,0,[Ext.util,"Bindable"],0));(Ext.cmd.derive("Ext.LoadMask",Ext.Component,{msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",useMsg:true,useTargetEl:false,baseCls:Ext.baseCSSPrefix+"mask-msg",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner{childElCls}">','<div id="{id}-msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"></div>',"</div>"],floating:{shadow:"frame"},focusOnToFront:false,bringParentToFront:false,constructor:function(b){var d=this,a;if(arguments.length===2){a=b;b=arguments[1]}else{a=b.target}if(!a.isComponent){a=Ext.get(a);this.isElement=true}d.ownerCt=a;if(!this.isElement){d.bindComponent(a)}d.callParent([b]);if(d.store){d.bindStore(d.store,true)}},bindComponent:function(a){var d=this,b={scope:this,resize:d.sizeMask,added:d.onComponentAdded,removed:d.onComponentRemoved};if(a.floating){b.move=d.sizeMask;d.activeOwner=a}else{if(a.ownerCt){d.onComponentAdded(a.ownerCt)}else{d.preventBringToFront=true}}d.mon(a,b);d.mon(d.hierarchyEventSource,{show:d.onContainerShow,hide:d.onContainerHide,expand:d.onContainerExpand,collapse:d.onContainerCollapse,scope:d})},onComponentAdded:function(a){var b=this;delete b.activeOwner;b.floatParent=a;if(!a.floating){a=a.up("[floating]")}if(a){b.activeOwner=a;b.mon(a,"move",b.sizeMask,b)}else{b.preventBringToFront=true}a=b.floatParent.ownerCt;if(b.rendered&&b.isVisible()&&a){b.floatOwner=a;b.mon(a,"afterlayout",b.sizeMask,b,{single:true})}},onComponentRemoved:function(a){var d=this,e=d.activeOwner,b=d.floatOwner;if(e){d.mun(e,"move",d.sizeMask,d)}if(b){d.mun(b,"afterlayout",d.sizeMask,d)}delete d.activeOwner;delete d.floatOwner},afterRender:function(){this.callParent(arguments);this.container=this.floatParent.getContentTarget()},onContainerShow:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerHide:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},onContainerExpand:function(a){if(this.isActiveContainer(a)){this.onComponentShow()}},onContainerCollapse:function(a){if(this.isActiveContainer(a)){this.onComponentHide()}},isActiveContainer:function(a){return this.isDescendantOf(a)},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var a=this,b;if(a.rendered&&a.isVisible()){a.center();b=a.getMaskTarget();a.getMaskEl().show().setSize(b.getSize()).alignTo(b,"tl-tl")}},bindStore:function(a,b){var d=this;d.mixins.bindable.bindStore.apply(d,arguments);a=d.store;if(a&&a.isLoading()){d.onBeforeLoad()}},getStoreListeners:function(b){var e=this.onLoad,d=this.onBeforeLoad,a={cachemiss:d,cachefilled:e};if(!b.proxy.isSynchronous){a.beforeLoad=d;a.load=e}return a},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();return this.useTargetEl?a.getTargetEl():a.getEl()},onBeforeLoad:function(){var d=this,a=d.getOwner(),b;if(!d.disabled){d.loading=true;if(a.componentLayoutCounter){d.maybeShow()}else{b=a.afterComponentLayout;a.afterComponentLayout=function(){a.afterComponentLayout=b;b.apply(a,arguments);d.maybeShow()}}}},maybeShow:function(){var b=this,a=b.getOwner();if(!a.isVisible(true)){b.showNext=true}else{if(b.loading&&a.rendered){b.show()}}},getMaskEl:function(){var a=this;return a.maskEl||(a.maskEl=a.el.insertSibling({cls:a.maskCls,style:{zIndex:a.el.getStyle("zIndex")-2}},"before"))},onShow:function(){var b=this,a=b.msgEl;b.callParent(arguments);b.loading=true;if(b.useMsg){a.show();b.msgTextEl.update(b.msg)}else{a.parent().hide()}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;return this.callParent(arguments)},onHide:function(){this.callParent();this.getMaskEl().hide()},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}return this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.sizeMask()},setZIndex:function(b){var d=this,a=d.activeOwner;if(a){b=parseInt(a.el.getStyle("zIndex"),10)+1}d.getMaskEl().setStyle("zIndex",b-1);return d.mixins.floating.setZIndex.apply(d,arguments)},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);a.callParent()}},1,["loadmask"],["component","box","loadmask"],{component:true,box:true,loadmask:true},["widget.loadmask"],[["floating",Ext.util.Floating],["bindable",Ext.util.Bindable]],[Ext,"LoadMask"],0));(Ext.cmd.derive("Ext.data.association.Association",Ext.Base,{alternateClassName:"Ext.data.Association",primaryKey:"id",associationKeyFunction:null,defaultReaderType:"json",isAssociation:true,initialConfig:null,statics:{AUTO_ID:1000,create:function(a){if(Ext.isString(a)){a={type:a}}switch(a.type){case"belongsTo":return new Ext.data.association.BelongsTo(a);case"hasMany":return new Ext.data.association.HasMany(a);case"hasOne":return new Ext.data.association.HasOne(a);default:}return a}},constructor:function(e){Ext.apply(this,e);var k=this,h=Ext.ModelManager.types,m=e.ownerModel,a=e.associatedModel,g=h[m],l=h[a],b=e.associationKey,d;if(b){d=String(b).search(/[\[\.]/);if(d>=0){k.associationKeyFunction=Ext.functionFactory("obj","return obj"+(d>0?".":"")+b)}}k.initialConfig=e;k.ownerModel=g;k.associatedModel=l;Ext.applyIf(k,{ownerName:m,associatedName:a});k.associationId="association"+(++k.statics().AUTO_ID)},getReader:function(){var d=this,a=d.reader,b=d.associatedModel;if(a){if(Ext.isString(a)){a={type:a}}if(a.isReader){a.setModel(b)}else{Ext.applyIf(a,{model:b,type:d.defaultReaderType})}d.reader=Ext.createByAlias("reader."+a.type,a)}return d.reader||null}},1,0,0,0,0,0,[Ext.data.association,"Association",Ext.data,"Association"],0));(Ext.cmd.derive("Ext.ModelManager",Ext.AbstractManager,{alternateClassName:"Ext.ModelMgr",singleton:true,typeName:"mtype",associationStack:[],registerType:function(d,b){var e=b.prototype,a;if(e&&e.isModel){a=b}else{if(!b.extend){b.extend="Ext.data.Model"}a=Ext.define(d,b)}this.types[d]=a;return a},unregisterType:function(a){delete this.types[a]},onModelDefined:function(d){var a=this.associationStack,h=a.length,g=[],b,e,k;for(e=0;e<h;e++){b=a[e];if(b.associatedModel==d.modelName){g.push(b)}}for(e=0,h=g.length;e<h;e++){k=g[e];this.types[k.ownerModel].prototype.associations.add(Ext.data.association.Association.create(k));Ext.Array.remove(a,k)}},registerDeferredAssociation:function(a){this.associationStack.push(a)},getModel:function(b){var a=b;if(typeof a=="string"){a=this.types[a]}return a},create:function(b,a,e){var d=typeof a=="function"?a:this.types[a||b.name];return new d(b,e)}},0,0,0,0,0,0,[Ext,"ModelManager",Ext,"ModelMgr"],function(){Ext.regModel=function(){return this.ModelManager.registerType.apply(this.ModelManager,arguments)}}));(Ext.cmd.derive("Ext.layout.component.Component",Ext.layout.Layout,{type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(d,u){var n=this,b=n.owner,g=d.ownerCtContext,h=d.heightModel,k=d.widthModel,l=b.el.dom===document.body,e=b.lastBox||n.nullBox,r=b.el.lastBox||n.nullBox,a=!l,q,t,o,m;n.callParent(arguments);if(u){if(n.usesContentWidth){++d.consumersContentWidth}if(n.usesContentHeight){++d.consumersContentHeight}if(n.usesWidth){++d.consumersWidth}if(n.usesHeight){++d.consumersHeight}if(g&&!g.hasRawContent){q=b.ownerLayout;if(q.usesWidth){++d.consumersWidth}if(q.usesHeight){++d.consumersHeight}}}if(k.configured){o=k.names.width;if(!l){a=u?b[o]!==r.width:k.constrained}d.setWidth(b[o],a)}else{if(d.isTopLevel){if(k.calculated){t=e.width;d.setWidth(t,t!=r.width)}t=e.x;d.setProp("x",t,t!=r.x)}}if(h.configured){m=h.names.height;if(!l){a=u?b[m]!==r.height:h.constrained}d.setHeight(b[m],a)}else{if(d.isTopLevel){if(h.calculated){t=e.height;d.setHeight(t,t!=r.height)}t=e.y;d.setProp("y",t,t!=r.y)}}},finishedLayout:function(b){var k=this,m=b.children,a=k.owner,g,d,l,e,h;if(m){g=m.length;for(d=0;d<g;d++){l=m[d];l.el.lastBox=l.props}}b.previousSize=k.lastComponentSize;k.lastComponentSize=a.el.lastBox=h=b.props;e=a.lastBox||(a.lastBox={});e.x=h.x;e.y=h.y;e.width=h.width;e.height=h.height;e.invalid=false;k.callParent(arguments)},notifyOwner:function(e){var d=this,a=d.lastComponentSize,g=e.previousSize,b=[a.width,a.height];if(g){b.push(g.width,g.height)}d.owner.afterComponentLayout.apply(d.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var a=this,e=a.targetInfo,d;if(!e){d=b.getEl("getTarget",a);a.targetInfo=e={padding:d.getPaddingInfo(),border:d.getBorderInfo()}}return e},measureAutoDimensions:function(q,l){var z=this,a=z.owner,w=a.layout,e=q.heightModel,k=q.widthModel,d=q.boxParent,r=q.isBoxParent,b=q.props,m,A={gotWidth:false,gotHeight:false,isContainer:(m=!q.hasRawContent)},y=l||3,u,g,n=0,h=0,o,t,x;if(k.shrinkWrap&&q.consumersContentWidth){++n;u=!(y&1);if(m){if(u){A.contentWidth=0;A.gotWidth=true;++h}else{if((A.contentWidth=q.getProp("contentWidth"))!==undefined){A.gotWidth=true;++h}}}else{t=b.contentWidth;if(typeof t=="number"){A.contentWidth=t;A.gotWidth=true;++h}else{if(u){o=true}else{if(!q.hasDomProp("containerChildrenSizeDone")){o=false}else{if(r||!d||d.widthModel.shrinkWrap){o=true}else{o=d.hasDomProp("width")}}}if(o){if(u){x=0}else{if(w&&w.measureContentWidth){x=w.measureContentWidth(q)}else{x=z.measureContentWidth(q)}}if(!isNaN(A.contentWidth=x)){q.setContentWidth(x,true);A.gotWidth=true;++h}}}}}else{if(k.natural&&q.consumersWidth){++n;t=b.width;if(typeof t=="number"){A.width=t;A.gotWidth=true;++h}else{if(r||!d){o=true}else{o=d.hasDomProp("width")}if(o){if(!isNaN(A.width=z.measureOwnerWidth(q))){q.setWidth(A.width,false);A.gotWidth=true;++h}}}}}if(e.shrinkWrap&&q.consumersContentHeight){++n;g=!(y&2);if(m){if(g){A.contentHeight=0;A.gotHeight=true;++h}else{if((A.contentHeight=q.getProp("contentHeight"))!==undefined){A.gotHeight=true;++h}}}else{t=b.contentHeight;if(typeof t=="number"){A.contentHeight=t;A.gotHeight=true;++h}else{if(g){o=true}else{if(!q.hasDomProp("containerChildrenSizeDone")){o=false}else{if(a.noWrap){o=true}else{if(!k.shrinkWrap){o=(q.bodyContext||q).hasDomProp("width")}else{if(r||!d||d.widthModel.shrinkWrap){o=true}else{o=d.hasDomProp("width")}}}}}if(o){if(g){x=0}else{if(w&&w.measureContentHeight){x=w.measureContentHeight(q)}else{x=z.measureContentHeight(q)}}if(!isNaN(A.contentHeight=x)){q.setContentHeight(x,true);A.gotHeight=true;++h}}}}}else{if(e.natural&&q.consumersHeight){++n;t=b.height;if(typeof t=="number"){A.height=t;A.gotHeight=true;++h}else{if(r||!d){o=true}else{o=d.hasDomProp("width")}if(o){if(!isNaN(A.height=z.measureOwnerHeight(q))){q.setHeight(A.height,false);A.gotHeight=true;++h}}}}}if(d){q.onBoxMeasured()}A.gotAll=h==n;return A},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}},0,0,0,0,0,0,[Ext.layout.component,"Component"],0));(Ext.cmd.derive("Ext.layout.component.Auto",Ext.layout.component.Component,{type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(e,a){var d=this,h=d.lastWidthModel,g=d.lastHeightModel,b=d.owner.el;d.callParent(arguments);if(h&&h.fixed&&e.widthModel.shrinkWrap){b.setWidth(null)}if(g&&g.fixed&&e.heightModel.shrinkWrap){b.setHeight(null)}},calculate:function(k){var h=this,g=h.measureAutoDimensions(k),b=k.heightModel,d=k.widthModel,e,a;if(g.gotWidth){if(d.shrinkWrap){h.publishOwnerWidth(k,g.contentWidth)}else{if(h.publishInnerWidth){h.publishInnerWidth(k,g.width)}}}else{if(!d.auto&&h.publishInnerWidth){e=h.waitForOuterWidthInDom?k.getDomProp("width"):k.getProp("width");if(e===undefined){h.done=false}else{h.publishInnerWidth(k,e)}}}if(g.gotHeight){if(b.shrinkWrap){h.publishOwnerHeight(k,g.contentHeight)}else{if(h.publishInnerHeight){h.publishInnerHeight(k,g.height)}}}else{if(!b.auto&&h.publishInnerHeight){a=h.waitForOuterHeightInDom?k.getDomProp("height"):k.getProp("height");if(a===undefined){h.done=false}else{h.publishInnerHeight(k,a)}}}if(!g.gotAll){h.done=false}},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(l,h){var g=this,b=g.owner,a=g.calculateOwnerHeightFromContentHeight(l,h),k,e,d;if(isNaN(a)){g.done=false}else{k=Ext.Number.constrain(a,b.minHeight,b.maxHeight);if(k==a){e=g.setHeightInDom}else{d=g.sizeModels[(k<a)?"constrainedMax":"constrainedMin"];a=k;if(l.heightModel.calculatedFromShrinkWrap){l.heightModel=d}else{l.invalidate({heightModel:d})}}l.setHeight(a,e)}},publishOwnerWidth:function(k,b){var h=this,a=h.owner,g=h.calculateOwnerWidthFromContentWidth(k,b),l,e,d;if(isNaN(g)){h.done=false}else{l=Ext.Number.constrain(g,a.minWidth,a.maxWidth);if(l==g){e=h.setWidthInDom}else{d=h.sizeModels[(l<g)?"constrainedMax":"constrainedMin"];g=l;if(k.widthModel.calculatedFromShrinkWrap){k.widthModel=d}else{k.invalidate({widthModel:d})}}k.setWidth(g,e)}}},0,0,0,0,["layout.autocomponent"],0,[Ext.layout.component,"Auto"],0));(Ext.cmd.derive("Ext.layout.component.ProgressBar",Ext.layout.component.Auto,{type:"progressbar",beginLayout:function(e){var b=this,a,d;b.callParent(arguments);if(!e.textEls){d=b.owner.textEl;if(d.isComposite){e.textEls=[];d=d.elements;for(a=d.length;a--;){e.textEls[a]=e.getEl(Ext.get(d[a]))}}else{e.textEls=[e.getEl("textEl")]}}},calculate:function(g){var d=this,a,e,b;d.callParent(arguments);if(Ext.isNumber(b=g.getProp("width"))){b-=g.getBorderInfo().width;e=g.textEls;for(a=e.length;a--;){e[a].setWidth(b)}}else{d.done=false}}},0,0,0,0,["layout.progressbar"],0,[Ext.layout.component,"ProgressBar"],0));(Ext.cmd.derive("Ext.ProgressBar",Ext.Component,{baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" class="{baseCls}-bar {baseCls}-bar-{ui}" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",initComponent:function(){this.callParent();this.addEvents("update")},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else{a.textEl=a.el.select("."+a.baseCls+"-text")}},updateProgress:function(e,g,a){var d=this,b=d.value;d.value=e||0;if(g){d.updateText(g)}if(d.rendered&&!d.isDestroyed){if(a===true||(a!==false&&d.animate)){d.bar.stopAnimation();d.bar.animate(Ext.apply({from:{width:(b*100)+"%"},to:{width:(d.value*100)+"%"}},d.animate))}else{d.bar.setStyle("width",(d.value*100)+"%")}}d.fireEvent("update",d,d.value,g);return d},updateText:function(b){var a=this;a.text=b;if(a.rendered){a.textEl.update(a.text)}return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(d){var b=this,a;if(!b.waitTimer){a=b;d=d||{};b.updateText(d.text);b.waitTimer=Ext.TaskManager.start({run:function(e){var g=d.increment||10;e-=1;b.updateProgress(((((e+g)%g)+1)*(100/g))*0.01,null,d.animate)},interval:d.interval||1000,duration:d.duration,onStop:function(){if(d.fn){d.fn.apply(d.scope||b)}b.reset()},scope:a})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(a){var b=this;b.updateProgress(0);b.clearTimer();if(a===true){b.hide()}return b},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var b=this,a=b.bar;b.clearTimer();if(b.rendered){if(b.textEl.isComposite){b.textEl.clear()}Ext.destroyMembers(b,"textEl","progressBar");if(a&&b.animate){a.stopAnimation()}}b.callParent()}},0,["progressbar"],["component","progressbar","box"],{component:true,progressbar:true,box:true},["widget.progressbar"],0,[Ext,"ProgressBar"],0));(Ext.cmd.derive("Ext.ShadowPool",Ext.Base,{singleton:true,markup:(function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}()),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,this.markup));a.autoBoxAdjust=false}return a},push:function(a){this.shadows.push(a)},reset:function(){var d=[].concat(this.shadows),b,a=d.length;for(b=0;b<a;b++){d[b].remove()}this.shadows=[]}},0,0,0,0,0,0,[Ext,"ShadowPool"],0));(Ext.cmd.derive("Ext.Shadow",Ext.Base,{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(b){var d=this,e,g,a;Ext.apply(d,b);if(!Ext.isString(d.mode)){d.mode=d.defaultMode}g=d.offset;a=Math.floor(g/2);d.opacity=50;switch(d.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){e={t:g,l:g,h:-g,w:-g}}else{e={t:-a,l:-a,h:-a,w:-a}}break;case"sides":if(Ext.supports.CSS3BoxShadow){e={t:g,l:0,h:-g,w:0}}else{e={t:-(1+a),l:1+a-2*g,h:-1,w:a-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){e={t:0,l:0,h:0,w:0}}else{e={t:1+a-2*g,l:1+a-2*g,h:g-a-1,w:g-a-1}}break;case"bottom":if(Ext.supports.CSS3BoxShadow){e={t:g,l:0,h:-g,w:0}}else{e={t:g,l:0,h:0,w:0}}break}d.adjusts=e},getShadowSize:function(){var b=this,e=b.el?b.offset:0,a=[e,e,e,e],d=b.mode.toLowerCase();if(b.el&&d!=="frame"){a[0]=0;if(d=="drop"){a[3]=0}}return a},offset:4,defaultMode:"drop",boxShadowProperty:(function(){var b="boxShadow",a=document.documentElement.style;if(!("boxShadow" in a)){if("WebkitBoxShadow" in a){b="WebkitBoxShadow"}else{if("MozBoxShadow" in a){b="MozBoxShadow"}}}return b}()),show:function(e){var b=this,a,d;e=Ext.get(e);a=(parseInt(e.getStyle("z-index"),10)-1)||0;d=e[b.localXYNames.get]();if(!b.el){b.el=Ext.ShadowPool.pull();if(b.fixed){b.el.dom.style.position="fixed"}else{b.el.dom.style.position=""}if(b.el.dom.nextSibling!=e.dom){b.el.insertBefore(e)}}b.el.setStyle("z-index",b.zIndex||a);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(b.offset)+")"}b.realign(d[0],d[1],e.dom.offsetWidth,e.dom.offsetHeight);b.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(d,q,n,h){if(!this.el){return}var b=this.adjusts,a=this.el,m=a.dom.style,e,g,k,o;a[this.localXYNames.set](d+b.l,q+b.t);e=Math.max(n+b.w,0);g=Math.max(h+b.h,0);k=e+"px";o=g+"px";if(m.width!=k||m.height!=o){m.width=k;m.height=o;if(Ext.supports.CSS3BoxShadow){m[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}},1,0,0,0,0,0,[Ext,"Shadow"],0));(Ext.cmd.derive("Ext.app.EventDomain",Ext.Base,{statics:{instances:{}},isEventDomain:true,constructor:function(){var a=this;Ext.app.EventDomain.instances[a.type]=a;a.bus={};a.monitoredClasses=[]},dispatch:function(h,o,m){var n=this,k=n.bus,q=k[o],e,d,b,r,a,g,l;if(!q){return true}for(e in q){if(q.hasOwnProperty(e)&&n.match(h,e)){d=q[e];for(b in d){if(d.hasOwnProperty(b)){r=d[b];for(g=0,l=r.length;g<l;g++){a=r[g];if(a.fire.apply(a,m)===false){return false}}}}}}return true},listen:function(q,h){var n=this,l=n.bus,u=n.idProperty,t=n.monitoredClasses,g=t.length,e,x,k,d,w,b,r,a,m,o;for(d in q){if(q.hasOwnProperty(d)&&(m=q[d])){if(u){d=d==="*"?d:d.substring(1)}for(o in m){if(m.hasOwnProperty(o)){w=null;b=m[o];r=h;a=new Ext.util.Event(h,o);if(Ext.isObject(b)){w=b;b=w.fn;r=w.scope||h;delete w.fn;delete w.scope}if(typeof b==="string"){b=r[b]}a.addListener(b,r,w);for(e=g;e-->0;){t[e].hasListeners._incr_(o)}x=l[o]||(l[o]={});x=x[d]||(x[d]={});k=x[h.id]||(x[h.id]=[]);k.push(a)}}}}},match:function(d,a){var b=this.idProperty;if(b){return a==="*"||d[b]===a}return false},monitor:function(e){var b=this,a=e.isInstance?e:e.prototype,d=a.fireEventArgs;b.monitoredClasses.push(e);a.fireEventArgs=function(k,h){var g=d.apply(this,arguments);if(g!==false){g=b.dispatch(this,k,h)}return g}},unlisten:function(g){var b=this.bus,h,e,a,d;for(e in b){if(b.hasOwnProperty(e)&&(d=b[e])){for(a in d){h=d[a];delete h[g]}}}}},1,0,0,0,0,0,[Ext.app,"EventDomain"],0));(Ext.cmd.derive("Ext.app.domain.Component",Ext.app.EventDomain,{singleton:true,type:"component",constructor:function(){var a=this;a.callParent();a.monitor(Ext.Component)},match:function(b,a){return b.is(a)}},1,0,0,0,0,0,[Ext.app.domain,"Component"],0));(Ext.cmd.derive("Ext.app.EventBus",Ext.Base,{singleton:true,constructor:function(){var b=this,a=Ext.app.EventDomain.instances;b.callParent();b.domains=a;b.bus=a.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(e,b){var a=this.domains,d;for(d in e){if(e.hasOwnProperty(d)){a[d].listen(e[d],b)}}},unlisten:function(d){var a=Ext.app.EventDomain.instances,b;for(b in a){a[b].unlisten(d)}}},1,0,0,0,0,0,[Ext.app,"EventBus"],0));(Ext.cmd.derive("Ext.data.StoreManager",Ext.util.MixedCollection,{alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(d){if(Ext.isArray(d)){var b=["field1"],g=!Ext.isArray(d[0]),h=d,e,a;if(g){h=[];for(e=0,a=d.length;e<a;++e){h.push([d[e]])}}else{for(e=2,a=d[0].length;e<=a;++e){b.push("field"+e)}}return new Ext.data.ArrayStore({data:h,fields:b,autoDestroy:true,autoCreated:true,expanded:g})}if(Ext.isString(d)){return this.get(d)}else{return Ext.data.AbstractStore.create(d)}},getKey:function(a){return a.storeId}},0,0,0,0,0,0,[Ext.data,"StoreManager",Ext,"StoreMgr",Ext.data,"StoreMgr",Ext,"StoreManager"],function(){Ext.regStore=function(d,b){var a;if(Ext.isObject(d)){b=d}else{b.storeId=d}if(b instanceof Ext.data.Store){a=b}else{a=new Ext.data.Store(b)}return Ext.data.StoreManager.register(a)};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)}}));(Ext.cmd.derive("Ext.app.domain.Global",Ext.app.EventDomain,{singleton:true,type:"global",constructor:function(){var a=this;a.callParent();a.monitor(Ext.globalEvents)},listen:function(b,a){this.callParent([{global:b},a])},match:function(){return true}},1,0,0,0,0,0,[Ext.app.domain,"Global"],0));(Ext.cmd.derive("Ext.data.ResultSet",Ext.Base,{loaded:true,count:0,total:0,success:false,constructor:function(a){Ext.apply(this,a);this.totalRecords=this.total;if(a.count===undefined){this.count=this.records.length}}},1,0,0,0,0,0,[Ext.data,"ResultSet"],0));(Ext.cmd.derive("Ext.data.reader.Reader",Ext.Base,{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],totalProperty:"total",successProperty:"success",root:"",implicitIncludes:true,readRecordsOnFailure:true,isReader:true,applyDefaults:true,lastFieldGeneration:null,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.fieldCount=0;b.model=Ext.ModelManager.getModel(b.model);if(b.model&&b.model.prototype.fields){b.buildExtractors()}this.addEvents("exception")},setModel:function(a,d){var b=this;b.model=Ext.ModelManager.getModel(a);if(a){b.buildExtractors(true)}if(d&&b.proxy){b.proxy.setModel(b.model,true)}},read:function(a){var b;if(a){b=a.responseText?this.getResponseData(a):this.readRecords(a)}return b||this.nullResultSet},readRecords:function(d){var e=this,l,b,a,h,g,k,m;if(e.lastFieldGeneration!==e.model.prototype.fields.generation){e.buildExtractors(true)}e.rawData=d;d=e.getData(d);l=true;b=0;a=[];if(e.successProperty){k=e.getSuccess(d);if(k===false||k==="false"){l=false}}if(e.messageProperty){m=e.getMessage(d)}if(e.readRecordsOnFailure||l){h=Ext.isArray(d)?d:e.getRoot(d);if(h){g=h.length}if(e.totalProperty){k=parseInt(e.getTotal(d),10);if(!isNaN(k)){g=k}}if(h){a=e.extractData(h);b=a.length}}return new Ext.data.ResultSet({total:g||b,count:b,records:a,success:l,message:m})},extractData:function(m){var l=this,b=l.model,a=m.length,e=new Array(a),g,d,k,h;if(!m.length&&Ext.isObject(m)){m=[m];a=1}for(h=0;h<a;h++){d=m[h];if(d.isModel){e[h]=d}else{e[h]=k=new b(undefined,l.getId(d),d,g={});k.phantom=false;l.convertRecordData(g,d,k);if(l.implicitIncludes&&k.associations.length){l.readAssociated(k,d)}}}return e},readAssociated:function(k,g){var e=k.associations.items,h=0,a=e.length,d,b,m,l;for(;h<a;h++){d=e[h];b=this.getAssociatedDataRoot(g,d.associationKeyFunction||d.associationKey||d.name);if(b){l=d.getReader();if(!l){m=d.associatedModel.getProxy();if(m){l=m.getReader()}else{l=new this.constructor({model:d.associatedName})}}d.read(k,l,b)}}},getAssociatedDataRoot:function(b,a){if(Ext.isFunction(a)){return a(b)}return b[a]},getFields:function(){return this.model.prototype.fields.items},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){},onMetaChange:function(g){var e=this,b=g.fields||e.getFields(),d,a;e.metaData=g;e.root=g.root||e.root;e.idProperty=g.idProperty||e.idProperty;e.totalProperty=g.totalProperty||e.totalProperty;e.successProperty=g.successProperty||e.successProperty;e.messageProperty=g.messageProperty||e.messageProperty;a=g.clientIdProperty;if(e.model){e.model.setFields(b,e.idProperty,a);e.setModel(e.model,true)}else{d=Ext.define("Ext.data.reader.Json-Model"+Ext.id(),{extend:"Ext.data.Model",fields:b,clientIdProperty:a});if(e.idProperty){d.idProperty=e.idProperty}e.setModel(d,true)}},getIdProperty:function(){var b=this.model.prototype.idField,a=this.idProperty;if(!a&&b&&(a=b.mapping)==null){a=b.name}return a},buildExtractors:function(g){var d=this,k=d.getIdProperty(),e=d.totalProperty,b=d.successProperty,h=d.messageProperty,a;if(g===true){delete d.convertRecordData}if(d.convertRecordData){return}if(e){d.getTotal=d.createAccessor(e)}if(b){d.getSuccess=d.createAccessor(b)}if(h){d.getMessage=d.createAccessor(h)}if(k){a=d.createAccessor(k);d.getId=function(l){var m=a.call(d,l);return(m===undefined||m==="")?null:m}}else{d.getId=function(){return null}}d.convertRecordData=d.buildRecordDataExtractor();d.lastFieldGeneration=d.model.prototype.fields.generation},recordDataExtractorTemplate:["var me = this\n","    ,fields = me.model.prototype.fields\n","    ,value\n","    ,internalId\n",'<tpl for="fields">','    ,__field{#} = fields.map["{name}"]\n',"</tpl>",";\n","return function(dest, source, record) {\n",'<tpl for="fields">','{% var fieldAccessExpression =  this.createFieldAccessExpression(values, "__field" + xindex, "source");',"   if (fieldAccessExpression) { %}",'    value = {[ this.createFieldAccessExpression(values, "__field" + xindex, "source") ]};\n','<tpl if="hasCustomConvert">','    dest["{name}"] = value === undefined ? __field{#}.convert(__field{#}.defaultValue, record) : __field{#}.convert(value, record);\n','<tpl elseif="defaultValue !== undefined">',"    if (value === undefined) {\n","        if (me.applyDefaults) {\n",'<tpl if="convert">','            dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'            dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","        };\n","    } else {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    };\n","<tpl else>","    if (value !== undefined) {\n",'<tpl if="convert">','        dest["{name}"] = __field{#}.convert(value, record);\n',"<tpl else>",'        dest["{name}"] = value;\n',"</tpl>","    }\n","</tpl>","{% } else { %}",'<tpl if="defaultValue !== undefined">','<tpl if="convert">','    dest["{name}"] = __field{#}.convert(__field{#}.defaultValue, record);\n',"<tpl else>",'    dest["{name}"] = __field{#}.defaultValue\n',"</tpl>","</tpl>","{% } %}","</tpl>",'<tpl if="clientIdProp">','    if (record && (internalId = {[ this.createFieldAccessExpression({mapping: values.clientIdProp}, null, "source") ]})) {\n','        record.{["internalId"]} = internalId;\n',"    }\n","</tpl>","};"],buildRecordDataExtractor:function(){var d=this,a=d.model.prototype,b={clientIdProp:a.clientIdProperty,fields:a.fields.items};d.recordDataExtractorTemplate.createFieldAccessExpression=function(){return d.createFieldAccessExpression.apply(d,arguments)};return Ext.functionFactory(d.recordDataExtractorTemplate.apply(b)).call(d)},destroyReader:function(){var a=this;delete a.proxy;delete a.model;delete a.convertRecordData;delete a.getId;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data.reader,"Reader",Ext.data,"Reader",Ext.data,"DataReader"],function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""}),recordDataExtractorTemplate:new Ext.XTemplate(a.recordDataExtractorTemplate)})}));(Ext.cmd.derive("Ext.data.reader.Json",Ext.data.reader.Reader,{alternateClassName:"Ext.data.JsonReader",root:"",metaProperty:"metaData",useSimpleAccessors:false,readRecords:function(b){var a=this,d;if(a.getMeta){d=a.getMeta(b);if(d){a.onMetaChange(d)}}else{if(b.metaData){a.onMetaChange(b.metaData)}}a.jsonData=b;return a.callParent([b])},getResponseData:function(a){var e,b;try{e=Ext.decode(a.responseText);return this.readRecords(e)}catch(d){b=new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:d.message});this.fireEvent("exception",this,a,b);Ext.Logger.warn("Unable to parse the JSON returned by the server");return b}},buildExtractors:function(){var b=this,a=b.metaProperty;b.callParent(arguments);if(b.root){b.getRoot=b.createAccessor(b.root)}else{b.getRoot=Ext.identityFn}if(a){b.getMeta=b.createAccessor(a)}},extractData:function(a){var g=this.record,e=[],d,b;if(g){d=a.length;if(!d&&Ext.isObject(a)){d=1;a=[a]}for(b=0;b<d;b++){e[b]=a[b][g]}}else{e=a}return this.callParent([e])},createAccessor:(function(){var a=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}if(this.useSimpleAccessors!==true){var b=String(d).search(a);if(b>=0){return Ext.functionFactory("obj","return obj"+(b>0?".":"")+d)}}return function(e){return e[d]}}}()),createFieldAccessExpression:(function(){var a=/[\[\.]/;return function(r,e,g){var b=r.mapping,o=b||b===0,d=o?b:r.name,t,h;if(b===false){return}if(typeof d==="function"){t=e+".mapping("+g+", this)"}else{if(this.useSimpleAccessors===true||((h=String(d).search(a))<0)){if(!o||isNaN(d)){d='"'+d+'"'}t=g+"["+d+"]"}else{if(h===0){t=g+d}else{var l=d.split("."),n=l.length,m=1,q=g+"."+l[0],k=[q];for(;m<n;m++){q+="."+l[m];k.push(q)}t=k.join(" && ")}}}return t}}())},0,0,0,0,["reader.json"],0,[Ext.data.reader,"Json",Ext.data,"JsonReader"],0));(Ext.cmd.derive("Ext.data.writer.Writer",Ext.Base,{alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],writeAllFields:true,nameProperty:"name",writeRecordId:true,isWriter:true,constructor:function(a){Ext.apply(this,a)},write:function(g){var d=g.operation,b=d.records||[],a=b.length,e=0,h=[];for(;e<a;e++){h.push(this.getRecordData(b[e],d))}return this.writeRecords(g,h)},getRecordData:function(e,b){var o=e.phantom===true,a=this.writeAllFields||o,h=e.fields,r=h.items,d={},n=e.clientIdProperty,m,l,q,g,k,t;if(a){t=r.length;for(k=0;k<t;k++){l=r[k];if(l.persist){this.writeValue(d,l,e)}}}else{m=e.getChanges();for(q in m){if(m.hasOwnProperty(q)){l=h.get(q);if(l.persist){this.writeValue(d,l,e)}}}}if(o){if(n&&b&&b.records.length>1){d[n]=e.internalId}}else{if(this.writeRecordId){g=h.get(e.idProperty)[this.nameProperty]||e.idProperty;d[g]=e.getId()}}return d},writeValue:function(g,h,b){var d=h[this.nameProperty],a=this.dateFormat||h.dateWriteFormat||h.dateFormat,e=b.get(h.name);if(d==null){d=h.name}if(h.serialize){g[d]=h.serialize(e,b)}else{if(h.type===Ext.data.Types.DATE&&a&&Ext.isDate(e)){g[d]=Ext.Date.format(e,a)}else{g[d]=e}}}},1,0,0,0,["writer.base"],0,[Ext.data.writer,"Writer",Ext.data,"DataWriter",Ext.data,"Writer"],0));(Ext.cmd.derive("Ext.data.writer.Json",Ext.data.writer.Writer,{alternateClassName:"Ext.data.JsonWriter",root:undefined,encode:false,allowSingle:true,expandData:false,getExpandedData:function(e){var b=e.length,g=0,l,a,h,d,k,m=function(n,q){var r={};r[n]=q;return r};for(;g<b;g++){l=e[g];for(a in l){if(l.hasOwnProperty(a)){h=a.split(".");d=h.length-1;if(d>0){k=l[a];for(;d>0;d--){k=m(h[d],k)}l[h[0]]=l[h[0]]||{};Ext.Object.merge(l[h[0]],k);delete l[a]}}}}return e},writeRecords:function(b,d){var a=this.root;if(this.expandData){d=this.getExpandedData(d)}if(this.allowSingle&&d.length===1){d=d[0]}if(this.encode){if(a){b.params[a]=Ext.encode(d)}else{}}else{b.jsonData=b.jsonData||{};if(a){b.jsonData[a]=d}else{b.jsonData=d}}return b}},0,0,0,0,["writer.json"],0,[Ext.data.writer,"Json",Ext.data,"JsonWriter"],0));(Ext.cmd.derive("Ext.data.proxy.Proxy",Ext.Base,{alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],batchOrder:"create,update,destroy",batchActions:true,defaultReaderType:"json",defaultWriterType:"json",isProxy:true,isSynchronous:false,constructor:function(a){var b=this;a=a||{};b.proxyConfig=a;b.mixins.observable.constructor.call(b,a);if(b.model!==undefined&&!(b.model instanceof Ext.data.Model)){b.setModel(b.model)}else{if(b.reader){b.setReader(b.reader)}if(b.writer){b.setWriter(b.writer)}}},setModel:function(a,b){var d=this;d.model=Ext.ModelManager.getModel(a);d.setReader(this.reader);d.setWriter(this.writer);if(b&&d.store){d.store.setModel(d.model)}},getModel:function(){return this.model},setReader:function(a){var d=this,b=true,e=d.reader;if(a===undefined||typeof a=="string"){a={type:a};b=false}if(a.isReader){a.setModel(d.model)}else{if(b){a=Ext.apply({},a)}Ext.applyIf(a,{proxy:d,model:d.model,type:d.defaultReaderType});a=Ext.createByAlias("reader."+a.type,a)}if(a!==e&&a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this)}d.reader=a;return d.reader},getReader:function(){return this.reader},onMetaChange:function(a){this.fireEvent("metachange",this,a)},setWriter:function(d){var b=this,a=true;if(d===undefined||typeof d=="string"){d={type:d};a=false}if(!d.isWriter){if(a){d=Ext.apply({},d)}Ext.applyIf(d,{model:b.model,type:b.defaultWriterType});d=Ext.createByAlias("writer."+d.type,d)}b.writer=d;return b.writer},getWriter:function(){return this.writer},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,destroy:Ext.emptyFn,batch:function(u,o){var n=this,m=n.batchActions,k,d,h,e,g,q,b,t,l;if(u.operations===undefined){u={operations:u,listeners:o}}if(u.batch){if(Ext.isDefined(u.batch.runOperation)){k=Ext.applyIf(u.batch,{proxy:n,listeners:{}})}}else{u.batch={proxy:n,listeners:u.listeners||{}}}if(!k){k=new Ext.data.Batch(u.batch)}k.on("complete",Ext.bind(n.onBatchComplete,n,[u],0));h=n.batchOrder.split(",");e=h.length;for(q=0;q<e;q++){g=h[q];d=u.operations[g];if(d){if(m){k.add(new Ext.data.Operation({action:g,records:d}))}else{t=d.length;for(b=0;b<t;b++){l=d[b];k.add(new Ext.data.Operation({action:g,records:[l]}))}}}}k.start();return k},onBatchComplete:function(a,b){var d=a.scope||this;if(b.hasException){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,d,[b,a])}}else{if(Ext.isFunction(a.success)){Ext.callback(a.success,d,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,d,[b,a])}},clone:function(){return new this.self(this.proxyConfig)}},1,0,0,0,["proxy.proxy"],[["observable",Ext.util.Observable]],[Ext.data.proxy,"Proxy",Ext.data,"DataProxy",Ext.data,"Proxy"],0));(Ext.cmd.derive("Ext.data.Operation",Ext.Base,{synchronous:true,action:undefined,filters:undefined,sorters:undefined,groupers:undefined,start:undefined,limit:undefined,batch:undefined,callback:undefined,scope:undefined,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,actionCommitRecordsRe:/^(?:create|update)$/i,actionSkipSyncRe:/^destroy$/i,constructor:function(a){Ext.apply(this,a||{})},commitRecords:function(q){var l=this,o=l.actionCommitRecordsRe.test(l.action),n,k,a,g,b,e,h,m,d;if(!l.actionSkipSyncRe.test(l.action)){a=l.records;if(a&&a.length){if(o){d=[]}if(a.length>1){if(l.action=="update"||a[0].clientIdProperty){n=new Ext.util.MixedCollection();n.addAll(q);for(k=a.length;k--;){b=a[k];g=n.findBy(l.matchClientRec,b);m=b.copyFrom(g);if(o){d.push(m)}}}else{for(e=0,h=a.length;e<h;++e){b=a[e];g=q[e];if(b&&g){m=l.updateRecord(b,g);if(o){d.push(m)}}}}}else{m=l.updateRecord(a[0],q[0]);if(o){d[0]=m}}if(o){for(k=a.length;k--;){a[k].commit(false,d[k])}}}}},updateRecord:function(a,b){if(b&&(a.phantom||a.getId()===b.getId())){return a.copyFrom(b)}return[]},matchClientRec:function(d){var a=this,b=a.getId();if(b&&d.getId()===b){return true}return d.internalId===a.internalId},setStarted:function(){this.started=true;this.running=true},setCompleted:function(){this.complete=true;this.running=false},setSuccessful:function(){this.success=true},setException:function(a){this.exception=true;this.success=false;this.running=false;this.error=a},hasException:function(){return this.exception===true},getError:function(){return this.error},getRecords:function(){var a=this.getResultSet();return this.records||(a?a.records:null)},getResultSet:function(){return this.resultSet},isStarted:function(){return this.started===true},isRunning:function(){return this.running===true},isComplete:function(){return this.complete===true},wasSuccessful:function(){return this.isComplete()&&this.success===true},setBatch:function(a){this.batch=a},allowWrite:function(){return this.action!="read"}},1,0,0,0,0,0,[Ext.data,"Operation"],0));(Ext.cmd.derive("Ext.data.AbstractStore",Ext.Base,{statics:{create:function(a){if(!a.isStore){if(!a.type){a.type="store"}a=Ext.createByAlias("store."+a.type,a)}return a}},onClassExtended:function(b,e,a){var d=e.model,g;if(typeof d=="string"){g=a.onBeforeCreated;a.onBeforeCreated=function(){var k=this,h=arguments;Ext.require(d,function(){g.apply(k,h)})}}},remoteSort:false,remoteFilter:false,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",filterOnLoad:true,sortOnLoad:true,implicitModel:false,defaultProxyType:"memory",isDestroyed:false,isStore:true,sortRoot:"data",constructor:function(a){var d=this,b;Ext.apply(d,a);d.removed=[];d.mixins.observable.constructor.apply(d,arguments);d.model=Ext.ModelManager.getModel(d.model);Ext.applyIf(d,{modelDefaults:null});if(!d.model&&d.fields){d.model=Ext.define("Ext.data.Store.ImplicitModel-"+(d.storeId||Ext.id()),{extend:"Ext.data.Model",fields:d.fields,proxy:d.proxy||d.defaultProxyType});delete d.fields;d.implicitModel=true}d.setProxy(d.proxy||d.model.getProxy());if(!d.disableMetaChangeEvent){d.proxy.on("metachange",d.onMetaChange,d)}if(d.id&&!d.storeId){d.storeId=d.id;delete d.id}if(d.storeId){Ext.data.StoreManager.register(d)}d.mixins.sortable.initSortable.call(d);b=d.decodeFilters(d.filters);d.filters=new Ext.util.MixedCollection();d.filters.addAll(b)},setProxy:function(a){var b=this;if(a instanceof Ext.data.proxy.Proxy){a.setModel(b.model)}else{if(Ext.isString(a)){a={type:a}}Ext.applyIf(a,{model:b.model});a=Ext.createByAlias("proxy."+a.type,a)}b.proxy=a;return b.proxy},getProxy:function(){return this.proxy},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(g,d){var e=this,a=Ext.ModelManager.create(Ext.applyIf(g,e.modelDefaults),e.model.modelName),b;d=d||{};Ext.applyIf(d,{action:"create",records:[a]});b=new Ext.data.Operation(d);e.proxy.create(b,e.onProxyWrite,e);return a},read:function(){return this.load.apply(this,arguments)},update:function(b){var d=this,a;b=b||{};Ext.applyIf(b,{action:"update",records:d.getUpdatedRecords()});a=new Ext.data.Operation(b);return d.proxy.update(a,d.onProxyWrite,d)},onProxyWrite:function(b){var d=this,e=b.wasSuccessful(),a=b.getRecords();switch(b.action){case"create":d.onCreateRecords(a,b,e);break;case"update":d.onUpdateRecords(a,b,e);break;case"destroy":d.onDestroyRecords(a,b,e);break}if(e){d.fireEvent("write",d,b);d.fireEvent("datachanged",d);d.fireEvent("refresh",d)}Ext.callback(b.callback,b.scope||d,[a,b,e])},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(b,a,d){if(d){this.removed=[]}},destroy:function(b){var d=this,a;b=b||{};Ext.applyIf(b,{action:"destroy",records:d.getRemovedRecords()});a=new Ext.data.Operation(b);return d.proxy.destroy(a,d.onProxyWrite,d)},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(d,a){var h=this,b=d.operations,g=b.length,e;h.suspendEvents();for(e=0;e<g;e++){h.onProxyWrite(b[e])}h.resumeEvents();h.fireEvent("datachanged",h);h.fireEvent("refresh",h)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},filter:function(a,b){},decodeFilters:function(g){if(!Ext.isArray(g)){if(g===undefined){g=[]}else{g=[g]}}var e=g.length,a=Ext.util.Filter,b,d;for(d=0;d<e;d++){b=g[d];if(!(b instanceof a)){Ext.apply(b,{root:"data"});if(b.fn){b.filterFn=b.fn}if(typeof b=="function"){b={filterFn:b}}g[d]=new a(b)}}return g},clearFilter:function(a){},isFiltered:function(){},filterBy:function(b,a){},sync:function(d){var g=this,b={},h=g.getNewRecords(),e=g.getUpdatedRecords(),a=g.getRemovedRecords(),k=false;if(h.length>0){b.create=h;k=true}if(e.length>0){b.update=e;k=true}if(a.length>0){b.destroy=a;k=true}if(k&&g.fireEvent("beforesync",b)!==false){d=d||{};g.proxy.batch(Ext.apply(d,{operations:b,listeners:g.getBatchListeners()}))}return g},getBatchListeners:function(){var b=this,a={scope:b,exception:b.onBatchException};if(b.batchUpdateMode=="operation"){a.operationcomplete=b.onBatchOperationComplete}else{a.complete=b.onBatchComplete}return a},save:function(){return this.sync.apply(this,arguments)},load:function(b){var d=this,a;b=Ext.apply({action:"read",filters:d.filters.items,sorters:d.getSorters()},b);d.lastOptions=b;a=new Ext.data.Operation(b);if(d.fireEvent("beforeload",d,a)!==false){d.loading=true;d.proxy.read(a,d.onProxyLoad,d)}return d},reload:function(a){return this.load(Ext.apply(this.lastOptions,a))},afterEdit:function(a,g){var e=this,b,d;if(e.autoSync&&!e.autoSyncSuspended){for(b=g.length;b--;){if(a.fields.get(g[b]).persist){d=true;break}}if(d){e.sync()}}e.onUpdate(a,Ext.data.Model.EDIT,g);e.fireEvent("update",e,a,Ext.data.Model.EDIT,g)},afterReject:function(a){this.onUpdate(a,Ext.data.Model.REJECT,null);this.fireEvent("update",this,a,Ext.data.Model.REJECT,null)},afterCommit:function(a,b){if(!b){b=null}this.onUpdate(a,Ext.data.Model.COMMIT,b);this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b)},onUpdate:Ext.emptyFn,onIdChanged:function(d,e,b,a){this.fireEvent("idchanged",this,d,e,b,a)},destroyStore:function(){var a,b=this;if(!b.isDestroyed){b.clearListeners();if(b.storeId){Ext.data.StoreManager.unregister(b)}b.clearData();b.data=b.tree=b.sorters=b.filters=b.groupers=null;if(b.reader){b.reader.destroyReader()}b.proxy=b.reader=b.writer=null;b.isDestroyed=true;if(b.implicitModel){a=Ext.getClassName(b.model);Ext.undefine(a);Ext.ModelManager.unregisterType(a)}else{b.model=null}}},getState:function(){var g=this,d,a,b=!!g.groupers,h=[],k=[],e=[];if(b){g.groupers.each(function(l){h[h.length]=l.serialize();d=true})}if(g.sorters){g.sorters.each(function(l){if(b&&!g.groupers.contains(l)){k[k.length]=l.serialize();d=true}})}if(g.filters&&g.statefulFilters){g.filters.each(function(l){e[e.length]=l.serialize();d=true})}if(d){a={};if(h.length){a.groupers=h}if(k.length){a.sorters=k}if(e.length){a.filters=e}return a}},applyState:function(h){var g=this,d=!!g.sorters,b=!!g.groupers,a=!!g.filters,e;if(b&&h.groupers){g.groupers.clear();g.groupers.addAll(g.decodeGroupers(h.groupers))}if(d&&h.sorters){g.sorters.clear();g.sorters.addAll(g.decodeSorters(h.sorters))}if(a&&h.filters){g.filters.clear();g.filters.addAll(g.decodeFilters(h.filters))}if(d&&b){g.sorters.insert(0,g.groupers.getRange())}if(g.autoLoad&&(g.remoteSort||g.remoteGroup||g.remoteFilter)){if(g.autoLoad===true){g.reload()}else{g.reload(g.autoLoad)}}if(a&&g.filters.length&&!g.remoteFilter){g.filter();e=g.sortOnFilter}if(d&&g.sorters.length&&!g.remoteSort&&!e){g.sort()}},doSort:function(a){var b=this;if(b.remoteSort){b.load()}else{b.data.sortBy(a);b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}b.fireEvent("sort",b,b.sorters.getRange())},clearData:Ext.emptyFn,getCount:Ext.emptyFn,getById:Ext.emptyFn,removeAll:Ext.emptyFn,isLoading:function(){return !!this.loading},suspendAutoSync:function(){this.autoSyncSuspended=true},resumeAutoSync:function(){this.autoSyncSuspended=false}},1,0,0,0,0,[["observable",Ext.util.Observable],["sortable",Ext.util.Sortable]],[Ext.data,"AbstractStore"],0));(Ext.cmd.derive("Ext.app.domain.Store",Ext.app.EventDomain,{singleton:true,type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}},1,0,0,0,0,0,[Ext.app.domain,"Store"],0));(Ext.cmd.derive("Ext.app.Controller",Ext.Base,{statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(d,a){var e="get",g=d.split("."),h=g.length,b;for(b=0;b<h;b++){e+=Ext.String.capitalize(g[b])}e+=a;return e},processDependencies:function(u,w,d,e,l){if(!l||!l.length){return}var m=this,t=m.strings[e],b,r,q,a,g,h,n,k;if(!Ext.isArray(l)){l=[l]}for(g=0,h=l.length;g<h;g++){a=l[g];b=m.getFullName(a,e,d);r=b.absoluteName;q=b.shortName;w.push(r);n=m.getGetterName(q,t.upper);u[n]=k=m.createGetter(t.getter,a);if(e!=="controller"){k["Ext.app.getter"]=true}}},getFullName:function(d,g,e){var a=d,b,h;if((b=d.indexOf("@"))>0){a=d.substring(0,b);h=d.substring(b+1)+"."+a}else{if(d.indexOf(".")>0&&(Ext.ClassManager.isCreated(d)||Ext.Loader.isAClassNameWithAKnownPrefix(d))){h=d}else{if(e){h=e+"."+g+"."+d;a=d}else{h=d}}}return{absoluteName:h,shortName:a}}},application:null,onClassExtended:function(b,d,a){var e=a.onBeforeCreated;a.onBeforeCreated=function(q,k){var h=Ext.app.Controller,n=h.controllerRegex,r=[],o,g,r,m,l;m=q.prototype;o=Ext.getClassName(q);g=k.$namespace||Ext.app.getNamespace(o)||((l=n.exec(o))&&l[1]);if(g){m.$namespace=g}h.processDependencies(m,r,g,"model",k.models);h.processDependencies(m,r,g,"view",k.views);h.processDependencies(m,r,g,"store",k.stores);h.processDependencies(m,r,g,"controller",k.controllers);Ext.require(r,Ext.Function.pass(e,arguments,this))}},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);if(b.refs){b.ref(b.refs)}b.eventbus=Ext.app.EventBus;b.initAutoGetters()},initAutoGetters:function(){var b=this.self.prototype,d,a;for(d in b){a=b[d];if(a&&a["Ext.app.getter"]){a.call(this)}}},doInit:function(b){var a=this;if(!a._initialized){a.init(b);a._initialized=true}},finishInit:function(h){var e=this,g=e.controllers,b,d,a;if(e._initialized&&g&&g.length){for(d=0,a=g.length;d<a;d++){b=e.getController(g[d]);b.finishInit(h)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,ref:function(a){var h=this,b=0,g=a.length,k,e,d;a=Ext.Array.from(a);h.references=h.references||[];for(;b<g;b++){k=a[b];e=k.ref;d="get"+Ext.String.capitalize(e);if(!h[d]){h[d]=Ext.Function.pass(h.getRef,[e,k],h)}h.references.push(e.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(e,h,a){var d=this,g=d.refCache||(d.refCache={}),b=g[e];h=h||{};a=a||{};Ext.apply(h,a);if(h.forceCreate){return Ext.ComponentManager.create(h,"component")}if(!b){if(h.selector){g[e]=b=Ext.ComponentQuery.query(h.selector)[0]}if(!b&&h.autoCreate){g[e]=b=Ext.ComponentManager.create(h,"component")}if(b){b.on("beforedestroy",function(){g[e]=null})}}return b},hasRef:function(b){var a=this.references;return a&&Ext.Array.indexOf(a,b.toLowerCase())!==-1},control:function(b,d,a){var e=this,g=a,h;if(Ext.isString(b)){h={};h[b]=d}else{h=b;g=d}e.eventbus.control(h,g||e)},listen:function(b,a){this.eventbus.listen(b,a||this)},getController:function(d){var a=this,b=a.application;if(d===a.id){return a}return b&&b.getController(d)},getStore:function(d){var a,b;a=(d.indexOf("@")==-1)?d:d.split("@")[0];b=Ext.StoreManager.get(a);if(!b){d=Ext.app.Controller.getFullName(d,"store",this.$namespace);if(d){b=Ext.create(d.absoluteName,{storeId:a})}}return b},getModel:function(b){var a=Ext.app.Controller.getFullName(b,"model",this.$namespace);return a&&Ext.ModelManager.getModel(a.absoluteName)},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},getApplication:function(){return this.application}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.app,"Controller"],0));(Ext.cmd.derive("Ext.container.DockingContainer",Ext.Base,{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,h){var g=this,b=0,e,d;a=g.prepareItems(a);d=a.length;for(;b<d;b++){e=a[b];e.dock=e.dock||"top";if(e.dock==="left"||e.dock==="right"){g.horizontalDocks++}if(h!==undefined){b+=h;g.dockedItems.insert(b,e)}else{g.dockedItems.add(e)}e.onAdded(g,b);if(g.hasListeners.dockedadd){g.fireEvent("dockedadd",g,e,b)}if(g.onDockedAdd!==Ext.emptyFn){g.onDockedAdd(e)}}if(g.rendered&&!g.suspendLayout){g.updateLayout()}return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while((b=a.first())){this.removeDocked(b,true)}}},doRenderDockedItems:function(d,h,k){var g=h.$comp,e=g.componentLayout,b,a;if(e.getDockedItems&&!h.$skipDockedItems){b=e.getDockedItems("render",!k);a=b&&e.getItemsRenderTree(b);if(a){Ext.DomHelper.generateMarkup(a,d)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(a,d){var b=this.getComponentLayout().getDockedItems("render",d);if(a&&b.length){b=Ext.ComponentQuery.query(a,b)}return b},getDockingRefItems:function(b,g){var a=b&&"*,* *",e=this.getDockedItems(a,true),d;e.push.apply(e,g);d=this.getDockedItems(a,false);e.push.apply(e,d);return e},initDockingItems:function(){var b=this,a=b.dockedItems;b.dockedItems=new Ext.util.AbstractMixedCollection(false,b.getComponentId);if(a){b.addDocked(a)}},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(g,b){var e=this,d,a;b=b===true||(b!==false&&e.autoDestroy);if(!e.dockedItems.contains(g)){return g}if(g.dock==="left"||g.dock==="right"){e.horizontalDocks--}d=e.componentLayout;a=d&&e.rendered;if(a){d.onRemove(g)}e.dockedItems.remove(g);g.onRemoved(g.destroying||b);e.onDockedRemove(g);if(b){g.destroy()}else{if(a){d.afterRemove(g)}}if(e.hasListeners.dockedremove){e.fireEvent("dockedremove",e,g)}if(!e.destroying&&!e.suspendLayout){e.updateLayout()}return g},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}},0,0,0,0,0,0,[Ext.container,"DockingContainer"],0));(Ext.cmd.derive("Ext.toolbar.Fill",Ext.Component,{alternateClassName:"Ext.Toolbar.Fill",isFill:true,flex:1},0,["tbfill"],["component","tbfill","box"],{component:true,tbfill:true,box:true},["widget.tbfill"],0,[Ext.toolbar,"Fill",Ext.Toolbar,"Fill"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.None",Ext.Base,{alternateClassName:"Ext.layout.boxOverflow.None",constructor:function(b,a){this.layout=b;Ext.apply(this,a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(b){var a=this,d=b.state.boxPlan,e;if(d&&d.tooNarrow){e=a.handleOverflow(b);if(e){if(e.reservedSpace){a.layout.publishInnerCtSize(b,e.reservedSpace)}}}else{a.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(e){var d=this,a=d.layout.owner,b,g;if(a.hasListeners.overflowchange){b=a.query(">[hidden]");g=b.length;if(g!==d.lastHiddenCount){a.fireEvent("overflowchange",d.lastHiddenCount,g,b);d.lastHiddenCount=g}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;if(a.isToolbar){b="toolbar"}else{if(a.isTabBar){b="tabbar"}else{if(a.isMenu){b="menu"}else{b=a.getXType()}}}return b},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,"None",Ext.layout.boxOverflow,"None"],0));(Ext.cmd.derive("Ext.toolbar.Item",Ext.Component,{alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn},0,["tbitem"],["component","tbitem","box"],{component:true,tbitem:true,box:true},["widget.tbitem"],0,[Ext.toolbar,"Item",Ext.Toolbar,"Item"],0));(Ext.cmd.derive("Ext.toolbar.Separator",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false},0,["tbseparator"],["tbseparator","component","tbitem","box"],{tbseparator:true,component:true,tbitem:true,box:true},["widget.tbseparator"],0,[Ext.toolbar,"Separator",Ext.Toolbar,"Separator"],0));(Ext.cmd.derive("Ext.button.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=true}},onDocumentKeyDown:function(d){var a=d.getKey(),b;if(a===d.SPACE||a===d.ENTER){b=d.getTarget(this.buttonSelector);if(b){Ext.getCmp(b.id).onClick(d)}}},onButtonMousedown:function(a,d){var b=this.pressedButton;if(b){b.onMouseUp(d)}this.pressedButton=a},onDocumentMouseUp:function(b){var a=this.pressedButton;if(a){a.onMouseUp(b);this.pressedButton=null}},toggleGroup:function(b,h){if(h){var e=this.groups[b.toggleGroup],d=e.length,a;for(a=0;a<d;a++){if(e[a]!==b){e[a].toggle(false)}}}},register:function(b){var d=this,a=this.groups,e=a[b.toggleGroup];d.init();if(!b.toggleGroup){return}if(!e){e=a[b.toggleGroup]=[]}e.push(b);b.on("toggle",d.toggleGroup,d)},unregister:function(a){if(!a.toggleGroup){return}var b=this,d=b.groups[a.toggleGroup];if(d){Ext.Array.remove(d,a);a.un("toggle",b.toggleGroup,b)}},getPressed:function(e){var d=this.groups[e],b=0,a;if(d){for(a=d.length;b<a;b++){if(d[b].pressed===true){return d[b]}}}return null}},0,0,0,0,0,0,[Ext.button,"Manager",Ext,"ButtonToggleManager"],0));(Ext.cmd.derive("Ext.layout.component.Dock",Ext.layout.component.Component,{alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var b=this,d,a;b.callParent();d=b.getRenderTarget();a=b.getDockedItems();b.finishRenderItems(d,a)},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},handleItemBorders:function(){var o=this,a=o.owner,n,u,k=o.lastDockedItems,h=o.borders,b=a.dockedItems.generation,d=o.noBorderClassesSides,q=o.borderWidthProps,g,m,t,r,l,e=o.collapsed;if(o.initializedBorders==b||(a.border&&!a.manageBodyBorders)){return}o.initializedBorders=b;o.collapsed=false;o.lastDockedItems=u=o.getLayoutItems();o.collapsed=e;n={top:[],right:[],bottom:[],left:[]};for(g=0,m=u.length;g<m;g++){t=u[g];r=t.dock;if(t.ignoreBorderManagement){continue}if(!n[r].satisfied){n[r].push(t);n[r].satisfied=true}if(!n.top.satisfied&&r!=="bottom"){n.top.push(t)}if(!n.right.satisfied&&r!=="left"){n.right.push(t)}if(!n.bottom.satisfied&&r!=="top"){n.bottom.push(t)}if(!n.left.satisfied&&r!=="right"){n.left.push(t)}}if(k){for(g=0,m=k.length;g<m;g++){t=k[g];if(!t.isDestroyed&&!t.ignoreBorderManagement&&!a.manageBodyBorders){t.removeCls(o.noBorderClasses)}}}if(h){for(l in h){if(a.manageBodyBorders&&h[l].satisfied){a.setBodyStyle(q[l],"")}}}for(l in n){m=n[l].length;if(!a.manageBodyBorders){for(g=0;g<m;g++){n[l][g].addCls(d[l])}if((!n[l].satisfied&&!a.bodyBorder)||a.bodyBorder===false){a.addBodyCls(d[l])}}else{if(n[l].satisfied){a.setBodyStyle(q[l],"1px")}}}o.borders=n},beforeLayoutCycle:function(h){var d=this,b=d.owner,k=d.sizeModels.shrinkWrap,g=b.shrinkWrapDock,e,a;if(b.collapsed){if(b.collapsedVertical()){a=true;h.measureDimensions=1}else{e=true;h.measureDimensions=2}}h.collapsedVert=a;h.collapsedHorz=e;if(a){h.heightModel=k}else{if(e){h.widthModel=k}}g=g===true?3:(g||0);h.shrinkWrapDockHeight=(g&1)&&h.heightModel.shrinkWrap;h.shrinkWrapDockWidth=(g&2)&&h.widthModel.shrinkWrap},beginLayout:function(e){var m=this,d=m.owner,r=m.getLayoutItems(),b=e.context,h=r.length,n,l,q,a,g,k,o;m.callParent(arguments);k=d.getCollapsed();if(k!==m.lastCollapsedState&&Ext.isDefined(m.lastCollapsedState)){if(m.owner.collapsed){e.isCollapsingOrExpanding=1;d.addClsWithUI(d.collapsedCls)}else{e.isCollapsingOrExpanding=2;d.removeClsWithUI(d.collapsedCls);e.lastCollapsedState=m.lastCollapsedState}}m.lastCollapsedState=k;e.dockedItems=n=[];for(l=0;l<h;l++){q=r[l];if(q.rendered){o=q.dock;a=b.getCmp(q);a.dockedAt={x:0,y:0};a.offsets=g=Ext.Element.parseBox(q.offsets||0);a.horizontal=o=="top"||o=="bottom";g.width=g.left+g.right;g.height=g.top+g.bottom;n.push(a)}}e.bodyContext=e.getEl("body")},beginLayoutCycle:function(b){var g=this,n=b.dockedItems,e=n.length,a=g.owner,h=a.frameBody,m=g.lastHeightModel,d,l,k;g.callParent(arguments);if(g.owner.manageHeight){if(g.lastBodyDisplay){a.body.dom.style.display=g.lastBodyDisplay=""}}else{if(g.lastBodyDisplay!=="inline-block"){a.body.dom.style.display=g.lastBodyDisplay="inline-block"}if(m&&m.shrinkWrap&&!b.heightModel.shrinkWrap){a.body.dom.style.marginBottom=""}}if(b.widthModel.auto){if(b.widthModel.shrinkWrap){a.el.setWidth(null)}a.body.setWidth(null);if(h){h.setWidth(null)}}if(b.heightModel.auto){a.body.setHeight(null);if(h){h.setHeight(null)}}if(b.collapsedVert){b.setContentHeight(0)}else{if(b.collapsedHorz){b.setContentWidth(0)}}for(d=0;d<e;d++){l=n[d].target;k=l.dock;if(k=="right"){l.setLocalX(0)}else{if(k!="left"){continue}}}},calculate:function(e){var o=this,d=o.measureAutoDimensions(e,e.measureDimensions),b=e.state,n=b.horzDone,g=b.vertDone,h=e.bodyContext,m,a,l,k,q;e.borderInfo||e.getBorderInfo();e.paddingInfo||e.getPaddingInfo();e.frameInfo||e.getFrameInfo();h.borderInfo||h.getBorderInfo();h.paddingInfo||h.getPaddingInfo();if(!e.frameBorder){if(!(m=e.framing)){e.frameBorder=e.borderInfo;e.framePadding=e.paddingInfo}else{e.frameBorder=m.border;e.framePadding=m.padding}}a=!n&&o.createAxis(e,d.contentWidth,e.widthModel,o.horzAxisProps,e.collapsedHorz);l=!g&&o.createAxis(e,d.contentHeight,e.heightModel,o.vertAxisProps,e.collapsedVert);for(k=0,q=e.dockedItems.length;q--;++k){if(a){o.dockChild(e,a,q,k)}if(l){o.dockChild(e,l,q,k)}}if(a&&o.finishAxis(e,a)){b.horzDone=n=a}if(l&&o.finishAxis(e,l)){b.vertDone=g=l}if(n&&g&&o.finishConstraints(e,n,g)){o.finishPositions(e,n,g)}else{o.done=false}},createAxis:function(u,m,g,q,e){var A=this,z=0,b=A.owner,h=b[q.maxSize],d=b[q.minSize]||0,r=q.dockBegin,l=q.dockEnd,x=q.pos,o=q.size,n=h!=null,t=g.shrinkWrap,a,y,w,k;if(t){if(e){k=0}else{a=u.bodyContext;k=m+a.borderInfo[o]}}else{y=u.frameBorder;w=u.framePadding;z=y[r]+w[r];k=u.getProp(o)-(y[l]+w[l])}return{shrinkWrap:g.shrinkWrap,sizeModel:g,initialBegin:z,begin:z,end:k,collapsed:e,horizontal:q.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:k-z,maxChildSize:0,hasMinMaxConstraints:(d||n)&&g.shrinkWrap,minSize:d,maxSize:n?h:1000000000,bodyPosProp:A.owner.manageHeight?x:q.marginBegin,dockBegin:r,dockEnd:l,posProp:x,sizeProp:o,setSize:q.setSize,shrinkWrapDock:u[q.shrinkWrapDock],sizeModelName:q.sizeModel,dockedPixelsEnd:0}},dockChild:function(b,d,o,g){var h=this,a=b.dockedItems[d.shrinkWrap?o:g],l=a.target,m=l.dock,e=d.sizeProp,k,n;if(l.ignoreParentFrame&&b.isCollapsingOrExpanding){a.clearMarginCache()}a.marginInfo||a.getMarginInfo();if(m==d.dockBegin){if(d.shrinkWrap){k=h.dockOutwardBegin(b,a,l,d)}else{k=h.dockInwardBegin(b,a,l,d)}}else{if(m==d.dockEnd){if(d.shrinkWrap){k=h.dockOutwardEnd(b,a,l,d)}else{k=h.dockInwardEnd(b,a,l,d)}}else{if(d.shrinkWrapDock){n=a.getProp(e)+a.marginInfo[e];d.maxChildSize=Math.max(d.maxChildSize,n);k=0}else{k=h.dockStretch(b,a,l,d)}}}a.dockedAt[d.posProp]=k},dockInwardBegin:function(b,a,m,e){var h=e.begin,g=e.sizeProp,d=m.ignoreParentFrame,k,n,l;if(d){e.ignoreFrameBegin=a;l=m.dock;k=b.frameBorder[l];h-=k+b.framePadding[l]}if(!m.overlay){n=a.getProp(g)+a.marginInfo[g];e.begin+=n;if(d){e.begin-=k}}return h},dockInwardEnd:function(g,e,d,b){var l=b.sizeProp,a=e.getProp(l)+e.marginInfo[l],k=b.end-a,h;if(!d.overlay){b.end=k}if(d.ignoreParentFrame){b.ignoreFrameEnd=e;h=g.frameBorder[d.dock];k+=h+g.framePadding[d.dock];b.end+=h}return k},dockOutwardBegin:function(g,e,d,b){var k=b.begin,h=b.sizeProp,a;if(b.collapsed){b.ignoreFrameBegin=b.ignoreFrameEnd=e}else{if(d.ignoreParentFrame){b.ignoreFrameBegin=e}}if(!d.overlay){a=e.getProp(h)+e.marginInfo[h];k-=a;b.begin=k}return k},dockOutwardEnd:function(g,e,d,b){var k=b.end,h=b.sizeProp,a;a=e.getProp(h)+e.marginInfo[h];if(b.collapsed){b.ignoreFrameBegin=b.ignoreFrameEnd=e}else{if(d.ignoreParentFrame){b.ignoreFrameEnd=e}}if(!d.overlay){b.end=k+a;b.dockedPixelsEnd+=a}return k},dockStretch:function(d,b,q,e){var r=q.dock,m=e.sizeProp,a=r=="top"||r=="bottom",l=d.frameBorder,g=b.offsets,o=d.framePadding,k=a?"right":"bottom",u=a?"left":"top",n=e.begin+g[u],h,t;if(q.stretch!==false){t=e.end-n-g[k];if(q.ignoreParentFrame){n-=o[u]+l[u];t+=o[m]+l[m]}h=b.marginInfo;t-=h[m];b[e.setSize](t)}return n},finishAxis:function(q,g){if(isNaN(g.maxChildSize)){return false}var e=g.begin,u=g.end-e,k=g.collapsed,C=g.setSize,n=g.dockBegin,A=g.dockEnd,t=q.framePadding,x=q.frameBorder,h=x[n],y=q.framing,r=y&&y[n],b=k?0:t[n],m=g.sizeProp,z=g.ignoreFrameBegin,w=g.ignoreFrameEnd,a=q.bodyContext,o=Math.max(h+b-r,0),d,D,B,l;if(g.shrinkWrap){D=g.initialSize;if(y){B=-e+h+b;d=B-r-o}else{d=-e;B=d+b}if(!k){u+=t[m]}if(z){B-=h;d-=h;z.dockedAt[g.posProp]-=b}else{u+=h}if(k){}else{if(w){w.dockedAt[g.posProp]+=t[A]}else{u+=x[A]}}g.size=u;if(!g.horizontal&&!this.owner.manageHeight){l=false}}else{if(y){B=0;d=e-r-o}else{B=-h;d=e-b-h}D=u}g.delta=B;a[C](D,l);a.setProp(g.bodyPosProp,d);return !isNaN(u)},beforeInvalidateShrinkWrapDock:function(d,b){var a=b.axis.sizeModelName;if(!d[a].constrainedMin){d[a]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(e,a){var b=a.axis,d=a.layout,g;if(e[b.sizeModelName].calculated){g=d.dockStretch(a.ownerContext,e,e.target,b);e.setProp(b.posProp,b.delta+g)}},finishConstraints:function(n,d,u){var y=this,x=y.sizeModels,t=d.shrinkWrap,w=u.shrinkWrap,a=y.owner,l,q,r,h,k,o,b,e,g,m;if(t){o=d.size;b=d.collapsed?0:d.minSize;e=d.maxSize;g=d.maxChildSize;m=Math.max(o,g);if(m>e){k=x.constrainedMax;r=e}else{if(m<b){k=x.constrainedMin;r=b}else{if(o<g){k=x.constrainedDock;a.dockConstrainedWidth=r=g}else{r=o}}}}if(w){o=u.size;b=u.collapsed?0:u.minSize;e=u.maxSize;g=u.maxChildSize;m=Math.max(o,g+o-u.initialSize);if(m>e){h=x.constrainedMax;q=e}else{if(m<b){h=x.constrainedMin;q=b}else{if(o<g){h=x.constrainedDock;a.dockConstrainedHeight=q=g}else{if(!n.collapsedVert&&!a.manageHeight){l=false;n.bodyContext.setProp("margin-bottom",u.dockedPixelsEnd)}q=o}}}}if(k||h){if(k&&h&&k.constrainedMax&&h.constrainedByMin){n.invalidate({widthModel:k});return false}if(!n.widthModel.calculatedFromShrinkWrap&&!n.heightModel.calculatedFromShrinkWrap){n.invalidate({widthModel:k,heightModel:h});return false}}else{y.invalidateAxes(n,d,u)}if(t){n.setWidth(r);if(k){n.widthModel=k}}if(w){n.setHeight(q,l);if(h){n.heightModel=h}}return true},invalidateAxes:function(h,a,n){var t=this.beforeInvalidateShrinkWrapDock,b=this.afterInvalidateShrinkWrapDock,g=a.end-a.begin,x=n.initialSize,d=a.shrinkWrapDock&&a.maxChildSize<g,o=n.shrinkWrapDock&&n.maxChildSize<x,u,q,m,e,w,r,k,l;if(d||o){if(o){n.begin=n.initialBegin;n.end=n.begin+n.initialSize}u=h.dockedItems;for(m=0,q=u.length;m<q;++m){e=u[m];r=e.horizontal;k=null;if(d&&r){l=a.sizeProp;w=g;k=a}else{if(o&&!r){l=n.sizeProp;w=x;k=n}}if(k){w-=e.getMarginInfo()[l];if(w!==e.props[l]){e.invalidate({before:t,after:b,axis:k,ownerContext:h,layout:this})}}}}},finishPositions:function(e,a,k){var m=e.dockedItems,d=m.length,h=a.delta,g=k.delta,l,b;for(l=0;l<d;++l){b=m[l];b.setProp("x",h+b.dockedAt.x);b.setProp("y",g+b.dockedAt.y)}},finishedLayout:function(b){var a=this,d=b.target;a.callParent(arguments);if(!b.animatePolicy){if(b.isCollapsingOrExpanding===1){d.afterCollapse(false)}else{if(b.isCollapsingOrExpanding===2){d.afterExpand(false)}}}},getAnimatePolicy:function(d){var b=this,a,e;if(d.isCollapsingOrExpanding==1){a=b.lastCollapsedState}else{if(d.isCollapsingOrExpanding==2){a=d.lastCollapsedState}}if(a=="left"||a=="right"){e=b.horizontalCollapsePolicy}else{if(a=="top"||a=="bottom"){e=b.verticalCollapsePolicy}}return e},getDockedItems:function(d,q){var l=this,g=(d==="visual"),m=g?Ext.ComponentQuery.query("[rendered]",l.owner.dockedItems.items):l.owner.dockedItems.items,k=m&&m.length&&d!==false,b,o,n,h,e,a;if(q==null){n=k&&!g?m.slice():m}else{n=[];for(h=0,a=m.length;h<a;++h){o=m[h].dock;e=(o=="top"||o=="left");if(q?e:!e){n.push(m[h])}}k=k&&n.length}if(k){b=(d=d||"render")=="render";Ext.Array.sort(n,function(t,r){var u,w;if(b&&((u=l.owner.dockOrder[t.dock])!==(w=l.owner.dockOrder[r.dock]))){if(!(u+w)){return u-w}}u=l.getItemWeight(t,d);w=l.getItemWeight(r,d);if((u!==undefined)&&(w!==undefined)){return u-w}return 0})}return n||[]},getItemWeight:function(b,a){var d=b.weight||this.owner.defaultDockWeights[b.dock];return d[a]||d},getLayoutItems:function(){var g=this,b,h,e,d,a;if(g.owner.collapsed){a=g.owner.getCollapsedDockedItems()}else{b=g.getDockedItems("visual");h=b.length;a=[];for(d=0;d<h;d++){e=b[d];if(!e.hidden){a.push(e)}}}return a},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(d){var b=this,a=b.owner;if(d.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.show()}a.addClsWithUI(a.collapsedCls);d.redo(true)}else{if(d.isCollapsingOrExpanding==2){a.removeClsWithUI(a.collapsedCls);d.bodyContext.redo()}}},renderChildren:function(){var b=this,a=b.getDockedItems(),d=b.getRenderTarget();b.handleItemBorders();b.renderItems(a,d)},renderItems:function(l,k){var m=this,d=l.length,a=0,b=0,r=0,n=m.getRenderTarget().dom.childNodes,o=n.length,h,e,g,q;for(h=0,e=0;h<o;h++){g=n[h];if(Ext.fly(g).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(e=0;e<d;e++){q=l[e];if(q.rendered&&q.el.dom===g){break}}if(e===d){r++}}for(;a<d;a++,b++){q=l[a];if(a===b&&(q.dock==="right"||q.dock==="bottom")){b+=r}if(q&&!q.rendered){m.renderItem(q,k,b)}else{if(!m.isValidParent(q,k,b)){m.moveItem(q,k,b)}}}},undoLayout:function(d){var b=this,a=b.owner;if(d.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.hide()}a.removeClsWithUI(a.collapsedCls);d.undo(true)}else{if(d.isCollapsingOrExpanding==2){a.addClsWithUI(a.collapsedCls);d.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,h){var d=this,k=d.sizePolicy,g=d.owner.shrinkWrapDock,b,a;if(e.stretch===false){return k.nostretch}b=e.dock;a=(b=="left"||b=="right");g=g===true?3:(g||0);if(a){k=k.vert;g=g&1}else{k=k.horz;g=g&2}if(g){if(!h){h=d.owner.getSizeModel()}if(h[a?"height":"width"].shrinkWrap){return k.shrinkWrap}}return k.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(Ext.baseCSSPrefix+"docked");a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){this.callParent(arguments);if(this.itemCls){a.el.removeCls(this.itemCls+"-"+a.dock)}var b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var e=this,h=e.borderCollapseMap,a=e.owner,b=a.baseCls,g=a.ui,d;h=h[b]||(h[b]={});d=h[g];if(!d){b+="-"+g+"-outer-border-";h[g]=d=[0,b+"l",b+"b",b+"bl",b+"r",b+"rl",b+"rb",b+"rbl",b+"t",b+"tl",b+"tb",b+"tbl",b+"tr",b+"trl",b+"trb",b+"trbl"]}return d}},0,0,0,0,["layout.dock"],0,[Ext.layout.component,"Dock",Ext.layout.component,"AbstractDock"],0));(Ext.cmd.derive("Ext.menu.Manager",Ext.Base,{singleton:true,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){var a=this;a.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var d=this.active,b,a,e;if(d&&d.length>0){b=Ext.Array.slice(d.items);e=b.length;for(a=0;a<e;a++){b[a].hide()}return true}return false},onHide:function(a){var b=this,d=b.active;d.remove(a);if(d.length<1){Ext.getDoc().un("mousedown",b.onMouseDown,b);b.attached=false}},onShow:function(a){var d=this,e=d.active,b=d.attached;d.lastShow=new Date();e.add(a);if(!b){Ext.getDoc().on("mousedown",d.onMouseDown,d,{buffer:Ext.isIE9m?10:undefined});d.attached=true}a.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var d=this.active,b=a.parentMenu;d.remove(a);if(!b&&!a.allowOtherMenus){this.hideAll()}else{if(b&&b.activeChild&&a!=b.activeChild){b.activeChild.hide()}}},onMouseDown:function(h){var b=this,g=b.active,a=b.lastShow,d=true;if(Ext.Date.getElapsed(a)>50&&g.length>0&&!h.getTarget(b.menuSelector)){if(Ext.isIE9m&&!Ext.getDoc().contains(h.target)){d=false}if(d){b.hideAll()}}},register:function(b){var a=this;if(!a.active){a.init()}if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},get:function(b){var a=this.menus;if(typeof b=="string"){if(!a){return null}return a[b]}else{if(b.isMenu){return b}else{if(Ext.isArray(b)){return new Ext.menu.Menu({items:b})}else{return Ext.ComponentManager.create(b,"menu")}}}},unregister:function(e){var a=this,b=a.menus,d=a.active;delete b[e.id];d.remove(e);e.un({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},registerCheckable:function(d){var a=this.groups,b=d.group;if(b){if(!a[b]){a[b]=[]}a[b].push(d)}},unregisterCheckable:function(d){var a=this.groups,b=d.group;if(b){Ext.Array.remove(a[b],d)}},onCheckChange:function(e,h){var a=this.groups,d=e.group,b=0,l,g,k;if(d&&h){l=a[d];g=l.length;for(;b<g;b++){k=l[b];if(k!=e){k.setChecked(false)}}}}},0,0,0,0,0,0,[Ext.menu,"Manager",Ext.menu,"MenuMgr"],0));(Ext.cmd.derive("Ext.util.ClickRepeater",Ext.util.Observable,{constructor:function(b,a){var d=this;d.el=Ext.get(b);d.el.unselectable();Ext.apply(d,a);d.callParent();d.addEvents("mousedown","click","mouseup");if(!d.disabled){d.disabled=true;d.enable()}if(d.handler){d.on("click",d.handler,d.scope||d)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||(Ext.isStrict&&Ext.isIE9))){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}a=new Ext.EventObjectImpl(a);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,h,g){return(e==g)?a+h:h*(-Math.pow(2,-10*e/g)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,a)}},1,0,0,0,0,0,[Ext.util,"ClickRepeater"],0));(Ext.cmd.derive("Ext.layout.component.Button",Ext.layout.component.Auto,{type:"button",htmlRE:/<.*>/,beginLayout:function(d){var b=this,a=b.owner,e=a.text;b.callParent(arguments);d.btnWrapContext=d.getEl("btnWrap");d.btnElContext=d.getEl("btnEl");d.btnInnerElContext=d.getEl("btnInnerEl");d.btnIconElContext=d.getEl("btnIconEl");if(e&&b.htmlRE.test(e)){d.isHtmlText=true;a.btnInnerEl.setStyle("line-height","normal");a.btnInnerEl.setStyle("padding-top","")}},beginLayoutCycle:function(b){var a=this.owner,d=this.lastWidthModel;this.callParent(arguments);if(d&&!this.lastWidthModel.shrinkWrap&&b.widthModel.shrinkWrap){a.btnWrap.setStyle("height","");a.btnEl.setStyle("height","");a.btnInnerEl.setStyle("line-height","")}},calculate:function(e){var k=this,d=k.owner,l=e.btnElContext,h=e.btnInnerElContext,o=e.btnWrapContext,g=Math.max,b,m,n,a;k.callParent(arguments);if(e.heightModel.shrinkWrap){n=d.btnEl.getHeight();if(e.isHtmlText){k.centerInnerEl(e,n);k.ieCenterIcon(e,n)}}else{b=e.getProp("height");if(b){m=b-e.getFrameInfo().height-e.getPaddingInfo().height;n=m;if((d.menu||d.split)&&d.arrowAlign==="bottom"){n-=o.getPaddingInfo().bottom}a=n;if((d.icon||d.iconCls||d.glyph)&&(d.iconAlign==="top"||d.iconAlign==="bottom")){a-=h.getPaddingInfo().height}o.setProp("height",g(0,m));l.setProp("height",g(0,n));if(e.isHtmlText){k.centerInnerEl(e,n)}else{h.setProp("line-height",g(0,a)+"px")}k.ieCenterIcon(e,n)}else{if(b!==0){k.done=false}}}},centerInnerEl:function(g,e){var d=this,b=g.btnInnerElContext,a=d.owner.btnInnerEl.getHeight();if(g.heightModel.shrinkWrap&&(e<a)){g.btnElContext.setHeight(a)}else{if(e>a){b.setProp("padding-top",Math.round((e-a)/2)+b.getPaddingInfo().top)}}},ieCenterIcon:function(d,b){var a=this.owner.iconAlign;if((Ext.isIEQuirks||Ext.isIE6)&&(a==="left"||a==="right")){d.btnIconElContext.setHeight(b)}},publishInnerWidth:function(b,a){if(this.owner.getFrameInfo().table){b.btnInnerElContext.setWidth(a-b.getFrameInfo().width-b.getPaddingInfo().width-b.btnWrapContext.getPaddingInfo().width)}}},0,0,0,0,["layout.button"],0,[Ext.layout.component,"Button"],0));(Ext.cmd.derive("Ext.util.TextMetrics",Ext.Base,{statics:{shared:null,measure:function(a,e,g){var b=this,d=b.shared;if(!d){d=b.shared=new b(a,g)}d.bind(a);d.setFixedWidth(g||"auto");return d.getSize(e)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(a,e){var d=this,b=Ext.getBody().createChild({cls:Ext.baseCSSPrefix+"textmetrics"});d.measure=b;if(a){d.bind(a)}b.position("absolute");b.setLocalXY(-1000,-1000);b.hide();if(e){b.setWidth(e)}},getSize:function(d){var b=this.measure,a;b.update(d);a=b.getSize();b.update("");return a},bind:function(a){var b=this;b.el=Ext.get(a);b.measure.setStyle(b.el.getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.remove();delete a.el;delete a.measure}},1,0,0,0,0,0,[Ext.util,"TextMetrics"],function(){Ext.Element.addMethods({getTextWidth:function(d,b,a){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.value(d,this.dom.innerHTML,true)).width,b||0,a||1000000)}})}));(Ext.cmd.derive("Ext.button.Button",Ext.Component,{alternateClassName:"Ext.Button",isButton:true,componentLayout:"button",hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,textAlign:"center",clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",pressedCls:"pressed",overCls:"over",focusCls:"focus",menuActiveCls:"menu-active",hrefTarget:"_blank",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<tpl if="closable">','<span id="{id}-closeEl" class="{baseCls}-close-btn" title="{closeText}" tabIndex="0"></span>',"</tpl>"],scale:"small",allowedScales:["small","medium","large"],iconAlign:"left",arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,_triggerRegion:{},initComponent:function(){var a=this;a.autoEl={tag:"a",role:"button",hidefocus:"on",unselectable:"on"};a.addCls("x-unselectable");a.callParent(arguments);a.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout","textchange","iconchange","glyphchange");if(a.menu){a.split=true;a.menu=Ext.menu.Manager.get(a.menu);a.menu.ownerButton=a}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty("preventDefault")){a.preventDefault=false}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==""){a.enableToggle=true}if(a.html&&!a.text){a.text=a.html;delete a.html}a.glyphCls=a.baseCls+"-glyph"},getActionEl:function(){return this.el},getFocusEl:function(){return this.el},onDisable:function(){this.callParent(arguments)},setComponentCls:function(){var b=this,a=b.getComponentCls();if(!Ext.isEmpty(b.oldCls)){b.removeClsWithUI(b.oldCls);b.removeClsWithUI(b.pressedCls)}b.oldCls=a;b.addClsWithUI(a)},getComponentCls:function(){var b=this,a;if(b.iconCls||b.icon||b.glyph){a=[b.text?"icon-text-"+b.iconAlign:"icon"]}else{if(b.text){a=["noicon"]}else{a=[]}}if(b.pressed){a[a.length]=b.pressedCls}return a},beforeRender:function(){var b=this,d=b.autoEl,a=b.getHref(),e=b.hrefTarget;if(!b.disabled){d.tabIndex=b.tabIndex}if(a){d.href=a;if(e){d.target=e}}b.callParent();b.oldCls=b.getComponentCls();b.addClsWithUI(b.oldCls);Ext.applyIf(b.renderData,b.getTemplateArgs())},onRender:function(){var d=this,e,a,b;d.doc=Ext.getDoc();d.callParent(arguments);a=d.el;if(d.tooltip){d.setTooltip(d.tooltip,true)}if(d.handleMouseEvents){b={scope:d,mouseover:d.onMouseOver,mouseout:d.onMouseOut,mousedown:d.onMouseDown};if(d.split){b.mousemove=d.onMouseMove}}else{b={scope:d}}if(d.menu){d.mon(d.menu,{scope:d,show:d.onMenuShow,hide:d.onMenuHide});d.keyMap=new Ext.util.KeyMap({target:d.el,key:Ext.EventObject.DOWN,handler:d.onDownKey,scope:d})}if(d.repeat){d.mon(new Ext.util.ClickRepeater(a,Ext.isObject(d.repeat)?d.repeat:{}),"click",d.onRepeatClick,d)}else{if(b[d.clickEvent]){e=true}else{b[d.clickEvent]=d.onClick}}d.mon(a,b);if(e){d.mon(a,d.clickEvent,d.onClick,d)}Ext.button.Manager.register(d)},getTemplateArgs:function(){var d=this,b=d.glyph,e=Ext._glyphFontFamily,a;if(typeof b==="string"){a=b.split("@");b=a[0];e=a[1]}return{innerCls:d.getInnerCls(),splitCls:d.getSplitCls(),iconUrl:d.icon,iconCls:d.iconCls,glyph:b,glyphCls:b?d.glyphCls:"",glyphFontFamily:e,text:d.text||"&#160;"}},setHref:function(a){this.href=a;this.el.dom.href=this.getHref()},getHref:function(){var b=this,a=b.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},b.params,b.baseParams))):false},setParams:function(a){this.params=a;this.el.dom.href=this.getHref()},getSplitCls:function(){var a=this;return a.split?(a.baseCls+"-"+a.arrowCls)+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},getInnerCls:function(){return this.textAlign?this.baseCls+"-inner-"+this.textAlign:""},setIcon:function(b){b=b||"";var d=this,a=d.btnIconEl,e=d.icon||"";d.icon=b;if(b!=e){if(a){a.setStyle("background-image",b?"url("+b+")":"");d.setComponentCls();if(d.didIconStateChange(e,b)){d.updateLayout()}}d.fireEvent("iconchange",d,e,b)}return d},setIconCls:function(b){b=b||"";var e=this,a=e.btnIconEl,d=e.iconCls||"";e.iconCls=b;if(d!=b){if(a){a.removeCls(d);a.addCls(b);e.setComponentCls();if(e.didIconStateChange(d,b)){e.updateLayout()}}e.fireEvent("iconchange",e,d,b)}return e},setGlyph:function(h){h=h||0;var g=this,b=g.btnIconEl,d=g.glyph,a,e;g.glyph=h;if(b){if(typeof h==="string"){e=h.split("@");h=e[0];a=e[1]||Ext._glyphFontFamily}if(!h){b.dom.innerHTML=""}else{if(d!=h){b.dom.innerHTML="&#"+h+";"}}if(a){b.setStyle("font-family",a)}}g.fireEvent("glyphchange",g,g.glyph,d);return g},setTooltip:function(d,a){var b=this;if(b.rendered){if(!a||!d){b.clearTip()}if(d){if(Ext.quickTipsActive&&Ext.isObject(d)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.el.id},d));b.tooltip=d}else{b.el.dom.setAttribute(b.getTipAttr(),d)}}}else{b.tooltip=d}return b},setTextAlign:function(d){var b=this,a=b.btnEl;if(a){a.removeCls(b.baseCls+"-inner-"+b.textAlign);a.addCls(b.baseCls+"-inner-"+d)}b.textAlign=d;return b},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var d=this.menu,b;if(d){b=d.getRefItems(a);b.unshift(d)}return b||[]},clearTip:function(){var b=this,a=b.el;if(Ext.quickTipsActive&&Ext.isObject(b.tooltip)){Ext.tip.QuickTipManager.unregister(a)}else{a.dom.removeAttribute(b.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu!==false){Ext.destroy(a.menu)}Ext.destroy(a.btnInnerEl,a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);a.callParent()},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(d){d=d||"";var b=this,a=b.text||"";if(d!=a){b.text=d;if(b.rendered){b.btnInnerEl.update(d||"&#160;");b.setComponentCls();if(Ext.isStrict&&Ext.isIE8){b.el.repaint()}b.updateLayout()}b.fireEvent("textchange",b,a,d)}return b},didIconStateChange:function(a,d){var b=Ext.isEmpty(d);return Ext.isEmpty(a)?!b:b},getText:function(){return this.text},toggle:function(d,a){var b=this;d=d===undefined?!b.pressed:!!d;if(d!==b.pressed){if(b.rendered){b[d?"addClsWithUI":"removeClsWithUI"](b.pressedCls)}b.pressed=d;if(!a){b.fireEvent("toggle",b,d);Ext.callback(b.toggleHandler,b.scope||b,[b,d])}}return b},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(true)}},showMenu:function(b){var a=this,d=a.menu;if(a.rendered){if(a.tooltip&&Ext.quickTipsActive&&a.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.el)}if(d.isVisible()){d.hide()}if(!b||a.showEmptyMenu||d.items.getCount()>0){d.showBy(a.el,a.menuAlign)}}return a},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(b){var a=this;if(a.preventDefault||(a.disabled&&a.getHref())&&b){b.preventDefault()}if(b.type!=="keydown"&&b.button!==0){return}if(!a.disabled){a.doToggle();a.maybeShowMenu();a.fireHandler(b)}},fireHandler:function(d){var b=this,a=b.handler;if(b.fireEvent("click",b,d)!==false){if(a){a.call(b.scope||b,b,d)}}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}},onMouseOver:function(b){var a=this;if(!a.disabled&&!b.within(a.el,true,true)){a.onMouseEnter(b)}},onMouseOut:function(b){var a=this;if(!b.within(a.el,true,true)){if(a.overMenuTrigger){a.onMenuTriggerOut(b)}a.onMouseLeave(b)}},onMouseMove:function(h){var d=this,b=d.el,g=d.overMenuTrigger,k,a;if(d.split){k=(d.arrowAlign==="right")?h.getX()-d.getX():h.getY()-b.getY();a=d.getTriggerRegion();if(k>a.begin&&k<a.end){if(!g){d.onMenuTriggerOver(h)}}else{if(g){d.onMenuTriggerOut(h)}}}},getTriggerRegion:function(){var d=this,e=d._triggerRegion,b=d.getTriggerSize(),a=d.arrowAlign==="right"?d.getWidth():d.getHeight();e.begin=a-b;e.end=a;return e},getTriggerSize:function(){var e=this,d=e.triggerSize,b,a;if(d==null){b=e.arrowAlign;a=b.charAt(0);d=e.triggerSize=e.el.getFrameWidth(a)+e.getBtnWrapFrameWidth(a);if(e.frameSize){d=e.triggerSize+=e.frameSize[b]}}return d},getBtnWrapFrameWidth:function(a){return this.btnWrap.getFrameWidth(a)},addOverCls:function(){if(!this.disabled){this.addClsWithUI(this.overCls)}},removeOverCls:function(){this.removeClsWithUI(this.overCls)},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(d){var b=this,a=b.arrowTooltip;b.overMenuTrigger=true;if(b.split&&a){b.btnWrap.dom.setAttribute(b.getTipAttr(),a)}b.fireEvent("menutriggerover",b,b.menu,d)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger;if(a.split&&a.arrowTooltip){a.btnWrap.dom.setAttribute(a.getTipAttr(),"")}a.fireEvent("menutriggerout",a,a.menu,b)},enable:function(a){var b=this;b.callParent(arguments);b.removeClsWithUI("disabled");if(b.rendered){b.el.dom.setAttribute("tabIndex",b.tabIndex)}return b},disable:function(a){var b=this;b.callParent(arguments);b.addClsWithUI("disabled");b.removeClsWithUI(b.overCls);if(b.rendered){b.el.dom.removeAttribute("tabIndex")}if(b.btnInnerEl&&Ext.isIE7m){b.btnInnerEl.repaint()}return b},setScale:function(d){var a=this,b=a.ui.replace("-"+a.scale,"");if(!Ext.Array.contains(a.allowedScales,d)){throw ("#setScale: scale must be an allowed scale ("+a.allowedScales.join(", ")+")")}a.scale=d;a.setUI(b)},setUI:function(b){var a=this;if(a.scale&&!b.match(a.scale)){b=b+"-"+a.scale}a.callParent([b])},onMouseDown:function(b){var a=this;if(Ext.isIE){a.getFocusEl().focus()}if(!a.disabled&&b.button===0){Ext.button.Manager.onButtonMousedown(a,b);a.addClsWithUI(a.pressedCls)}},onMouseUp:function(b){var a=this;if(b.button===0){if(!a.pressed){a.removeClsWithUI(a.pressedCls)}}},onMenuShow:function(b){var a=this;a.ignoreNextClick=0;a.addClsWithUI(a.menuActiveCls);a.fireEvent("menushow",a,a.menu)},onMenuHide:function(b){var a=this;a.removeClsWithUI(a.menuActiveCls);a.ignoreNextClick=Ext.defer(a.restoreClick,250,a);a.fireEvent("menuhide",a,a.menu);a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,d){var b=this;if(b.menu&&!b.disabled){b.showMenu();d.stopEvent();return false}}},0,["button"],["button","component","box"],{button:true,component:true,box:true},["widget.button"],[["queryable",Ext.Queryable]],[Ext.button,"Button",Ext,"Button"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Menu",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Menu",noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items">(None)</div>',constructor:function(b){var a=this;a.callParent(arguments);a.triggerButtonCls=a.triggerButtonCls||Ext.baseCSSPrefix+"box-menu-after";a.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(b,a){this.callParent(arguments);if(!a){this.clearOverflow(b);this.layout.cacheChildItems(b)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var e=this,d=e.layout,a=d.owner,b=a.id;e.menu=new Ext.menu.Menu({listeners:{scope:e,beforeshow:e.beforeMenuShow}});e.menuTrigger=new Ext.button.Button({id:b+"-menu-trigger",cls:Ext.layout.container.Box.prototype.innerCls+" "+e.triggerButtonCls+" "+Ext.baseCSSPrefix+"toolbar-item",plain:a.usePlainButtons,ownerCt:a,ownerLayout:d,iconCls:Ext.baseCSSPrefix+e.getOwnerType(a)+"-more-icon",ui:a instanceof Ext.toolbar.Toolbar?"default-toolbar":"default",menu:e.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return e.menuTrigger.getRenderTree()},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},handleOverflow:function(e){var d=this,b=d.layout,h=b.names,g=e.state.boxPlan,a=[null,null];d.showTrigger(e);if(d.layout.direction!=="vertical"){a[h.heightIndex]=(g.maxSize-d.menuTrigger[h.getHeight]())/2;d.menuTrigger.setPosition.apply(d.menuTrigger,a)}return{reservedSpace:d.triggerTotalWidth}},captureChildElements:function(){var a=this,d=a.menuTrigger,b=a.layout.names;if(d.rendering){d.finishRender();a.triggerTotalWidth=d[b.getWidth]()+d.el.getMargin(b.parallelMargins)}},_asLayoutRoot:{isRoot:true},clearOverflow:function(k){var h=this,b=h.menuItems,g,d=0,e=b.length,a=h.layout.owner,l=h._asLayoutRoot;a.suspendLayouts();h.captureChildElements();h.hideTrigger();a.resumeLayouts();for(;d<e;d++){g=b[d];g.suspendLayouts();g.show();g.resumeLayouts(l)}b.length=0},showTrigger:function(d){var r=this,m=r.layout,a=m.owner,q=m.names,w=q.x,g=q.width,t=d.state.boxPlan,b=t.targetSize[g],k=d.childItems,n=k.length,h=r.menuTrigger,u,l,e,o;h.suspendLayouts();h.show();h.resumeLayouts(r._asLayoutRoot);b-=r.triggerTotalWidth;a.suspendLayouts();r.menuItems.length=0;for(e=0;e<n;e++){u=k[e];o=u.props;if(o[w]+o[g]>b){l=u.target;r.menuItems.push(l);l.hide()}}a.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(l){var k=this,b=k.menuItems,e=0,a=b.length,h,g,d=function(n,m){return n.isXType("buttongroup")&&!(m instanceof Ext.toolbar.Separator)};l.suspendLayouts();k.clearMenu();l.removeAll();for(;e<a;e++){h=b[e];if(!e&&(h instanceof Ext.toolbar.Separator)){continue}if(g&&(d(h,g)||d(g,h))){l.add("-")}k.addComponentToMenu(l,h);g=h}if(l.items.length<1){l.add(k.noItemsMenuText)}l.resumeLayouts()},createMenuConfig:function(d,a){var e=this,b=Ext.apply({},d.initialConfig),g=d.toggleGroup;Ext.copyTo(b,d,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.apply(b,{text:d.overflowText||d.text,hideOnClick:a,destroyMenu:false,listeners:{}});if(d.isFormField){b.value=d.getValue();b.listeners.change=function(l,k,h){d.setValue(k)}}else{if(g||d.enableToggle){Ext.apply(b,{hideOnClick:false,group:g,checked:d.pressed,handler:function(h,k){d.onClick(k)}})}}if(d.isButton&&!d.changeListenersAdded){d.on({textchange:e.onButtonAttrChange,iconchange:e.onButtonAttrChange,toggle:e.onButtonToggle});d.changeListenersAdded=true}delete b.margin;delete b.ownerCt;delete b.xtype;delete b.id;delete b.itemId;return b},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(true)},onButtonToggle:function(a,b){if(a.overflowClone.checked!==b){a.overflowClone.setChecked(b)}},addComponentToMenu:function(h,d){var g=this,e,b,a;if(d instanceof Ext.toolbar.Separator){h.add("-")}else{if(d.isComponent){if(d.isXType("splitbutton")){d.overflowClone=h.add(g.createMenuConfig(d,true))}else{if(d.isXType("button")){d.overflowClone=h.add(g.createMenuConfig(d,!d.menu))}else{if(d.isXType("buttongroup")){b=d.items.items;a=b.length;for(e=0;e<a;e++){g.addComponentToMenu(h,b[e])}}else{d.overflowClone=h.add(Ext.create(Ext.getClassName(d),g.createMenuConfig(d)))}}}}}},clearMenu:function(){var g=this.menu,b,d,a,e;if(g&&g.items){b=g.items.items;a=b.length;for(d=0;d<a;d++){e=b[d];if(e.setMenu){e.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}},1,0,0,0,0,0,[Ext.layout.container.boxOverflow,"Menu",Ext.layout.boxOverflow,"Menu"],0));(Ext.cmd.derive("Ext.layout.container.boxOverflow.Scroller",Ext.layout.container.boxOverflow.None,{alternateClassName:"Ext.layout.boxOverflow.Scroller",animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",constructor:function(d,a){var b=this;b.layout=d;Ext.apply(b,a||{});b.mixins.observable.constructor.call(b);b.addEvents("scroll");b.scrollPosition=0;b.scrollSize=0},getPrefixConfig:function(){var e=this,d=e.layout,a=d.owner,b;e.initCSSClasses();b=Ext.layout.container.Box.prototype.innerCls+" "+e.beforeCtCls;if(a.plain){b+=" "+e.scrollerCls+"-plain"}return{cls:b,cn:{id:a.id+d.names.beforeScrollerSuffix,cls:e.scrollerCls+" "+e.beforeScrollerCls,style:"display:none"}}},getSuffixConfig:function(){var e=this,d=e.layout,a=d.owner,b=Ext.layout.container.Box.prototype.innerCls+" "+e.afterCtCls;if(a.plain){b+=" "+e.scrollerCls+"-plain"}return{cls:b,cn:{id:a.id+d.names.afterScrollerSuffix,cls:e.scrollerCls+" "+e.afterScrollerCls,style:"display:none"}}},getOverflowCls:function(){return Ext.baseCSSPrefix+this.layout.direction+"-box-overflow-body"},initCSSClasses:function(){var e=this,h=Ext.baseCSSPrefix,d=e.layout,k=d.names,a=k.beforeX,g=k.afterX,b=e.getOwnerType(d.owner);e.beforeCtCls=e.beforeCtCls||h+"box-scroller-"+a;e.afterCtCls=e.afterCtCls||h+"box-scroller-"+g;e.beforeScrollerCls=e.beforeScrollerCls||h+b+"-scroll-"+a;e.afterScrollerCls=e.afterScrollerCls||h+b+"-scroll-"+g},beginLayout:function(b){var a=this.layout;b.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},completeLayout:function(d){var b=this,g=d.state.boxPlan,e=b.layout.names,a;if(g&&g.tooNarrow){a=d.childItems[d.childItems.length-1];b.scrollSize=a.props[e.x]+a.props[e.width];b.updateScrollButtons()}this.callParent(arguments)},finishedLayout:function(d){var b=this,a=b.layout,e=Math.min(b.getMaxScrollPosition(),d.innerCtScrollPos);a.innerCt[a.names.setScrollLeft](e)},handleOverflow:function(d){var b=this,a=b.layout.names.getWidth;b.showScrollers();return{reservedSpace:b.beforeCt[a]()+b.afterCt[a]()}},captureChildElements:function(){var g=this,d=g.layout.owner.el,h,l,b,a,e,k;if(!g.beforeCt){k="-hover";a="-pressed";b=g.scrollerCls+k;e=g.scrollerCls+a;h=g.beforeScroller=d.getById(g.layout.owner.id+"-before-scroller");l=g.afterScroller=d.getById(g.layout.owner.id+"-after-scroller");g.beforeCt=h.up("");g.afterCt=l.up("");g.createWheelListener();h.addClsOnOver(b);h.addClsOnOver(g.beforeScrollerCls+k);h.addClsOnClick(e);h.addClsOnClick(g.beforeScrollerCls+a);l.addClsOnOver(b);l.addClsOnOver(g.afterScrollerCls+k);l.addClsOnClick(e);l.addClsOnClick(g.afterScrollerCls+a);h.setVisibilityMode(Ext.Element.DISPLAY);l.setVisibilityMode(Ext.Element.DISPLAY);g.beforeRepeater=new Ext.util.ClickRepeater(h,{interval:g.scrollRepeatInterval,handler:g.scrollLeft,scope:g});g.afterRepeater=new Ext.util.ClickRepeater(l,{interval:g.scrollRepeatInterval,handler:g.scrollRight,scope:g})}},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.captureChildElements();a.beforeScroller.show();a.afterScroller.show();a.layout.owner.addClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this;if(a.beforeScroller!==undefined){a.beforeScroller.hide();a.afterScroller.hide();a.layout.owner.removeClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a.beforeScroller,a.afterScroller,a.beforeCt,a.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e=this,k,d,a,b,g,h="-disabled";if(e.beforeScroller==null||e.afterScroller==null){return}k=e.atExtremeBefore()?"addCls":"removeCls";d=e.atExtremeAfter()?"addCls":"removeCls";g=e.scrollerCls+h;a=[g,e.beforeScrollerCls+h];b=[g,e.afterScrollerCls+h];e.beforeScroller[k](a);e.afterScroller[d](b);e.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var d=this,b=d.layout,a;if(isNaN(d.scrollPosition)){a=b.innerCt[b.names.getScrollLeft]()}else{a=d.scrollPosition}return a},getMaxScrollPosition:function(){var b=this,a=b.layout,d=b.scrollSize-a.innerCt[a.names.getWidth]();return(d<0)?0:d},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},scrollTo:function(a,b){var h=this,g=h.layout,k=g.names,e=h.getScrollPosition(),d=Ext.Number.constrain(a,0,h.getMaxScrollPosition());if(d!=e&&!h.scrolling){h.scrollPosition=NaN;if(b===undefined){b=h.animateScroll}g.innerCt[k.scrollTo](k.beforeScrollX,d,b?h.getScrollAnim():false);if(b){h.scrolling=true}else{h.updateScrollButtons()}h.fireEvent("scroll",h,d,b?h.getScrollAnim():false)}},scrollToItem:function(m,b){var l=this,g=l.layout,d=g.owner,k=g.names,a,e,h;m=l.getItem(m);if(m!==undefined){if(m==d.items.first()){h=0}else{if(m===d.items.last()){h=l.getMaxScrollPosition()}else{a=l.getItemVisibility(m);if(!a.fullyVisible){e=m.getBox(false,true);h=e[k.x];if(a.hiddenEnd){h-=(l.layout.innerCt[k.getWidth]()-e[k.width])}}}}if(h!==undefined){l.scrollTo(h,b)}}},getItemVisibility:function(m){var k=this,b=k.getItem(m).getBox(true,true),d=k.layout,h=d.names,g=b[h.x],e=g+b[h.width],a=k.getScrollPosition(),l=a+d.innerCt[h.getWidth]();return{hiddenStart:g<a,hiddenEnd:e>l,fullyVisible:g>a&&e<l}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.layout.container.boxOverflow,"Scroller",Ext.layout.boxOverflow,"Scroller"],0));(Ext.cmd.derive("Ext.util.Offset",Ext.Base,{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}},3,0,0,0,0,0,[Ext.util,"Offset"],0));(Ext.cmd.derive("Ext.util.Region",Ext.Base,{statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(e,h,a,d){var g=this;g.y=g.top=g[1]=e;g.right=h;g.bottom=a;g.x=g.left=g[0]=d},contains:function(b){var a=this;return(b.x>=a.x&&b.right<=a.right&&b.y>=a.y&&b.bottom<=a.bottom)},intersect:function(k){var h=this,e=Math.max(h.y,k.y),g=Math.min(h.right,k.right),a=Math.min(h.bottom,k.bottom),d=Math.max(h.x,k.x);if(a>e&&g>d){return new this.self(e,g,a,d)}else{return false}},union:function(k){var h=this,e=Math.min(h.y,k.y),g=Math.max(h.right,k.right),a=Math.max(h.bottom,k.bottom),d=Math.min(h.x,k.x);return new this.self(e,g,a,d)},constrainTo:function(b){var a=this,d=Ext.Number.constrain;a.top=a.y=d(a.top,b.y,b.bottom);a.bottom=d(a.bottom,b.y,b.bottom);a.left=a.x=d(a.left,b.x,b.right);a.right=d(a.right,b.x,b.right);return a},adjust:function(e,h,a,d){var g=this;g.top=g.y+=e;g.left=g.x+=d;g.right+=h;g.bottom+=a;return g},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{b=a;var e=new Ext.util.Offset();e.x=this.getOutOfBoundOffsetX(b.x);e.y=this.getOutOfBoundOffsetY(b.y);return e}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.x||a>this.right)},isOutOfBoundY:function(a){return(a<this.y||a>this.bottom)},restrict:function(b,e,a){if(Ext.isObject(b)){var d;a=e;e=b;if(e.copy){d=e.copy()}else{d={x:e.x,y:e.y}}d.x=this.restrictX(e.x,a);d.y=this.restrictY(e.y,a);return d}else{if(b=="x"){return this.restrictX(e,a)}else{return this.restrictY(e,a)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.x){b-=(b-this.x)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.y){b-=(b-this.y)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,d){if(arguments.length==1){d=a.y;a=a.x}var b=this;b.top=b.y+=d;b.right+=a;b.bottom+=d;b.left=b.x+=a;return b},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return(this.top==a.top&&this.right==a.right&&this.bottom==a.bottom&&this.left==a.left)}},3,0,0,0,0,0,[Ext.util,"Region"],0));(Ext.cmd.derive("Ext.dd.DragDropManager",Ext.Base,{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(d,b){var e,a,g;for(e in this.ids){for(a in this.ids[e]){g=this.ids[e][a];if(!this.isTypeOfDD(g)){continue}g[d].apply(g,b)}}},_onLoad:function(){this.init();var a=Ext.EventManager;a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][b.id]=b},removeDDFromGroup:function(d,a){if(!this.ids[a]){this.ids[a]={}}var b=this.ids[a];if(b&&b[d.id]){delete b[d.id]}},_remove:function(b){for(var a in b.groups){if(a&&this.ids[a]&&this.ids[a][b.id]){delete this.ids[a][b.id]}}delete this.handleIds[b.id]},regHandle:function(b,a){if(!this.handleIds[b]){this.handleIds[b]={}}this.handleIds[b][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(h,b){var g=[],e,d,a;for(e in h.groups){for(d in this.ids[e]){a=this.ids[e][d];if(!this.isTypeOfDD(a)){continue}if(!b||a.isTarget){g[g.length]=a}}}return g},isLegalTarget:function(g,e){var b=this.getRelated(g,true),d,a;for(d=0,a=b.length;d<a;++d){if(b[d].id==e.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(b,a){return(this.handleIds[b]&&this.handleIds[b][a])},getDDById:function(d){var b,a;for(b in this.ids){a=this.ids[b][d];if(a instanceof Ext.dd.DDTarget){return a}}return null},handleMouseDown:function(g,d){var b=this,a;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}if(b.dragCurrent){b.handleMouseUp(g)}b.currentTarget=g.getTarget();b.dragCurrent=d;a=d.getEl();if(Ext.isIE9m&&a.setCapture){a.setCapture()}b.startX=g.getPageX();b.startY=g.getPageY();b.deltaX=b.startX-a.offsetLeft;b.deltaY=b.startY-a.offsetTop;b.dragThreshMet=false;b.clickTimeout=setTimeout(function(){b.startDrag(b.startX,b.startY)},b.clickTimeThresh)},startDrag:function(b,g){var d=this,e=d.dragCurrent,a;clearTimeout(d.clickTimeout);if(e){e.b4StartDrag(b,g);e.startDrag(b,g);a=e.getDragEl();if(a){Ext.fly(a).addCls(d.dragCls)}}d.dragThreshMet=true},handleMouseUp:function(b){var a=this;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!a.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(a.clickTimeout);if(a.dragThreshMet){a.fireEvents(b,true)}a.stopDrag(b);a.stopEvent(b)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(g){var b=this,d=b.dragCurrent,a;if(d){if(b.dragThreshMet){a=d.getDragEl();if(a){Ext.fly(a).removeCls(b.dragCls)}d.b4EndDrag(g);d.endDrag(g)}b.dragCurrent.onMouseUp(g)}b.dragCurrent=null;b.dragOvers={}},handleMouseMove:function(h){var d=this,g=d.dragCurrent,b,a;if(!g){return true}if(!d.dragThreshMet){b=Math.abs(d.startX-h.getPageX());a=Math.abs(d.startY-h.getPageY());if(b>d.clickPixelThresh||a>d.clickPixelThresh){d.startDrag(d.startX,d.startY)}}if(d.dragThreshMet){g.b4Drag(h);g.onDrag(h);if(!g.moveOnly){d.fireEvents(h,false)}}d.stopEvent(h);return true},fireEvents:function(z,o){var B=this,h=B.dragCurrent,d,r,x=z.getPoint(),g,n,q=[],k=[],m=[],a=[],A=[],y=[],l,b,u,w,t;if(!h||h.isLocked()){return}if(!B.notifyOccluded&&(!Ext.supports.PointerEvents||Ext.isIE10m||Ext.isOpera)&&!(h.deltaX<0||h.deltaY<0)){d=h.getDragEl();r=d.style.top;d.style.top="-10000px";l=z.getXY();z.target=document.elementFromPoint(l[0],l[1]);d.style.top=r}for(u in B.dragOvers){g=B.dragOvers[u];if(!B.isTypeOfDD(g)){continue}if(B.notifyOccluded){if(!this.isOverTarget(x,g,B.mode)){m.push(g)}}else{if(!z.within(g.getEl())){m.push(g)}}k[u]=true;delete B.dragOvers[u]}for(t in h.groups){if("string"!=typeof t){continue}for(u in B.ids[t]){g=B.ids[t][u];if(B.isTypeOfDD(g)&&(n=g.getEl())&&(g.isTarget)&&(!g.isLocked())&&(Ext.fly(n).isVisible(true))&&((g!=h)||(h.ignoreSelf===false))){if(B.notifyOccluded){if((g.zIndex=B.getZIndex(n))!==-1){b=true}q.push(g)}else{if(z.within(g.getEl())){q.push(g);break}}}}}if(b){Ext.Array.sort(q,B.byZIndex)}for(u=0,w=q.length;u<w;u++){g=q[u];if(B.isOverTarget(x,g,B.mode)){if(o){A.push(g)}else{if(!k[g.id]){y.push(g)}else{a.push(g)}B.dragOvers[g.id]=g}if(!B.notifyOccluded){break}}}if(B.mode){if(m.length){h.b4DragOut(z,m);h.onDragOut(z,m)}if(y.length){h.onDragEnter(z,y)}if(a.length){h.b4DragOver(z,a);h.onDragOver(z,a)}if(A.length){h.b4DragDrop(z,A);h.onDragDrop(z,A)}}else{for(u=0,w=m.length;u<w;++u){h.b4DragOut(z,m[u].id);h.onDragOut(z,m[u].id)}for(u=0,w=y.length;u<w;++u){h.onDragEnter(z,y[u].id)}for(u=0,w=a.length;u<w;++u){h.b4DragOver(z,a[u].id);h.onDragOver(z,a[u].id)}for(u=0,w=A.length;u<w;++u){h.b4DragDrop(z,A[u].id);h.onDragDrop(z,A[u].id)}}if(o&&!A.length){h.onInvalidDrop(z)}},getZIndex:function(b){var a=document.body,d,e=-1;b=Ext.getDom(b);while(b!==a){if(!isNaN(d=Number(Ext.fly(b).getStyle("zIndex")))){e=d}b=b.parentNode}return e},byZIndex:function(b,a){return b.zIndex<a.zIndex},getBestMatch:function(d){var g=null,b=d.length,e,a;if(b==1){g=d[0]}else{for(e=0;e<b;++e){a=d[e];if(a.cursorIsOver){g=a;break}else{if(!g||g.overlap.getArea()<a.overlap.getArea()){g=a}}}}return g},refreshCache:function(b){var a,d,e,g;for(a in b){if("string"!=typeof a){continue}for(d in this.ids[a]){e=this.ids[a][d];if(this.isTypeOfDD(e)){g=this.getLocation(e);if(g){this.locationCache[e.id]=g}else{delete this.locationCache[e.id]}}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE){try{a=b.offsetParent}catch(d){}}else{a=b.offsetParent}if(a){return true}}return false},getLocation:function(m){if(!this.isTypeOfDD(m)){return null}if(m.getRegion){return m.getRegion()}var h=m.getEl(),q,g,d,w,u,x,a,o,k;try{q=Ext.Element.getXY(h)}catch(n){}if(!q){return null}g=q[0];d=g+h.offsetWidth;w=q[1];u=w+h.offsetHeight;x=w-m.padding[0];a=d+m.padding[1];o=u+m.padding[2];k=g-m.padding[3];return new Ext.util.Region(x,a,o,k)},isOverTarget:function(m,a,d){var g=this.locationCache[a.id],l,h,b,e,k;if(!g||!this.useCache){g=this.getLocation(a);this.locationCache[a.id]=g}if(!g){return false}a.cursorIsOver=g.contains(m);l=this.dragCurrent;if(!l||!l.getTargetCoord||(!d&&!l.constrainX&&!l.constrainY)){return a.cursorIsOver}a.overlap=null;h=l.getTargetCoord(m.x,m.y);b=l.getDragEl();e=new Ext.util.Region(h.y,h.x+b.offsetWidth,h.y+b.offsetHeight,h.x);k=e.intersect(g);if(k){a.overlap=k;return(d)?true:a.cursorIsOver}else{return false}},_onUnload:function(b,a){Ext.dd.DragDropManager.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el){a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.Element.getX(a)},getPosY:function(a){return Ext.Element.getY(a)},swapNode:function(d,a){if(d.swapNode){d.swapNode(a)}else{var e=a.parentNode,b=a.nextSibling;if(b==d){e.insertBefore(d,a)}else{if(a==d.nextSibling){e.insertBefore(a,d)}else{d.parentNode.replaceChild(a,d);e.insertBefore(d,b)}}}},getScroll:function(){var e=window.document,g=e.documentElement,a=e.body,d=0,b=0;if(Ext.isGecko4){d=window.scrollYOffset;b=window.scrollXOffset}else{if(g&&(g.scrollTop||g.scrollLeft)){d=g.scrollTop;b=g.scrollLeft}else{if(a){d=a.scrollTop;b=a.scrollLeft}}}return{top:d,left:b}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,d){var b=Ext.Element.getXY(d);Ext.Element.setXY(a,b)},numericSort:function(e,d){return(e-d)},_timeoutCount:0,_addListeners:function(){if(document){this._onLoad()}else{if(this._timeoutCount<=2000){setTimeout(this._addListeners,10);if(document&&document.body){this._timeoutCount+=1}}}},handleWasClicked:function(a,d){if(this.isHandle(d,a.id)){return true}else{var b=a.parentNode;while(b){if(this.isHandle(d,b.id)){return true}else{b=b.parentNode}}}return false}},0,0,0,0,0,0,[Ext.dd,"DragDropManager",Ext.dd,"DragDropMgr",Ext.dd,"DDM"],function(){this._addListeners()}));(Ext.cmd.derive("Ext.layout.container.Box",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BoxLayout",defaultMargins:{top:0,right:0,bottom:0,left:0},padding:0,pack:"start",flex:undefined,stretchMaxPartner:undefined,alignRoundingMethod:"round",type:"box",scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:["{%var oc,l=values.$comp.layout,oh=l.overflowHandler;","if (oh.getPrefixConfig!==Ext.emptyFn) {","if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)","}%}",'<div id="{ownerId}-innerCt" class="{[l.innerCls]} {[oh.getOverflowCls()]}" role="presentation">','<div id="{ownerId}-targetEl" class="{targetElCls}">',"{%this.renderBody(out, values)%}","</div>","</div>","{%if (oh.getSuffixConfig!==Ext.emptyFn) {","if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)","}%}",{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var d=this,b;d.callParent(arguments);d.flexSortFn=Ext.Function.bind(d.flexSort,d);d.initOverflowHandler();b=typeof d.padding;if(b=="string"||b=="number"){d.padding=Ext.util.Format.parseBox(d.padding);d.padding.height=d.padding.top+d.padding.bottom;d.padding.width=d.padding.left+d.padding.right}},_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(t,u){var n=this,l=n.sizePolicy,k=n.align,h=t.flex,q=k,m=n.names,b=t[m.width],r=t[m.height],e=n._percentageRe,d=e.test(b),g=(k=="stretch"),a=(k=="stretchmax"),o=n.constrainAlign;if(!u&&(g||h||d||(o&&!a))){u=n.owner.getSizeModel()}if(g){if(!e.test(r)&&u[m.height].shrinkWrap){q="stretchmax"}}else{if(!a){if(e.test(r)){q="stretch"}else{if(o&&!u[m.height].shrinkWrap){q="stretchmax"}else{q=""}}}}if(h||d){if(!u[m.width].shrinkWrap){l=l.flex}}return l[q]},flexSort:function(q,o){var m=this.names.maxWidth,g=this.names.minWidth,n=Infinity,l=q.target,u=o.target,w=0,d,r,k,e,t,h;k=l[m]||n;e=u[m]||n;d=l[g]||0;r=u[g]||0;t=isFinite(d)||isFinite(r);h=isFinite(k)||isFinite(e);if(t||h){if(h){w=k-e}if(w===0&&t){w=r-d}}return w},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(b){var a=this;if(a.direction==="vertical"&&b.collapsedVertical()){b.collapseMemento.capture(["flex"]);delete b.flex}else{if(a.direction==="horizontal"&&b.collapsedHorizontal()){b.collapseMemento.capture(["flex"]);delete b.flex}}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(e){var d=this,a=d.owner,h=a.stretchMaxPartner,b=d.innerCt.dom.style,g=d.names;e.boxNames=g;d.overflowHandler.beginLayout(e);if(typeof h==="string"){h=Ext.getCmp(h)||a.query(h)[0]}e.stretchMaxPartner=h&&e.context.getCmp(h);d.callParent(arguments);e.innerCtContext=e.getEl("innerCt",d);d.scrollParallel=a.scrollFlags[g.x];d.scrollPerpendicular=a.scrollFlags[g.y];if(d.scrollParallel){d.scrollPos=a.getTargetEl().dom[g.scrollLeft]}b.width="";b.height=""},beginLayoutCycle:function(g,a){var e=this,k=e.align,h=g.boxNames,b=e.pack,d=h.heightModel;e.overflowHandler.beginLayoutCycle(g,a);e.callParent(arguments);g.parallelSizeModel=g[h.widthModel];g.perpendicularSizeModel=g[d];g.boxOptions={align:k={stretch:k=="stretch",stretchmax:k=="stretchmax",center:k==h.center,bottom:k==h.afterY},pack:b={center:b=="center",end:b=="end"}};if(k.stretch&&g.perpendicularSizeModel.shrinkWrap){k.stretchmax=true;k.stretch=false}k.nostretch=!(k.stretch||k.stretchmax);if(g.parallelSizeModel.shrinkWrap){b.center=b.end=false}e.cacheFlexes(g);e.targetEl.setWidth(20000)},cacheFlexes:function(m){var z=this,n=m.boxNames,a=n.widthModel,e=n.heightModel,d=m.boxOptions.align.nostretch,r=0,b=m.childItems,u=b.length,x=[],o=0,l=n.minWidth,h=z._percentageRe,w=0,y=0,g,q,t,k;while(u--){q=b[u];g=q.target;if(q[a].calculated){q.flex=t=g.flex;if(t){r+=t;x.push(q);o+=g[l]||0}else{k=h.exec(g[n.width]);q.percentageParallel=parseFloat(k[1])/100;++w}}if(d&&q[e].calculated){k=h.exec(g[n.height]);q.percentagePerpendicular=parseFloat(k[1])/100;++y}}m.flexedItems=x;m.flexedMinSize=o;m.totalFlex=r;m.percentageWidths=w;m.percentageHeights=y;Ext.Array.sort(x,z.flexSortFn)},calculate:function(g){var d=this,b=d.getContainerSize(g),k=g.boxNames,e=g.state,h=e.boxPlan||(e.boxPlan={}),a=g.targetContext;h.targetSize=b;if(!g.parallelSizeModel.shrinkWrap&&!b[k.gotWidth]){d.done=false;return}if(!e.parallelDone){e.parallelDone=d.calculateParallel(g,k,h)}if(!e.perpendicularDone){e.perpendicularDone=d.calculatePerpendicular(g,k,h)}if(e.parallelDone&&e.perpendicularDone){if(d.owner.dock&&(Ext.isIE7m||Ext.isIEQuirks)&&!d.owner.width&&!d.horizontal){h.isIEVerticalDock=true;h.calculatedWidth=h.maxSize+g.getPaddingInfo().width+g.getFrameInfo().width;if(a!==g){h.calculatedWidth+=a.getPaddingInfo().width}}d.publishInnerCtSize(g,d.reserveOffset?d.availableSpaceOffset:0);if(d.done&&(g.childItems.length>1||g.stretchMaxPartner)&&g.boxOptions.align.stretchmax&&!e.stretchMaxDone){d.calculateStretchMax(g,k,h);e.stretchMaxDone=true}d.overflowHandler.calculate(g)}else{d.done=false}},calculateParallel:function(m,q,b){var N=this,E=q.width,a=m.childItems,x=q.beforeX,e=q.afterX,u=q.setWidth,F=a.length,C=m.flexedItems,w=C.length,A=m.boxOptions.pack,o=N.padding,k=b.targetSize[E],G=0,g=o[x],K=g+o[e]+N.scrollOffset+(N.reserveOffset?N.availableSpaceOffset:0),B=Ext.getScrollbarSize()[q.width],z,n,h,D,r,y,J,t,I,d,l;if(B&&N.scrollPerpendicular&&m.parallelSizeModel.shrinkWrap&&!m.boxOptions.align.stretch&&!m.perpendicularSizeModel.shrinkWrap){if(!m.state.perpendicularDone){return false}I=true}for(z=0;z<F;++z){r=a[z];n=r.marginInfo||r.getMarginInfo();G+=n[E];if(!r[q.widthModel].calculated){d=r.getProp(E);K+=d;if(isNaN(K)){return false}}}K+=G;if(m.percentageWidths){l=k-G;if(isNaN(l)){return false}for(z=0;z<F;++z){r=a[z];if(r.percentageParallel){d=Math.ceil(l*r.percentageParallel);d=r.setWidth(d);K+=d}}}if(m.parallelSizeModel.shrinkWrap){b.availableSpace=0;b.tooNarrow=false}else{b.availableSpace=k-K;b.tooNarrow=b.availableSpace<m.flexedMinSize;if(b.tooNarrow&&Ext.getScrollbarSize()[q.height]&&N.scrollParallel&&m.state.perpendicularDone){m.state.perpendicularDone=false;for(z=0;z<F;++z){a[z].invalidate()}}}t=K;h=b.availableSpace;D=m.totalFlex;for(z=0;z<w;z++){r=C[z];y=r.flex;J=N.roundFlex((y/D)*h);J=r[u](J);t+=J;h=Math.max(0,h-J);D-=y}if(A.center){g+=h/2;if(g<0){g=0}}else{if(A.end){g+=h}}for(z=0;z<F;++z){r=a[z];n=r.marginInfo;g+=n[x];r.setProp(q.x,g);g+=n[e]+r.props[E]}t+=m.targetContext.getPaddingInfo()[E];m.state.contentWidth=t;if(I&&(m.peek(q.contentHeight)>b.targetSize[q.height])){t+=B;m[q.hasOverflowY]=true;m.target.componentLayout[q.setWidthInDom]=true;m[q.invalidateScrollY]=Ext.isStrict&&Ext.isIE8}m[q.setContentWidth](t);return true},calculatePerpendicular:function(z,T,E){var y=this,e=z.perpendicularSizeModel.shrinkWrap,b=E.targetSize,l=z.childItems,D=l.length,o=Math.max,n=T.height,q=T.setHeight,k=T.beforeY,x=T.y,P=y.padding,m=P[k],r=b[n]-m-P[T.afterY],K=z.boxOptions.align,t=K.stretch,u=K.stretchmax,W=K.center,V=K.bottom,O=y.constrainAlign,N=0,G=0,J=y.onBeforeConstrainInvalidateChild,F=y.onAfterConstrainInvalidateChild,a=Ext.getScrollbarSize().height,C,R,I,A,B,d,w,g,U,S,h;if(t||((W||V)&&!e)){if(isNaN(r)){return false}}if(y.scrollParallel&&E.tooNarrow){if(e){S=true}else{r-=a;E.targetSize[n]-=a}}if(t){d=r}else{for(R=0;R<D;R++){w=l[R];A=(w.marginInfo||w.getMarginInfo())[n];if(!(h=w.percentagePerpendicular)){I=w.getProp(n)}else{++G;if(e){continue}else{I=h*r-A;I=w[T.setHeight](I)}}if(!e&&O&&w[T.heightModel].shrinkWrap&&I>r){w.invalidate({before:J,after:F,layout:y,childHeight:r,names:T});z.state.parallelDone=false}if(isNaN(N=o(N,I+A,w.target[T.minHeight]||0))){return false}}if(S){N+=a;z[T.hasOverflowX]=true;z.target.componentLayout[T.setHeightInDom]=true;z[T.invalidateScrollX]=Ext.isStrict&&Ext.isIE8}g=z.stretchMaxPartner;if(g){z.setProp("maxChildHeight",N);U=g.childItems;if(U&&U.length){N=o(N,g.getProp("maxChildHeight"));if(isNaN(N)){return false}}}z[T.setContentHeight](N+y.padding[n]+z.targetContext.getPaddingInfo()[n]);if(S){N-=a}E.maxSize=N;if(u){d=N}else{if(W||V||G){if(O){d=e?N:r}else{d=e?N:o(r,N)}d-=z.innerCtContext.getBorderInfo()[n]}}}for(R=0;R<D;R++){w=l[R];A=w.marginInfo||w.getMarginInfo();C=m+A[k];if(t){w[q](d-A[n])}else{h=w.percentagePerpendicular;if(e&&h){A=w.marginInfo||w.getMarginInfo();I=h*d-A[n];I=w.setHeight(I)}if(W){B=d-w.props[n];if(B>0){C=m+Math[y.alignRoundingMethod](B/2)}}else{if(V){C=o(0,d-C-w.props[n])}}}w.setProp(x,C)}return true},onBeforeConstrainInvalidateChild:function(b,a){var d=a.names.heightModel;if(!b[d].constrainedMin){b[d]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(b,a){var d=a.names;b.setProp(d.beforeY,0);if(b[d.heightModel].calculated){b[d.setHeight](a.childHeight)}},calculateStretchMax:function(d,m,o){var n=this,k=m.height,q=m.width,h=d.childItems,a=h.length,t=o.maxSize,r=n.onBeforeStretchMaxInvalidateChild,g=n.onAfterStretchMaxInvalidateChild,u,l,e,b;for(e=0;e<a;++e){u=h[e];l=u.props;b=t-u.getMarginInfo()[k];if(b!=l[k]||u[m.heightModel].constrained){u.invalidate({before:r,after:g,layout:n,childWidth:l[q],childHeight:b,childX:l.x,childY:l.y,names:m})}}},onBeforeStretchMaxInvalidateChild:function(b,a){var d=a.names.heightModel;if(!b[d].constrainedMax){b[d]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(e,d){var g=d.names,a=d.childHeight,b=d.childWidth;e.setProp("x",d.childX);e.setProp("y",d.childY);if(e[g.heightModel].calculated){e[g.setHeight](a)}if(e[g.widthModel].calculated){e[g.setWidth](b)}},completeLayout:function(b){var m=this,l=b.boxNames,k=b.invalidateScrollX,h=b.invalidateScrollY,e,a,g,d,n;m.overflowHandler.completeLayout(b);if(k||h){a=m.getTarget();e=a.dom;n=e.style;if(k){g=a.getStyle("overflowX");if(g=="auto"){g=n.overflowX;n.overflowX="scroll"}else{k=false}}if(h){d=a.getStyle("overflowY");if(d=="auto"){d=n.overflowY;n.overflowY="scroll"}else{h=false}}if(k||h){e.scrollWidth;if(k){n.overflowX=g}if(h){n.overflowY=d}}}if(m.scrollParallel){m.owner.getTargetEl().dom[l.scrollLeft]=m.scrollPos}},finishedLayout:function(a){this.overflowHandler.finishedLayout(a);this.callParent(arguments);this.targetEl.setWidth(a.innerCtContext.props.width)},publishInnerCtSize:function(a,e){var l=this,k=a.boxNames,h=k.height,n=k.width,g=a.boxOptions.align,t=l.owner.dock,o=l.padding,m=a.state.boxPlan,d=m.targetSize,r=d[h],u=a.innerCtContext,b=(a.parallelSizeModel.shrinkWrap||(m.tooNarrow&&l.scrollParallel)?a.state.contentWidth-a.targetContext.getPaddingInfo()[n]:d[n])-(e||0),q;if(g.stretch){q=r}else{q=m.maxSize+o[k.beforeY]+o[k.afterY]+u.getBorderInfo()[h];if(!a.perpendicularSizeModel.shrinkWrap&&(g.center||g.bottom)){q=Math.max(r,q)}}u[k.setWidth](b);u[k.setHeight](q);if(isNaN(b+q)){l.done=false}if(m.calculatedWidth&&(t=="left"||t=="right")){a.setWidth(m.calculatedWidth,true,true)}},onRemove:function(a){var b=this;b.callParent(arguments);if(b.overflowHandler){b.overflowHandler.onRemove(a)}if(a.layoutMarginCap==b.id){delete a.layoutMarginCap}},initOverflowHandler:function(){var e=this,d=e.overflowHandler,b,a;if(typeof d=="string"){d={type:d}}b="None";if(d&&d.type!==undefined){b=d.type}a=Ext.layout.container.boxOverflow[b];if(a[e.type]){a=a[e.type]}e.overflowHandler=Ext.create("Ext.layout.container.boxOverflow."+b,e,d)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a}},1,0,0,0,["layout.box"],0,[Ext.layout.container,"Box",Ext.layout,"BoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.HBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.HBoxLayout",align:"top",constrainAlign:false,type:"hbox",direction:"horizontal",horizontal:true,names:{beforeX:"left",beforeScrollX:"left",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},0,0,0,0,["layout.hbox"],0,[Ext.layout.container,"HBox",Ext.layout,"HBoxLayout"],0));(Ext.cmd.derive("Ext.layout.container.VBox",Ext.layout.container.Box,{alternateClassName:"Ext.layout.VBoxLayout",align:"left",constrainAlign:false,type:"vbox",direction:"vertical",horizontal:false,names:{beforeX:"top",beforeScrollX:"top",beforeScrollerSuffix:"-before-scroller",afterScrollerSuffix:"-after-scroller",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}},0,0,0,0,["layout.vbox"],0,[Ext.layout.container,"VBox",Ext.layout,"VBoxLayout"],0));(Ext.cmd.derive("Ext.toolbar.Toolbar",Ext.container.Container,{alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:false,enableOverflow:false,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this;if(!a.layout&&a.enableOverflow){a.layout={overflowHandler:"Menu"}}if(a.dock==="right"||a.dock==="left"){a.vertical=true}a.layout=Ext.applyIf(Ext.isString(a.layout)?{type:a.layout}:a.layout||{},{type:a.vertical?"vbox":"hbox",align:a.vertical?"stretchmax":"middle"});if(a.vertical){a.addClsWithUI("vertical")}if(a.ui==="footer"){a.ignoreBorderManagement=true}a.callParent();a.addEvents("overflowchange")},getRefItems:function(a){var g=this,b=g.callParent(arguments),e=g.layout,d;if(a&&g.enableOverflow){d=e.overflowHandler;if(d&&d.menu){b=b.concat(d.menu.getRefItems(a))}}return b},lookupComponent:function(e){var d=arguments;if(typeof e=="string"){var b=Ext.toolbar.Toolbar,a=b.shortcutsHV[this.vertical?1:0][e]||b.shortcuts[e];if(typeof a=="string"){e={xtype:a}}else{if(a){e=Ext.apply({},a)}else{e={xtype:"tbtext",text:e}}}this.applyDefaults(e);d=[e]}return this.callParent(d)},applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a},trackMenu:function(d,a){if(this.trackMenus&&d.menu){var e=a?"mun":"mon",b=this;b[e](d,"mouseover",b.onButtonOver,b);b[e](d,"menushow",b.onButtonMenuShow,b);b[e](d,"menuhide",b.onButtonMenuHide,b)}},onBeforeAdd:function(b){var d=this,a=b.isButton;if(a&&d.defaultButtonUI&&b.ui==="default"&&!b.hasOwnProperty("ui")){b.ui=d.defaultButtonUI}else{if((a||b.isFormField)&&d.ui!=="footer"){b.ui=b.ui+"-toolbar";b.addCls(b.baseCls+"-toolbar")}}if(b instanceof Ext.toolbar.Separator){b.setUI((d.vertical)?"vertical":"horizontal")}d.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}},0,["toolbar"],["container","toolbar","component","box"],{container:true,toolbar:true,component:true,box:true},["widget.toolbar"],0,[Ext.toolbar,"Toolbar",Ext,"Toolbar"],0));(Ext.cmd.derive("Ext.panel.AbstractPanel",Ext.container.Container,{baseCls:Ext.baseCSSPrefix+"panel",isPanel:true,contentPaddingProperty:"bodyPadding",shrinkWrapDock:false,componentLayout:"dock",childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",(Ext.isIE7m||Ext.isIEQuirks)?'<div style="position:relative"></div>':"",'<div id="{id}-body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],bodyPosProps:{x:"x",y:"y"},border:true,emptyArray:[],initComponent:function(){this.initBorderProps();this.callParent()},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=false}if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0)){a.manageBodyBorders=true}},beforeDestroy:function(){this.destroyDockedItems();this.callParent()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},getComponent:function(a){var b=this.callParent(arguments);if(b===undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({cls:b.bodyCls,style:b.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return a},initBodyStyles:function(){var b=this,a=b.getProtoBody();if(b.bodyPadding!==undefined){if(b.layout.managePadding){a.setStyle("padding",0)}else{a.setStyle("padding",this.unitizeBox((b.bodyPadding===true)?5:b.bodyPadding))}}b.initBodyBorder()},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder))}},getCollapsedDockedItems:function(){var a=this;return a.header===false||a.collapseMode=="placeholder"?a.emptyArray:[a.getReExpander()]},setBodyStyle:function(b,e){var d=this,a=d.rendered?d.body:d.getProtoBody();if(Ext.isFunction(b)){b=b()}if(arguments.length==1){if(Ext.isString(b)){b=Ext.Element.parseStyles(b)}a.setStyle(b)}else{a.setStyle(b,e)}return d},addBodyCls:function(b){var d=this,a=d.rendered?d.body:d.getProtoBody();a.addCls(b);return d},removeBodyCls:function(b){var d=this,a=d.rendered?d.body:d.getProtoBody();a.removeCls(b);return d},addUIClsToElement:function(b){var d=this,a=d.callParent(arguments);d.addBodyCls([Ext.baseCSSPrefix+b,d.baseCls+"-body-"+b,d.baseCls+"-body-"+d.ui+"-"+b]);return a},removeUIClsFromElement:function(b){var d=this,a=d.callParent(arguments);d.removeBodyCls([Ext.baseCSSPrefix+b,d.baseCls+"-body-"+b,d.baseCls+"-body-"+d.ui+"-"+b]);return a},addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},getTargetEl:function(){return this.body},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)}},0,0,["container","component","box"],{container:true,component:true,box:true},0,[["docking",Ext.container.DockingContainer]],[Ext.panel,"AbstractPanel"],0));(Ext.cmd.derive("Ext.panel.Header",Ext.container.Container,{isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,componentLayout:"body",childEls:["body"],renderTpl:['<div id="{id}-body" class="{headerCls}-body {baseCls}-body {bodyCls} {bodyTargetCls}','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>"],headingTpl:['<span id="{id}-textEl" class="{headerCls}-text {cls}-text {cls}-text-{ui}" unselectable="on">{title}</span>'],shrinkWrap:3,titlePosition:0,headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var h=this,g=h.hasOwnProperty("titlePosition"),d=h.items,a=g?h.titlePosition:(d?d.length:0),b=[h.orientation,h.getDockName()],e=h.ownerCt;h.addEvents("click","dblclick");h.indicateDragCls=h.headerCls+"-draggable";h.title=h.title||"&#160;";h.tools=h.tools||[];d=h.items=(d?Ext.Array.slice(d):[]);h.orientation=h.orientation||"horizontal";h.dock=(h.dock)?h.dock:(h.orientation=="horizontal")?"top":"left";if(e?(!e.border&&!e.frame):!h.border){b.push(h.orientation+"-noborder")}h.addClsWithUI(b);h.addCls([h.headerCls,h.headerCls+"-"+h.orientation]);if(h.indicateDrag){h.addCls(h.indicateDragCls)}if(h.iconCls||h.icon||h.glyph){h.initIconCmp();if(!g&&!d.length){++a}d.push(h.iconCmp)}h.titleCmp=new Ext.Component({ariaRole:"heading",focusable:false,noWrap:true,flex:1,rtl:h.rtl,id:h.id+"_hd",style:h.titleAlign?("text-align:"+h.titleAlign):"",cls:h.headerCls+"-text-container "+h.baseCls+"-text-container "+h.baseCls+"-text-container-"+h.ui,renderTpl:h.getTpl("headingTpl"),renderData:{title:h.title,cls:h.baseCls,headerCls:h.headerCls,ui:h.ui},childEls:["textEl"],autoEl:{unselectable:"on"},listeners:{render:h.onTitleRender,scope:h}});h.layout=(h.orientation=="vertical")?{type:"vbox",align:"center",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"};Ext.Array.push(d,h.tools);h.tools.length=0;h.callParent();if(d.length<a){a=d.length}h.titlePosition=a;h.insert(a,h.titleCmp);h.on({dblclick:h.onDblClick,click:h.onClick,element:"el",scope:h})},initIconCmp:function(){var d=this,b=[d.headerCls+"-icon",d.baseCls+"-icon",d.iconCls],a;if(d.glyph){b.push(d.baseCls+"-glyph")}a={focusable:false,src:Ext.BLANK_IMAGE_URL,cls:b,baseCls:d.baseCls+"-icon",id:d.id+"-iconEl",iconCls:d.iconCls,glyph:d.glyph};if(!Ext.isEmpty(d.icon)){delete a.iconCls;a.src=d.icon}d.iconCmp=new Ext.Img(a)},beforeRender:function(){this.protoEl.unselectable();this.callParent()},afterLayout:function(){var b=this,g,a,d,e;if(b.orientation==="vertical"){b.adjustTitlePosition();a=b.frameTR;if(a){g=b.frameBR;d=b.frameTL;e=(b.getWidth()-a.getPadding("r")-((d)?d.getPadding("l"):b.el.getBorderWidth("l")))+"px";g.setStyle("background-position-x",e);a.setStyle("background-position-x",e)}if(Ext.isIE7&&Ext.isStrict&&b.frame){b.el.repaint()}}},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},adjustTitlePosition:function(){var b=this.titleCmp,a;if(!Ext.isIE9m&&b){a=b.el;a.setStyle("left",a.getWidth()+"px")}},onTitleRender:function(){if(this.orientation==="vertical"){this.titleCmp.el.setVertical(90)}},addUIClsToElement:function(b){var g=this,a=g.callParent(arguments),e=[g.baseCls+"-body-"+b,g.baseCls+"-body-"+g.ui+"-"+b],h,d;if(g.bodyCls){h=g.bodyCls.split(" ");for(d=0;d<e.length;d++){if(!Ext.Array.contains(h,e[d])){h.push(e[d])}}g.bodyCls=h.join(" ")}else{g.bodyCls=e.join(" ")}return a},removeUIClsFromElement:function(b){var g=this,a=g.callParent(arguments),e=[g.baseCls+"-body-"+b,g.baseCls+"-body-"+g.ui+"-"+b],h,d;if(g.bodyCls){h=g.bodyCls.split(" ");for(d=0;d<e.length;d++){Ext.Array.remove(h,e[d])}g.bodyCls=h.join(" ")}return a},addUIToElement:function(){var b=this,d,a;b.callParent(arguments);a=b.baseCls+"-body-"+b.ui;if(b.rendered){if(b.bodyCls){b.body.addCls(b.bodyCls)}else{b.body.addCls(a)}}else{if(b.bodyCls){d=b.bodyCls.split(" ");if(!Ext.Array.contains(d,a)){d.push(a)}b.bodyCls=d.join(" ")}else{b.bodyCls=a}}if(b.titleCmp&&b.titleCmp.rendered){b.titleCmp.addCls(b.baseCls+"-text-container-"+b.ui)}},removeUIFromElement:function(){var b=this,d,a;b.callParent(arguments);a=b.baseCls+"-body-"+b.ui;if(b.rendered){if(b.bodyCls){b.body.removeCls(b.bodyCls)}else{b.body.removeCls(a)}}else{if(b.bodyCls){d=b.bodyCls.split(" ");Ext.Array.remove(d,a);b.bodyCls=d.join(" ")}else{b.bodyCls=a}}if(b.titleCmp&&b.titleCmp.rendered){b.titleCmp.removeCls(b.baseCls+"-text-container-"+b.ui)}},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},fireClickEvent:function(a,d){var b="."+Ext.panel.Tool.prototype.baseCls;if(!d.getTarget(b)){this.fireEvent(a,this,d)}},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.frameBody||this.el},applyTargetCls:function(a){this.bodyTargetCls=a},setTitle:function(d){var b=this,a=b.titleCmp;b.title=d;if(a.rendered){a.textEl.update(b.title||"&#160;");a.updateLayout()}else{b.titleCmp.on({render:function(){b.setTitle(d)},single:true})}},getMinWidth:function(){var g=this,e=g.titleCmp.textEl.dom,a,h=g.tools,b,d;e.style.display="inline";a=e.offsetWidth;e.style.display="";if(h&&(b=h.length)){for(d=0;d<b;d++){if(h[d].el){a+=h[d].el.dom.offsetWidth}}}if(g.iconCmp){a+=g.iconCmp.el.dom.offsetWidth}return a+10},setIconCls:function(a){var b=this,e=!a||!a.length,d=b.iconCmp;b.iconCls=a;if(!b.iconCmp&&!e){b.initIconCmp();b.insert(0,b.iconCmp)}else{if(d){if(e){b.iconCmp.destroy();delete b.iconCmp}else{d.removeCls(d.iconCls);d.addCls(a);d.iconCls=a}}}},setIcon:function(a){var b=this,e=!a||!a.length,d=b.iconCmp;b.icon=a;if(!b.iconCmp&&!e){b.initIconCmp();b.insert(0,b.iconCmp)}else{if(d){if(e){b.iconCmp.destroy();delete b.iconCmp}else{d.setSrc(b.icon)}}}},setGlyph:function(b){var a=this,d=a.iconCmp;if(!a.iconCmp){a.initIconCmp();a.insert(0,a.iconCmp)}else{if(d){if(b){a.iconCmp.setGlyph(b)}else{a.iconCmp.destroy();delete a.iconCmp}}}},getTools:function(){return this.tools.slice()},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},syncBeforeAfterTitleClasses:function(){var l=this,k=l.items,g=k.items,b=l.titlePosition,a=g.length,h=k.generation,m=l.syncBeforeAfterGen,o,e,d,n;if(m===h){return}l.syncBeforeAfterGen=h;for(d=0;d<a;++d){n=g[d];o=n.afterTitleCls||(n.afterTitleCls=n.baseCls+"-after-title");e=n.beforeTitleCls||(n.beforeTitleCls=n.baseCls+"-before-title");if(!l.title||d<b){if(m){n.removeCls(o)}n.addCls(e)}else{if(d>b){if(m){n.removeCls(e)}n.addCls(o)}}}},onAdd:function(b,a){var d=this.tools;this.callParent(arguments);if(b.isTool){d.push(b);d[b.type]=b}},initRenderData:function(){return Ext.applyIf(this.callParent(),{bodyCls:this.bodyCls,bodyTargetCls:this.bodyTargetCls,headerCls:this.headerCls})},getDockName:function(){return this.dock},getFramingInfoCls:function(){var d=this,b=d.callParent(),a=d.ownerCt;if(!d.expanding&&(a&&a.collapsed)||d.isCollapsedExpander){b+="-"+a.collapsedCls}return b+"-"+d.dock}},0,["header"],["container","component","header","box"],{container:true,component:true,header:true,box:true},["widget.header"],0,[Ext.panel,"Header"],0));(Ext.cmd.derive("Ext.dd.DragDrop",Ext.Base,{constructor:function(d,a,b){if(d){this.init(d,a,b)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(k,g,q){if(Ext.isNumber(g)){g={left:g,right:g,top:g,bottom:g}}g=g||this.defaultPadding;var m=Ext.get(this.getEl()).getBox(),a=Ext.get(k),o=a.getScroll(),l,d=a.dom,n,h,e;if(d==document.body){l={x:o.left,y:o.top,width:Ext.Element.getViewWidth(),height:Ext.Element.getViewHeight()}}else{n=a.getXY();l={x:n[0],y:n[1],width:d.clientWidth,height:d.clientHeight}}h=m.y-l.y;e=m.x-l.x;this.resetConstraints();this.setXConstraint(e-(g.left||0),l.width-e-m.width-(g.right||0),this.xTickSize);this.setYConstraint(h-(g.top||0),l.height-h-m.height-(g.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(d,a,b){this.initTarget(d,a,b);Ext.EventManager.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(d,a,b){this.config=b||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof d!=="string"){d=Ext.id(d)}this.id=d;this.addToGroup((a)?a:"default");this.handleElId=d;this.setDragElId(d);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(d,a,e,b){if(!a&&0!==a){this.padding=[d,d,d,d]}else{if(!e&&0!==e){this.padding=[d,a,d,a]}else{this.padding=[d,a,e,b]}}},setInitPosition:function(e,d){var g=this.getEl(),b,a,h;if(!this.DDMInstance.verifyEl(g)){return}b=e||0;a=d||0;h=Ext.Element.getXY(g);this.initPageX=h[0]-b;this.initPageY=h[1]-a;this.lastPageX=h[0];this.lastPageY=h[1];this.setStartPosition(h)},setStartPosition:function(b){var a=b||Ext.Element.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.EventManager.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){Ext.EventManager.un(this.id,"mousedown",this.handleMouseDown,this);this._domRef=null;this.DDMInstance._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(d,b){var a=this;if((a.primaryButtonOnly&&d.button!=0)||a.isLocked()){return}a.DDMInstance.refreshCache(a.groups);if(a.hasOuterHandles||a.DDMInstance.isOverTarget(d.getPoint(),a)){if(a.clickValidator(d)){a.setStartPosition();a.b4MouseDown(d);a.onMouseDown(d);a.DDMInstance.handleMouseDown(d,a);a.DDMInstance.stopEvent(d)}}},clickValidator:function(b){var a=b.getTarget();return(this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id)))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var d=0,a=this.invalidHandleClasses.length;d<a;++d){if(this.invalidHandleClasses[d]==b){delete this.invalidHandleClasses[d]}}},isValidHandleChild:function(g){var d=true,k,b,a;try{k=g.nodeName.toUpperCase()}catch(h){k=g.nodeName}d=d&&!this.invalidHandleTypes[k];d=d&&!this.invalidHandleIds[g.id];for(b=0,a=this.invalidHandleClasses.length;d&&b<a;++b){d=!Ext.fly(g).hasCls(this.invalidHandleClasses[b])}return d},setXTicks:function(e,a){this.xTicks=[];this.xTickSize=a;var d={},b;for(b=this.initPageX;b>=this.minX;b=b-a){if(!d[b]){this.xTicks[this.xTicks.length]=b;d[b]=true}}for(b=this.initPageX;b<=this.maxX;b=b+a){if(!d[b]){this.xTicks[this.xTicks.length]=b;d[b]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,a){this.yTicks=[];this.yTickSize=a;var d={},b;for(b=this.initPageY;b>=this.minY;b=b-a){if(!d[b]){this.yTicks[this.yTicks.length]=b;d[b]=true}}for(b=this.initPageY;b<=this.maxY;b=b+a){if(!d[b]){this.yTicks[this.yTicks.length]=b;d[b]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(d,b,a){this.leftConstraint=d;this.rightConstraint=b;this.minX=this.initPageX-d;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,d,b){this.topConstraint=a;this.bottomConstraint=d;this.minY=this.initPageY-a;this.maxY=this.initPageY+d;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var b=(this.maintainOffset)?this.lastPageX-this.initPageX:0,a=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(b,a)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(k,e){if(!e){return k}else{if(e[0]>=k){return e[0]}else{var b,a,d,h,g;for(b=0,a=e.length;b<a;++b){d=b+1;if(e[d]&&e[d]>=k){h=k-e[b];g=e[d]-k;return(g>h)?e[b]:e[d]}}return e[e.length-1]}}},toString:function(){return("DragDrop "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DragDrop"],0));(Ext.cmd.derive("Ext.dd.DD",Ext.dd.DragDrop,{constructor:function(d,a,b){if(d){this.init(d,a,b)}},scroll:true,autoOffset:function(d,b){var a=d-this.startPageX,e=b-this.startPageY;this.setDelta(a,e)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(d,b){var a=this.getDragEl();this.alignElWithMouse(a,d,b)},alignElWithMouse:function(b,g,d){var h=this.getTargetCoord(g,d),e=b.dom?b:Ext.fly(b,"_dd"),o=e.getSize(),l=Ext.Element,m,a,n,k;if(!this.deltaSetXY){m=this.cachedViewportSize={width:l.getDocumentWidth(),height:l.getDocumentHeight()};a=[Math.max(0,Math.min(h.x,m.width-o.width)),Math.max(0,Math.min(h.y,m.height-o.height))];e.setXY(a);n=this.getLocalX(e);k=e.getLocalY();this.deltaSetXY=[n-h.x,k-h.y]}else{m=this.cachedViewportSize;this.setLocalXY(e,Math.max(0,Math.min(h.x+this.deltaSetXY[0],m.width-o.width)),Math.max(0,Math.min(h.y+this.deltaSetXY[1],m.height-o.height)))}this.cachePosition(h.x,h.y);this.autoScroll(h.x,h.y,b.offsetHeight,b.offsetWidth);return h},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var d=Ext.Element.getXY(this.getEl());this.lastPageX=d[0];this.lastPageY=d[1]}},autoScroll:function(o,n,g,q){if(this.scroll){var r=Ext.Element.getViewHeight(),b=Ext.Element.getViewWidth(),u=this.DDMInstance.getScrollTop(),e=this.DDMInstance.getScrollLeft(),m=g+n,t=q+o,l=(r+u-n-this.deltaY),k=(b+e-o-this.deltaX),d=40,a=(document.all)?80:30;if(m>r&&l<d){window.scrollTo(e,u+a)}if(n<u&&u>0&&n-u<d){window.scrollTo(e,u-a)}if(t>b&&k<d){window.scrollTo(e+a,u)}if(o<e&&e>0&&o-e<d){window.scrollTo(e-a,u)}}},getTargetCoord:function(d,b){var a=d-this.deltaX,e=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(e<this.minY){e=this.minY}if(e>this.maxY){e=this.maxY}}a=this.getTick(a,this.xTicks);e=this.getTick(e,this.yTicks);return{x:a,y:e}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(b,a,d){b.setLocalXY(a,d)}},3,0,0,0,0,0,[Ext.dd,"DD"],0));(Ext.cmd.derive("Ext.dd.DDProxy",Ext.dd.DD,{statics:{dragElId:"ygddfdiv"},constructor:function(d,a,b){if(d){this.init(d,a,b);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var b=this,a=document.body,e,d;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}e=this.getDragEl();if(!e){e=document.createElement("div");e.id=this.dragElId;d=e.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;a.insertBefore(e,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(g,e){var d=this.getEl(),a=this.getDragEl(),b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(g,e);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX(),d=b.getPageY();this.autoOffset(a,d);this.setDragElPos(a,d)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(d){var b=this.getEl(),a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDProxy"],0));(Ext.cmd.derive("Ext.dd.StatusProxy",Ext.Component,{animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"></div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(b){var d=this,a=Ext.baseCSSPrefix+"dd-drag-proxy ";d.el.replaceCls(a+d.dropAllowed,a+d.dropNotAllowed);d.dropStatus=d.dropNotAllowed;if(b){d.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(a){this.callParent();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(d,e,a){var b=this;b.callback=e;b.scope=a;if(d&&b.animRepair!==false){b.el.addCls(b.repairCls);b.el.hideUnders(true);b.anim=b.el.animate({duration:b.repairDuration||500,easing:"ease-out",to:{x:d[0],y:d[1]},stopAnimation:true,callback:b.afterRepair,scope:b})}else{b.afterRepair()}},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(a.repairCls);if(typeof a.callback=="function"){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}},1,0,["component","box"],{component:true,box:true},0,0,[Ext.dd,"StatusProxy"],0));(Ext.cmd.derive("Ext.dd.DragSource",Ext.dd.DDProxy,{dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(a){return this.dragData},onDragEnter:function(d,g){var b=Ext.dd.DragDropManager.getDDById(g),a;this.cachedTarget=b;if(this.beforeDragEnter(b,d,g)!==false){if(b.isNotifyTarget){a=b.notifyEnter(this,d,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,d,g)}}},beforeDragEnter:function(b,a,d){return true},onDragOver:function(d,g){var b=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g),a;if(this.beforeDragOver(b,d,g)!==false){if(b.isNotifyTarget){a=b.notifyOver(this,d,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,d,g)}}},beforeDragOver:function(b,a,d){return true},onDragOut:function(b,d){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(d);if(this.beforeDragOut(a,b,d)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,d)}}this.cachedTarget=null},beforeDragOut:function(b,a,d){return true},onDragDrop:function(b,d){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(d);if(this.beforeDragDrop(a,b,d)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)!==false){this.onValidDrop(a,b,d)}else{this.onInvalidDrop(a,b,d)}}else{this.onValidDrop(a,b,d)}if(this.afterDragDrop){this.afterDragDrop(a,b,d)}}delete this.cachedTarget},beforeDragDrop:function(b,a,d){return true},onValidDrop:function(b,a,d){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,d)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(d,b,g){var a=this;if(!b){b=d;d=null;g=b.getTarget().id}if(a.beforeInvalidDrop(d,b,g)!==false){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}a.proxy.repair(a.getRepairXY(b,a.dragData),a.afterRepair,a);if(a.afterInvalidDrop){a.afterInvalidDrop(b,g)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=false},beforeInvalidDrop:function(b,a,d){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,d){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,d);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}},1,0,0,0,0,0,[Ext.dd,"DragSource"],0));(Ext.cmd.derive("Ext.panel.Proxy",Ext.Base,{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(a,b){var d=this;d.panel=a;d.id=d.panel.id+"-ddproxy";Ext.apply(d,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.remove();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var b=this,a;if(!b.ghost){a=b.panel.getSize();b.panel.el.setVisibilityMode(Ext.Element.DISPLAY);b.ghost=b.panel.ghost();if(b.insertProxy){b.proxy=b.panel.el.insertSibling({cls:Ext.baseCSSPrefix+"panel-dd-spacer"});b.proxy.setSize(a)}}},repair:function(b,d,a){this.hide();Ext.callback(d,a||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}},1,0,0,0,0,0,[Ext.panel,"Proxy",Ext.dd,"PanelProxy"],0));(Ext.cmd.derive("Ext.panel.DD",Ext.dd.DragSource,{constructor:function(b,a){var d=this;d.panel=b;d.dragData={panel:b};d.panelProxy=new Ext.panel.Proxy(b,a);d.proxy=d.panelProxy.proxy;d.callParent([b.el,a]);d.setupEl(b)},setupEl:function(a){var d=this,e=a.header,b=a.body;if(e){d.setHandleElId(e.id);b=e.el}if(b){b.setStyle("cursor","move");d.scroll=false}else{a.on("boxready",d.setupEl,d,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(b){var a=b.getPageX(),d=b.getPageY();this.autoOffset(a,d)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(b){var a=this.panelProxy.ghost;if(a){return a.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(d,b,g){var a=this;if(a.beforeInvalidDrop(d,b,g)!==false){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}if(a.afterInvalidDrop){a.afterInvalidDrop(b,g)}}}},1,0,0,0,0,0,[Ext.panel,"DD"],0));(Ext.cmd.derive("Ext.util.Memento",Ext.Base,(function(){function e(l,k,m,h){l[h?h+m:m]=k[m]}function d(k,h,l){delete k[l]}function g(n,m,o,l){var h=l?l+o:o,k=n[h];if(k||n.hasOwnProperty(h)){a(m,o,k)}}function a(k,l,h){if(Ext.isDefined(h)){k[l]=h}else{delete k[l]}}function b(k,q,o,l,m){if(q){if(Ext.isArray(l)){var n,h=l.length;for(n=0;n<h;n++){k(q,o,l[n],m)}}else{k(q,o,l,m)}}}return{data:null,target:null,constructor:function(k,h){if(k){this.target=k;if(h){this.capture(h)}}},capture:function(h,m,l){var k=this;b(e,k.data||(k.data={}),m||k.target,h,l)},remove:function(h){b(d,this.data,null,h)},restore:function(k,h,m,l){b(g,this.data,m||this.target,k,l);if(h!==false){this.remove(k)}},restoreAll:function(h,n){var l=this,k=n||this.target,m=l.data,o;for(o in m){if(m.hasOwnProperty(o)){a(k,o,m[o])}}if(h!==false){delete l.data}}}}()),1,0,0,0,0,0,[Ext.util,"Memento"],0));(Ext.cmd.derive("Ext.layout.component.Body",Ext.layout.component.Auto,{type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},beginLayoutCycle:function(e,b){var d=this,h=d.lastWidthModel,g=d.lastHeightModel,a=d.owner.body;d.callParent(arguments);if(h&&h.fixed&&e.widthModel.shrinkWrap){a.setWidth(null)}if(g&&g.fixed&&e.heightModel.shrinkWrap){a.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(d,b){var a=this.callParent(arguments);if(d.targetContext!=d){a+=d.getPaddingInfo().height}return a},calculateOwnerWidthFromContentWidth:function(d,a){var b=this.callParent(arguments);if(d.targetContext!=d){b+=d.getPaddingInfo().width}return b},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(d,a){var e=a-d.getFrameInfo().height,b=d.targetContext;if(b!=d){e-=d.getPaddingInfo().height}return d.bodyContext.setHeight(e,!d.heightModel.natural)},publishInnerWidth:function(e,d){var a=d-e.getFrameInfo().width,b=e.targetContext;if(b!=e){a-=e.getPaddingInfo().width}e.bodyContext.setWidth(a,!e.widthModel.natural)}},0,0,0,0,["layout.body"],0,[Ext.layout.component,"Body"],0));(Ext.cmd.derive("Ext.panel.Panel",Ext.panel.AbstractPanel,{alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:false,collapseFirst:true,hideCollapseTool:false,titleCollapse:undefined,floatable:true,collapsible:undefined,closable:false,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:false,header:undefined,headerPosition:"top",frame:false,frameHeader:true,manageHeight:true,constrain:false,constrainHeader:false,initComponent:function(){var a=this;a.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat");if(a.collapsible){this.addStateEvents(["expand","collapse"])}if(a.unstyled){a.setUI("plain")}if(a.frame){a.setUI(a.ui+"-framed")}a.bridgeToolbars();a.callParent();a.collapseDirection=a.collapseDirection||a.headerPosition||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement()},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);a.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var b=this,a=b.el,d=b.header;if(a&&d){a.dom.setAttribute("aria-labelledby",d.titleCmp.id)}},getHeader:function(){return this.header},setTitle:function(h){var d=this,b=d.title,g=d.header,a=d.reExpander,e=d.placeholder;d.title=h;if(g){if(g.isHeader){g.setTitle(h)}else{g.title=h}}else{if(d.rendered){d.updateHeader()}}if(a){a.setTitle(h)}if(e&&e.setTitle){e.setTitle(h)}d.fireEvent("titlechange",d,h,b)},setIconCls:function(a){var d=this,b=d.iconCls,g=d.header,e=d.placeholder;d.iconCls=a;if(g){if(g.isHeader){g.setIconCls(a)}else{g.iconCls=a}}else{d.updateHeader()}if(e&&e.setIconCls){e.setIconCls(a)}d.fireEvent("iconclschange",d,a,b)},setIcon:function(a){var b=this,d=b.icon,g=b.header,e=b.placeholder;b.icon=a;if(g){if(g.isHeader){g.setIcon(a)}else{g.icon=a}}else{b.updateHeader()}if(e&&e.setIcon){e.setIcon(a)}b.fireEvent("iconchange",b,a,d)},setGlyph:function(d){var b=this,a=b.glyph,g=b.header,e=b.placeholder;b.glyph=d;if(g){if(g.isHeader){g.setGlyph(d)}else{g.glyph=d}}else{b.updateHeader()}if(e&&e.setGlyph){e.setIcon(d)}b.fireEvent("glyphchange",b,d,a)},bridgeToolbars:function(){var a=this,h=[],d,b,g=a.minButtonWidth;function e(k,m,l){if(Ext.isArray(k)){k={xtype:"toolbar",items:k}}else{if(!k.xtype){k.xtype="toolbar"}}k.dock=m;if(m=="left"||m=="right"){k.vertical=true}if(l){k.layout=Ext.applyIf(k.layout||{},{pack:{left:"start",center:"center"}[a.buttonAlign]||"end"})}return k}if(a.tbar){h.push(e(a.tbar,"top"));a.tbar=null}if(a.bbar){h.push(e(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){d=e(a.fbar,"bottom",true);d.ui="footer";if(g){b=d.defaults;d.defaults=function(k){var l=b||{};if((!k.xtype||k.xtype==="button"||(k.isComponent&&k.isXType("button")))&&!("minWidth" in l)){l=Ext.apply({minWidth:g},l)}return l}}h.push(d);a.fbar=null}if(a.lbar){h.push(e(a.lbar,"left"));a.lbar=null}if(a.rbar){h.push(e(a.rbar,"right"));a.rbar=null}if(a.dockedItems){if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(h)}else{a.dockedItems=h}},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},beforeRender:function(){var b=this,a;b.callParent();b.initTools();if(!(b.preventHeader||(b.header===false))){b.updateHeader()}if(b.collapsed){if(b.isPlaceHolderCollapse()){if(!b.hidden){b.setHiddenState(true);b.preventCollapseFire=true;b.placeholderCollapse();delete b.preventCollapseFire;a=b.collapsed;b.collapsed=false}}else{b.beginCollapse();b.addClsWithUI(b.collapsedCls)}}if(a){b.collapsed=a}},initTools:function(){var d=this,e=d.tools,b,a;d.tools=[];for(b=e&&e.length;b;){--b;d.tools[b]=a=e[b];a.toolOwner=d}if(d.collapsible&&!(d.hideCollapseTool||d.header===false||d.preventHeader)){d.collapseDirection=d.collapseDirection||d.headerPosition||"top";d.collapseTool=d.expandTool=Ext.widget({xtype:"tool",handler:d.toggleCollapse,scope:d});d.updateCollapseTool();if(d.collapseFirst){d.tools.unshift(d.collapseTool)}}d.addTools();if(d.closable){d.addClsWithUI("closable");d.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(d.close,d,[])}))}if(d.collapseTool&&!d.collapseFirst){d.addTool(d.collapseTool)}},addTools:Ext.emptyFn,updateCollapseTool:function(){var b=this,a=b.collapseTool;if(a){if(b.collapsed&&!b.isPlaceHolderCollapse()){a.setType("expand-"+b.getOppositeDirection(b.collapseDirection))}else{a.setType("collapse-"+b.collapseDirection)}}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(e){var d=this,k=d.header,h=d.title,g=d.tools,b=d.icon||d.iconCls,a=d.headerPosition==="left"||d.headerPosition==="right";if(Ext.isObject(k)||(k!==false&&(e||(h||b)||(g&&g.length)||(d.collapsible&&!d.titleCollapse)))){if(k&&k.isHeader){k.show()}else{k=d.header=Ext.widget(Ext.apply({xtype:"header",title:h,titleAlign:d.titleAlign,orientation:a?"vertical":"horizontal",dock:d.headerPosition||"top",textCls:d.headerTextCls,iconCls:d.iconCls,icon:d.icon,glyph:d.glyph,baseCls:d.baseCls+"-header",tools:g,ui:d.ui,id:d.id+"_header",overCls:d.headerOverCls,indicateDrag:d.draggable,frame:(d.frame||d.alwaysFramed)&&d.frameHeader,ignoreParentFrame:d.frame||d.overlapHeader,ignoreBorderManagement:d.frame||d.ignoreHeaderBorderManagement,ownerCt:d,listeners:d.collapsible&&d.titleCollapse?{click:d.toggleCollapse,scope:d}:null},d.header));d.addDocked(k,0)}d.initHeaderAria()}else{if(k){k.hide()}}},setUI:function(b){var a=this;a.callParent(arguments);if(a.header&&a.header.rendered){a.header.setUI(b)}},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},isVisible:function(a){var b=this;if(b.collapsed&&b.placeholder){return b.placeholder.isVisible(a)}return b.callParent(arguments)},onHide:function(){var a=this;if(a.collapsed&&a.placeholder){a.placeholder.hide()}else{a.callParent(arguments)}},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(true);a.placeholderCollapse()}else{a.callParent(arguments)}},onRemoved:function(b){var a=this;if(a.placeholder&&!b){a.ownerCt.remove(a.placeholder,false)}a.callParent(arguments)},addTool:function(g){if(!Ext.isArray(g)){g=[g]}var e=this,h=e.header,d,a=g.length,b;for(d=0;d<a;d++){b=g[d];b.toolOwner=e;if(h&&h.isHeader){h.addTool(b)}else{e.tools.push(b)}}e.updateHeader()},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},collapsedHorizontal:function(){var a=this.getCollapsed();return a==="left"||a==="right"},collapsedVertical:function(){var a=this.getCollapsed();return a==="top"||a==="bottom"},restoreDimension:function(){var a=this.collapseDirection;return(a==="top"||a==="bottom")?"height":"width"},getCollapsed:function(){var a=this;if(a.collapsed===true){return a.collapseDirection}return a.collapsed},getState:function(){var a=this,b=a.callParent(),d;b=a.addPropertyToState(b,"collapsed");if(a.collapsed){d=a.collapseMemento;d=d&&d.data;if(a.collapsedVertical()){if(b){delete b.height}if(d){b=a.addPropertyToState(b,"height",d.height)}}else{if(b){delete b.width}if(d){b=a.addPropertyToState(b,"width",d.width)}}}return b},findReExpander:function(h){var g=this,k=Ext.Component,e=g.dockedItems.items,a=e.length,b,d;if(g.collapseMode==="mini"){return}switch(h){case k.DIRECTION_TOP:case k.DIRECTION_BOTTOM:for(d=0;d<a;d++){b=e[d];if(!b.hidden){if(b.isHeader&&(!b.dock||b.dock==="top"||b.dock==="bottom")){return b}}}break;case k.DIRECTION_LEFT:case k.DIRECTION_RIGHT:for(d=0;d<a;d++){b=e[d];if(!b.hidden){if(b.isHeader&&(b.dock==="left"||b.dock==="right")){return b}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},getReExpander:function(d){var b=this,e=d||b.collapseDirection,a=b.reExpander||b.findReExpander(e);b.expandDirection=b.getOppositeDirection(e);if(!a){b.reExpander=a=b.createReExpander(e,{dock:e,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",isCollapsedExpander:true});b.dockedItems.insert(0,a)}return a},createReExpander:function(g,e){var d=this,k=g==="left",b=g==="right",h=k||b,a=Ext.apply({hideMode:"offsets",title:d.title||"&#160;",titleAlign:d.titleAlign,orientation:h?"vertical":"horizontal",textCls:d.headerTextCls,icon:d.icon,iconCls:d.iconCls,glyph:d.glyph,baseCls:d.self.prototype.baseCls+"-header",ui:d.ui,frame:d.frame&&d.frameHeader,ignoreParentFrame:d.frame||d.overlapHeader,indicateDrag:d.draggable,collapseImmune:true,ownerCt:d.ownerCt,ownerLayout:d.componentLayout,margin:d.margin},e);if(d.collapseMode==="mini"){if(h){a.width=1}else{a.height=1}}if(!d.hideCollapseTool){if(k||(b&&d.isPlaceHolderCollapse())){a.titlePosition=1}a.tools=[{xtype:"tool",type:"expand-"+d.getOppositeDirection(g),uiCls:["top"],handler:d.toggleCollapse,scope:d}]}a=new Ext.panel.Header(a);a.addClsWithUI(d.getHeaderCollapsedClasses(a));return a},getHeaderCollapsedClasses:function(e){var b=this,d=b.collapsedCls,a;a=[d,d+"-"+e.getDockName()];if(b.border&&(!b.frame||(b.frame&&Ext.supports.CSS3BorderRadius))){a.push(d+"-border-"+e.getDockName())}return a},beginCollapse:function(){var g=this,d=g.lastBox,k=g.rendered,b=g.collapseMemento||(g.collapseMemento=new Ext.util.Memento(g)),e=g.getSizeModel(),h=g.header,a;b.capture(["height","minHeight","width","minWidth"]);if(d){b.capture(g.restoreDimension(),d,"last.")}if(g.collapsedVertical()){if(e.width.shrinkWrap){g.width=k?g.getWidth():g.width||g.minWidth||100}delete g.height;g.minHeight=0}else{if(g.collapsedHorizontal()){if(e.height.shrinkWrap){g.height=k?g.getHeight():g.height||g.minHeight||100}delete g.width;g.minWidth=0}}if(g.ownerCt){g.ownerCt.getLayout().beginCollapse(g)}if(!g.isPlaceHolderCollapse()&&h!==false){if(h===(a=g.getReExpander())){h.collapseImmune=true;h.getHierarchyState().collapseImmune=true;h.addClsWithUI(g.getHeaderCollapsedClasses(h));if(h.rendered){h.updateFrame()}}else{if(a.el){a.el.show();a.hidden=false}}}if(g.resizer){g.resizer.disable()}},beginExpand:function(){var g=this,e=g.lastBox,d=g.collapseMemento,a=this.restoreDimension(),h=g.header,b;if(d){d.restore(["minHeight","minWidth",a]);if(e){d.restore(a,true,e,"last.")}}if(g.ownerCt){g.ownerCt.getLayout().beginExpand(g)}if(!g.isPlaceHolderCollapse()&&h!==false){if(h===(b=g.getReExpander())){delete h.collapseImmune;delete h.getHierarchyState().collapseImmune;h.removeClsWithUI(g.getHeaderCollapsedClasses(h));if(h.rendered){h.expanding=true;h.updateFrame();delete h.expanding}}else{b.hidden=true;b.el.hide()}}if(g.resizer){g.resizer.enable()}},collapse:function(e,a){var d=this,g=e||d.collapseDirection,b=d.ownerCt;if(d.isCollapsingOrExpanding){return d}if(arguments.length<2){a=d.animCollapse}if(d.collapsed||d.fireEvent("beforecollapse",d,e,a)===false){return d}if(b&&d.isPlaceHolderCollapse()){return d.placeholderCollapse(e,a)}d.collapsed=g;d.beginCollapse();d.getHierarchyState().collapsed=true;d.fireHierarchyEvent("collapse");return d.doCollapseExpand(1,a)},doCollapseExpand:function(a,b){var e=this,d=e.animCollapse,g=e.ownerLayout;e.animCollapse=b;e.isCollapsingOrExpanding=a;if(b){e.addCls(Ext.baseCSSPrefix+"animating-size")}if(g&&!b){g.onContentChange(e)}else{e.updateLayout({isRoot:true})}e.animCollapse=d;return e},afterCollapse:function(b){var a=this,d=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls(Ext.baseCSSPrefix+"animating-size")}if(d&&b){d.onContentChange(a)}a.setHiddenDocked();a.fireEvent("collapse",a)},setHiddenDocked:function(){var k=this,e=k.hiddenOnCollapse,d=k.getDockedItems(),a=d.length,g=0,h,b;if(k.header!==false){b=k.getReExpander()}e.add(k.body);for(;g<a;g++){h=d[g];if(h&&h!==b&&h.el){e.add(h.el)}}e.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},getPlaceholder:function(g){var e=this,k=g||e.collapseDirection,d=null,h=e.placeholder,b=e.floatable,a=e.titleCollapse;if(!h){if(b||(e.collapsible&&a)){d={click:{fn:(!a&&b)?e.floatCollapsedPanel:e.toggleCollapse,element:"el",scope:e}}}e.placeholder=h=Ext.widget(e.createReExpander(k,{id:e.id+"-placeholder",listeners:d}))}if(!h.placeholderFor){if(!h.isComponent){e.placeholder=h=e.lookupComponent(h)}Ext.applyIf(h,{margins:e.margins,placeholderFor:e});h.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+k+"-placeholder",e.collapsedCls])}return h},placeholderCollapse:function(h,a){var e=this,d=e.ownerCt,l=h||e.collapseDirection,b=Ext.baseCSSPrefix+"border-region-slide-in",k=e.getPlaceholder(l),g;e.isCollapsingOrExpanding=1;e.setHiddenState(true);e.collapsed=l;if(k.rendered){if(k.el.dom.parentNode!==e.el.dom.parentNode){e.el.dom.parentNode.insertBefore(k.el.dom,e.el.dom)}k.hidden=false;k.el.show();d.updateLayout()}else{d.insert(d.items.indexOf(e),k)}if(e.rendered){e.el.setVisibilityMode(e.placeholderCollapseHideMode);if(a){e.el.addCls(b);k.el.hide();g=e.convertCollapseDir(l);e.el.slideOut(g,{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.el.removeCls(b);k.el.show().setStyle("display","none").slideIn(g,{easing:"linear",duration:100,listeners:{afteranimate:function(){k.focus();e.isCollapsingOrExpanding=0;e.fireEvent("collapse",e)}}})}}})}else{e.el.hide();e.isCollapsingOrExpanding=0;e.fireEvent("collapse",e)}}else{e.isCollapsingOrExpanding=0;if(!e.preventCollapseFire){e.fireEvent("collapse",e)}}return e},floatCollapsedPanel:function(){var d=this,l=d.placeholder,k=l.getSize(),e,b=Ext.baseCSSPrefix+"border-region-slide-in",h=d.collapsed,g=d.ownerCt||d,a;if(d.isSliding){return}if(d.el.hasCls(b)){d.slideOutFloatedPanel();return}d.isSliding=true;l.el.hide();l.hidden=true;d.el.show();d.setHiddenState(false);d.collapsed=false;g.updateLayout();e=d.getBox(false,true);l.el.show();l.hidden=false;d.el.hide();d.setHiddenState(true);d.collapsed=h;g.updateLayout();d.slideOutTask=d.slideOutTask||new Ext.util.DelayedTask(d.slideOutFloatedPanel,d);l.el.on("mouseleave",d.onMouseLeaveFloated,d);d.el.on("mouseleave",d.onMouseLeaveFloated,d);l.el.on("mouseenter",d.onMouseEnterFloated,d);d.el.on("mouseenter",d.onMouseEnterFloated,d);d.el.addCls(b);d.floated=true;if(d.collapseTool){d.collapseTool.el.hide()}switch(d.collapsed){case"top":d.setLocalXY(e.x,e.y+k.height-1);break;case"right":d.setLocalXY(e.x-k.width+1,e.y);break;case"bottom":d.setLocalXY(e.x,e.y-k.height+1);break;case"left":d.setLocalXY(e.x+k.width-1,e.y);break}a=d.convertCollapseDir(d.collapsed);d.floatedFromCollapse=d.collapsed;d.collapsed=false;d.setHiddenState(false);d.el.slideIn(a,{preserveScroll:true,duration:Ext.Number.from(d.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.isSliding=false;d.fireEvent("float",d)}}})},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},slideOutFloatedPanel:function(){var a=this,d=this.el,b;if(a.isSliding||a.isDestroyed){return}a.isSliding=true;a.floated=false;a.slideOutFloatedPanelBegin();if(typeof a.collapsed=="string"){b=a.convertCollapseDir(a.collapsed)}d.slideOut(b,{preserveScroll:true,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.slideOutFloatedPanelEnd();a.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var b=this,d=b.placeholder.el,a=b.el;b.collapsed=b.floatedFromCollapse;b.setHiddenState(true);b.floatedFromCollapse=null;d.un("mouseleave",b.onMouseLeaveFloated,b);a.un("mouseleave",b.onMouseLeaveFloated,b);d.un("mouseenter",b.onMouseEnterFloated,b);a.un("mouseenter",b.onMouseEnterFloated,b)},slideOutFloatedPanelEnd:function(){var a=this;if(a.collapseTool){a.collapseTool.el.show()}a.slideOutTask.cancel();a.isSliding=false;a.fireEvent("unfloat",a)},expand:function(a){var b=this;if(b.isCollapsingOrExpanding){return b}if(!arguments.length){a=b.animCollapse}if(!b.collapsed&&!b.floatedFromCollapse){return b}if(b.fireEvent("beforeexpand",b,a)===false){return b}delete this.getHierarchyState().collapsed;if(b.isPlaceHolderCollapse()){return b.placeholderExpand(a)}b.restoreHiddenDocked();b.beginExpand();b.collapsed=false;return b.doCollapseExpand(2,a)},placeholderExpand:function(d){var g=this,k=g.collapsed,e=Ext.baseCSSPrefix+"border-region-slide-in",h,b,a=g.ownerLayout?g.ownerLayout.centerRegion:null;if(Ext.AbstractComponent.layoutSuspendCount){d=false}if(g.floatedFromCollapse){b=g.getPosition(true);g.slideOutFloatedPanelBegin();g.slideOutFloatedPanelEnd();g.floated=false}if(d){Ext.suspendLayouts();g.placeholder.hide();g.el.show();g.collapsed=false;g.setHiddenState(false);if(a&&!b){a.hidden=true}Ext.resumeLayouts(true);a.hidden=false;g.el.addCls(e);g.isCollapsingOrExpanding=2;if(b){h=g.getXY();g.setLocalXY(b[0],b[1]);g.setXY([h[0],h[1]],{duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){g.el.removeCls(e);g.isCollapsingOrExpanding=0;g.fireEvent("expand",g)}}})}else{g.el.hide();g.placeholder.el.show();g.placeholder.hidden=false;g.setHiddenState(false);g.el.slideIn(g.convertCollapseDir(k),{preserveScroll:true,duration:Ext.Number.from(d,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){g.el.removeCls(e);g.placeholder.hide();g.updateLayout();g.isCollapsingOrExpanding=0;g.fireEvent("expand",g)}}})}}else{g.floated=g.collapsed=false;g.el.removeCls(e);Ext.suspendLayouts();g.placeholder.hide();g.show();Ext.resumeLayouts(true);g.fireEvent("expand",g)}return g},afterExpand:function(b){var a=this,d=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls(Ext.baseCSSPrefix+"animating-size")}if(d&&b){d.onContentChange(a)}a.fireEvent("expand",a);a.fireHierarchyEvent("expand")},setBorder:function(a,d){if(d){return}var b=this,e=b.header;if(!a){a=0}else{if(a===true){a="1px"}else{a=b.unitizeBox(a)}}if(e){if(e.isHeader){e.setBorder(a)}else{e.border=a}}if(b.rendered&&b.bodyBorder!==false){b.body.setStyle("border-width",a)}b.updateLayout();b.border=a},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){if(this.simpleDrag){this.initSimpleDraggable()}else{this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)}},initSimpleDraggable:function(){var d=this,b,a;if(!d.header){d.updateHeader(true)}if(d.header){b=Ext.applyIf({el:d.el,delegate:"#"+Ext.escapeId(d.header.id)},d.draggable);if(d.constrain||d.constrainHeader){b.constrain=d.constrain;b.constrainDelegate=d.constrainHeader;b.constrainTo=d.constrainTo||d.container}a=d.dd=new Ext.util.ComponentDragger(this,b);d.relayEvents(a,["dragstart","drag","dragend"]);if(d.maximized){a.disable()}}},ghostTools:function(){var g=[],h=this.header,e=h?h.query("tool[hidden=false]"):[],d,a,b;if(e.length){d=0;a=e.length;for(;d<a;d++){b=e[d];g.push({type:b.type})}}else{g=[{type:"placeholder"}]}return g},ghost:function(a){var e=this,b=e.ghostPanel,d=e.getBox(),g;if(!b){b=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:false},frame:e.frame&&!e.alwaysFramed,alwaysFramed:e.alwaysFramed,overlapHeader:e.overlapHeader,headerPosition:e.headerPosition,baseCls:e.baseCls,cls:e.baseCls+"-ghost "+(a||"")});e.ghostPanel=b}else{b.el.show()}e.ghostPanel.hidden=false;b.floatParent=e.floatParent;if(e.floating){b.zIndexManager.assignZIndices()}else{b.toFront()}if(!(e.preventHeader||(e.header===false))){g=b.header;if(g){g.suspendLayouts();Ext.Array.forEach(g.query("tool"),g.remove,g);g.resumeLayouts()}b.addTool(e.ghostTools());b.setTitle(e.title);if(e.iconCls){b.setIconCls(e.iconCls)}else{if(e.icon){b.setIcon(e.icon)}else{if(e.glyph){b.setGlyph(e.glyph)}}}b.header.addCls(Ext.baseCSSPrefix+"header-ghost")}b.setPagePosition(d.x,d.y);b.setSize(d.width,d.height);e.el.hide();return b},unghost:function(b,a){var d=this;if(!d.ghostPanel){return}if(b!==false){d.el.show();if(a!==false){d.setPagePosition(d.ghostPanel.getXY());if(d.hideMode=="offsets"){delete d.el.hideModeStyles}}Ext.defer(d.focus,10,d)}d.ghostPanel.el.hide();d.ghostPanel.hidden=true},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},convertCollapseDir:function(a){return a.substr(0,1)}},0,["panel"],["container","component","box","panel"],{container:true,component:true,box:true,panel:true},["widget.panel"],0,[Ext.panel,"Panel",Ext,"Panel"],function(){this.prototype.animCollapse=Ext.enableFx}));(Ext.cmd.derive("Ext.tip.Tip",Ext.panel.Panel,{alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true},focusOnToFront:false,closeAction:"hide",ariaRole:"tooltip",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;this.callParent(arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true)}},initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)},ghost:undefined,unghost:undefined},0,0,["container","component","box","panel"],{container:true,component:true,box:true,panel:true},0,0,[Ext.tip,"Tip",Ext,"Tip"],0));(Ext.cmd.derive("Ext.tip.ToolTip",Ext.tip.Tip,{alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date();a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(b,a){var d=this;d.callParent(arguments);d.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+d.getAnchorPosition();d.anchorEl=d.el.createChild({cls:Ext.baseCSSPrefix+"tip-anchor "+d.anchorCls})},setTarget:function(e){var b=this,a=Ext.get(e),d;if(b.target){d=Ext.get(b.target);b.mun(d,"mouseover",b.onTargetOver,b);b.mun(d,"mouseout",b.onTargetOut,b);b.mun(d,"mousemove",b.onMouseMove,b)}b.target=a;if(a){b.mon(a,{freezeEvent:true,mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b})}if(b.anchor){b.anchorTarget=b.target}},onMouseMove:function(g){var b=this,a=b.delegate?g.getTarget(b.delegate):b.triggerElement=true,d;if(a){b.targetXY=g.getXY();if(a===b.triggerElement){if(!b.hidden&&b.trackMouse){d=b.getTargetXY();if(b.constrainPosition){d=b.el.adjustForConstraints(d,b.el.parent())}b.setPagePosition(d)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(g)}}else{if((!b.closable&&b.isVisible())&&b.autoHide!==false){b.hide()}}},getTargetXY:function(){var m=this,e,d,r,a,l,o,g,q,n,b,k,h;if(m.delegate){m.anchorTarget=m.triggerElement}if(m.anchor){m.targetCounter++;d=m.getOffsets();r=(m.anchorToTarget&&!m.trackMouse)?m.getAlignToXY(m.anchorTarget,m.getAnchorAlign()):m.targetXY;a=Ext.Element.getViewWidth()-5;l=Ext.Element.getViewHeight()-5;o=document.documentElement;g=document.body;q=(o.scrollLeft||g.scrollLeft||0)+5;n=(o.scrollTop||g.scrollTop||0)+5;b=[r[0]+d[0],r[1]+d[1]];k=m.getSize();h=m.constrainPosition;m.anchorEl.removeCls(m.anchorCls);if(m.targetCounter<2&&h){if(b[0]<q){if(m.anchorToTarget){m.defaultAlign="l-r";if(m.mouseOffset){m.mouseOffset[0]*=-1}}m.anchor="left";return m.getTargetXY()}if(b[0]+k.width>a){if(m.anchorToTarget){m.defaultAlign="r-l";if(m.mouseOffset){m.mouseOffset[0]*=-1}}m.anchor="right";return m.getTargetXY()}if(b[1]<n){if(m.anchorToTarget){m.defaultAlign="t-b";if(m.mouseOffset){m.mouseOffset[1]*=-1}}m.anchor="top";return m.getTargetXY()}if(b[1]+k.height>l){if(m.anchorToTarget){m.defaultAlign="b-t";if(m.mouseOffset){m.mouseOffset[1]*=-1}}m.anchor="bottom";return m.getTargetXY()}}m.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+m.getAnchorPosition();m.anchorEl.addCls(m.anchorCls);m.targetCounter=0;return b}else{e=m.getMouseOffset();return(m.targetXY)?[m.targetXY[0]+e[0],m.targetXY[1]+e[1]]:e}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},getAnchorPosition:function(){var b=this,a;if(b.anchor){b.tipAnchor=b.anchor.charAt(0)}else{a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);b.tipAnchor=a[1].charAt(0)}switch(b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var d=this,e,b,a=d.getAnchorPosition().charAt(0);if(d.anchorToTarget&&!d.trackMouse){switch(a){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0];break}}else{switch(a){case"t":b=[-15-d.anchorOffset,30];break;case"b":b=[-19-d.anchorOffset,-13-d.el.dom.offsetHeight];break;case"r":b=[-15-d.el.dom.offsetWidth,-13-d.anchorOffset];break;default:b=[25,-13-d.anchorOffset];break}}e=d.getMouseOffset();b[0]+=e[0];b[1]+=e[1];return b},onTargetOver:function(g){var d=this,b=d.delegate,a;if(d.disabled||g.within(d.target.dom,true)){return}a=b?g.getTarget(b):true;if(a){d.triggerElement=a;d.triggerEvent=g;d.clearTimer("hide");d.targetXY=g.getXY();d.delayShow()}},delayShow:function(){var a=this;if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a)}}else{if(!a.hidden&&a.autoHide!==false){a.show()}}},showFromDelay:function(){this.fromDelayShow=true;this.show();delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(g){var b=this,a=b.triggerElement,d=a===true?b.target:a;if(b.disabled||!a||g.within(d,true)){return}if(b.showTimer){b.clearTimer("show");b.triggerElement=null}if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a.hide,a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}a.callParent(arguments);delete a.triggerElement},show:function(){var a=this;this.callParent();if(this.hidden===false){a.setPagePosition(-10000,-10000);if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();a.calledFromShowAt=true;if(!a.isVisible()){this.callParent(arguments)}if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true);a.el.sync(true);if(a.dismissDelay&&a.autoHide!==false){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else{a.anchorEl.hide()}}delete a.calledFromShowAt},syncAnchor:function(){var d=this,a,b,e;switch(d.tipAnchor.charAt(0)){case"t":a="b";b="tl";e=[20+d.anchorOffset,1];break;case"r":a="l";b="tr";e=[-1,12+d.anchorOffset];break;case"b":a="t";b="bl";e=[20+d.anchorOffset,-1];break;default:a="r";b="tl";e=[1,12+d.anchorOffset];break}d.anchorEl.alignTo(d.el,a+"-"+b,e);d.anchorEl.setStyle("z-index",parseInt(d.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,d){var b=this;b.callParent(arguments);if(b.anchor){b.syncAnchor()}},_timerNames:{},clearTimer:function(a){var b=this,e=b._timerNames,d=e[a]||(e[a]=a+"Timer"),g=b[d];if(g){clearTimeout(g);b[d]=null}},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}},0,["tooltip"],["container","component","tooltip","box","panel"],{container:true,component:true,tooltip:true,box:true,panel:true},["widget.tooltip"],0,[Ext.tip,"ToolTip",Ext,"ToolTip"],0));(Ext.cmd.derive("Ext.tip.QuickTip",Ext.tip.ToolTip,{alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(d){var k=Ext.isArray(d)?d:arguments,e=0,a=k.length,h,b,g;for(;e<a;e++){d=k[e];h=d.target;if(h){if(Ext.isArray(h)){for(b=0,g=h.length;b<g;b++){this.targets[Ext.id(h[b])]=d}}else{this.targets[Ext.id(h)]=d}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,d=b.activeTarget;a=Ext.get(a).dom;if(b.isVisible()){if(d&&d.el==a){b.hide()}}else{if(d&&d.el==a){b.clearTimer("show")}}},getTipCfg:function(g){var d=g.getTarget(),b=d.title,a;if(this.interceptTitles&&b&&Ext.isString(b)){d.qtip=b;d.removeAttribute("title");g.preventDefault();return{text:b}}else{a=this.tagConfig;d=g.getTarget("["+a.namespace+a.attribute+"]");if(d){return{target:d,text:d.getAttribute(a.namespace+a.attribute)}}}},onTargetOver:function(l){var n=this,m=l.getTarget(n.delegate),a,g,b,k,o,d,r,h,u,q,t;if(n.disabled){return}n.targetXY=l.getXY();if(!m||m.nodeType!==1||m==document.documentElement||m==document.body){return}if(n.activeTarget&&((m==n.activeTarget.el)||Ext.fly(n.activeTarget.el).contains(m))){if(n.targetTextEmpty()){n.onShowVeto();delete n.activeTarget}else{n.clearTimer("hide");n.show()}return}if(m){h=n.targets;for(t in h){if(h.hasOwnProperty(t)){q=h[t];u=Ext.fly(q.target);if(u&&(u.dom===m||u.contains(m))){b=u.dom;break}}}if(b){n.activeTarget=n.targets[b.id];n.activeTarget.el=m;n.anchor=n.activeTarget.anchor;if(n.anchor){n.anchorTarget=m}a=parseInt(n.activeTarget.showDelay,10);if(a){g=n.showDelay;n.showDelay=a}n.delayShow();if(a){n.showDelay=g}return}}b=Ext.fly(m,"_quicktip-target");k=n.tagConfig;o=k.namespace;d=n.getTipCfg(l);if(d){if(d.target){m=d.target;b=Ext.fly(m,"_quicktip-target")}r=b.getAttribute(o+k.hide);n.activeTarget={el:m,text:d.text,width:+b.getAttribute(o+k.width)||null,autoHide:r!="user"&&r!=="false",title:b.getAttribute(o+k.title),cls:b.getAttribute(o+k.cls),align:b.getAttribute(o+k.align),showDelay:parseInt(b.getAttribute(o+k.showDelay),10)};n.anchor=b.getAttribute(o+k.anchor);if(n.anchor){n.anchorTarget=m}a=parseInt(n.activeTarget.showDelay,10);if(a){g=n.showDelay;n.showDelay=a}n.delayShow();if(a){n.showDelay=g}}},onTargetOut:function(h){var d=this,g=d.activeTarget,a,b;if(g&&h.within(d.activeTarget.el)&&!d.getTipCfg(h)){return}d.clearTimer("show");delete d.activeTarget;if(d.autoHide!==false){a=g&&parseInt(g.hideDelay,10);if(a){b=d.hideDelay;d.hideDelay=a}d.delayHide();if(a){d.hideDelay=b}}},targetTextEmpty:function(){var d=this,e=d.activeTarget,a=d.tagConfig,b,g;if(e){b=e.el;if(b){g=b.getAttribute(a.namespace+a.attribute);if(!g&&!d.targets[e.target]){return true}}}return false},show:function(){var b=this,a=b.fromDelayShow;if(a&&b.targetTextEmpty()){b.onShowVeto();delete b.activeTarget;return}b.callParent(arguments)},showAt:function(e){var b=this,d=b.activeTarget,g=b.header,a;if(d){if(!b.rendered){b.render(Ext.getBody());b.activeTarget=d}b.suspendLayouts();if(d.title){b.setTitle(d.title);g.show()}else{if(g){g.hide()}}b.update(d.text);b.autoHide=d.autoHide;b.dismissDelay=d.dismissDelay||b.dismissDelay;if(d.mouseOffset){e[0]+=d.mouseOffset[0];e[1]+=d.mouseOffset[1]}a=b.lastCls;if(a){b.removeCls(a);delete b.lastCls}a=d.cls;if(a){b.addCls(a);b.lastCls=a}b.setWidth(d.width);if(b.anchor){b.constrainPosition=false}else{if(d.align){e=b.getAlignToXY(d.el,d.align);b.constrainPosition=false}else{b.constrainPosition=true}}b.resumeLayouts(true)}b.callParent([e])},hide:function(){delete this.activeTarget;this.callParent()}},0,["quicktip"],["container","component","tooltip","box","panel","quicktip"],{container:true,component:true,tooltip:true,box:true,panel:true,quicktip:true},["widget.quicktip"],0,[Ext.tip,"QuickTip",Ext,"QuickTip"],0));(Ext.cmd.derive("Ext.tip.QuickTipManager",Ext.Base,{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(g,b){var e=this;if(!e.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(g,b)});return}var a=Ext.apply({disabled:e.disabled,id:"ext-quicktips-tip"},b),d=a.className,h=a.xtype;if(d){delete a.className}else{if(h){d="widget."+h;delete a.xtype}}if(g!==false){a.renderTo=document.body}e.tip=Ext.create(d||"Ext.tip.QuickTip",a);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.disable()}},ddEnable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.enable()}},enable:function(){var a=this,b=a.tip;if(b){b.enable()}a.disabled=false},disable:function(){var a=this,b=a.tip;if(b){b.disable()}a.disabled=true},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}},0,0,0,0,0,0,[Ext.tip,"QuickTipManager",Ext,"QuickTips"],0));(Ext.cmd.derive("Ext.app.Application",Ext.app.Controller,{scope:undefined,enableQuickTips:true,appFolder:"app",appProperty:"app",namespaces:[],autoCreateViewport:false,paths:null,onClassExtended:function(m,d,l){var b=Ext.app.Controller,e=m.prototype,o=[],g,n,a,h,k;a=d.name||m.superclass.name;k=d.appFolder||m.superclass.appFolder;if(a){d.$namespace=a;Ext.app.addNamespaces(a)}if(d.namespaces){Ext.app.addNamespaces(d.namespaces)}if(!d["paths processed"]){if(a&&k){Ext.Loader.setPath(a,k)}n=d.paths;if(n){for(h in n){if(n.hasOwnProperty(h)){Ext.Loader.setPath(h,n[h])}}}}else{delete d["paths processed"]}if(d.autoCreateViewport){b.processDependencies(e,o,a,"view",["Viewport"])}if(o.length){g=l.onBeforeCreated;l.onBeforeCreated=function(q,t){var r=Ext.Array.clone(arguments);Ext.require(o,function(){return g.apply(this,r)})}}},constructor:function(a){var b=this;b.callParent(arguments);b.doInit(b);b.initNamespace();b.initControllers();b.onBeforeLaunch();b.finishInitControllers()},initNamespace:function(){var d=this,a=d.appProperty,b;b=Ext.namespace(d.name);if(b){b.getApplication=function(){return d};if(a){if(!b[a]){b[a]=d}}}},initControllers:function(){var d=this,e=Ext.Array.from(d.controllers);d.controllers=new Ext.util.MixedCollection();for(var a=0,b=e.length;a<b;a++){d.getController(e[a])}},finishInitControllers:function(){var d=this,e,b,a;e=d.controllers.getRange();for(b=0,a=e.length;b<a;b++){e[b].finishInit(d)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var b=this,e,g,d,a;if(b.enableQuickTips){b.initQuickTips()}if(b.autoCreateViewport){b.initViewport()}b.launch.call(b.scope||b);b.launched=true;b.fireEvent("launch",b);e=b.controllers.items;d=e.length;for(g=0;g<d;g++){a=e[g];a.onLaunch(b)}},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.name).absoluteName},initQuickTips:function(){Ext.tip.QuickTipManager.init()},initViewport:function(){var a=this.getView("Viewport");if(a){a.create()}},getController:function(b){var e=this,g=e.controllers,d,a;a=g.get(b);if(!a){d=e.getModuleClassName(b,"controller");a=Ext.create(d,{application:e,id:b});g.add(a);if(e._initialized){a.doInit(e)}}return a},getApplication:function(){return this}},1,0,0,0,0,0,[Ext.app,"Application"],0));Ext.define("ExtThemeNeptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){this.callParent()}}});Ext.define("ExtThemeNeptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});Ext.define("ExtThemeNeptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,Ext.baseCSSPrefix+"noborder-l",Ext.baseCSSPrefix+"noborder-b",Ext.baseCSSPrefix+"noborder-bl",Ext.baseCSSPrefix+"noborder-r",Ext.baseCSSPrefix+"noborder-rl",Ext.baseCSSPrefix+"noborder-rb",Ext.baseCSSPrefix+"noborder-rbl",Ext.baseCSSPrefix+"noborder-t",Ext.baseCSSPrefix+"noborder-tl",Ext.baseCSSPrefix+"noborder-tb",Ext.baseCSSPrefix+"noborder-tbl",Ext.baseCSSPrefix+"noborder-tr",Ext.baseCSSPrefix+"noborder-trl",Ext.baseCSSPrefix+"noborder-trb",Ext.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var E=this,h=0,F=8,G=4,o=2,g=1,a=E.owner,y=a.bodyBorder,r=a.border,m=E.collapsed,u=E.edgeMasks,n=E.noBorderClassTable,D=a.dockedItems.generation,C,e,B,l,x,q,A,t,k,w,z,d;if(E.initializedBorders===D){return}z=[];d=[];e=E.getBorderCollapseTable();n=E.getBorderClassTable?E.getBorderClassTable():n;E.initializedBorders=D;E.collapsed=false;B=E.getDockedItems();E.collapsed=m;for(x=0,q=B.length;x<q;x++){A=B[x];if(A.ignoreBorderManagement){continue}t=A.dock;w=l=0;z.length=0;d.length=0;if(t!=="bottom"){if(h&F){C=A.border}else{C=r;if(C!==false){l+=F}}if(C===false){w+=F}}if(t!=="left"){if(h&G){C=A.border}else{C=r;if(C!==false){l+=G}}if(C===false){w+=G}}if(t!=="top"){if(h&o){C=A.border}else{C=r;if(C!==false){l+=o}}if(C===false){w+=o}}if(t!=="right"){if(h&g){C=A.border}else{C=r;if(C!==false){l+=g}}if(C===false){w+=g}}if((k=A.lastBorderMask)!==w){A.lastBorderMask=w;if(k){d[0]=n[k]}if(w){z[0]=n[w]}}if((k=A.lastBorderCollapse)!==l){A.lastBorderCollapse=l;if(k){d[d.length]=e[k]}if(l){z[z.length]=e[l]}}if(d.length){A.removeCls(d)}if(z.length){A.addCls(z)}h|=u[t]}w=l=0;z.length=0;d.length=0;if(h&F){C=y}else{C=r;if(C!==false){l+=F}}if(C===false){w+=F}if(h&G){C=y}else{C=r;if(C!==false){l+=G}}if(C===false){w+=G}if(h&o){C=y}else{C=r;if(C!==false){l+=o}}if(C===false){w+=o}if(h&g){C=y}else{C=r;if(C!==false){l+=g}}if(C===false){w+=g}if((k=E.lastBodyBorderMask)!==w){E.lastBodyBorderMask=w;if(k){d[0]=n[k]}if(w){z[0]=n[w]}}if((k=E.lastBodyBorderCollapse)!==l){E.lastBodyBorderCollapse=l;if(k){d[d.length]=e[k]}if(l){z[z.length]=e[l]}}if(d.length){a.removeBodyCls(d)}if(z.length){a.addBodyCls(z)}},onRemove:function(b){var a=b.lastBorderMask;if(!b.isDestroyed&&!b.ignoreBorderManagement&&a){b.lastBorderMask=0;b.removeCls(this.noBorderClassTable[a])}this.callParent([b])}});(Ext.cmd.derive("Ext.app.domain.Controller",Ext.app.EventDomain,{singleton:true,type:"controller",idProperty:"id",constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.Controller)}},1,0,0,0,0,0,[Ext.app.domain,"Controller"],0));(Ext.cmd.derive("Ext.button.Split",Ext.button.Button,{alternateClassName:"Ext.SplitButton",arrowCls:"split",split:true,initComponent:function(){this.callParent();this.addEvents("arrowclick")},setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a},onClick:function(d,a){var b=this;d.preventDefault();if(!b.disabled){if(b.overMenuTrigger){b.maybeShowMenu();b.fireEvent("arrowclick",b,d);if(b.arrowHandler){b.arrowHandler.call(b.scope||b,b,d)}}else{b.doToggle();b.fireHandler(d)}}}},0,["splitbutton"],["button","splitbutton","component","box"],{button:true,splitbutton:true,component:true,box:true},["widget.splitbutton"],0,[Ext.button,"Split",Ext,"SplitButton"],0));(Ext.cmd.derive("Ext.layout.container.Table",Ext.layout.container.Container,{alternateClassName:"Ext.layout.TableLayout",monitorResize:false,type:"table",createsInnerCt:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(a){return this.autoSizePolicy},initHierarchyState:function(a){a.inShrinkWrapTable=true},getLayoutItems:function(){var h=this,b=[],d=h.callParent(),g,a=d.length,e;for(e=0;e<a;e++){g=d[e];if(!g.hidden){b.push(g)}}return b},getHiddenItems:function(){var b=[],d=this.owner.items.items,a=d.length,e=0,g;for(;e<a;++e){g=d[e];if(g.rendered&&g.hidden){b.push(g)}}return b},renderChildren:function(){var n=this,m=n.getLayoutItems(),k=n.owner.getTargetEl().child("table",true).tBodies[0],w=k.rows,h=0,l=m.length,g=n.getHiddenItems(),u,r,d,a,t,q,o,b,e;u=n.calculateCells(m);for(;h<l;h++){r=u[h];d=r.rowIdx;a=r.cellIdx;t=m[h];q=w[d];if(!q){q=k.insertRow(d);if(n.trAttrs){q.set(n.trAttrs)}}b=o=Ext.get(q.cells[a]||q.insertCell(a));if(n.needsDivWrap()){b=o.first()||o.createChild({tag:"div"});b.setWidth(null)}if(!t.rendered){n.renderItem(t,b,0)}else{if(!n.isValidParent(t,b,d,a,k)){n.moveItem(t,b,0)}}if(n.tdAttrs){o.set(n.tdAttrs)}if(t.tdAttrs){o.set(t.tdAttrs)}o.set({colSpan:t.colspan||1,rowSpan:t.rowspan||1,id:t.cellId||"",cls:n.cellCls+" "+(t.cellCls||"")});if(!u[h+1]||u[h+1].rowIdx!==d){a++;while(q.cells[a]){q.deleteCell(a)}}}d++;while(k.rows[d]){k.deleteRow(d)}for(h=0,l=g.length;h<l;++h){n.ensureInDocument(g[h].getEl())}},ensureInDocument:function(a){var b=a.dom.parentNode;while(b){if(b.tagName.toUpperCase()=="BODY"){return}b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(h){if(!h.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var d=h.targetContext,b=h.widthModel.shrinkWrap,a=h.heightModel.shrinkWrap,k=a||b,e=k&&d.el.child("table",true),g=k&&d.getPaddingInfo();if(b){h.setContentWidth(e.offsetWidth+g.width,true)}if(a){h.setContentHeight(e.offsetHeight+g.height,true)}}},finalizeLayout:function(){if(this.needsDivWrap()){var b=this.getLayoutItems(),d,a=b.length,e;for(d=0;d<a;d++){e=b[d];Ext.fly(e.el.dom.parentNode).setWidth(e.getWidth())}}if(Ext.isIE6||Ext.isIEQuirks){this.owner.getTargetEl().child("table").repaint()}},calculateCells:function(l){var n=[],b=0,e=0,a=0,k=this.columns||Infinity,o=[],g=0,d,h=l.length,m;for(;g<h;g++){m=l[g];while(e>=k||o[e]>0){if(e>=k){e=0;a=0;b++;for(d=0;d<k;d++){if(o[d]>0){o[d]--}}}else{e++}}n.push({rowIdx:b,cellIdx:a});for(d=m.colspan||1;d;--d){o[e]=m.rowspan||1;++e}++a}return n},getRenderTree:function(){var m=this,k=m.getLayoutItems(),r,t=[],u=Ext.apply({tag:"table",role:"presentation",cls:m.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",cn:t}},m.tableAttrs),d=m.tdAttrs,e=m.needsDivWrap(),g,h=k.length,q,o,l,b,a,n;r=m.calculateCells(k);for(g=0;g<h;g++){q=k[g];o=r[g];b=o.rowIdx;a=o.cellIdx;l=t[b];if(!l){l=t[b]={tag:"tr",cn:[]};if(m.trAttrs){Ext.apply(l,m.trAttrs)}}n=l.cn[a]={tag:"td"};if(d){Ext.apply(n,d)}Ext.apply(n,{colSpan:q.colspan||1,rowSpan:q.rowspan||1,id:q.cellId||"",cls:m.cellCls+" "+(q.cellCls||"")});if(e){n=n.cn={tag:"div"}}m.configureItem(q);n.cn=q.getRenderTree()}return u},isValidParent:function(h,k,g,e){var b,a,d;if(arguments.length===3){d=h.el.up("table");return d&&d.dom.parentNode===k.dom}b=this.owner.getTargetEl().child("table",true).tBodies[0];a=b.rows[g].cells[e];return h.el.dom.parentNode===a},needsDivWrap:function(){return Ext.isOpera10_5}},0,0,0,0,["layout.table"],0,[Ext.layout.container,"Table",Ext.layout,"TableLayout"],0));(Ext.cmd.derive("Ext.container.Monitor",Ext.Base,{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(b){var a=this;a.target=b;b.on("beforedestroy",a.disable,a);a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;if(b){b.un("beforedestroy",a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(b,a){if(!this.disabled){if(a.is(this.selector)){this.onItemAdd(a.ownerCt,a)}if(a.isQueryable){this.onContainerAdd(a)}}},onItemAdd:function(d,b){var g=this,a=g.items,e=g.addHandler;if(!g.disabled){if(e){e.call(g.scope||b,b)}if(a){a.add(b)}}},onItemRemove:function(d,b){var g=this,a=g.items,e=g.removeHandler;if(!g.disabled){if(e){e.call(g.scope||b,b)}if(a){a.remove(b)}}},onContainerAdd:function(h,b){var m=this,l,k,d=m.handleAdd,a=m.handleRemove,e,g;if(h.isContainer){h.on("add",d,m);h.on("dockedadd",d,m);h.on("remove",a,m);h.on("dockedremove",a,m)}if(b!==true){l=h.query(m.selector);for(e=0,k=l.length;e<k;++e){g=l[e];m.onItemAdd(g.ownerCt,g)}}l=h.query("container");for(e=0,k=l.length;e<k;++e){m.onContainerAdd(l[e],true)}},handleRemove:function(b,a){var d=this;if(!d.disabled){if(a.is(d.selector)){d.onItemRemove(b,a)}if(a.isQueryable){d.onContainerRemove(b,a)}}},onContainerRemove:function(g,d){var k=this,b,e,a,h;if(!d.isDestroyed&&!d.destroying&&d.isContainer){k.removeCtListeners(d);b=d.query(k.selector);for(e=0,a=b.length;e<a;++e){h=b[e];k.onItemRemove(h.ownerCt,h)}b=d.query("container");for(e=0,a=b.length;e<a;++e){k.removeCtListeners(b[e])}}else{k.invalidateItems()}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b);a.un("dockedadd",b.handleAdd,b);a.un("remove",b.handleRemove,b);a.un("dockedremove",b.handleRemove,b)},getItems:function(){var b=this,a=b.items;if(!a){a=b.items=new Ext.util.MixedCollection();a.addAll(b.target.query(b.selector))}return a},invalidateItems:function(){this.items=null}},1,0,0,0,0,0,[Ext.container,"Monitor"],0));(Ext.cmd.derive("Ext.container.Viewport",Ext.container.Container,{alternateClassName:"Ext.Viewport",isViewport:true,ariaRole:"application",preserveElOnDestroy:true,viewportCls:Ext.baseCSSPrefix+"viewport",initComponent:function(){var d=this,a=document.body.parentNode,b=d.el=Ext.getBody();Ext.getScrollbarSize();d.width=d.height=undefined;d.callParent(arguments);Ext.fly(a).addCls(d.viewportCls);if(d.autoScroll){Ext.fly(a).setStyle(d.getOverflowStyle());delete d.autoScroll}b.setHeight=b.setWidth=Ext.emptyFn;b.dom.scroll="no";d.allowDomMove=false;d.renderTo=d.el},applyTargetCls:function(a){this.el.addCls(a)},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight()},afterFirstLayout:function(){var a=this;a.callParent(arguments);setTimeout(function(){Ext.EventManager.onWindowResize(a.fireResize,a)},1)},fireResize:function(b,a){if(b!=this.width||a!=this.height){this.setSize(b,a)}},initHierarchyState:function(a){this.callParent([this.hierarchyState=Ext.rootHierarchyState])},beforeDestroy:function(){var a=this;a.removeUIFromElement();a.el.removeCls(a.baseCls);Ext.fly(document.body.parentNode).removeCls(a.viewportCls);a.callParent()}},0,["viewport"],["container","component","viewport","box"],{container:true,component:true,viewport:true,box:true},["widget.viewport"],0,[Ext.container,"Viewport",Ext,"Viewport"],0));(Ext.cmd.derive("Ext.data.IdGenerator",Ext.Base,{isGenerator:true,constructor:function(a){var b=this;Ext.apply(b,a);if(b.id){Ext.data.IdGenerator.all[b.id]=b}},getRecId:function(a){return a.modelName+"-"+a.internalId},statics:{all:{},get:function(a){var d,e,b;if(typeof a=="string"){e=b=a;a=null}else{if(a.isGenerator){return a}else{e=a.id||a.type;b=a.type}}d=this.all[e];if(!d){d=Ext.create("idgen."+b,a)}return d}}},1,0,0,0,0,0,[Ext.data,"IdGenerator"],0));(Ext.cmd.derive("Ext.data.SortTypes",Ext.Base,{singleton:true,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}},0,0,0,0,0,0,[Ext.data,"SortTypes"],0));(Ext.cmd.derive("Ext.data.Types",Ext.Base,{singleton:true},0,0,0,0,0,0,[Ext.data,"Types"],function(){var a=Ext.data.SortTypes;Ext.apply(Ext.data.Types,{stripRe:/[\$,%]/g,AUTO:{sortType:a.none,type:"auto"},STRING:{convert:function(d){var b=this.useNull?null:"";return(d===undefined||d===null)?b:String(d)},sortType:a.asUCString,type:"string"},INT:{convert:function(b){if(typeof b=="number"){return parseInt(b)}return b!==undefined&&b!==null&&b!==""?parseInt(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"int"},FLOAT:{convert:function(b){if(typeof b==="number"){return b}return b!==undefined&&b!==null&&b!==""?parseFloat(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"float"},BOOL:{convert:function(b){if(typeof b==="boolean"){return b}if(this.useNull&&(b===undefined||b===null||b==="")){return null}return b==="true"||b==1},sortType:a.none,type:"bool"},DATE:{convert:function(d){var e=this.dateReadFormat||this.dateFormat,b;if(!d){return null}if(d instanceof Date){return d}if(e){return Ext.Date.parse(d,e)}b=Date.parse(d);return b?new Date(b):null},sortType:a.asDate,type:"date"}});Ext.apply(Ext.data.Types,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})}));(Ext.cmd.derive("Ext.data.Field",Ext.Base,{isField:true,constructor:function(b){var e=this,d=Ext.data.Types,a;if(Ext.isString(b)){b={name:b}}Ext.apply(e,b);a=e.sortType;if(e.type){if(Ext.isString(e.type)){e.type=d[e.type.toUpperCase()]||d.AUTO}}else{e.type=d.AUTO}if(Ext.isString(a)){e.sortType=Ext.data.SortTypes[a]}else{if(Ext.isEmpty(a)){e.sortType=e.type.sortType}}if(!b.hasOwnProperty("convert")){e.convert=e.type.convert}else{if(!e.convert&&e.type.convert&&!b.hasOwnProperty("defaultValue")){e.defaultValue=e.type.convert(e.defaultValue)}}if(b.convert){e.hasCustomConvert=true}},dateFormat:null,dateReadFormat:null,dateWriteFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true,persist:true},1,0,0,0,["data.field"],0,[Ext.data,"Field"],0));(Ext.cmd.derive("Ext.data.Errors",Ext.util.MixedCollection,{isValid:function(){return this.length===0},getByField:function(e){var d=[],a,b;for(b=0;b<this.length;b++){a=this.items[b];if(a.field==e){d.push(a)}}return d}},0,0,0,0,0,0,[Ext.data,"Errors"],0));(Ext.cmd.derive("Ext.data.validations",Ext.Base,{singleton:true,presenceMessage:"must be present",lengthMessage:"is the wrong length",formatMessage:"is the wrong format",inclusionMessage:"is not included in the list of acceptable values",exclusionMessage:"is not an acceptable value",emailMessage:"is not a valid email address",emailRe:/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,presence:function(a,b){if(arguments.length===1){b=a}return !!b||b===0||b===false},length:function(b,g){if(g===undefined||g===null){return false}var e=g.length,d=b.min,a=b.max;if((d&&e<d)||(a&&e>a)){return false}else{return true}},email:function(b,a){return Ext.data.validations.emailRe.test(a)},format:function(a,b){return !!(a.matcher&&a.matcher.test(b))},inclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)!=-1},exclusion:function(a,b){return a.list&&Ext.Array.indexOf(a.list,b)==-1}},0,0,0,0,0,0,[Ext.data,"validations"],0));(Ext.cmd.derive("Ext.data.Model",Ext.Base,{alternateClassName:"Ext.data.Record",compareConvertFields:function(a,e){var d=a.convert&&a.type&&a.convert!==a.type.convert,b=e.convert&&e.type&&e.convert!==e.type.convert;if(d&&!b){return 1}if(!d&&b){return -1}return 0},itemNameFn:function(a){return a.name},onClassExtended:function(b,d,a){var e=a.onBeforeCreated;a.onBeforeCreated=function(h,N){var K=this,O=Ext.getClassName(h),y=h.prototype,E=h.prototype.superclass,l=N.validations||[],A=N.fields||[],k,r=N.associations||[],g=function(R,T){var S=0,P,U;if(R){R=Ext.Array.from(R);for(P=R.length;S<P;++S){U=R[S];if(!Ext.isObject(U)){U={model:U}}U.type=T;r.push(U)}}},B=N.idgen,I=new Ext.util.MixedCollection(false,y.itemNameFn),F=new Ext.util.MixedCollection(false,y.itemNameFn),x=E.validations,J=E.fields,o=E.associations,G,D,u,w=[],t="idProperty" in N?N.idProperty:y.idProperty,q=t?(t.isField?t:new Ext.data.Field(t)):null,m=false,C=function(S,R,P){var T,U;if(I.events.add.firing){U=S;T=R}else{T=P;U=R.originalIndex}T.originalIndex=U;if(q&&((T.mapping&&(T.mapping===q.mapping))||(T.name===q.name))){y.idField=T;m=true;T.defaultValue=undefined}},z=N.proxy,n=function(){I.sortBy(y.compareConvertFields)};h.modelName=O;y.modelName=O;if(x){l=x.concat(l)}N.validations=l;if(J){A=J.items.concat(A)}I.on({add:C,replace:C});for(D=0,u=A.length;D<u;++D){k=A[D];I.add(k.isField?k:new Ext.data.Field(k))}if(q&&!m){y.idField=q;q.defaultValue=undefined;I.add(q)}n();I.on({add:n,replace:n});N.fields=I;if(B){N.idgen=Ext.data.IdGenerator.get(B)}g(N.belongsTo,"belongsTo");delete N.belongsTo;g(N.hasMany,"hasMany");delete N.hasMany;g(N.hasOne,"hasOne");delete N.hasOne;if(o){r=o.items.concat(r)}for(D=0,u=r.length;D<u;++D){w.push("association."+r[D].type.toLowerCase())}if(z){if(!z.isProxy){w.push("proxy."+(z.type||z))}}else{if(!h.prototype.proxy){h.prototype.proxy=h.prototype.defaultProxyType;w.push("proxy."+h.prototype.defaultProxyType)}}Ext.require(w,function(){Ext.ModelManager.registerType(O,h);for(D=0,u=r.length;D<u;++D){G=r[D];if(G.isAssociation){G=Ext.applyIf({ownerModel:O,associatedModel:G.model},G.initialConfig)}else{Ext.apply(G,{ownerModel:O,associatedModel:G.model})}if(Ext.ModelManager.getModel(G.model)===undefined){Ext.ModelManager.registerDeferredAssociation(G)}else{F.add(Ext.data.association.Association.create(G))}}N.associations=F;e.call(K,h,N,a);if(z&&z.isProxy){h.setProxy(z)}Ext.ModelManager.onModelDefined(h)})}},inheritableStatics:{setProxy:function(a){if(!a.isProxy){if(typeof a=="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this);this.proxy=this.prototype.proxy=a;return a},getProxy:function(){var a=this.proxy;if(!a){a=this.prototype.proxy;if(a.isProxy){a=a.clone()}return this.setProxy(a)}return a},setFields:function(h,q,o){var m=this,a,b,n=false,g=m.prototype,d=g.fields,l=g.superclass.fields,k,e;if(q){g.idProperty=q;b=q.isField?q:new Ext.data.Field(q)}if(o){g.clientIdProperty=o}if(d){d.clear()}else{d=m.prototype.fields=new Ext.util.MixedCollection(false,function(r){return r.name})}if(l){h=l.items.concat(h)}for(e=0,k=h.length;e<k;e++){a=new Ext.data.Field(h[e]);if(b&&((a.mapping&&(a.mapping===b.mapping))||(a.name===b.name))){n=true;a.defaultValue=undefined}d.add(a)}if(b&&!n){b.defaultValue=undefined;d.add(b)}m.fields=d;return d},getFields:function(){return this.prototype.fields.items},load:function(g,b){b=Ext.apply({},b);b=Ext.applyIf(b,{action:"read",id:g});var a=new Ext.data.Operation(b),d=b.scope||this,e;e=function(k){var h=null,l=k.wasSuccessful();if(l){h=k.getRecords()[0];if(!h.hasId()){h.setId(g)}Ext.callback(b.success,d,[h,k])}else{Ext.callback(b.failure,d,[h,k])}Ext.callback(b.callback,d,[h,k,l])};this.getProxy().read(a,e,this)}},statics:{PREFIX:"ext-record",AUTO_ID:1,EDIT:"edit",REJECT:"reject",COMMIT:"commit",id:function(a){var b=[this.PREFIX,"-",this.AUTO_ID++].join("");a.phantom=true;a.internalId=b;return b}},idgen:{isGenerator:true,type:"default",generate:function(){return null},getRecId:function(a){return a.modelName+"-"+a.internalId}},editing:false,dirty:false,persistenceProperty:"data",evented:false,isModel:true,phantom:false,idProperty:"id",clientIdProperty:null,defaultProxyType:"ajax",emptyData:[],constructor:function(n,g,u,b){var q=this,m=(g||g===0),w,o,h,r,a,t,k,e,x=q.idProperty,d=q.idField,l;q.raw=u||n;q.modified={};e=q[q.persistenceProperty]=b||{};q.data=q[q.persistenceProperty];q.mixins.observable.constructor.call(q);if(!b){if(n){if(!m&&x){g=n[x];w=(g||g===0)}}else{n=q.emptyData}o=q.fields.items;h=o.length;l=0;if(Ext.isArray(n)){for(;l<h;l++){r=o[l];a=r.name;t=n[r.originalIndex];if(t===undefined){t=r.defaultValue}if(r.convert){t=r.convert(t,q)}if(t!==undefined){e[a]=t}}}else{for(;l<h;l++){r=o[l];a=r.name;t=n[a];if(t===undefined){t=r.defaultValue}if(r.convert){t=r.convert(t,q)}if(t!==undefined){e[a]=t}}}}q.stores=[];if(m){w=true;e[x]=d&&d.convert?d.convert(g):g}else{if(!w){k=q.idgen.generate();if(k!=null){q.preventInternalUpdate=true;q.setId(k);delete q.preventInternalUpdate}}}q.internalId=w?g:Ext.data.Model.id(q);if(typeof q.init=="function"){q.init()}q.id=q.idgen.getRecId(q)},get:function(a){return this[this.persistenceProperty][a]},_singleProp:{},set:function(x,b){var m=this,k=m[m.persistenceProperty],l=m.fields,w=m.modified,t=(typeof x=="string"),u,n,h,r,g,a,d,e,o,q;if(t){q=m._singleProp;q[x]=b}else{q=x}for(a in q){if(q.hasOwnProperty(a)){o=q[a];if(l&&(n=l.get(a))&&n.convert){o=n.convert(o,m)}u=k[a];if(m.isEqual(u,o)){continue}k[a]=o;(g||(g=[])).push(a);if(n&&n.persist){if(w.hasOwnProperty(a)){if(m.isEqual(w[a],o)){delete w[a];m.dirty=false;for(r in w){if(w.hasOwnProperty(r)){m.dirty=true;break}}}}else{m.dirty=true;w[a]=u}}if(a==m.idProperty){h=true;d=u;e=o}}}if(t){delete q[x]}if(h){m.changeId(d,e)}if(!m.editing&&g){m.afterEdit(g)}return g||null},copyFrom:function(l){var k=this,g=k.fields.items,o=g.length,b=[],m,d=0,h,e,q=k.idProperty,a,n;if(l){h=k[k.persistenceProperty];e=l[l.persistenceProperty];for(;d<o;d++){m=g[d];a=m.name;if(a!=q){n=e[a];if(n!==undefined&&!k.isEqual(h[a],n)){h[a]=n;b.push(a)}}}if(k.phantom&&!l.phantom){k.beginEdit();k.setId(l.getId());k.endEdit(true);k.commit(true)}}return b},isEqual:function(e,d){if(e instanceof Date&&d instanceof Date){return e.getTime()===d.getTime()}return e===d},beginEdit:function(){var b=this,a,d,e;if(!b.editing){b.editing=true;b.dirtySave=b.dirty;e=b[b.persistenceProperty];d=b.dataSave={};for(a in e){if(e.hasOwnProperty(a)){d[a]=e[a]}}e=b.modified;d=b.modifiedSave={};for(a in e){if(e.hasOwnProperty(a)){d[a]=e[a]}}}},cancelEdit:function(){var a=this;if(a.editing){a.editing=false;a.modified=a.modifiedSave;a[a.persistenceProperty]=a.dataSave;a.dirty=a.dirtySave;a.modifiedSave=a.dataSave=a.dirtySave=null}},endEdit:function(a,e){var d=this,b,g;a=a===true;if(d.editing){d.editing=false;b=d.dataSave;d.modifiedSave=d.dataSave=d.dirtySave=null;if(!a){if(!e){e=d.getModifiedFieldNames(b)}g=d.dirty||e.length>0;if(g){d.afterEdit(e)}}}},getModifiedFieldNames:function(e){var d=this,g=d[d.persistenceProperty],a=[],b;e=e||d.dataSave;for(b in g){if(g.hasOwnProperty(b)){if(!d.isEqual(g[b],e[b])){a.push(b)}}}return a},getChanges:function(){var a=this.modified,b={},d;for(d in a){if(a.hasOwnProperty(d)){b[d]=this.get(d)}}return b},isModified:function(a){return this.modified.hasOwnProperty(a)},setDirty:function(){var d=this,a=d.fields.items,h=a.length,g,b,e;d.dirty=true;for(e=0;e<h;e++){g=a[e];if(g.persist){b=g.name;d.modified[b]=d.get(b)}}},reject:function(a){var d=this,b=d.modified,e;for(e in b){if(b.hasOwnProperty(e)){if(typeof b[e]!="function"){d[d.persistenceProperty][e]=b[e]}}}d.dirty=false;d.editing=false;d.modified={};if(a!==true){d.afterReject()}},commit:function(a,d){var b=this;b.phantom=b.dirty=b.editing=false;b.modified={};if(a!==true){b.afterCommit(d)}},copy:function(a){var b=this;return new b.self(b.raw,a,null,Ext.apply({},b[b.persistenceProperty]))},setProxy:function(a){if(!a.isProxy){if(typeof a==="string"){a={type:a}}a=Ext.createByAlias("proxy."+a.type,a)}a.setModel(this.self);this.proxy=a;return a},getProxy:function(){return this.hasOwnProperty("proxy")?this.proxy:this.self.getProxy()},validate:function(){var m=new Ext.data.Errors(),d=this.validations,g=Ext.data.validations,b,e,l,a,k,h;if(d){b=d.length;for(h=0;h<b;h++){e=d[h];l=e.field||e.name;k=e.type;a=g[k](e,this.get(l));if(!a){m.add({field:l,message:e.message||g[k+"Message"]})}}}return m},isValid:function(){return this.validate().isValid()},save:function(n){n=Ext.apply({},n);var g=this,b=g.phantom?"create":"update",m=n.scope||g,k=g.stores,d=0,e,h,a,l;Ext.apply(n,{records:[g],action:b});a=new Ext.data.Operation(n);l=function(o){var q=o.wasSuccessful();if(q){for(e=k.length;d<e;d++){h=k[d];h.fireEvent("write",h,o);h.fireEvent("datachanged",h)}Ext.callback(n.success,m,[g,o])}else{Ext.callback(n.failure,m,[g,o])}Ext.callback(n.callback,m,[g,o,q])};g.getProxy()[b](a,l,g);return g},destroy:function(o){o=Ext.apply({records:[this],action:"destroy"},o);var h=this,a=h.phantom!==true,n=o.scope||h,l,d=0,g,k,e,b,m;b=new Ext.data.Operation(o);m=function(q){e=[h,q];l=Ext.Array.clone(h.stores);if(q.wasSuccessful()){for(g=l.length;d<g;d++){k=l[d];if(k.remove){k.remove(h,true)}k.fireEvent("bulkremove",k,[h],[k.indexOf(h)],false);if(a){k.fireEvent("write",k,q)}}h.clearListeners();Ext.callback(o.success,n,e)}else{Ext.callback(o.failure,n,e)}Ext.callback(o.callback,n,e)};if(a){h.getProxy().destroy(b,m,h)}else{b.complete=b.success=true;b.resultSet=h.getProxy().reader.nullResultSet;m(b)}return h},getId:function(){return this.get(this.idField.name)},getObservableId:function(){return this.id},setId:function(a){this.set(this.idProperty,a)},changeId:function(h,b){var g=this,e,d,a;if(!g.preventInternalUpdate){e=g.hasId(h);d=g.hasId(b);a=g.internalId;g.phantom=!d;if(d!==e||(d&&e)){g.internalId=d?b:Ext.data.Model.id(g)}g.fireEvent("idchanged",g,h,b,a);g.callStore("onIdChanged",h,b,a)}},hasId:function(a){if(arguments.length===0){a=this.getId()}return !!(a||a===0)},join:function(a){var b=this;if(!b.stores.length){b.stores[0]=a}else{Ext.Array.include(this.stores,a)}this.store=this.stores[0]},unjoin:function(a){Ext.Array.remove(this.stores,a);this.store=this.stores[0]||null},afterEdit:function(a){this.callStore("afterEdit",a)},afterReject:function(){this.callStore("afterReject")},afterCommit:function(a){this.callStore("afterCommit",a)},callStore:function(h){var e=Ext.Array.clone(arguments),b=this.stores,g=0,a=b.length,d;e[0]=this;for(;g<a;++g){d=b[g];if(d&&Ext.isFunction(d[h])){d[h].apply(d,e)}}},getData:function(d){var e=this,a=e.fields.items,k=a.length,h={},b,g;for(g=0;g<k;g++){b=a[g].name;h[b]=e.get(b)}if(d===true){Ext.apply(h,e.getAssociatedData())}return h},getAssociatedData:function(){return this.prepareAssociatedData({},1)},prepareAssociatedData:function(A,D){var C=this,x=C.associations.items,g=x.length,B={},t=[],z=[],n=[],r,b,a,q,h,m,l,y,k,d,w,u,e,E;for(w=0;w<g;w++){d=x[w];y=d.associationId;l=A[y];if(l&&l!==D){continue}A[y]=D;e=d.type;E=d.name;if(e=="hasMany"){r=C[d.storeName];B[E]=[];if(r&&r.getCount()>0){b=r.data.items;k=b.length;for(u=0;u<k;u++){a=b[u];B[E][u]=a.getData();t.push(a);z.push(E);n.push(u)}}}else{if(e=="belongsTo"||e=="hasOne"){a=C[d.instanceName];if(a!==undefined){B[E]=a.getData();t.push(a);z.push(E);n.push(-1)}}}}for(w=0,k=t.length;w<k;++w){a=t[w];q=B[z[w]];h=n[w];m=a.prepareAssociatedData(A,D+1);if(h===-1){Ext.apply(q,m)}else{Ext.apply(q[h],m)}}return B}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Model",Ext.data,"Record"],0));(Ext.cmd.derive("Ext.data.proxy.Server",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ServerProxy",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,constructor:function(a){var b=this;a=a||{};b.callParent([a]);b.extraParams=a.extraParams||{};b.api=Ext.apply({},a.api||b.api);b.nocache=b.noCache},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},destroy:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.extraParams[a]=b},buildRequest:function(a){var d=this,e=a.params=Ext.apply({},a.params,d.extraParams),b;Ext.applyIf(e,d.getParams(a));if(a.id!==undefined&&e[d.idParam]===undefined){e[d.idParam]=a.id}b=new Ext.data.Request({params:e,action:a.action,records:a.records,operation:a,url:a.url,proxy:d});b.url=d.buildUrl(b);a.request=b;return b},processResponse:function(k,a,d,b,h,l){var g=this,e,m;if(k===true){e=g.getReader();e.applyDefaults=a.action==="read";m=e.read(g.extractResponseData(b));if(m.success!==false){Ext.apply(a,{response:b,resultSet:m});a.commitRecords(m.records);a.setCompleted();a.setSuccessful()}else{a.setException(m.message);g.fireEvent("exception",this,b,a)}}else{g.setException(a,b);g.fireEvent("exception",this,b,a)}if(typeof h=="function"){h.call(l||g,a)}g.afterRequest(d,k)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(e){var b=[],d=e.length,a=0;for(;a<d;a++){b[a]={property:e[a].property,direction:e[a].direction}}return this.applyEncoding(b)},encodeFilters:function(e){var b=[],d=e.length,a=0;for(;a<d;a++){b[a]={property:e[a].property,value:e[a].value}}return this.applyEncoding(b)},getParams:function(u){var C=this,B={},y=Ext.isDefined,z=u.groupers,a=u.sorters,r=u.filters,l=u.page,k=u.start,A=u.limit,o=C.simpleSortMode,e=C.simpleGroupMode,x=C.pageParam,h=C.startParam,b=C.limitParam,d=C.groupParam,q=C.groupDirectionParam,g=C.sortParam,w=C.filterParam,t=C.directionParam,n,m;if(x&&y(l)){B[x]=l}if(h&&y(k)){B[h]=k}if(b&&y(A)){B[b]=A}n=d&&z&&z.length>0;if(n){if(e){B[d]=z[0].property;B[q]=z[0].direction||"ASC"}else{B[d]=C.encodeSorters(z)}}if(g&&a&&a.length>0){if(o){m=0;if(a.length>1&&n){m=1}B[g]=a[m].property;B[t]=a[m].direction}else{B[g]=C.encodeSorters(a)}}if(w&&r&&r.length>0){B[w]=C.encodeFilters(r)}return B},buildUrl:function(d){var b=this,a=b.getUrl(d);if(b.noCache){a=Ext.urlAppend(a,Ext.String.format("{0}={1}",b.cacheString,Ext.Date.now()))}return a},getUrl:function(a){return a.url||this.api[a.action]||this.url},doRequest:function(a,d,b){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.reader,this.writer)}},1,0,0,0,["proxy.server"],0,[Ext.data.proxy,"Server",Ext.data,"ServerProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Ajax",Ext.data.proxy.Server,{alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},binary:false,doRequest:function(a,g,b){var e=this.getWriter(),d=this.buildRequest(a);if(a.allowWrite()){d=e.write(d)}Ext.apply(d,{binary:this.binary,headers:this.headers,timeout:this.timeout,scope:this,callback:this.createRequestCallback(d,a,g,b),method:this.getMethod(d),disableCaching:false});Ext.Ajax.request(d);return d},getMethod:function(a){return this.actionMethods[a.action]},createRequestCallback:function(e,a,g,b){var d=this;return function(k,l,h){d.processResponse(l,a,e,h,g,b)}}},0,0,0,0,["proxy.ajax"],0,[Ext.data.proxy,"Ajax",Ext.data,"HttpProxy",Ext.data,"AjaxProxy"],function(){Ext.data.HttpProxy=this}));(Ext.cmd.derive("Ext.data.proxy.Client",Ext.data.proxy.Proxy,{alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}},0,0,0,0,0,0,[Ext.data.proxy,"Client",Ext.data,"ClientProxy"],0));(Ext.cmd.derive("Ext.data.proxy.Memory",Ext.data.proxy.Client,{alternateClassName:"Ext.data.MemoryProxy",constructor:function(a){this.callParent([a]);this.setReader(this.reader)},updateOperation:function(b,h,e){var d=0,g=b.getRecords(),a=g.length;for(d;d<a;d++){g[d].commit()}b.setCompleted();b.setSuccessful();Ext.callback(h,e||this,[b])},create:function(){this.updateOperation.apply(this,arguments)},update:function(){this.updateOperation.apply(this,arguments)},destroy:function(){this.updateOperation.apply(this,arguments)},read:function(d,l,m){var h=this,k=d.resultSet=h.getReader().read(h.data),b=k.records,g=d.sorters,e=d.groupers,a=d.filters;d.setCompleted();if(k.success){if(a&&a.length){b=k.records=Ext.Array.filter(b,Ext.util.Filter.createFilterFn(a))}if(e&&e.length){g=g?g.concat(e):g}if(g&&g.length){k.records=Ext.Array.sort(b,Ext.util.Sortable.createComparator(g))}if(h.enablePaging&&d.start!==undefined&&d.limit!==undefined){if(d.start>=k.total){k.success=false;k.count=0;k.records=[]}else{k.records=Ext.Array.slice(k.records,d.start,d.start+d.limit);k.count=k.records.length}}}if(k.success){d.setSuccessful()}else{h.fireEvent("exception",h,null,d)}Ext.callback(l,m||h,[d])},clear:Ext.emptyFn},1,0,0,0,["proxy.memory"],0,[Ext.data.proxy,"Memory",Ext.data,"MemoryProxy"],0));(Ext.cmd.derive("Ext.util.LruCache",Ext.util.HashMap,{constructor:function(a){Ext.apply(this,a);this.callParent([a])},add:function(b,g){var e=this,a=e.findKey(g),d;if(a){e.unlinkEntry(d=e.map[a]);d.prev=e.last;d.next=null}else{d={prev:e.last,next:null,key:b,value:g}}if(e.last){e.last.next=d}else{e.first=d}e.last=d;e.callParent([b,d]);e.prune();return g},insertBefore:function(b,h,d){var g=this,a,e;if(d=this.map[this.findKey(d)]){a=g.findKey(h);if(a){g.unlinkEntry(e=g.map[a])}else{e={prev:d.prev,next:d,key:b,value:h}}if(d.prev){e.prev.next=e}else{g.first=e}e.next=d;d.prev=e;g.prune();return h}else{return g.add(b,h)}},get:function(a){var b=this.map[a];if(b){if(b.next){this.moveToEnd(b)}return b.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else{this.last=a.prev}if(a.prev){a.prev.next=a.next}else{this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else{this.first=a}this.last=a},getArray:function(d){var a=[],b=this.first;while(b){a.push(d?b.key:b.value);b=b.next}return a},each:function(d,b,a){var h=this,g=a?h.last:h.first,e=h.length;b=b||h;while(g){if(d.call(b,g.key,g.value,e)===false){break}g=a?g.prev:g.next}return h},findKey:function(b){var a,d=this.map;for(a in d){if(d.hasOwnProperty(a)&&d[a].value===b){return a}}return undefined},clone:function(){var a=new this.self(this.initialConfig),d=this.map,b;a.suspendEvents();for(b in d){if(d.hasOwnProperty(b)){a.add(b,d[b].value)}}a.resumeEvents();return a},prune:function(){var a=this,b=a.maxSize?(a.length-a.maxSize):0;if(b>0){for(;a.first&&b;b--){a.removeAtKey(a.first.key)}}}},1,0,0,0,0,0,[Ext.util,"LruCache"],0));(Ext.cmd.derive("Ext.data.PageMap",Ext.util.LruCache,{clear:function(a){var b=this;b.pageMapGeneration=(b.pageMapGeneration||0)+1;b.callParent(arguments)},forEach:function(l,n){var k=this,e=Ext.Object.getKeys(k.map),a=e.length,d,b,m,g,h;for(d=0;d<a;d++){e[d]=Number(e[d])}Ext.Array.sort(e);n=n||k;for(d=0;d<a;d++){m=e[d];g=k.getPage(m);h=g.length;for(b=0;b<h;b++){if(l.call(n,g[b],(m-1)*k.pageSize+b)===false){return}}}},findBy:function(d,b){var e=this,a=null;b=b||e;e.forEach(function(h,g){if(d.call(b,h,g)){a=h;return false}});return a},findIndexBy:function(d,b){var e=this,a=-1;b=b||e;e.forEach(function(h,g){if(d.call(b,h)){a=g;return false}});return a},getPageFromRecordIndex:function(){return Ext.data.Store.prototype.getPageFromRecordIndex.apply(this,arguments)},addAll:function(a){this.addPage(1,a)},addPage:function(a,b){var e=this,h=a+Math.floor((b.length-1)/e.pageSize),d,g;for(d=0;a<=h;a++,d+=e.pageSize){g=Ext.Array.slice(b,d,d+e.pageSize);e.add(a,g);e.fireEvent("pageAdded",a,g)}},getCount:function(){var a=this.callParent();if(a){a=(a-1)*this.pageSize+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){},remove:function(){},removeAt:function(){},getPage:function(a){return this.get(a)},hasRange:function(e,b){var a=this.getPageFromRecordIndex(e),d=this.getPageFromRecordIndex(b);for(;a<=d;a++){if(!this.hasPage(a)){return false}}return true},hasPage:function(a){return !!this.get(a)},getAt:function(a){return this.getRange(a,a)[0]},getRange:function(a,b){if(!this.hasRange(a,b)){Ext.Error.raise("PageMap asked for range which it does not have")}var l=this,o=l.getPageFromRecordIndex(a),g=l.getPageFromRecordIndex(b),d=(o-1)*l.pageSize,r=(g*l.pageSize)-1,m=o,t=[],q,k,n,e=0,h;for(;m<=g;m++){if(m==o){q=a-d;n=true}else{q=0;n=false}if(m==g){k=l.pageSize-(r-b);n=true}if(n){Ext.Array.push(t,Ext.Array.slice(l.getPage(m),q,k))}else{Ext.Array.push(t,l.getPage(m))}}for(h=t.length;e<h;e++){t[e].index=a++}return t}},0,0,0,0,0,0,[Ext.data,"PageMap"],0));(Ext.cmd.derive("Ext.data.Group",Ext.util.Observable,{key:undefined,dirty:true,constructor:function(){this.callParent(arguments);this.records=[]},contains:function(a){return Ext.Array.indexOf(this.records,a)!==-1},add:function(a){Ext.Array.push(this.records,a);this.dirty=true},remove:function(b){if(!Ext.isArray(b)){b=[b]}var a=b.length,d;for(d=0;d<a;++d){Ext.Array.remove(this.records,b[d])}this.dirty=true},isDirty:function(){return this.dirty},hasAggregate:function(){return !!this.aggregate},setDirty:function(){this.dirty=true},commit:function(){this.dirty=false},isCollapsed:function(){return this.collapsed},getAggregateRecord:function(a){var b=this,d;if(a===true||b.dirty||!b.aggregate){d=b.store.model;b.aggregate=new d();b.aggregate.isSummary=true}return b.aggregate}},1,0,0,0,0,0,[Ext.data,"Group"],0));(Ext.cmd.derive("Ext.data.Store",Ext.data.AbstractStore,{remoteSort:false,remoteFilter:false,remoteGroup:false,groupField:undefined,groupDir:"ASC",trailingBufferZone:25,leadingBufferZone:200,pageSize:undefined,currentPage:1,clearOnPageLoad:true,loading:false,sortOnFilter:true,buffered:false,purgePageCount:5,clearRemovedOnLoad:true,defaultPageSize:25,defaultViewSize:100,addRecordsOptions:{addRecords:true},statics:{recordIdFn:function(a){return a.internalId},recordIndexFn:function(a){return a.index},grouperIdFn:function(a){return a.id||a.property},groupIdFn:function(a){return a.key}},constructor:function(b){b=Ext.apply({},b);var e=this,h=b.groupers||e.groupers,a=b.groupField||e.groupField,d,g;g=b.data||e.data;if(g){e.inlineData=g;delete b.data}if(!h&&a){h=[{property:a,direction:b.groupDir||e.groupDir}];if(b.getGroupString||(e.getGroupString!==Ext.data.Store.prototype.getGroupString)){h[0].getGroupString=function(k){return e.getGroupString(k)}}}delete b.groupers;e.groupers=new Ext.util.MixedCollection(false,Ext.data.Store.grouperIdFn);e.groupers.addAll(e.decodeGroupers(h));e.groups=new Ext.util.MixedCollection(false,Ext.data.Store.groupIdFn);e.callParent([b]);if(e.buffered){e.data=new Ext.data.PageMap({store:e,keyFn:Ext.data.Store.recordIdFn,pageSize:e.pageSize,maxSize:e.purgePageCount,listeners:{clear:e.onPageMapClear,scope:e}});e.pageRequests={};e.remoteSort=e.remoteGroup=e.remoteFilter=true;e.sortOnLoad=false;e.filterOnLoad=false}else{e.data=new Ext.util.MixedCollection({getKey:Ext.data.Store.recordIdFn,maintainIndices:true});e.data.pageSize=e.pageSize}if(e.remoteGroup){e.remoteSort=true}e.sorters.insert(0,e.groupers.getRange());d=e.proxy;g=e.inlineData;if(!e.buffered&&!e.pageSize){e.pageSize=e.defaultPageSize}if(g){if(d instanceof Ext.data.proxy.Memory){d.data=g;e.read()}else{e.add.apply(e,[g])}if(e.sorters.items.length&&!e.remoteSort){e.group(null,null,true)}delete e.inlineData}else{if(e.autoLoad){Ext.defer(e.load,1,e,[typeof e.autoLoad==="object"?e.autoLoad:undefined])}}},onBeforeSort:function(){var a=this.groupers;if(a.getCount()>0){this.sort(a.items,"prepend",false)}},decodeGroupers:function(g){if(!Ext.isArray(g)){if(g===undefined){g=[]}else{g=[g]}}var e=g.length,h=Ext.util.Grouper,b,d,a=[];for(d=0;d<e;d++){b=g[d];if(!(b instanceof h)){if(Ext.isString(b)){b={property:b}}b=Ext.apply({root:"data",direction:"ASC"},b);if(b.fn){b.sorterFn=b.fn}if(typeof b=="function"){b={sorterFn:b}}a.push(new h(b))}else{a.push(b)}}return a},group:function(g,h,d){var e=this,b,a;if(g){e.sorters.removeAll(e.groupers.items);if(Ext.isArray(g)){a=g}else{if(Ext.isObject(g)){a=[g]}else{if(Ext.isString(g)){b=e.groupers.get(g);if(!b){b={property:g,direction:h||"ASC"};a=[b]}else{if(h===undefined){b.toggle()}else{b.setDirection(h)}}}}}if(a&&a.length){e.groupers.clear();e.groupers.addAll(e.decodeGroupers(a))}e.sorters.insert(0,e.groupers.items)}if(e.remoteGroup){if(e.buffered){e.data.clear();e.loadPage(1,{groupChange:true})}else{e.load({scope:e,callback:d?null:e.fireGroupChange})}}else{e.doSort(e.generateComparator());e.constructGroups();if(!d){e.fireGroupChange()}}},getGroupField:function(){var b=this.groupers.first(),a;if(b){a=b.property}return a},constructGroups:function(){var g=this,h=this.data.items,d=h.length,b=g.groups,a,e,k,l;b.clear();if(g.isGrouped()){for(e=0;e<d;++e){l=h[e];a=g.getGroupString(l);k=b.get(a);if(!k){k=new Ext.data.Group({key:a,store:g});b.add(a,k)}k.add(l)}}},clearGrouping:function(){var d=this,e=d.groupers.items,b=e.length,a;for(a=0;a<b;a++){d.sorters.remove(e[a])}d.groupers.clear();if(d.remoteGroup){if(d.buffered){d.data.clear();d.loadPage(1,{groupChange:true})}else{d.load({scope:d,callback:d.fireGroupChange})}}else{d.groups.clear();if(d.sorters.length){d.sort()}else{d.fireEvent("datachanged",d);d.fireEvent("refresh",d)}d.fireGroupChange()}},isGrouped:function(){return this.groupers.getCount()>0},fireGroupChange:function(){this.fireEvent("groupchange",this,this.groupers)},getGroups:function(b){var e=this.data.items,a=e.length,d=[],m={},h,k,l,g;for(g=0;g<a;g++){h=e[g];k=this.getGroupString(h);l=m[k];if(l===undefined){l={name:k,children:[]};d.push(l);m[k]=l}l.children.push(h)}return b?m[b]:d},getGroupsForGrouper:function(h,b){var e=h.length,g=[],a,d,l,m,k;for(k=0;k<e;k++){l=h[k];d=b.getGroupString(l);if(d!==a){m={name:d,grouper:b,records:[]};g.push(m)}m.records.push(l);a=d}return g},getGroupsForGrouperIndex:function(d,l){var h=this,k=h.groupers,b=k.getAt(l),a=h.getGroupsForGrouper(d,b),g=a.length,e;if(l+1<k.length){for(e=0;e<g;e++){a[e].children=h.getGroupsForGrouperIndex(a[e].records,l+1)}}for(e=0;e<g;e++){a[e].depth=l}return a},getGroupData:function(a){var b=this;if(a!==false){b.sort()}return b.getGroupsForGrouperIndex(b.data.items,0)},getGroupString:function(a){var b=this.groupers.first();if(b){return b.getGroupString(a)}return""},insert:function(h,a){var l=this,m=false,e,k,g,b=l.modelDefaults,d;if(!Ext.isIterable(a)){d=a=[a]}else{d=[]}k=a.length;if(k){for(e=0;e<k;e++){g=a[e];if(!g.isModel){g=l.createModel(g)}d[e]=g;if(b){g.set(b)}g.join(l);m=m||g.phantom===true}l.data.insert(h,d);if(l.snapshot){l.snapshot.addAll(d)}if(l.requireSort){l.suspendEvents();l.sort();l.resumeEvents()}if(l.isGrouped()){l.updateGroupsOnAdd(d)}l.fireEvent("add",l,d,h);l.fireEvent("datachanged",l);if(l.autoSync&&m&&!l.autoSyncSuspended){l.sync()}}return d},updateGroupsOnAdd:function(d){var g=this,b=g.groups,a=d.length,e,l,h,k;for(e=0;e<a;++e){k=d[e];l=g.getGroupString(k);h=b.getByKey(l);if(!h){h=b.add(new Ext.data.Group({key:l,store:g}))}h.add(k)}},updateGroupsOnRemove:function(d){var g=this,b=g.groups,a=d.length,e,l,h,k;for(e=0;e<a;++e){k=d[e];l=g.getGroupString(k);h=b.getByKey(l);if(h){h.remove(k);if(h.records.length===0){b.remove(h)}}}},updateGroupsOnUpdate:function(g,d){var l=this,a=l.getGroupField(),n=l.getGroupString(g),b=l.groups,h,e,k,m;if(d&&Ext.Array.indexOf(d,a)!==-1){if(l.buffered){Ext.Error.raise({msg:"Cannot move records between groups in a buffered store record"})}k=b.items;for(e=0,h=k.length;e<h;++e){m=k[e];if(m.contains(g)){m.remove(g);break}}m=b.getByKey(n);if(!m){m=b.add(new Ext.data.Group({key:n,store:l}))}m.add(g);l.data.remove(g);l.data.insert(l.data.findInsertionIndex(g,l.generateComparator()),g);for(e=0,h=this.getCount();e<h;e++){l.data.items[e].index=e}}else{b.getByKey(n).setDirty()}},add:function(a){var e=this,b,d,g;if(Ext.isArray(a)){b=a}else{b=arguments}d=b.length;g=!e.remoteSort&&e.sorters&&e.sorters.items.length;if(g&&d===1){return[e.addSorted(e.createModel(b[0]))]}if(g){e.requireSort=true}b=e.insert(e.data.length,b);delete e.requireSort;return b},addSorted:function(a){var d=this,b=d.data.findInsertionIndex(a,d.generateComparator());d.insert(b,a);return a},createModel:function(a){if(!a.isModel){a=Ext.ModelManager.create(a,this.model)}return a},onUpdate:function(a,b,d){if(this.isGrouped()){this.updateGroupsOnUpdate(a,d)}},each:function(g,e){var h=this.data.items,b=h.length,a,k;for(k=0;k<b;k++){a=h[k];if(g.call(e||a,a,k,b)===false){break}}},remove:function(r,n,t){n=n===true;var y=this,l=false,e=y.snapshot,z=y.data,q=0,d,u=[],x=[],g=[],w,o,h,b,m,k,a=!t&&y.hasListeners.remove;if(r.isModel){r=[r];d=1}else{if(Ext.isIterable(r)){d=r.length}else{if(typeof r==="object"){m=true;q=r.start;d=r.end+1;k=d-q}}}if(!m){for(q=0;q<d;++q){b=r[q];if(typeof b=="number"){h=b;b=z.getAt(h)}else{h=y.indexOf(b)}if(b&&h>-1){u.push({record:b,index:h})}if(e){e.remove(b)}}u=Ext.Array.sort(u,function(B,A){var D=B.index,C=A.index;return D===A.index2?0:(D<C?-1:1)});q=0;d=u.length}for(;q<d;q++){if(m){b=z.getAt(q);h=q}else{w=u[q];b=w.record;h=w.index}x.push(b);g.push(h);o=b.phantom!==true;if(!n&&o){b.removedFrom=h;y.removed.push(b)}b.unjoin(y);h-=q;l=l||o;if(!m){z.removeAt(h);if(a){y.fireEvent("remove",y,b,h,!!n)}}}if(m){z.removeRange(r.start,k)}if(!t){y.fireEvent("bulkremove",y,x,g,!!n);y.fireEvent("datachanged",y)}if(!n&&y.autoSync&&l&&!y.autoSyncSuspended){y.sync()}},removeAt:function(a,d){var b=this,e=b.getCount();if(a<=e){if(arguments.length===1){b.remove([a])}else{if(d){b.remove({start:a,end:Math.min(a+d,e)-1})}}}},removeAll:function(b){var d=this,a=d.snapshot,e=d.data;if(a){a.removeAll(e.getRange())}if(d.buffered){if(e){if(b){d.suspendEvent("clear")}e.clear();if(b){d.resumeEvent("clear")}}}else{d.remove({start:0,end:d.getCount()-1},false,b);if(b!==true){d.fireEvent("clear",d)}}},load:function(a){var b=this;a=a||{};if(typeof a=="function"){a={callback:a}}a.groupers=a.groupers||b.groupers.items;a.page=a.page||b.currentPage;a.start=(a.start!==undefined)?a.start:(a.page-1)*b.pageSize;a.limit=a.limit||b.pageSize;a.addRecords=a.addRecords||false;if(b.buffered){a.limit=b.viewSize||b.defaultViewSize;return b.loadToPrefetch(a)}return b.callParent([a])},reload:function(o){var k=this,l,b,h,n,e,a,m,d,g=k.getCount();if(!o){o={}}if(k.buffered){delete k.totalCount;a=function(){if(k.rangeCached(l,b)){k.loading=false;k.data.un("pageAdded",a);d=k.data.getRange(l,b);k.fireEvent("load",k,d,true)}};m=Math.ceil((k.leadingBufferZone+k.trailingBufferZone)/2);l=o.start||(g?k.getAt(0).index:0);b=l+(o.count||(g?g:k.pageSize))-1;h=k.getPageFromRecordIndex(Math.max(l-m,0));n=k.getPageFromRecordIndex(b+m);k.data.clear(true);if(k.fireEvent("beforeload",k,o)!==false){k.loading=true;k.data.on("pageAdded",a);for(e=h;e<=n;e++){k.prefetchPage(e,o)}}}else{return k.callParent(arguments)}},onProxyLoad:function(b){var e=this,d=b.getResultSet(),a=b.getRecords(),g=b.wasSuccessful();if(e.isDestroyed){return}if(d){e.totalCount=d.total}e.loading=false;if(g){e.loadRecords(a,b)}if(e.hasListeners.load){e.fireEvent("load",e,a,g)}if(e.hasListeners.read){e.fireEvent("read",e,a,g)}Ext.callback(b.callback,b.scope||e,[a,b,g])},getNewRecords:function(){return this.data.filterBy(this.filterNew).items},getUpdatedRecords:function(){return this.data.filterBy(this.filterUpdated).items},filter:function(g,h){if(Ext.isString(g)){g={property:g,value:h}}var e=this,a=e.decodeFilters(g),b,k=e.sorters.length&&e.sortOnFilter&&!e.remoteSort,d=a.length;for(b=0;b<d;b++){e.filters.replace(a[b])}g=e.filters.items;if(g.length){if(e.remoteFilter){delete e.totalCount;if(e.buffered){e.data.clear();e.loadPage(1)}else{e.currentPage=1;e.load()}}else{e.snapshot=e.snapshot||e.data.clone();e.data=e.snapshot.filter(g);e.constructGroups();if(k){e.sort()}else{e.fireEvent("datachanged",e);e.fireEvent("refresh",e)}}e.fireEvent("filterchange",e,g)}},clearFilter:function(a){var b=this;b.filters.clear();if(b.remoteFilter){if(a){return}delete b.totalCount;if(b.buffered){b.data.clear();b.loadPage(1)}else{b.currentPage=1;b.load()}}else{if(b.isFiltered()){b.data=b.snapshot;delete b.snapshot;b.constructGroups();if(a!==true){b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}}}b.fireEvent("filterchange",b,b.filters.items)},removeFilter:function(b,a){var d=this;if(!d.remoteFilter&&d.isFiltered()){if(b instanceof Ext.util.Filter){d.filters.remove(b)}else{d.filters.removeAtKey(b)}if(a!==false){if(d.filters.length){d.filter()}else{d.clearFilter()}}else{d.fireEvent("filterchange",d,d.filters.items)}}},addFilter:function(h,a){var g=this,b,d,e;b=g.decodeFilters(h);e=b.length;for(d=0;d<e;d++){g.filters.replace(b[d])}if(a!==false&&g.filters.length){g.filter()}else{g.fireEvent("filterchange",g,g.filters.items)}},isFiltered:function(){var a=this.snapshot;return !!(a&&a!==this.data)},filterBy:function(b,a){var d=this;d.snapshot=d.snapshot||d.data.clone();d.data=d.queryBy(b,a||d);d.fireEvent("datachanged",d);d.fireEvent("refresh",d)},queryBy:function(b,a){var d=this;return(d.snapshot||d.data).filterBy(b,a||d)},query:function(k,h,l,a,g){var e=this,b=e.createFilterFn(k,h,l,a,g),d=e.queryBy(b);if(!d){d=new Ext.util.MixedCollection()}return d},loadData:function(g,a){var e=g.length,d=[],b;for(b=0;b<e;b++){d.push(this.createModel(g[b]))}this.loadRecords(d,a?this.addRecordsOptions:undefined)},loadRawData:function(g,b){var e=this,a=e.proxy.reader.read(g),d=a.records;if(a.success){e.totalCount=a.total;e.loadRecords(d,b?e.addRecordsOptions:undefined)}},loadRecords:function(b,d){var k=this,e=0,h=b.length,l,g,a=k.snapshot;if(d){l=d.start;g=d.addRecords}if(!g){delete k.snapshot;k.clearData(true)}else{if(a){a.addAll(b)}}k.data.addAll(b);if(l!==undefined){for(;e<h;e++){b[e].index=l+e;b[e].join(k)}}else{for(;e<h;e++){b[e].join(k)}}k.suspendEvents();if(k.filterOnLoad&&!k.remoteFilter){k.filter()}if(k.sortOnLoad&&!k.remoteSort){k.sort(undefined,undefined,undefined,true)}k.resumeEvents();if(k.isGrouped()){k.constructGroups()}k.fireEvent("datachanged",k);k.fireEvent("refresh",k)},loadPage:function(d,a){var b=this;b.currentPage=d;a=Ext.apply({page:d,start:(d-1)*b.pageSize,limit:b.pageSize,addRecords:!b.clearOnPageLoad},a);if(b.buffered){a.limit=b.viewSize||b.defaultViewSize;return b.loadToPrefetch(a)}b.read(a)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(e){var d=this,a,b;if(!d.buffered&&d.data){a=d.data.items;b=a.length;while(b--){a[b].unjoin(d)}}if(d.data){d.data.clear()}if(e!==true||d.clearRemovedOnLoad){d.removed.length=0}},loadToPrefetch:function(q){var l=this,g,b,n,d=q,m=q.start,a=q.start+q.limit-1,h=Math.min(a,q.start+(l.viewSize||q.limit)-1),k=l.getPageFromRecordIndex(Math.max(m-l.trailingBufferZone,0)),o=l.getPageFromRecordIndex(a+l.leadingBufferZone),e=function(){if(l.rangeCached(m,h)){l.loading=false;b=l.data.getRange(m,h);l.data.un("pageAdded",e);if(l.hasListeners.guaranteedrange){l.guaranteeRange(m,h,q.callback,q.scope)}if(q.callback){q.callback.call(q.scope||l,b,m,a,q)}l.fireEvent("datachanged",l);l.fireEvent("refresh",l);l.fireEvent("load",l,b,true);if(q.groupChange){l.fireGroupChange()}}};if(l.fireEvent("beforeload",l,q)!==false){delete l.totalCount;l.loading=true;if(q.callback){d=Ext.apply({},q);delete d.callback}l.on("prefetch",function(u,t,w,r){if(w){if((n=l.getTotalCount())){l.data.on("pageAdded",e);h=Math.min(h,n-1);o=l.getPageFromRecordIndex(Math.min(h+l.leadingBufferZone,n-1));for(g=k+1;g<=o;++g){l.prefetchPage(g,d)}}else{l.fireEvent("datachanged",l);l.fireEvent("refresh",l);l.fireEvent("load",l,t,true)}}else{l.fireEvent("load",l,t,false)}},null,{single:true});l.prefetchPage(k,d)}},prefetch:function(d){var g=this,a=g.pageSize,e,b;if(a){if(g.lastPageSize&&a!=g.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!g.data.pageSize){g.data.pageSize=a}}else{g.pageSize=g.data.pageSize=a=d.limit}g.lastPageSize=a;if(!d.page){d.page=g.getPageFromRecordIndex(d.start);d.start=(d.page-1)*a;d.limit=Math.ceil(d.limit/a)*a}if(!g.pageRequests[d.page]){d=Ext.apply({action:"read",filters:g.filters.items,sorters:g.sorters.items,groupers:g.groupers.items,pageMapGeneration:g.data.pageMapGeneration},d);b=new Ext.data.Operation(d);if(g.fireEvent("beforeprefetch",g,b)!==false){e=g.proxy;g.pageRequests[d.page]=e.read(b,g.onProxyPrefetch,g);if(e.isSynchronous){delete g.pageRequests[d.page]}}}return g},onPageMapClear:function(){var e=this,d=e.wasLoading,a=e.pageRequests,b,g;if(e.data.events.pageadded){e.data.events.pageadded.clearListeners()}e.loading=true;e.totalCount=0;for(g in a){if(a.hasOwnProperty(g)){b=a[g];delete a[g];delete b.callback}}e.fireEvent("clear",e);e.loading=d},prefetchPage:function(g,b){var e=this,a=e.pageSize||e.defaultPageSize,h=(g-1)*e.pageSize,d=e.totalCount;if(d!==undefined&&e.getCount()===d){return}e.prefetch(Ext.applyIf({page:g,start:h,limit:a},b))},onProxyPrefetch:function(b){var e=this,d=b.getResultSet(),a=b.getRecords(),h=b.wasSuccessful(),g=b.page;if(b.pageMapGeneration===e.data.pageMapGeneration){if(d){e.totalCount=d.total;e.fireEvent("totalcountchange",e.totalCount)}if(g!==undefined){delete e.pageRequests[g]}e.loading=false;e.fireEvent("prefetch",e,a,h,b);if(h){e.cachePage(a,b.page)}Ext.callback(b.callback,b.scope||e,[a,b,h])}},cachePage:function(b,g){var e=this,a=b.length,d;if(!Ext.isDefined(e.totalCount)){e.totalCount=b.length;e.fireEvent("totalcountchange",e.totalCount)}for(d=0;d<a;d++){b[d].join(e)}e.data.addPage(g,b)},rangeCached:function(b,a){return this.data&&this.data.hasRange(b,a)},pageCached:function(a){return this.data&&this.data.hasPage(a)},pagePending:function(a){return !!this.pageRequests[a]},rangeSatisfied:function(b,a){return this.rangeCached(b,a)},getPageFromRecordIndex:function(a){return Math.floor(a/this.pageSize)+1},onGuaranteedRange:function(e){var g=this,b=g.getTotalCount(),h=e.prefetchStart,a=(e.prefetchEnd>b-1)?b-1:e.prefetchEnd,d;a=Math.max(0,a);d=g.data.getRange(h,a);if(e.fireEvent!==false){g.fireEvent("guaranteedrange",d,h,a,e)}if(e.callback){e.callback.call(e.scope||g,d,h,a,e)}},guaranteeRange:function(g,a,e,d,b){b=Ext.apply({callback:e,scope:d},b);this.getRange(g,a,b)},prefetchRange:function(h,b){var e=this,d,a,g;if(!e.rangeCached(h,b)){d=e.getPageFromRecordIndex(h);a=e.getPageFromRecordIndex(b);e.data.maxSize=e.purgePageCount?(a-d+1)+e.purgePageCount:0;for(g=d;g<=a;g++){if(!e.pageCached(g)){e.prefetchPage(g)}}}},primeCache:function(e,a,d){var b=this;if(d===-1){e=Math.max(e-b.leadingBufferZone,0);a=Math.min(a+b.trailingBufferZone,b.totalCount-1)}else{if(d===1){e=Math.max(Math.min(e-b.trailingBufferZone,b.totalCount-b.pageSize),0);a=Math.min(a+b.leadingBufferZone,b.totalCount-1)}else{e=Math.min(Math.max(Math.floor(e-((b.leadingBufferZone+b.trailingBufferZone)/2)),0),b.totalCount-b.pageSize);a=Math.min(Math.max(Math.ceil(a+((b.leadingBufferZone+b.trailingBufferZone)/2)),0),b.totalCount-1)}}b.prefetchRange(e,a)},sort:function(){var a=this;if(a.buffered&&a.remoteSort){a.data.clear()}return a.callParent(arguments)},doSort:function(b){var g=this,a,e,d;if(g.remoteSort){if(g.buffered){g.data.clear();g.loadPage(1)}else{g.load()}}else{g.data.sortBy(b);if(!g.buffered){a=g.getRange();e=a.length;for(d=0;d<e;d++){a[d].index=d}}g.fireEvent("datachanged",g);g.fireEvent("refresh",g)}},find:function(g,e,k,h,a,d){var b=this.createFilterFn(g,e,h,a,d);return b?this.data.findIndexBy(b,null,k):-1},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return a!==-1?b.getAt(a):null},createFilterFn:function(e,d,g,a,b){if(Ext.isEmpty(d)){return false}d=this.data.createValueMatcher(d,g,a,b);return function(h){return d.test(h.data[e])}},findExact:function(b,a,d){return this.data.findIndexBy(function(e){return e.isEqual(e.get(b),a)},this,d)},findBy:function(b,a,d){return this.data.findIndexBy(b,a,d)},collect:function(b,a,d){var e=this,g=(d===true&&e.snapshot)?e.snapshot:e.data;return g.collect(b,"data",a)},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.totalCount||0},getAt:function(a){return this.data.getAt(a)},getRange:function(d,h,n){var k=this,l,b,e=k.totalCount-1,g=k.lastRequestStart,a,m;n=Ext.apply({prefetchStart:d,prefetchEnd:h},n);if(k.buffered){h=(h>=k.totalCount)?e:h;l=d===0?0:d-1;b=h===e?h:h+1;k.lastRequestStart=d;if(k.rangeCached(l,b)){k.onGuaranteedRange(n);m=k.data.getRange(d,h)}else{k.fireEvent("cachemiss",k,d,h);a=function(q,o){if(k.rangeCached(l,b)){k.fireEvent("cachefilled",k,d,h);k.data.un("pageAdded",a);k.onGuaranteedRange(n)}};k.data.on("pageAdded",a);k.prefetchRange(d,h)}k.primeCache(d,h,d<g?-1:1)}else{m=k.data.getRange(d,h);if(n.callback){n.callback.call(n.scope||k,m,d,h,n)}}return m},getById:function(b){var a=(this.snapshot||this.data).findBy(function(d){return d.getId()===b});return a},indexOf:function(a){return this.data.indexOf(a)},indexOfTotal:function(a){var b=a.index;if(b||b===0){return b}return this.indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},first:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(d){return d.length?d[0]:undefined},b,true)}else{return b.data.first()}},last:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(e){var d=e.length;return d?e[d-1]:undefined},b,true)}else{return b.data.last()}},sum:function(d,a){var b=this;if(a&&b.isGrouped()){return b.aggregate(b.getSum,b,true,[d])}else{return b.getSum(b.data.items,d)}},getSum:function(b,g){var e=0,d=0,a=b.length;for(;d<a;++d){e+=b[d].get(g)}return e},count:function(a){var b=this;if(a&&b.isGrouped()){return b.aggregate(function(d){return d.length},b,true)}else{return b.getCount()}},min:function(d,a){var b=this;if(a&&b.isGrouped()){return b.aggregate(b.getMin,b,true,[d])}else{return b.getMin(b.data.items,d)}},getMin:function(b,h){var e=1,a=b.length,g,d;if(a>0){d=b[0].get(h)}for(;e<a;++e){g=b[e].get(h);if(g<d){d=g}}return d},max:function(d,a){var b=this;if(a&&b.isGrouped()){return b.aggregate(b.getMax,b,true,[d])}else{return b.getMax(b.data.items,d)}},getMax:function(d,h){var e=1,b=d.length,g,a;if(b>0){a=d[0].get(h)}for(;e<b;++e){g=d[e].get(h);if(g>a){a=g}}return a},average:function(d,a){var b=this;if(a&&b.isGrouped()){return b.aggregate(b.getAverage,b,true,[d])}else{return b.getAverage(b.data.items,d)}},getAverage:function(b,g){var d=0,a=b.length,e=0;if(b.length>0){for(;d<a;++d){e+=b[d].get(g)}return e/a}return 0},aggregate:function(k,m,g,h){h=h||[];if(g&&this.isGrouped()){var a=this.getGroups(),e=a.length,b={},l,d;for(d=0;d<e;++d){l=a[d];b[l.name]=this.getAggregate(k,m||this,l.children,h)}return b}else{return this.getAggregate(k,m,this.data.items,h)}},getAggregate:function(e,d,a,b){b=b||[];return e.apply(d||this,[a].concat(b))},onIdChanged:function(g,e,d,b){var a=this.snapshot;if(a){a.updateKey(b,d)}this.data.updateKey(b,d);this.callParent(arguments)},commitChanges:function(){var d=this,e=d.getModifiedRecords(),a=e.length,b=0;for(;b<a;b++){e[b].commit()}d.removed.length=0},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){return Ext.Array.push(this.data.filterBy(this.filterNewOnly).items,this.getUpdatedRecords())},rejectChanges:function(){var d=this,e=d.getRejectRecords(),a=e.length,b=0,g;for(;b<a;b++){g=e[b];g.reject();if(g.phantom){d.remove(g)}}e=d.removed;a=e.length;for(b=0;b<a;b++){g=e[b];d.insert(g.removedFrom||0,g);g.reject()}d.removed.length=0}},1,0,0,0,["store.store"],0,[Ext.data,"Store"],function(){Ext.regStore("ext-empty-store",{fields:[],proxy:"memory"})}));(Ext.cmd.derive("Ext.data.reader.Array",Ext.data.reader.Json,{alternateClassName:"Ext.data.ArrayReader",totalProperty:undefined,successProperty:undefined,createFieldAccessExpression:function(g,d,b){var e=(g.mapping==null)?g.originalIndex:g.mapping,a;if(typeof e==="function"){a=d+".mapping("+b+", this)"}else{if(isNaN(e)){e='"'+e+'"'}a=b+"["+e+"]"}return a}},0,0,0,0,["reader.array"],0,[Ext.data.reader,"Array",Ext.data,"ArrayReader"],0));(Ext.cmd.derive("Ext.data.ArrayStore",Ext.data.Store,{constructor:function(a){a=Ext.apply({proxy:{type:"memory",reader:"array"}},a);this.callParent([a])},loadData:function(g,a){if(this.expandData===true){var e=[],b=0,d=g.length;for(;b<d;b++){e[e.length]=[g[b]]}g=e}this.callParent([g,a])}},1,0,0,0,["store.array"],0,[Ext.data,"ArrayStore"],function(){Ext.data.SimpleStore=Ext.data.ArrayStore}));(Ext.cmd.derive("Ext.data.Batch",Ext.Base,{autoStart:false,pauseOnException:false,current:-1,total:0,isRunning:false,isComplete:false,hasException:false,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.operations=[];b.exceptions=[]},add:function(a){this.total++;a.setBatch(this);this.operations.push(a);return this},start:function(a){var b=this;if(b.isRunning){return b}b.exceptions.length=0;b.hasException=false;b.isRunning=true;return b.runOperation(Ext.isDefined(a)?a:b.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){this.isRunning=false;return this},runOperation:function(e){var g=this,d=g.operations,b=d[e],a;if(b===undefined){g.isRunning=false;g.isComplete=true;g.fireEvent("complete",g,d[d.length-1])}else{g.current=e;a=function(h){var k=h.hasException();if(k){g.hasException=true;g.exceptions.push(h);g.fireEvent("exception",g,h)}if(k&&g.pauseOnException){g.pause()}else{h.setCompleted();g.fireEvent("operationcomplete",g,h);g.runNextOperation()}};b.setStarted();g.proxy[b.action](b,a,g)}return g}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.data,"Batch"],0));(Ext.cmd.derive("Ext.data.Request",Ext.Base,{action:undefined,params:undefined,method:"GET",url:undefined,constructor:function(a){Ext.apply(this,a)}},1,0,0,0,0,0,[Ext.data,"Request"],0));(Ext.cmd.derive("Ext.data.association.BelongsTo",Ext.data.association.Association,{alternateClassName:"Ext.data.BelongsToAssociation",constructor:function(d){this.callParent(arguments);var g=this,a=g.ownerModel.prototype,h=g.associatedName,e=g.getterName||"get"+h,b=g.setterName||"set"+h;Ext.applyIf(g,{name:h,foreignKey:h.toLowerCase()+"_id",instanceName:h+"BelongsToInstance",associationKey:h.toLowerCase()});a[e]=g.createGetter();a[b]=g.createSetter()},createSetter:function(){var d=this,b=d.foreignKey,a=d.instanceName;return function(k,g,h){var l=k&&k.isModel,e=l?k.getId():k;if(l){this[a]=k}else{if(this[a] instanceof Ext.data.Model&&!this.isEqual(this.get(b),e)){delete this[a]}}this.set(b,e);if(Ext.isFunction(g)){g={callback:g,scope:h||this}}if(Ext.isObject(g)){return this.save(g)}}},createGetter:function(){var e=this,g=e.associatedName,h=e.associatedModel,d=e.foreignKey,b=e.primaryKey,a=e.instanceName;return function(n,o){n=n||{};var m=this,q=m.get(d),r,k,l;if(n.reload===true||m[a]===undefined){k=Ext.ModelManager.create({},g);k.set(b,q);if(typeof n=="function"){n={callback:n,scope:o||m}}r=n.success;n.success=function(t){m[a]=t;if(r){r.apply(this,arguments)}};h.load(q,n);m[a]=k;return k}else{k=m[a];l=[k];o=o||n.scope||m;Ext.callback(n,o,l);Ext.callback(n.success,o,l);Ext.callback(n.failure,o,l);Ext.callback(n.callback,o,l);return k}}},read:function(b,a,d){b[this.instanceName]=a.read([d]).records[0]}},1,0,0,0,["association.belongsto"],0,[Ext.data.association,"BelongsTo",Ext.data,"BelongsToAssociation"],0));(Ext.cmd.derive("Ext.util.Inflector",Ext.Base,{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^person$/),"people"],[(/^man$/),"men"],[(/^(child)$/),"$1ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/people$/i),"person"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(h){if(this.isTransnumeral(h)){return h}var g=this.plurals,e=g.length,a,d,b;for(b=0;b<e;b++){a=g[b];d=a[0];if(d==h||(d.test&&d.test(h))){return h.replace(d,a[1])}}return h},singularize:function(h){if(this.isTransnumeral(h)){return h}var g=this.singulars,e=g.length,a,d,b;for(b=0;b<e;b++){a=g[b];d=a[0];if(d==h||(d.test&&d.test(h))){return h.replace(d,a[1])}}return h},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(e){var b=parseInt(e,10),d=b%10,a=b%100;if(11<=a&&a<=13){return e+"th"}else{switch(d){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}}},0,0,0,0,0,0,[Ext.util,"Inflector"],function(){var b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},a;for(a in b){this.plural(a,b[a]);this.singular(b[a],a)}}));(Ext.cmd.derive("Ext.data.association.HasMany",Ext.data.association.Association,{alternateClassName:"Ext.data.HasManyAssociation",constructor:function(d){var e=this,a,b;e.callParent(arguments);e.name=e.name||Ext.util.Inflector.pluralize(e.associatedName.toLowerCase());a=e.ownerModel.prototype;b=e.name;Ext.applyIf(e,{storeName:b+"Store",foreignKey:e.ownerName.toLowerCase()+"_id"});a[b]=e.createStore()},createStore:function(){var k=this,l=k.associatedModel,d=k.storeName,e=k.foreignKey,a=k.primaryKey,h=k.filterProperty,b=k.autoLoad,g=k.storeConfig||{};return function(){var q=this,n,o,m={};if(q[d]===undefined){if(h){o={property:h,value:q.get(h),exactMatch:true}}else{o={property:e,value:q.get(a),exactMatch:true}}m[e]=q.get(a);n=Ext.apply({},g,{model:l,filters:[o],remoteFilter:false,modelDefaults:m,disableMetaChangeEvent:true});q[d]=Ext.data.AbstractStore.create(n);if(b){q[d].load()}}return q[d]}},read:function(e,b,l){var h=e[this.name](),d,g,a,k;h.add(b.read(l).records);d=this.associatedModel.prototype.associations.findBy(function(m){return m.type==="belongsTo"&&m.associatedName===e.$className});if(d){g=h.data.items;a=g.length;for(k=0;k<a;k++){g[k][d.instanceName]=e}}}},1,0,0,0,["association.hasmany"],0,[Ext.data.association,"HasMany",Ext.data,"HasManyAssociation"],0));(Ext.cmd.derive("Ext.data.association.HasOne",Ext.data.association.Association,{alternateClassName:"Ext.data.HasOneAssociation",constructor:function(d){this.callParent(arguments);var g=this,a=g.ownerModel.prototype,h=g.associatedName,e=g.getterName||"get"+h,b=g.setterName||"set"+h;Ext.applyIf(g,{name:h,foreignKey:h.toLowerCase()+"_id",instanceName:h+"HasOneInstance",associationKey:h.toLowerCase()});a[e]=g.createGetter();a[b]=g.createSetter()},createSetter:function(){var d=this,b=d.foreignKey,a=d.instanceName;return function(k,g,h){var l=k&&k.isModel,e=l?k.getId():k;if(l){this[a]=k}else{if(this[a] instanceof Ext.data.Model&&!this.isEqual(this.get(b),e)){delete this[a]}}this.set(b,e);if(Ext.isFunction(g)){g={callback:g,scope:h||this}}if(Ext.isObject(g)){return this.save(g)}}},createGetter:function(){var e=this,h=e.ownerModel,g=e.associatedName,k=e.associatedModel,d=e.foreignKey,b=e.primaryKey,a=e.instanceName;return function(o,q){o=o||{};var n=this,r=n.get(d),t,l,m;if(o.reload===true||n[a]===undefined){l=Ext.ModelManager.create({},g);l.set(b,r);if(typeof o=="function"){o={callback:o,scope:q||n}}t=o.success;o.success=function(u){n[a]=u;if(t){t.apply(this,arguments)}};k.load(r,o);n[a]=l;return l}else{l=n[a];m=[l];q=q||o.scope||n;Ext.callback(o,q,m);Ext.callback(o.success,q,m);Ext.callback(o.failure,q,m);Ext.callback(o.callback,q,m);return l}}},read:function(d,a,g){var b=this.associatedModel.prototype.associations.findBy(function(h){return h.type==="belongsTo"&&h.associatedName===d.$className}),e=a.read([g]).records[0];d[this.instanceName]=e;if(b){e[b.instanceName]=d}}},1,0,0,0,["association.hasone"],0,[Ext.data.association,"HasOne",Ext.data,"HasOneAssociation"],0));(Ext.cmd.derive("Ext.dd.DDTarget",Ext.dd.DragDrop,{constructor:function(d,a,b){if(d){this.initTarget(d,a,b)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}},3,0,0,0,0,0,[Ext.dd,"DDTarget"],0));(Ext.cmd.derive("Ext.dd.DragTracker",Ext.Base,{active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){var b=this;Ext.apply(b,a);b.addEvents("mouseover","mouseout","mousedown","mouseup","mousemove","beforedragstart","dragstart","dragend","drag");b.dragRegion=new Ext.util.Region(0,0,0,0);if(b.el){b.initEl(b.el)}b.mixins.observable.constructor.call(b);if(b.disabled){b.disable()}},initEl:function(a){var b=this;b.el=Ext.get(a);b.handle=Ext.get(b.delegate);b.delegate=b.handle?undefined:b.delegate;if(!b.handle){b.handle=b.el}b.handleListeners={scope:b,delegate:b.delegate,mousedown:b.onMouseDown};if(b.trackOver||b.overCls){Ext.apply(b.handleListeners,{mouseover:b.onMouseOver,mouseout:b.onMouseOut})}b.mon(b.handle,b.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var a=this;if(a.active){a.endDrag({})}a.clearListeners();a.mun(a.handle,a.handleListeners);a.el=a.handle=null},onMouseOver:function(d,b){var a=this;if(!a.disabled){if(Ext.EventManager.contains(d)||a.delegate){a.mouseIsOut=false;if(a.overCls){a.el.addCls(a.overCls)}a.fireEvent("mouseover",a,d,a.delegate?d.getTarget(a.delegate,b):a.handle)}}},onMouseOut:function(b){var a=this;if(a.mouseIsDown){a.mouseIsOut=true}else{if(a.overCls){a.el.removeCls(a.overCls)}a.fireEvent("mouseout",a,b)}},onMouseDown:function(g,d){var b=this,a;if(b.disabled||g.dragTracked){return}b.dragTarget=b.delegate?d:b.handle.dom;b.startXY=b.lastXY=g.getXY();b.startRegion=Ext.fly(b.dragTarget).getRegion();if(b.fireEvent("mousedown",b,g)===false||b.fireEvent("beforedragstart",b,g)===false||b.onBeforeStart(g)===false){return}b.mouseIsDown=true;g.dragTracked=true;a=b.el.dom;if(Ext.isIE&&a.setCapture){a.setCapture()}if(b.preventDefault!==false){g.preventDefault()}Ext.getDoc().on({scope:b,mouseup:b.onMouseUp,mousemove:b.onMouseMove,selectstart:b.stopSelect});if(b.autoStart){b.timer=Ext.defer(b.triggerStart,b.autoStart===true?1000:b.autoStart,b,[g])}},onMouseMove:function(h,g){var b=this,d=h.getXY(),a=b.startXY;h.preventDefault();b.lastXY=d;if(!b.active){if(Math.max(Math.abs(a[0]-d[0]),Math.abs(a[1]-d[1]))>b.tolerance){b.triggerStart(h)}else{return}}if(b.fireEvent("mousemove",b,h)===false){b.onMouseUp(h)}else{b.onDrag(h);b.fireEvent("drag",b,h)}},onMouseUp:function(b){var a=this;a.mouseIsDown=false;if(a.mouseIsOut){a.mouseIsOut=false;a.onMouseOut(b)}b.preventDefault();if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}a.fireEvent("mouseup",a,b);a.endDrag(b)},endDrag:function(d){var b=this,a=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,scope:b});b.clearStart();b.active=false;if(a){b.onEnd(d);b.fireEvent("dragend",b,d)}b._constrainRegion=Ext.EventObject.dragTracked=null},triggerStart:function(b){var a=this;a.clearStart();a.active=true;a.onStart(b);a.fireEvent("dragstart",a,b)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else{if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(d){var b=this.getXY(d),a=this.startXY;return[b[0]-a[0],b[1]-a[1]]},constrainModes:{point:function(b,e){var d=b.dragRegion,a=b.getConstrainRegion();if(!a){return e}d.x=d.left=d[0]=d.right=e[0];d.y=d.top=d[1]=d.bottom=e[1];d.constrainTo(a);return[d.left,d.top]},dragTarget:function(d,h){var b=d.startXY,g=d.startRegion.copy(),a=d.getConstrainRegion(),e;if(!a){return h}g.translateBy(h[0]-b[0],h[1]-b[1]);if(g.right>a.right){h[0]+=e=(a.right-g.right);g.left+=e}if(g.left<a.left){h[0]+=(a.left-g.left)}if(g.bottom>a.bottom){h[1]+=e=(a.bottom-g.bottom);g.top+=e}if(g.top<a.top){h[1]+=(a.top-g.top)}return h}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.dd,"DragTracker"],0));(Ext.cmd.derive("Ext.dd.DragZone",Ext.dd.DragSource,{constructor:function(d,b){var e=this,a=e.containerScroll;e.callParent([d,b]);if(a){d=e.scrollEl||d;d=Ext.get(d);if(Ext.isObject(a)){d.ddScrollConfig=a}Ext.dd.ScrollManager.register(d)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},getRepairXY:function(a){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}}},1,0,0,0,0,0,[Ext.dd,"DragZone"],0));(Ext.cmd.derive("Ext.dd.ScrollManager",Ext.Base,{singleton:true,constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=Ext.Function.bind(this.doScroll,this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null;b.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){if(this.ddmInstance.dragCurrent){var a=this.proc,b=a.el,d=a.el.ddScrollConfig,e=d?d.increment:this.increment;if(!this.animate){if(b.scroll(a.dir,e)){this.triggerRefresh()}}else{b.scroll(a.dir,e,true,this.animDuration,this.triggerRefresh)}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}a.id=0;a.el=null;a.dir=""},startProc:function(b,a){this.clearProc();this.proc.el=b;this.proc.dir=a;var e=b.ddScrollConfig?b.ddScrollConfig.ddGroup:undefined,d=(b.ddScrollConfig&&b.ddScrollConfig.frequency)?b.ddScrollConfig.frequency:this.frequency;if(e===undefined||this.ddmInstance.dragCurrent.ddGroup==e){this.proc.id=setInterval(this.doScroll,d)}},onFire:function(h,m){if(m||!this.ddmInstance.dragCurrent){return}if(!this.dragEl||this.dragEl!=this.ddmInstance.dragCurrent){this.dragEl=this.ddmInstance.dragCurrent;this.refreshCache()}var n=h.getXY(),o=h.getPoint(),k=this.proc,g=this.els,b,d,a,l;for(b in g){d=g[b];a=d._region;l=d.ddScrollConfig?d.ddScrollConfig:this;if(a&&a.contains(o)&&d.isScrollable()){if(a.bottom-o.y<=l.vthresh){if(k.el!=d){this.startProc(d,"down")}return}else{if(a.right-o.x<=l.hthresh){if(k.el!=d){this.startProc(d,"left")}return}else{if(o.y-a.top<=l.vthresh){if(k.el!=d){this.startProc(d,"up")}return}else{if(o.x-a.left<=l.hthresh){if(k.el!=d){this.startProc(d,"right")}return}}}}}}this.clearProc()},register:function(d){if(Ext.isArray(d)){for(var b=0,a=d.length;b<a;b++){this.register(d[b])}}else{d=Ext.get(d);this.els[d.id]=d}},unregister:function(d){if(Ext.isArray(d)){for(var b=0,a=d.length;b<a;b++){this.unregister(d[b])}}else{d=Ext.get(d);delete this.els[d.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=="object"){a[b]._region=a[b].getRegion()}}}},1,0,0,0,0,0,[Ext.dd,"ScrollManager"],0));(Ext.cmd.derive("Ext.dd.DropTarget",Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,d,b){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(a,d,b){return this.dropAllowed},notifyOut:function(a,d,b){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(a,d,b){return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}},1,0,0,0,0,0,[Ext.dd,"DropTarget"],0));(Ext.cmd.derive("Ext.dd.Registry",Ext.Base,{singleton:true,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(b,a){if(typeof b=="string"){return b}var d=b.id;if(!d&&a!==false){d="extdd-"+(++this.autoIdSeed);b.id=d}return d},register:function(e,g){g=g||{};if(typeof e=="string"){e=document.getElementById(e)}g.ddel=e;this.elements[this.getId(e)]=g;if(g.isHandle!==false){this.handles[g.ddel.id]=g}if(g.handles){var d=g.handles,b,a;for(b=0,a=d.length;b<a;b++){this.handles[this.getId(d[b])]=g}}},unregister:function(e){var h=this.getId(e,false),g=this.elements[h],d,b,a;if(g){delete this.elements[h];if(g.handles){d=g.handles;for(b=0,a=d.length;b<a;b++){delete this.handles[this.getId(d[b],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return this.handles[a]},getHandleFromEvent:function(b){var a=b.getTarget();return a?this.handles[a.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return this.elements[a]},getTargetFromEvent:function(b){var a=b.getTarget();return a?this.elements[a.id]||this.handles[a.id]:null}},1,0,0,0,0,0,[Ext.dd,"Registry"],0));(Ext.cmd.derive("Ext.dd.DropZone",Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(g,a,d,b){},onNodeOver:function(g,a,d,b){return this.dropAllowed},onNodeOut:function(g,a,d,b){},onNodeDrop:function(g,a,d,b){return false},onContainerOver:function(a,d,b){return this.dropNotAllowed},onContainerDrop:function(a,d,b){return false},notifyEnter:function(a,d,b){return this.dropNotAllowed},notifyOver:function(a,d,b){var g=this.getTargetFromEvent(d);if(!g){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,d,b);this.lastOverNode=null}return this.onContainerOver(a,d,b)}if(this.lastOverNode!=g){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,d,b)}this.onNodeEnter(g,a,d,b);this.lastOverNode=g}return this.onNodeOver(g,a,d,b)},notifyOut:function(a,d,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,d,b);this.lastOverNode=null}},notifyDrop:function(b,h,g){var d=this,k=d.getTargetFromEvent(h),a=k?d.onNodeDrop(k,b,h,g):d.onContainerDrop(b,h,g);if(d.lastOverNode){d.onNodeOut(d.lastOverNode,b,h,g);d.lastOverNode=null}return a},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}},0,0,0,0,0,0,[Ext.dd,"DropZone"],0));(Ext.cmd.derive("Ext.util.Queue",Ext.Base,{constructor:function(){this.clear()},add:function(d){var b=this,a=b.getKey(d);if(!b.map[a]){++b.length;b.items.push(d);b.map[a]=d}return d},clear:function(){var b=this,a=b.items;b.items=[];b.map={};b.length=0;return a},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(g){var e=this,d=e.getKey(g),a=e.items,b;if(e.map[d]){b=Ext.Array.indexOf(a,g);Ext.Array.erase(a,b,1);delete e.map[d];--e.length}return g}},1,0,0,0,0,0,[Ext.util,"Queue"],0));(Ext.cmd.derive("Ext.layout.ClassList",Ext.Base,(function(){var b=Ext.String.splitWords,a=Ext.Array.toMap;return{dirty:false,constructor:function(d){this.owner=d;this.map=a(this.classes=b(d.el.className))},add:function(d){var e=this;if(!e.map[d]){e.map[d]=true;e.classes.push(d);if(!e.dirty){e.dirty=true;e.owner.markDirty()}}},addMany:function(d){Ext.each(b(d),this.add,this)},contains:function(d){return this.map[d]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(d){var e=this;if(e.map[d]){delete e.map[d];e.classes=Ext.Array.filter(e.classes,function(g){return g!=d});if(!e.dirty){e.dirty=true;e.owner.markDirty()}}},removeMany:function(e){var g=this,d=a(b(e));g.classes=Ext.Array.filter(g.classes,function(h){if(!d[h]){return true}delete g.map[h];if(!g.dirty){g.dirty=true;g.owner.markDirty()}return false})}}}()),1,0,0,0,0,0,[Ext.layout,"ClassList"],0));(Ext.cmd.derive("Ext.layout.ContextItem",Ext.Base,{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,isBorderBoxValue:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(x){var y=this,u=Ext.layout.SizeModel.sizeModels,n=u.configured,m=u.shrinkWrap,b,w,r,q,h,e,z,g,t,o,d,l,k,a;Ext.apply(y,x);b=y.el;y.id=b.id;y.flushedProps={};y.props=h={};y.styles={};z=y.target;if(!z.isComponent){w=b.lastBox}else{y.wrapsComponent=true;y.framing=z.frameSize||null;y.isComponentChild=z.ownerLayout&&z.ownerLayout.isComponentLayout;w=z.lastBox;r=z.ownerCt;if(r&&(q=r.el&&y.context.items[r.el.id])){y.ownerCtContext=q}y.sizeModel=e=z.getSizeModel(q&&q.widthModel.pairsByHeightOrdinal[q.heightModel.ordinal]);y.widthModel=l=e.width;y.heightModel=k=e.height;if(w&&w.invalid===false){o=(z.width===(g=w.width));d=(z.height===(t=w.height));if(l===m&&k===m){a=true}else{if(l===n&&o){a=k===m||(k===n&&d)}}if(a){y.optOut=true;h.width=g;h.height=t}}}y.lastBox=w},init:function(l,d){var y=this,a=y.props,e=y.dirty,o=y.ownerCtContext,t=y.target.ownerLayout,k=!y.state,z=l||k,g,r,q,u,b,A,B=y.heightModel,h=y.widthModel,m,w,x=0;y.dirty=y.invalid=false;y.props={};y.remainingChildDimensions=0;if(y.boxChildren){y.boxChildren.length=0}if(!k){y.clearAllBlocks("blocks");y.clearAllBlocks("domBlocks")}if(!y.wrapsComponent){return z}A=y.target;y.state={};if(k){if(A.beforeLayout&&A.beforeLayout!==Ext.emptyFn){A.beforeLayout()}if(!o&&(u=A.ownerCt)){o=y.context.items[u.el.id]}if(o){y.ownerCtContext=o;y.isBoxParent=A.ownerLayout.isItemBoxParent(y)}else{y.isTopLevel=true}y.frameBodyContext=y.getEl("frameBody")}else{o=y.ownerCtContext;y.isTopLevel=!o;g=y.children;for(r=0,q=g.length;r<q;++r){g[r].init(true)}}y.hasRawContent=!(A.isContainer&&A.items.items.length>0);if(l){y.widthModel=y.heightModel=null;b=A.getSizeModel(o&&o.widthModel.pairsByHeightOrdinal[o.heightModel.ordinal]);if(k){y.sizeModel=b}y.widthModel=b.width;y.heightModel=b.height;if(o&&!y.isComponentChild){o.remainingChildDimensions+=2}}else{if(a){y.recoverProp("x",a,e);y.recoverProp("y",a,e);if(y.widthModel.calculated){y.recoverProp("width",a,e)}else{if("width" in a){++x}}if(y.heightModel.calculated){y.recoverProp("height",a,e)}else{if("height" in a){++x}}if(o&&!y.isComponentChild){o.remainingChildDimensions+=x}}}if(a&&t&&t.manageMargins){y.recoverProp("margin-top",a,e);y.recoverProp("margin-right",a,e);y.recoverProp("margin-bottom",a,e);y.recoverProp("margin-left",a,e)}if(d){m=d.heightModel;w=d.widthModel;if(w&&m&&h&&B){if(h.shrinkWrap&&B.shrinkWrap){if(w.constrainedMax&&m.constrainedMin){m=null}}}if(w){y.widthModel=w}if(m){y.heightModel=m}if(d.state){Ext.apply(y.state,d.state)}}return z},initContinue:function(g){var h=this,e=h.ownerCtContext,a=h.target,d=h.widthModel,k=a.getHierarchyState(),b;if(d.fixed){k.inShrinkWrapTable=false}else{delete k.inShrinkWrapTable}if(g){if(e&&d.shrinkWrap){b=e.isBoxParent?e:e.boxParent;if(b){b.addBoxChild(h)}}else{if(d.natural){h.boxParent=e}}}return g},initDone:function(e){var b=this,a=b.props,d=b.state;if(b.remainingChildDimensions===0){a.containerChildrenSizeDone=true}if(e){a.containerLayoutDone=true}if(b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap){b.el.setWidth(10000);d.blocks=(d.blocks||0)+1}},initAnimation:function(){var b=this,d=b.target,a=b.ownerCtContext;if(a&&a.isTopLevel){b.animatePolicy=d.ownerLayout.getAnimatePolicy(b)}else{if(!a&&d.isCollapsingOrExpanding&&d.animCollapse){b.animatePolicy=d.componentLayout.getAnimatePolicy(b)}}if(b.animatePolicy){b.context.queueAnimation(b)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(b,e,g){var d=this,h=d[b]||(d[b]={}),a=h[g]||(h[g]={});if(!a[e.id]){a[e.id]=e;++e.blockCount;++d.context.blockCount}},addBoxChild:function(e){var d=this,b,a=e.widthModel;e.boxParent=this;e.measuresBox=a.shrinkWrap?e.hasRawContent:a.natural;if(e.measuresBox){b=d.boxChildren;if(b){b.push(e)}else{d.boxChildren=[e]}}},addPositionStyles:function(e,b){var a=b.x,g=b.y,d=0;if(a!==undefined){e.left=a+"px";++d}if(g!==undefined){e.top=g+"px";++d}return d},addTrigger:function(h,k){var g=this,a=k?"domTriggers":"triggers",l=g[a]||(g[a]={}),b=g.context,e=b.currentLayout,d=l[h]||(l[h]={});if(!d[e.id]){d[e.id]=e;++e.triggerCount;d=b.triggers[k?"dom":"data"];(d[e.id]||(d[e.id]=[])).push({item:this,prop:h});if(g.props[h]!==undefined){if(!k||!(g.dirty&&(h in g.dirty))){++e.firedTriggers}}}},boxChildMeasured:function(){var b=this,d=b.state,a=(d.boxesMeasured=(d.boxesMeasured||0)+1);if(a==b.boxChildren.length){d.clearBoxWidth=1;++b.context.progressCount;b.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},paddingInfo:function(b){var a=b.frameBodyContext||b,d=a.getStyles(b.paddingNames,b.trblNames);d.width=d.left+d.right;d.height=d.top+d.bottom;return d}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var d=this[a],b;if(d){for(b in d){this.clearBlocks(a,b)}}},clearBlocks:function(d,h){var k=this[d],b=k&&k[h],e,g,a;if(b){delete k[h];e=this.context;for(a in b){g=b[a];--e.blockCount;if(!--g.blockCount&&!g.pending&&!g.done){e.queueLayout(g)}}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(b,h){var k=this[b],e=k&&k[h],d=this.context,g,a;if(e){for(a in e){g=e[a];++g.firedTriggers;if(!g.done&&!g.blockCount&&!g.pending){d.queueLayout(g)}}}},flush:function(){var b=this,a=b.dirty,d=b.state,e=b.el;b.dirtyCount=0;if(b.classList&&b.classList.dirty){b.classList.flush()}if("attributes" in b){e.set(b.attributes);delete b.attributes}if("innerHTML" in b){e.innerHTML=b.innerHTML;delete b.innerHTML}if(d&&d.clearBoxWidth){d.clearBoxWidth=0;b.el.setStyle("width",null);if(!--d.blocks){b.context.queueItemLayouts(b)}}if(a){delete b.dirty;b.writeProps(a,true)}},flushAnimations:function(){var r=this,d=r.previousSize,n,q,g,k,h,e,l,o,m,a,b;if(d){n=r.target;q=n.layout&&n.layout.animate;if(q){g=Ext.isNumber(q)?q:q.duration}k=Ext.Object.getKeys(r.animatePolicy);h=Ext.apply({},{from:{},to:{},duration:g||Ext.fx.Anim.prototype.duration},q);for(e=0,l=0,o=k.length;l<o;l++){m=k[l];a=d[m];b=r.peek(m);if(a!=b){m=r.translateProps[m]||m;h.from[m]=a;h.to[m]=b;++e}}if(e){if(r.isCollapsingOrExpanding===1){n.componentLayout.undoLayout(r)}else{r.writeProps(h.from)}r.el.animate(h);Ext.fx.Manager.getFxQueue(r.el.id)[0].on({afteranimate:function(){if(r.isCollapsingOrExpanding===1){n.componentLayout.redoLayout(r);n.afterCollapse(true)}else{if(r.isCollapsingOrExpanding===2){n.afterExpand(true)}}}})}}},getBorderInfo:function(){var a=this,b=a.borderInfo;if(!b){a.borderInfo=b=a.checkCache("borderInfo")}return b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(d,a){var g=this,h,e,b;if(d){if(d.dom){e=d}else{h=g.target;if(a){h=a}e=h[d];if(typeof e=="function"){e=e.call(h);if(e===g.el){return this}}}if(e){b=g.context.getEl(g,e)}}return b||null},getFrameInfo:function(){var d=this,e=d.frameInfo,b,a;if(!e){b=d.framing;a=d.getBorderInfo();d.frameInfo=e=b?{top:b.top+a.top,right:b.right+a.right,bottom:b.bottom+a.bottom,left:b.left+a.left,width:b.width+a.width,height:b.height+a.height}:a}return e},getMarginInfo:function(){var e=this,k=e.marginInfo,b,a,h,g,d;if(!k){if(!e.wrapsComponent){k=e.checkCache("marginInfo")}else{b=e.target;g=b.ownerLayout;d=g?g.id:null;a=g&&g.manageMargins;k=b.margin$;if(k&&k.ownerId!==d){k=null}if(!k){k=e.parseMargins(b,b.margin)||e.checkCache("marginInfo");if(a){h=e.parseMargins(b,b.margins,g.defaultMargins);if(h){k={top:k.top+h.top,right:k.right+h.right,bottom:k.bottom+h.bottom,left:k.left+h.left}}e.setProp("margin-top",0);e.setProp("margin-right",0);e.setProp("margin-bottom",0);e.setProp("margin-left",0)}k.ownerId=d;b.margin$=k}k.width=k.left+k.right;k.height=k.top+k.bottom}e.marginInfo=k}return k},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;if(!b){a.paddingInfo=b=a.checkCache("paddingInfo")}return b},getProp:function(d){var b=this,a=b.props[d];b.addTrigger(d);return a},getDomProp:function(d){var b=this,a=(b.dirty&&(d in b.dirty))?undefined:b.props[d];b.addTrigger(d,true);return a},getStyle:function(a){var d=this,b=d.styles,g,e;if(a in b){e=b[a]}else{g=d.styleInfo[a];e=d.el.getStyle(a);if(g&&g.parseInt){e=parseInt(e,10)||0}b[a]=e}return e},getStyles:function(t,b){var q=this,g=q.styles,u={},h=0,e=t.length,m,l,o,a,d,k,w,r;b=b||t;for(m=0;m<e;++m){a=t[m];if(a in g){u[b[m]]=g[a];++h;if(m&&h==1){l=t.slice(0,m);o=b.slice(0,m)}}else{if(h){(l||(l=[])).push(a);(o||(o=[])).push(b[m])}}}if(h<e){l=l||t;o=o||b;k=q.styleInfo;w=q.el.getStyle(l);for(m=l.length;m--;){a=l[m];d=k[a];r=w[a];if(d&&d.parseInt){r=parseInt(r,10)||0}u[o[m]]=r;g[a]=r}}return u},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,g,e){if(g===true){g=5}var d=typeof g,b;if(d=="string"||d=="number"){b=a.parseBox(g)}else{if(g||e){b={top:0,right:0,bottom:0,left:0};if(e){Ext.apply(b,this.parseMargins(a,e))}if(g){g=Ext.apply(b,a.parseBox(g))}}}return b},peek:function(a){return this.props[a]},recoverProp:function(h,b,a){var g=this,e=g.props,d;if(h in b){e[h]=b[h];if(a&&h in a){d=g.dirty||(g.dirty={});d[h]=a[h]}}},redo:function(b){var g=this,d,a,e;g.revertProps(g.props);if(b&&g.wrapsComponent){if(g.childItems){for(e=0,d=g.childItems,a=d.length;e<a;e++){d[e].redo(b)}}for(e=0,d=g.children,a=d.length;e<a;e++){d[e].redo()}}},removeEl:function(b,a){var e=this,g,d;if(b){if(b.dom){d=b}else{g=e.target;if(a){g=a}d=g[b];if(typeof d=="function"){d=d.call(g);if(d===e.el){return this}}}if(d){e.context.removeEl(e,d)}}},revertProps:function(e){var a,b=this.flushedProps,d={};for(a in e){if(b.hasOwnProperty(a)){d[a]=e[a]}}this.writeProps(d)},setAttribute:function(a,d){var b=this;if(!b.attributes){b.attributes={}}b.attributes[a]=d;b.markDirty()},setBox:function(b){var a=this;if("left" in b){a.setProp("x",b.left)}if("top" in b){a.setProp("y",b.top)}a.setSize(b.width,b.height)},setContentHeight:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentHeight",a)},setContentWidth:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp("contentWidth",b)},setContentSize:function(d,a,b){return this.setContentWidth(d,b)+this.setContentHeight(a,b)==2},setProp:function(e,d,a){var b=this,k=typeof d,h,g;if(k=="undefined"||(k==="number"&&isNaN(d))){return 0}if(b.props[e]===d){return 1}b.props[e]=d;++b.context.progressCount;if(a===false){b.fireTriggers("domTriggers",e);b.clearBlocks("domBlocks",e)}else{g=b.styleInfo[e];if(g){if(!b.dirty){b.dirty={}}if(e=="width"||e=="height"){h=b.isBorderBoxValue;if(h===null){b.isBorderBoxValue=h=!!b.el.isBorderBox()}if(!h){b.borderInfo||b.getBorderInfo();b.paddingInfo||b.getPaddingInfo()}}b.dirty[e]=d;b.markDirty()}}b.fireTriggers("triggers",e);b.clearBlocks("blocks",e);return 1},setHeight:function(n,a){var h=this,e=h.target,d=h.ownerCtContext,k,g,b,m,l;if(n<0){n=0}if(!h.wrapsComponent){if(!h.setProp("height",n,a)){return NaN}}else{b=h.collapsedVert?0:(e.minHeight||0);n=Ext.Number.constrain(n,b,e.maxHeight);m=h.props.height;if(!h.setProp("height",n,a)){return NaN}if(d&&!h.isComponentChild&&isNaN(m)){l=--d.remainingChildDimensions;if(!l){d.setProp("containerChildrenSizeDone",true)}}k=h.frameBodyContext;if(k){g=h.getFrameInfo();k.setHeight(n-g.height,a)}}return n},setWidth:function(b,a){var l=this,h=l.target,g=l.ownerCtContext,m,k,e,d,n;if(b<0){b=0}if(!l.wrapsComponent){if(!l.setProp("width",b,a)){return NaN}}else{e=l.collapsedHorz?0:(h.minWidth||0);b=Ext.Number.constrain(b,e,h.maxWidth);d=l.props.width;if(!l.setProp("width",b,a)){return NaN}if(g&&!l.isComponentChild&&isNaN(d)){n=--g.remainingChildDimensions;if(!n){g.setProp("containerChildrenSizeDone",true)}}m=l.frameBodyContext;if(m){k=l.getFrameInfo();m.setWidth(b-k.width,a)}}return b},setSize:function(d,a,b){this.setWidth(d,b);this.setHeight(a,b)},translateProps:{x:"left",y:"top"},undo:function(b){var g=this,d,a,e;g.revertProps(g.lastBox);if(b&&g.wrapsComponent){if(g.childItems){for(e=0,d=g.childItems,a=d.length;e<a;e++){d[e].undo(b)}}for(e=0,d=g.children,a=d.length;e<a;e++){d[e].undo()}}},unsetProp:function(b){var a=this.dirty;delete this.props[b];if(a){delete a[b]}},writeProps:function(g,e){if(!(g&&typeof g=="object")){return}var C=this,d=C.el,l={},k=0,b=C.styleInfo,B,m,r,u=g.width,o=g.height,A=C.isBorderBoxValue,D=C.target,x=Math.max,z=0,n=0,h,a,t,w,y,q;if("displayed" in g){d.setDisplayed(g.displayed)}for(m in g){if(e){C.fireTriggers("domTriggers",m);C.clearBlocks("domBlocks",m);C.flushedProps[m]=1}B=b[m];if(B&&B.dom){if(B.suffix&&(r=parseInt(g[m],10))){l[m]=r+B.suffix}else{l[m]=g[m]}++k}}if("x" in g||"y" in g){if(D.isComponent){D.setPosition(g.x,g.y)}else{k+=C.addPositionStyles(l,g)}}if(!A&&(u>0||o>0)){if(!C.frameBodyContext){z=C.paddingInfo.width;n=C.paddingInfo.height}if(u){u=x(parseInt(u,10)-(C.borderInfo.width+z),0);l.width=u+"px";++k}if(o){o=x(parseInt(o,10)-(C.borderInfo.height+n),0);l.height=o+"px";++k}}if(C.wrapsComponent&&Ext.isIE9&&Ext.isStrict){if((h=u!==undefined&&C.hasOverflowY)||(a=o!==undefined&&C.hasOverflowX)){t=C.isAbsolute;if(t===undefined){t=false;q=C.target.getTargetEl();y=q.getStyle("position");if(y=="absolute"){y=q.getStyle("box-sizing");t=(y=="border-box")}C.isAbsolute=t}if(t){w=Ext.getScrollbarSize();if(h){u=parseInt(u,10)+w.width;l.width=u+"px";++k}if(a){o=parseInt(o,10)+w.height;l.height=o+"px";++k}}}}if(k){d.setStyle(l)}}},1,0,0,0,0,0,[Ext.layout,"ContextItem"],function(){var d={dom:true,parseInt:true,suffix:"px"},b={dom:true},a={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:a,containerLayoutDone:a,displayed:a,done:a,x:a,y:a,columnWidthsDone:a,left:d,top:d,right:d,bottom:d,width:d,height:d,"border-top-width":d,"border-right-width":d,"border-bottom-width":d,"border-left-width":d,"margin-top":d,"margin-right":d,"margin-bottom":d,"margin-left":d,"padding-top":d,"padding-right":d,"padding-bottom":d,"padding-left":d,"line-height":b,display:b}}));(Ext.cmd.derive("Ext.layout.Context",Ext.Base,{remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a);b.items={};b.layouts={};b.blockCount=0;b.cycleCount=0;b.flushCount=0;b.calcCount=0;b.animateQueue=b.newQueue();b.completionQueue=b.newQueue();b.finalizeQueue=b.newQueue();b.finishQueue=b.newQueue();b.flushQueue=b.newQueue();b.invalidateData={};b.layoutQueue=b.newQueue();b.invalidQueue=[];b.triggers={data:{},dom:{}}},callLayout:function(b,a){this.currentLayout=b;b[a](this.getCmp(b.owner))},cancelComponent:function(m,a,o){var t=this,l=m,n=!m.isComponent,b=n?l.length:1,e,d,r,q,h,x,u,w,y,g;for(e=0;e<b;++e){if(n){m=l[e]}if(o&&m.ownerCt){g=this.items[m.ownerCt.el.id];if(g){Ext.Array.remove(g.childItems,t.getCmp(m))}}if(!a){u=t.invalidQueue;r=u.length;if(r){t.invalidQueue=x=[];for(d=0;d<r;++d){w=u[d];y=w.item.target;if(y!=m&&!y.isDescendant(m)){x.push(w)}}}}h=m.componentLayout;t.cancelLayout(h);if(h.getLayoutItems){q=h.getLayoutItems();if(q.length){t.cancelComponent(q,true)}}if(m.isContainer&&!m.collapsed){h=m.layout;t.cancelLayout(h);q=h.getVisibleItems();if(q.length){t.cancelComponent(q,true)}}}},cancelLayout:function(b){var a=this;a.completionQueue.remove(b);a.finalizeQueue.remove(b);a.finishQueue.remove(b);a.layoutQueue.remove(b);if(b.running){a.layoutDone(b)}b.ownerContext=null},clearTriggers:function(h,k){var a=h.id,g=this.triggers[k?"dom":"data"],l=g&&g[a],b=(l&&l.length)||0,e,m,d;for(e=0;e<b;++e){d=l[e];m=d.item;g=k?m.domTriggers:m.triggers;delete g[d.prop][a]}},flush:function(){var e=this,a=e.flushQueue.clear(),d=a.length,b;if(d){++e.flushCount;for(b=0;b<d;++b){a[b].flush()}}},flushAnimations:function(){var e=this,b=e.animateQueue.clear(),a=b.length,d;if(a){for(d=0;d<a;d++){if(b[d].target.animate!==false){b[d].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var k=this,a=k.invalidQueue,h=a&&a.length,b,g,e,d;k.invalidQueue=[];if(h){g=[];for(d=0;d<h;++d){b=(e=a[d]).item.target;if(!b.container.isDetachedBody){g.push(b);if(e.options){k.invalidateData[b.id]=e.options}}}k.invalidate(g,null)}},flushLayouts:function(k,a,d){var h=this,l=d?h[k].items:h[k].clear(),g=l.length,b,e;if(g){for(b=0;b<g;++b){e=l[b];if(!e.running){h.callLayout(e,a)}}h.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,a){var d=this.getItem(a,a);if(!d.parent){d.parent=b;if(b.children.length){b.children.push(d)}else{b.children=[d]}}return d},getItem:function(e,b){var g=b.id,a=this.items,d=a[g]||(a[g]=new Ext.layout.ContextItem({context:this,target:e,el:b}));return d},handleFailure:function(){var d=this.layouts,b,a;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(a in d){b=d[a];if(d.hasOwnProperty(a)){b.running=false;b.ownerContext=null}}},invalidate:function(m,q){var t=this,o=!m.isComponent,d,a,h,n,u,r,b,k,l,g,e;for(h=0,b=o?m.length:1;h<b;++h){n=o?m[h]:m;if(n.rendered&&!n.hidden){u=t.getCmp(n);k=n.componentLayout;a=!k.ownerContext;l=(n.isContainer&&!n.collapsed)?n.layout:null;g=t.invalidateData[u.id];delete t.invalidateData[u.id];e=u.init(q,g);if(g){t.processInvalidate(g,u,"before")}if(k.beforeLayoutCycle){k.beforeLayoutCycle(u)}if(l&&l.beforeLayoutCycle){l.beforeLayoutCycle(u)}e=u.initContinue(e);d=true;if(k.getLayoutItems){k.renderChildren();r=k.getLayoutItems();if(r.length){t.invalidate(r,true)}}if(l){d=false;l.renderChildren();r=l.getVisibleItems();if(r.length){t.invalidate(r,true)}}u.initDone(d);t.resetLayout(k,u,a);if(l){t.resetLayout(l,u,a)}u.initAnimation();if(g){t.processInvalidate(g,u,"after")}}}t.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=false;if(a.isComponentLayout){if(b.measuresBox){b.onBoxMeasured()}b.setProp("done",true)}else{b.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(b,g,a){if(b[a]){var e=this,d=e.currentLayout;e.currentLayout=b.layout||null;b[a](g,b);e.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,l,h){var e=this,d=a.layout,g=l.layout,b=a[h],k=l[h];return function(m){var n=e.currentLayout;if(b){e.currentLayout=d;b.call(a.scope||a,m,a)}e.currentLayout=g;k.call(l.scope||l,m,l);e.currentLayout=n}},queueInvalidate:function(n,o){var k=this,m=[],l=k.invalidQueue,h=l.length,e,b,g,a,d;if(n.isComponent){n=k.getCmp(e=n)}else{e=n.target}n.invalid=true;while(h--){b=l[h];g=b.item.target;if(e.isDescendant(g)){return}if(g==e){if(!(a=b.options)){b.options=o}else{if(o){if(o.widthModel){a.widthModel=o.widthModel}if(o.heightModel){a.heightModel=o.heightModel}if(!(d=a.state)){a.state=o.state}else{if(o.state){Ext.apply(d,o.state)}}if(o.before){a.before=k.chainFns(a,o,"before")}if(o.after){a.after=k.chainFns(a,o,"after")}}}return}if(!g.isDescendant(e)){m.push(b)}}m.push({item:n,options:o});k.invalidQueue=m},queueItemLayouts:function(d){var a=d.isComponent?d:d.target,b=a.componentLayout;if(!b.pending&&!b.invalid&&!b.done){this.queueLayout(b)}b=a.layout;if(b&&!b.pending&&!b.invalid&&!b.done){this.queueLayout(b)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},removeEl:function(e,d){var g=d.id,b=e.children,a=this.items;if(b){Ext.Array.remove(b,a[g])}delete a[g]},resetLayout:function(b,d,e){var a=this;a.currentLayout=b;b.done=false;b.pending=true;b.firedTriggers=0;a.layoutQueue.add(b);if(e){a.layouts[b.id]=b;b.running=true;if(b.finishedLayout){a.finishQueue.add(b)}++a.remainingLayouts;++b.layoutCount;b.ownerContext=d;b.beginCount=0;b.blockCount=0;b.calcCount=0;b.triggerCount=0;if(!b.initialized){b.initLayout()}b.beginLayout(d)}else{++b.beginCount;if(!b.running){++a.remainingLayouts;b.running=true;if(b.isComponentLayout){d.unsetProp("done")}a.completionQueue.remove(b);a.finalizeQueue.remove(b)}}b.beginLayoutCycle(d,e)},run:function(){var d=this,b=false,a=100;d.flushInvalidates();d.state=1;d.totalCount=d.layoutQueue.getCount();d.flush();while((d.remainingLayouts||d.invalidQueue.length)&&a--){if(d.invalidQueue.length){d.flushInvalidates()}if(d.runCycle()){b=false}else{if(!b){d.flush();b=true;d.flushLayouts("completionQueue","completeLayout")}else{if(!d.invalidQueue.length){d.state=2;break}}}if(!(d.remainingLayouts||d.invalidQueue.length)){d.flush();d.flushLayouts("completionQueue","completeLayout");d.flushLayouts("finalizeQueue","finalizeLayout")}}return d.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var d=this,e=d.layoutQueue.clear(),b=e.length,a;++d.cycleCount;d.progressCount=0;for(a=0;a<b;++a){d.runLayout(d.currentLayout=e[a])}d.currentLayout=null;return d.progressCount>0},runLayout:function(b){var a=this,d=a.getCmp(b.owner);b.pending=false;if(d.state.blocks){return}b.done=true;++b.calcCount;++a.calcCount;b.calculate(d);if(b.done){a.layoutDone(b);if(b.completeLayout){a.queueCompletion(b)}if(b.finalizeLayout){a.queueFinalize(b)}}else{if(!b.pending&&!b.invalid&&!(b.blockCount+b.triggerCount-b.firedTriggers)){a.queueLayout(b)}}},setItemSize:function(k,h,b){var e=k,a=1,d,g;if(k.isComposite){e=k.elements;a=e.length;k=e[0]}else{if(!k.dom&&!k.el){a=e.length;k=e[0]}}for(g=0;g<a;){d=this.get(k);d.setSize(h,b);k=e[++g]}}},1,0,0,0,0,0,[Ext.layout,"Context"],0));(Ext.cmd.derive("Ext.dom.Layer",Ext.Element,{alternateClassName:"Ext.Layer",statics:{shims:[]},isLayer:true,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(d,b){d=d||{};var e=this,g=Ext.DomHelper,k=d.parentEl,h=k?Ext.getDom(k):document.body,l=d.hideMode,a=Ext.baseCSSPrefix+(d.fixed&&!(Ext.isIE6||Ext.isIEQuirks)?"fixed-layer":"layer");e.el=e;if(b){e.dom=Ext.getDom(b)}if(!e.dom){e.dom=g.append(h,d.dh||{tag:"div",cls:a})}else{e.addCls(a);if(!e.dom.parentNode){h.appendChild(e.dom)}}if(d.preventSync){e.preventSync=true}if(d.id){e.id=e.dom.id=d.id}else{e.id=Ext.id(e.dom)}Ext.Element.addToCache(e);if(d.cls){e.addCls(d.cls)}e.constrain=d.constrain!==false;if(l){e.setVisibilityMode(Ext.Element[l.toUpperCase()]);if(e.visibilityMode==Ext.Element.ASCLASS){e.visibilityCls=d.visibilityCls}}else{if(d.useDisplay){e.setVisibilityMode(Ext.Element.DISPLAY)}else{e.setVisibilityMode(Ext.Element.VISIBILITY)}}if(d.shadow){e.shadowOffset=d.shadowOffset||4;e.shadow=new Ext.Shadow({offset:e.shadowOffset,mode:d.shadow,fixed:d.fixed});e.disableShadow()}else{e.shadowOffset=0}e.useShim=d.shim!==false&&Ext.useShims;if(d.hidden===true){e.hide()}else{e.show()}},getZIndex:function(){return parseInt((this.getShim()||this).getStyle("z-index"),10)},getShim:function(){var b=this,d,a;if(!b.useShim){return null}if(!b.shim){d=b.self.shims.shift();if(!d){d=b.createShim();d.enableDisplayMode("block");d.hide()}a=b.dom.parentNode;if(d.dom.parentNode!=a){a.insertBefore(d.dom,b.dom)}b.shim=d}return b.shim},hideShim:function(){var a=this;if(a.shim){a.shim.setDisplayed(false);a.self.shims.push(a.shim);delete a.shim}},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(a){var b=this;if(b.shadow&&b.shadowDisabled){b.shadowDisabled=false;b.shadowOffset=b.lastShadowOffset;delete b.lastShadowOffset;if(a){b.sync(true)}}},sync:function(b){var l=this,r=l.shadow,k,e,a,d,t,n,m,q,g,o;if(l.preventSync){return}if(!l.updating&&l.isVisible()&&(r||l.useShim)){d=l.getShim();t=l[l.localXYNames.get]();n=t[0];m=t[1];q=l.dom.offsetWidth;g=l.dom.offsetHeight;if(r&&!l.shadowDisabled){if(b&&!r.isVisible()){r.show(l)}else{r.realign(n,m,q,g)}if(d){o=d.getStyle("z-index");if(o>l.zindex){l.shim.setStyle("z-index",l.zindex-2)}d.show();if(r.isVisible()){k=r.el.getXY();e=d.dom.style;a=r.el.getSize();if(Ext.supports.CSS3BoxShadow){a.height+=6;a.width+=4;k[0]-=2;k[1]-=4}e.left=(k[0])+"px";e.top=(k[1])+"px";e.width=(a.width)+"px";e.height=(a.height)+"px"}else{d.setSize(q,g);d[l.localXYNames.set](n,m)}}}else{if(d){o=d.getStyle("z-index");if(o>l.zindex){l.shim.setStyle("z-index",l.zindex-2)}d.show();d.setSize(q,g);d[l.localXYNames.set](n,m)}}}return l},remove:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var k=Ext.Element.getViewWidth(),b=Ext.Element.getViewHeight(),o=Ext.getDoc().getScroll(),n=this.getXY(),l=n[0],g=n[1],a=this.shadowOffset,m=this.dom.offsetWidth+a,d=this.dom.offsetHeight+a,e=false;if((l+m)>k+o.left){l=k-m-a;e=true}if((g+d)>b+o.top){g=b-d-a;e=true}if(l<o.left){l=o.left;e=true}if(g<o.top){g=o.top;e=true}if(e){Ext.Layer.superclass.setXY.call(this,[l,g]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(g,b,e,k,h){var d=this,a;a=function(){if(g){d.sync(true)}if(k){k()}};if(!g){d.hideUnders(true)}d.callParent([g,b,e,k,h]);if(!b){a()}return d},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(b,a){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(e,a,d,h,g){var b=this;h=b.createCB(h);b.fixDisplay();b.beforeAction();b.callParent([e,a,d,h,g]);if(!a){h()}return b},createCB:function(d){var a=this,b=a.shadow&&a.shadow.isVisible();return function(){a.constrainXY();a.sync(b);if(d){d()}}},setX:function(a,b,d,g,e){this.setXY([a,this.getY()],b,d,g,e);return this},setY:function(g,a,b,e,d){this.setXY([this.getX(),g],a,b,e,d);return this},setSize:function(a,d,b,g,l,k){var e=this;l=e.createCB(l);e.beforeAction();e.callParent([a,d,b,g,l,k]);if(!b){l()}return e},setWidth:function(a,b,e,h,g){var d=this;h=d.createCB(h);d.beforeAction();d.callParent([a,b,e,h,g]);if(!b){h()}return d},setHeight:function(b,a,e,k,g){var d=this;k=d.createCB(k);d.beforeAction();d.callParent([b,a,e,k,g]);if(!a){k()}return d},setBounds:function(k,h,a,m,b,d,l,e){var g=this;l=g.createCB(l);g.beforeAction();if(!b){Ext.Layer.superclass.setXY.call(g,[k,h]);Ext.Layer.superclass.setSize.call(g,a,m);l()}else{g.callParent([k,h,a,m,b,d,l,e])}return g},setZIndex:function(a){var b=this;b.zindex=a;if(b.getShim()){b.shim.setStyle("z-index",a++)}if(b.shadow){b.shadow.setZIndex(a++)}return b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;if(b){b.setOpacity(a)}}},1,0,0,0,0,0,[Ext.dom,"Layer",Ext,"Layer"],0));(Ext.cmd.derive("Ext.form.action.Action",Ext.Base,{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(a){if(a){Ext.apply(this,a)}var b=a.params;if(Ext.isString(b)){this.params=Ext.Object.fromQueryString(b)}},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return true}return(this.result=this.handleResponse(a))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var d=this,a,b=d.form;return{success:d.onSuccess,failure:d.onFailure,scope:d,timeout:(this.timeout*1000)||(b.timeout*1000),upload:b.fileUpload?d.onSuccess:a}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}},1,0,0,0,0,0,[Ext.form.action,"Action",Ext.form,"Action"],0));(Ext.cmd.derive("Ext.form.action.Load",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(b){var a=this.processResponse(b),d=this.form;if(a===true||!a.success||!a.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;d.afterAction(this,false);return}d.clearInvalid();d.setValues(a.data);d.afterAction(this,true)},handleResponse:function(d){var a=this.form.reader,b,e;if(a){b=a.read(d);e=b.records&&b.records[0]?b.records[0].data:null;return{success:b.success,data:e}}return Ext.decode(d.responseText)}},0,0,0,0,["formaction.load"],0,[Ext.form.action,"Load",Ext.form.Action,"Load"],0));(Ext.cmd.derive("Ext.form.action.Submit",Ext.form.action.Action,{alternateClassName:"Ext.form.Action.Submit",type:"submit",run:function(){var b=this,a=b.form;if(b.clientValidation===false||a.isValid()){b.doSubmit()}else{b.failureType=Ext.form.action.Action.CLIENT_INVALID;a.afterAction(b,false)}},doSubmit:function(){var g=this,b=Ext.apply(g.createCallback(),{url:g.getUrl(),method:g.getMethod(),headers:g.headers}),e=g.form,h=g.jsonSubmit||e.jsonSubmit,a=h?"jsonData":"params",d,k;if(e.hasUpload()){k=g.buildForm();b.form=k.formEl;b.isUpload=true}else{b[a]=g.getParams(h)}Ext.Ajax.request(b);if(k){g.cleanup(k)}},cleanup:function(k){var g=k.formEl,e=k.uploadEls,b=k.uploadFields,a=b.length,d,h;for(d=0;d<a;++d){h=b[d];if(!h.clearOnSubmit){h.restoreInput(e[d])}}if(g){Ext.removeNode(g)}},getParams:function(e){var d=false,b=this.callParent(),a=this.form.getValues(d,d,this.submitEmptyText!==d,e);return Ext.apply({},a,b)},buildForm:function(){var m=this,q=[],n,x,k=m.form,e=m.getParams(),d=[],a=[],h=k.getFields().items,g,l=h.length,o,w,t,u,r,b;for(g=0;g<l;++g){o=h[g];if(o.rendered&&o.isFileUpload()){d.push(o)}}for(w in e){if(e.hasOwnProperty(w)){t=e[w];if(Ext.isArray(t)){r=t.length;for(u=0;u<r;u++){q.push(m.getFieldConfig(w,t[u]))}}else{q.push(m.getFieldConfig(w,t))}}}n={tag:"form",action:m.getUrl(),method:m.getMethod(),target:m.target||"_self",style:"display:none",cn:q};if(d.length){n.encoding=n.enctype="multipart/form-data"}x=Ext.DomHelper.append(Ext.getBody(),n);l=d.length;for(g=0;g<l;++g){b=d[g].extractFileInput();x.appendChild(b);a.push(b)}return{formEl:x,uploadFields:d,uploadEls:a}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(b){var d=this.form,e=true,a=this.processResponse(b);if(a!==true&&!a.success){if(a.errors){d.markInvalid(a.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;e=false}d.afterAction(this,e)},handleResponse:function(g){var a=this.form,d=a.errorReader,h,n,k,l,b,o;if(d){h=d.read(g);b=h.records;n=[];if(b){for(k=0,l=b.length;k<l;k++){n[k]=b[k].data}}if(n.length<1){n=null}o={success:h.success,errors:n}}else{try{o=Ext.decode(g.responseText)}catch(m){o={success:false,errors:[]}}}return o}},0,0,0,0,["formaction.submit"],0,[Ext.form.action,"Submit",Ext.form.Action,"Submit"],0));(Ext.cmd.derive("Ext.util.ComponentDragger",Ext.dd.DragTracker,{autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(d){var b=this,a=b.comp;b.startPosition=a.getXY();if(a.ghost&&!a.liveDrag){b.proxy=a.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}if(a.beginDrag){a.beginDrag()}},calculateConstrainRegion:function(){var l=this,h=l.comp,k=l.initialConstrainTo,g=h.constraintInsets,m,b,e,d=l.proxy?l.proxy.el:h.el,a=(!l.constrainDelegate&&d.shadow&&h.constrainShadow&&!d.shadowDisabled)?d.shadow.getShadowSize():0;if(!(k instanceof Ext.util.Region)){m=Ext.fly(k);k=m.getViewRegion();k.right=k.left+m.dom.clientWidth}else{k=k.copy()}if(g){g=Ext.isObject(g)?g:Ext.Element.parseBox(g);k.adjust(g.top,g.right,g.bottom,g.length)}if(a){k.adjust(a[0],-a[1],-a[2],a[3])}if(!l.constrainDelegate){b=Ext.fly(l.dragTarget).getRegion();e=d.getRegion();k.adjust(b.top-e.top,b.right-e.right,b.bottom-e.bottom,b.left-e.left)}return k},onDrag:function(d){var b=this,a=(b.proxy&&!b.comp.liveDrag)?b.proxy:b.comp,g=b.getOffset(b.constrain||b.constrainDelegate?"dragTarget":null);a.setPagePosition(b.startPosition[0]+g[0],b.startPosition[1]+g[1])},onEnd:function(b){var a=this.comp;if(a.isDestroyed||a.destroying){return}if(this.proxy&&!a.liveDrag){a.unghost()}if(a.endDrag){a.endDrag()}}},1,0,0,0,0,0,[Ext.util,"ComponentDragger"],0));(Ext.cmd.derive("Ext.window.Window",Ext.panel.Panel,{alternateClassName:"Ext.Window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,initComponent:function(){var a=this;a.frame=false;a.callParent();a.addEvents("resize","maximize","minimize","restore");if(a.plain){a.addClsWithUI("plain")}if(a.modal){a.ariaRole="dialog"}a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var b=this,a;a=b.callParent();a.tabIndex=-1;return a},getState:function(){var b=this,e=b.callParent()||{},a=!!b.maximized,d=b.ghostBox,g;e.maximized=a;if(a){g=b.restorePos}else{if(d){g=[d.x,d.y]}else{g=b.getPosition()}}Ext.apply(e,{size:a?b.restoreSize:b.getSize(),pos:g});return e},applyState:function(b){var a=this;if(b){a.maximized=b.maximized;if(a.maximized){a.hasSavedRestore=true;a.restoreSize=b.size;a.restorePos=b.pos}else{Ext.apply(a,{width:b.size.width,height:b.size.height,x:b.pos[0],y:b.pos[1]})}}},onRender:function(b,a){var d=this;d.callParent(arguments);d.focusEl=d.el;if(d.maximizable){d.header.on({scope:d,dblclick:d.toggleMaximize})}},afterRender:function(){var a=this,d=a.header,b;a.callParent();if(a.maximized){a.maximized=false;a.maximize();if(d){d.removeCls(d.indicateDragCls)}}if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a)}else{b=a.keyMap}if(b&&a.hidden){b.disable()}},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}},onEsc:function(a,b){if(!Ext.FocusManager||!Ext.FocusManager.enabled||Ext.FocusManager.focusedCmp===this){b.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){delete this.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this;a.callParent();if(a.minimizable){a.addTool({type:"minimize",handler:Ext.Function.bind(a.minimize,a,[])})}if(a.maximizable){a.addTool({type:"maximize",handler:Ext.Function.bind(a.maximize,a,[])});a.addTool({type:"restore",handler:Ext.Function.bind(a.restore,a,[]),hidden:true})}},getFocusEl:function(){return this.getDefaultFocus()},getDefaultFocus:function(){var d=this,b,e=d.defaultButton||d.defaultFocus,a;if(e!==undefined){if(Ext.isNumber(e)){b=d.query("button")[e]}else{if(Ext.isString(e)){a=e;if(a.match(d.initialAlphaNum)){b=d.down("#"+a)}if(!b){b=d.down(a)}}else{if(e.focus){b=e}}}}return b||d.el},onFocus:function(){var b=this,a;if((Ext.FocusManager&&Ext.FocusManager.enabled)||((a=b.getDefaultFocus())===b)){b.callParent(arguments)}else{a.focus()}},onShow:function(){var a=this;a.callParent(arguments);if(a.expandOnShow){a.expand(false)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);if(a.closeAction=="destroy"){this.destroy()}}else{a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}a.callParent(arguments)},onWindowResize:function(){var b=this,a;if(b.maximized){b.fitContainer()}else{a=b.getSizeModel();if(a.width.natural||a.height.natural){b.updateLayout()}b.doConstrain()}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,d=a.header,b=a.tools;if(d&&a.maximizable){d.suspendLayouts();b.maximize.hide();b.restore.hide();this.resumeHeaderLayout(true)}if(a.resizer){a.resizer.disable()}a.callParent(arguments)},afterExpand:function(){var a=this,e=a.header,b=a.tools,d;if(e){e.suspendLayouts();if(a.maximized){b.restore.show();d=true}else{if(a.maximizable){b.maximize.show();d=true}}this.resumeHeaderLayout(d)}if(a.resizer){a.resizer.enable()}a.callParent(arguments)},maximize:function(a){var b=this,g=b.header,d=b.tools,e;if(!b.maximized){b.expand(false);if(!b.hasSavedRestore){b.restoreSize=b.getSize();b.restorePos=b.getPosition(true)}if(g){g.suspendLayouts();if(d.maximize){d.maximize.hide();e=true}if(d.restore){d.restore.show();e=true}if(b.collapseTool){b.collapseTool.hide();e=true}b.resumeHeaderLayout(e)}b.maximized=true;b.el.disableShadow();if(b.dd){b.dd.disable();if(g){g.removeCls(g.indicateDragCls)}}if(b.resizer){b.resizer.disable()}b.el.addCls(Ext.baseCSSPrefix+"window-maximized");b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");b.syncMonitorWindowResize();b.fitContainer(a=(a||!!b.animateTarget)?{callback:function(){b.fireEvent("maximize",b)}}:null);if(!a){b.fireEvent("maximize",b)}}return b},restore:function(b){var d=this,e=d.tools,h=d.header,a=d.restoreSize,g;if(d.maximized){d.hasSavedRestore=null;d.removeCls(Ext.baseCSSPrefix+"window-maximized");if(h){h.suspendLayouts();if(e.restore){e.restore.hide();g=true}if(e.maximize){e.maximize.show();g=true}if(d.collapseTool){d.collapseTool.show();g=true}d.resumeHeaderLayout(g)}d.maximized=false;a.x=d.restorePos[0];a.y=d.restorePos[1];d.setBox(a,b=(b||!!d.animateTarget)?{callback:function(){d.el.enableShadow(true);d.fireEvent("restore",d)}}:null);d.restorePos=d.restoreSize=null;if(d.dd){d.dd.enable();if(h){h.addCls(h.indicateDragCls)}}if(d.resizer){d.resizer.enable()}d.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");d.syncMonitorWindowResize();if(!b){d.el.enableShadow(true);d.fireEvent("restore",d)}}return d},syncMonitorWindowResize:function(){var b=this,d=b._monitoringResize,e=b.monitorResize||b.constrain||b.constrainHeader||b.maximized,a=b.hidden||b.destroying||b.isDestroyed;if(e&&!a){if(!d){Ext.EventManager.onWindowResize(b.onWindowResize,b,{delay:1});b._monitoringResize=true}}else{if(d){Ext.EventManager.removeResizeListener(b.onWindowResize,b);b._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()}},0,["window"],["container","component","box","window","panel"],{container:true,component:true,box:true,window:true,panel:true},["widget.window"],0,[Ext.window,"Window",Ext,"Window"],0));(Ext.cmd.derive("Ext.form.Labelable",Ext.Base,{autoEl:{tag:"table",cellpadding:0},childEls:["labelCell","labelEl","bodyEl","sideErrorCell","errorEl","inputRow"],labelableRenderTpl:['<tr role="presentation" id="{id}-inputRow" <tpl if="inFormLayout">id="{id}"</tpl> class="{inputRowCls}">','<tpl if="labelOnLeft">','<td role="presentation" id="{id}-labelCell" style="{labelCellStyle}" {labelCellAttrs}>',"{beforeLabelTpl}",'<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","{afterLabelTpl}","</td>","</tpl>",'<td role="presentation" class="{baseBodyCls} {fieldBodyCls} {extraFieldBodyCls}" id="{id}-bodyEl" colspan="{bodyColspan}" role="presentation">',"{beforeBodyEl}","<tpl if=\"labelAlign=='top'\">","{beforeLabelTpl}",'<div role="presentation" id="{id}-labelCell" style="{labelCellStyle}">','<label id="{id}-labelEl" {labelAttrTpl}<tpl if="inputId"> for="{inputId}"</tpl> class="{labelCls}"','<tpl if="labelStyle"> style="{labelStyle}"</tpl>',' unselectable="on"',">","{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}{labelSeparator}</tpl>',"{afterLabelTextTpl}","</label>","</div>","{afterLabelTpl}","</tpl>","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","<tpl if=\"msgTarget==='side'\">","{afterBodyEl}","</td>","<td role=\"presentation\" id=\"{id}-sideErrorCell\" vAlign=\"{[values.labelAlign==='top' && !values.hideLabel ? 'bottom' : 'middle']}\" style=\"{[values.autoFitErrors ? 'display:none' : '']}\" width=\"{errorIconWidth}\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgCls}" style="display:none"></div>',"</td>","<tpl elseif=\"msgTarget=='under'\">",'<div role="presentation" id="{id}-errorEl" class="{errorMsgClass}" colspan="2" style="display:none"></div>',"{afterBodyEl}","</td>","</tpl>","</tr>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}"><tpl for="errors"><li role="alert">{.}</li></tpl></ul>',"</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",inputRowCls:Ext.baseCSSPrefix+"form-item-input-row",fieldBodyCls:"",clearCls:Ext.baseCSSPrefix+"clear",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],labelableRenderProps:["allowBlank","id","labelAlign","fieldBodyCls","extraFieldBodyCls","baseBodyCls","clearCls","labelSeparator","msgTarget","inputRowCls"],initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=="title"){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else{a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls(Ext.plainTableCls);a.addCls(a.formItemCls);a.lastActiveError="";a.addEvents("errorchange");a.enableBubble("errorchange")},trimLabelSeparator:function(){var d=this,e=d.labelSeparator,a=d.fieldLabel||"",b=a.substr(a.length-1);return b===e?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(b){b=b||"";var d=this,e=d.labelSeparator,a=d.labelEl;d.fieldLabel=b;if(d.rendered){if(Ext.isEmpty(b)&&d.hideEmptyLabel){a.parent().setDisplayed("none")}else{if(e){b=d.trimLabelSeparator()+e}a.update(b);a.parent().setDisplayed("")}d.updateLayout()}},getInsertionRenderData:function(e,g){var b=g.length,a,d;while(b--){a=g[b];d=this[a];if(d){if(typeof d!="string"){if(!d.isTemplate){d=Ext.XTemplate.getTpl(this,a)}d=d.apply(e)}}e[a]=d||""}return e},getLabelableRenderData:function(){var b=this,d,e,a=b.labelAlign==="top";if(!Ext.form.Labelable.errorIconWidth){e=Ext.getBody().createChild({style:"position:absolute",cls:Ext.baseCSSPrefix+"form-invalid-icon"});Ext.form.Labelable.errorIconWidth=e.getWidth()+e.getMargin("l");e.remove()}d=Ext.copyTo({inFormLayout:b.ownerLayout&&b.ownerLayout.type==="form",inputId:b.getInputId(),labelOnLeft:!a,hideLabel:!b.hasVisibleLabel(),fieldLabel:b.getFieldLabel(),labelCellStyle:b.getLabelCellStyle(),labelCellAttrs:b.getLabelCellAttrs(),labelCls:b.getLabelCls(),labelStyle:b.getLabelStyle(),bodyColspan:b.getBodyColspan(),externalError:!b.autoFitErrors,errorMsgCls:b.getErrorMsgCls(),errorIconWidth:Ext.form.Labelable.errorIconWidth},b,b.labelableRenderProps,true);b.getInsertionRenderData(d,b.labelableInsertions);return d},xhooks:{beforeRender:function(){var a=this;a.setFieldDefaults(a.getHierarchyState().fieldDefaults);if(a.ownerLayout){a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")}},onRender:function(){var d=this,e,a,b={};if(d.extraMargins){e=d.el.getMargin();for(a in e){if(e.hasOwnProperty(a)){b["margin-"+a]=(e[a]+d.extraMargins[a])+"px"}}d.el.setStyle(b)}}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getLabelWidth:function(){var a=this;if(!a.hasVisibleLabel()){return 0}return a.labelWidth+a.labelPad},getBodyColspan:function(){var b=this,a;if(b.msgTarget==="side"&&(!b.autoFitErrors||b.hasActiveError())){a=1}else{a=2}if(b.labelAlign!=="top"&&!b.hasVisibleLabel()){a++}return a},getLabelCls:function(){var b=this.labelCls+" "+Ext.dom.Element.unselectableCls,a=this.labelClsExtra;return a?b+" "+a:b},getLabelCellStyle:function(){var b=this,a=b.hideLabel||(!b.getFieldLabel()&&b.hideEmptyLabel);return a?"display:none;":""},getErrorMsgCls:function(){var b=this,a=(b.hideLabel||(!b.fieldLabel&&b.hideEmptyLabel));return b.errorMsgCls+(!a&&b.labelAlign==="top"?" "+Ext.baseCSSPrefix+"lbl-top-err-icon":"")},getLabelCellAttrs:function(){var d=this,b=d.labelAlign,a="";if(b!=="top"){a='valign="top" halign="'+b+'" width="'+(d.labelWidth+d.labelPad)+'"'}return a+' class="'+Ext.baseCSSPrefix+'field-label-cell"'},getLabelStyle:function(){var d=this,b=d.labelPad,a="";if(d.labelAlign!=="top"){if(d.labelWidth){a="width:"+d.labelWidth+"px;"}if(b){a+="margin-right:"+b+"px;"}}return a+(d.labelStyle||"")},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){a=Ext.Array.from(a);this.activeError=a[0];this.activeErrors=a;this.activeError=this.getTpl("activeErrorsTpl").apply({errors:a,listCls:Ext.plainListCls});this.renderActiveError()},unsetActiveError:function(){delete this.activeError;delete this.activeErrors;this.renderActiveError()},renderActiveError:function(){var d=this,b=d.getActiveError(),a=!!b;if(b!==d.lastActiveError){d.fireEvent("errorchange",d,b);d.lastActiveError=b}if(d.rendered&&!d.isDestroyed&&!d.preventMark){d.el[a?"addCls":"removeCls"](d.invalidCls);d.getActionEl().dom.setAttribute("aria-invalid",a);if(d.errorEl){d.errorEl.dom.innerHTML=b}}},setFieldDefaults:function(b){var a;for(a in b){if(!this.hasOwnProperty(a)){this[a]=b[a]}}}},0,0,0,0,0,0,[Ext.form,"Labelable"],0));(Ext.cmd.derive("Ext.form.field.Field",Ext.Base,{isFormField:true,disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,initField:function(){this.addEvents("change","validitychange","dirtychange");this.initValue()},initValue:function(){var a=this;a.value=a.transformOriginalValue(a.value);a.originalValue=a.lastValue=a.value;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--},transformOriginalValue:Ext.identityFn,getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(b,a){return String(b)===String(a)},isEqualAsString:function(b,a){return String(Ext.value(b,""))===String(Ext.value(a,""))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){b={};b[a.getName()]=""+a.getValue()}return b},getModelData:function(){var a=this,b=null;if(!a.disabled&&!a.isFileUpload()){b={};b[a.getName()]=a.getValue()}return b},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){if(!this.suspendCheckChange){var d=this,b=d.getValue(),a=d.lastValue;if(!d.isEqual(b,a)&&!d.isDestroyed){d.lastValue=b;d.fireEvent("change",d,b,a);d.onChange(b,a)}}},onChange:function(b,a){if(this.validateOnChange){this.validate()}this.checkDirty()},isDirty:function(){var a=this;return !a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.fireEvent("dirtychange",a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(a){return[]},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent("validitychange",a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,0,0,0,0,0,[Ext.form.field,"Field"],0));(Ext.cmd.derive("Ext.layout.component.field.Field",Ext.layout.component.Auto,{type:"field",naturalSizingProp:"size",beginLayout:function(d){var b=this,a=b.owner;b.callParent(arguments);d.labelStrategy=b.getLabelStrategy();d.errorStrategy=b.getErrorStrategy();d.labelContext=d.getEl("labelEl");d.bodyCellContext=d.getEl("bodyEl");d.inputContext=d.getEl("inputEl");d.errorContext=d.getEl("errorEl");if(Ext.isIE7m&&Ext.isStrict&&d.inputContext){b.ieInputWidthAdjustment=d.inputContext.getPaddingInfo().width+d.inputContext.getBorderInfo().width}d.labelStrategy.prepare(d,a);d.errorStrategy.prepare(d,a)},beginLayoutCycle:function(h){var g=this,a=g.owner,d=h.widthModel,b=a[g.naturalSizingProp],e;g.callParent(arguments);if(d.shrinkWrap){g.beginLayoutShrinkWrap(h)}else{if(d.natural){if(typeof b=="number"&&!a.inputWidth){g.beginLayoutFixed(h,(e=b*6.5+20),"px")}else{g.beginLayoutShrinkWrap(h)}h.setWidth(e,false)}else{g.beginLayoutFixed(h,"100","%")}}},beginLayoutFixed:function(d,b,g){var a=d.target,e=a.inputEl,h=a.inputWidth;a.el.setStyle("table-layout","fixed");a.bodyEl.setStyle("width",b+g);if(e){if(h){e.setStyle("width",h+"px")}else{e.setStyle("width",a.stretchInputElFixed?"100%":"")}}d.isFixed=true},beginLayoutShrinkWrap:function(b){var a=b.target,d=a.inputEl,e=a.inputWidth;if(d&&d.dom){d.dom.removeAttribute("size");if(e){d.setStyle("width",e+"px")}else{d.setStyle("width","")}}a.el.setStyle("table-layout","auto");a.bodyEl.setStyle("width","")},finishedLayout:function(b){var a=this.owner;this.callParent(arguments);b.labelStrategy.finishedLayout(b,a);b.errorStrategy.finishedLayout(b,a)},calculateOwnerHeightFromContentHeight:function(b,a){return a},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var b=this,d=b.labelStrategies,a=b.owner.labelAlign;return d[a]||d.base},getErrorStrategy:function(){var d=this,a=d.owner,e=d.errorStrategies,b=a.msgTarget;return !a.preventMark&&Ext.isString(b)?(e[b]||e.elementId):e.none},labelStrategies:(function(){var a={prepare:function(g,b){var d=b.labelCls+"-"+b.labelAlign,e=b.labelEl;if(e){e.addCls(d)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({getHeight:function(g){var d=g.labelContext,e=d.props,b=e.height;if(b===undefined){e.height=b=d.el.getHeight()}return b}},a),left:a,right:a}}()),errorStrategies:(function(){function e(k){var l=Ext.layout.component.field.Field.tip,m;if(l&&l.isVisible()){m=l.activeTarget;if(m&&m.el===k.getActionEl().dom){l.toFront(true)}}}var d=Ext.applyIf,b=Ext.emptyFn,a=Ext.baseCSSPrefix+"form-invalid-icon",h,g={prepare:function(m,k){var l=k.errorEl;if(l){l.setDisplayed(false)}},getHeight:function(){return 0},onFocus:b,finishedLayout:b};return{none:g,side:d({prepare:function(n,l){var q=l.errorEl,m=l.sideErrorCell,k=l.hasActiveError(),o;if(!h){h=(o=Ext.getBody().createChild({style:"position:absolute",cls:a})).getWidth();o.remove()}q.addCls(a);q.set({"data-errorqtip":l.getActiveError()||""});if(l.autoFitErrors){q.setDisplayed(k)}else{q.setVisible(k)}if(m&&l.autoFitErrors){m.setDisplayed(k)}l.bodyEl.dom.colSpan=l.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:e},g),under:d({prepare:function(m,k){var n=k.errorEl,l=Ext.baseCSSPrefix+"form-invalid-under";n.addCls(l);n.setDisplayed(k.hasActiveError())},getHeight:function(n){var k=0,l,m;if(n.target.hasActiveError()){l=n.errorContext;m=l.props;k=m.height;if(k===undefined){m.height=k=l.el.getHeight()}}return k}},g),qtip:d({prepare:function(l,k){Ext.layout.component.field.Field.initTip();k.getActionEl().dom.setAttribute("data-errorqtip",k.getActiveError()||"")},onFocus:e},g),title:d({prepare:function(l,k){k.getActionEl().dom.setAttribute("title",k.getActiveError()||"")}},g),elementId:d({prepare:function(l,k){var m=Ext.fly(k.msgTarget);if(m){m.dom.innerHTML=k.getActiveError()||"";m.setDisplayed(k.hasActiveError())}}},g)}}()),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{ui:"form-invalid"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}},0,0,0,0,["layout.field"],0,[Ext.layout.component.field,"Field"],0));(Ext.cmd.derive("Ext.form.field.Base",Ext.Component,{alternateClassName:["Ext.form.Field","Ext.form.BaseField"],fieldSubTpl:['<input id="{id}" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],subTplInsertions:["inputAttrTpl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],checkChangeBuffer:50,componentLayout:"field",readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",maskOnDisable:false,stretchInputElFixed:true,initComponent:function(){var a=this;a.callParent();a.subTplData=a.subTplData||{};a.addEvents("specialkey","writeablechange");a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var d=this,b=d.inputType,a=d.getInputId(),e;e=Ext.apply({id:a,cmpId:d.id,name:d.name||a,disabled:d.disabled,readOnly:d.readOnly,value:d.getRawValue(),type:b,fieldCls:d.fieldCls,fieldStyle:d.getFieldStyle(),tabIdx:d.tabIndex,inputCls:d.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b)},d.subTplData);d.getInsertionRenderData(e,d.subTplInsertions);return e},applyRenderSelectors:function(){var a=this;a.callParent();a.addChildEls("inputEl");a.inputEl=a.el.getById(a.getInputId())},getSubTplMarkup:function(){return this.getTpl("fieldSubTpl").apply(this.getSubTplData())},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,d=b.inputEl;if(d){d.applyStyles(a)}b.fieldStyle=a},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},onRender:function(){this.callParent(arguments);this.renderActiveError()},getFocusEl:function(){return this.inputEl},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var a=this,b=null,d;if(!a.disabled&&a.submitValue&&!a.isFileUpload()){d=a.getSubmitValue();if(d!==null){b={};b[a.getName()]=d}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var b=this,a=(b.inputEl?b.inputEl.getValue():Ext.value(b.rawValue,""));b.rawValue=a;return a},setRawValue:function(b){var a=this;b=Ext.value(a.transformRawValue(b),"");a.rawValue=b;if(a.inputEl){a.inputEl.dom.value=b}return b},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.value(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;a.callParent();if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=true}}},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=false;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=true;a.isValid();delete a.forceValidation}}},setReadOnly:function(d){var a=this,b=a.inputEl;d=!!d;a[d?"addCls":"removeCls"](a.readOnlyCls);a.readOnly=d;if(b){b.dom.readOnly=d}else{if(a.rendering){a.setReadOnlyOnBoxReady=true}}a.fireEvent("writeablechange",a,d)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,new Ext.EventObjectImpl(a))}},initEvents:function(){var h=this,l=h.inputEl,b,m,d=h.checkChangeEvents,k,a=d.length,g;if(l){h.mon(l,Ext.EventManager.getKeyEvent(),h.fireKey,h);b=new Ext.util.DelayedTask(h.checkChange,h);h.onChangeEvent=m=function(){b.delay(h.checkChangeBuffer)};for(k=0;k<a;k++){g=d[k];if(g==="propertychange"){h.usesPropertychange=true}h.mon(l,g,m)}}h.callParent()},doComponentLayout:function(){var d=this,e=d.inputEl,a=d.usesPropertychange,b="propertychange",g=d.onChangeEvent;if(a){d.mun(e,b,g)}d.callParent(arguments);if(a){d.mon(e,b,g)}},onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls)},isValid:function(){var b=this,a=b.disabled,d=b.forceValidation||!a;return d?b.validateValue(b.processRawValue(b.getRawValue())):a},validateValue:function(b){var a=this,e=a.getErrors(b),d=Ext.isEmpty(e);if(!a.preventMark){if(d){a.clearInvalid()}else{a.markInvalid(e)}}return d},markInvalid:function(e){var b=this,a=b.getActiveError(),d;b.setActiveErrors(Ext.Array.from(e));d=b.getActiveError();if(a!==d){b.setError(d)}},clearInvalid:function(){var b=this,a=b.hasActiveError();delete b.needsValidateOnEnable;b.unsetActiveError();if(a){b.setError("")}},setError:function(d){var b=this,a=b.msgTarget,e;if(b.rendered){if(a=="title"||a=="qtip"){if(b.rendered){e=a=="qtip"?"data-errorqtip":"title"}b.getActionEl().dom.setAttribute(e,d||"")}else{b.updateLayout()}}},renderActiveError:function(){var b=this,a=b.hasActiveError();if(b.inputEl){b.inputEl[a?"addCls":"removeCls"](b.invalidCls+"-field")}b.mixins.labelable.renderActiveError.call(b)},getActionEl:function(){return this.inputEl||this.el}},0,["field"],["component","field","box"],{component:true,field:true,box:true},["widget.field"],[["labelable",Ext.form.Labelable],["field",Ext.form.field.Field]],[Ext.form.field,"Base",Ext.form,"Field",Ext.form,"BaseField"],0));(Ext.cmd.derive("Ext.form.field.VTypes",Ext.Base,(function(){var d=/^[a-zA-Z_]+$/,e=/^[a-zA-Z0-9_]+$/,b=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(g){return b.test(g)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(g){return a.test(g)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(g){return d.test(g)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(g){return e.test(g)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),0,0,0,0,0,0,[Ext.form.field,"VTypes",Ext.form,"VTypes"],0));(Ext.cmd.derive("Ext.layout.component.field.Text",Ext.layout.component.field.Field,{type:"textfield",canGrowWidth:true,beginLayoutCycle:function(a){this.callParent(arguments);if(a.heightModel.shrinkWrap){a.inputContext.el.setStyle("height","")}},measureContentWidth:function(d){var k=this,b=k.owner,a=k.callParent(arguments),h=d.inputContext,n,m,e,l,g;if(b.grow&&k.canGrowWidth&&!d.state.growHandled){n=b.inputEl;m=Ext.util.Format.htmlEncode(n.dom.value||(b.hasFocus?"":b.emptyText)||"");m+=b.growAppend;e=n.getTextWidth(m)+h.getFrameInfo().width;l=b.growMax;g=Math.min(l,a);l=Math.max(b.growMin,l,g);e=Ext.Number.constrain(e,b.growMin,l);h.setWidth(e);d.state.growHandled=true;h.domBlock(k,"width");a=NaN}return a},publishInnerHeight:function(b,a){b.inputContext.setHeight(a-this.measureLabelErrorHeight(b))},beginLayoutFixed:function(e,a,g){var b=this,d=b.ieInputWidthAdjustment;if(d){b.adjustIEInputPadding(e);if(g==="px"){a-=d}}b.callParent(arguments)},adjustIEInputPadding:function(a){this.owner.bodyEl.setStyle("padding-right",this.ieInputWidthAdjustment+"px")}},0,0,0,0,["layout.textfield"],0,[Ext.layout.component.field,"Text"],0));(Ext.cmd.derive("Ext.form.field.Text",Ext.form.field.Base,{alternateClassName:["Ext.form.TextField","Ext.form.Text"],size:20,growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",componentLayout:"textfield",valueContainsPlaceholder:false,initComponent:function(){var a=this;if(a.allowOnlyWhitespace===false){a.allowBlank=false}a.callParent();a.addEvents("autosize","keydown","keyup","keypress");a.addStateEvents("change");a.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var b=this,a=b.inputEl;b.callParent();if(b.selectOnFocus||b.emptyText){b.mon(a,"mousedown",b.onMouseDown,b)}if(b.maskRe||(b.vtype&&b.disableKeyFilter!==true&&(b.maskRe=Ext.form.field.VTypes[b.vtype+"Mask"]))){b.mon(a,"keypress",b.filterKeys,b)}if(b.enableKeyEvents){b.mon(a,{scope:b,keyup:b.onKeyUp,keydown:b.onKeyDown,keypress:b.onKeyPress})}},isEqual:function(b,a){return this.isEqualAsString(b,a)},onChange:function(b,a){this.callParent(arguments);this.autoSize()},getSubTplData:function(){var b=this,d=b.getRawValue(),g=b.emptyText&&d.length<1,a=b.maxLength,e;if(b.enforceMaxLength){if(a===Number.MAX_VALUE){a=undefined}}else{a=undefined}if(g){if(Ext.supports.Placeholder){e=b.emptyText}else{d=b.emptyText;b.valueContainsPlaceholder=true}}return Ext.apply(b.callParent(),{maxLength:a,readOnly:b.readOnly,placeholder:e,value:d,fieldCls:b.fieldCls+((g&&(e||d))?" "+b.emptyCls:"")+(b.allowBlank?"":" "+b.requiredCls)})},afterRender:function(){this.autoSize();this.callParent()},onMouseDown:function(b){var a=this;if(!a.hasFocus){a.mon(a.inputEl,"mouseup",Ext.emptyFn,a,{single:true,preventDefault:true})}},processRawValue:function(b){var a=this,e=a.stripCharsRe,d;if(e){d=b.replace(e,"");if(d!==b){a.setRawValue(d);b=d}}return b},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var b=this,a=b.emptyText,d;if(b.rendered&&a){d=b.getRawValue().length<1&&!b.hasFocus;if(Ext.supports.Placeholder){b.inputEl.dom.placeholder=a}else{if(d){b.setRawValue(a);b.valueContainsPlaceholder=true}}if(d){b.inputEl.addCls(b.emptyCls)}b.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable="on"}}},beforeFocus:function(){var b=this,d=b.inputEl,a=b.emptyText,e;b.callParent(arguments);if((a&&!Ext.supports.Placeholder)&&(d.dom.value===b.emptyText&&b.valueContainsPlaceholder)){b.setRawValue("");e=true;d.removeCls(b.emptyCls);b.valueContainsPlaceholder=false}else{if(Ext.supports.Placeholder){b.inputEl.removeCls(b.emptyCls)}}if(b.selectOnFocus||e){if(Ext.isWebKit){if(!b.inputFocusTask){b.inputFocusTask=new Ext.util.DelayedTask(b.focusInput,b)}b.inputFocusTask.delay(1)}else{d.dom.select()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(){var a=this;a.callParent(arguments);if(a.emptyText){a.autoSize()}},postBlur:function(){this.callParent(arguments);this.applyEmptyText()},filterKeys:function(d){if(d.ctrlKey&&!d.altKey){return}var b=d.getKey(),a=String.fromCharCode(d.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(d.isNavKeyPress()||b===d.BACKSPACE||(b===d.DELETE&&d.button===-1))){return}if((!Ext.isGecko&&!Ext.isOpera)&&d.isSpecialKey()&&!a){return}if(!this.maskRe.test(a)){d.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);if(a.hasOwnProperty("value")){this.setValue(a.value)}},getRawValue:function(){var b=this,a=b.callParent();if(a===b.emptyText&&b.valueContainsPlaceholder){a=""}return a},setValue:function(b){var a=this,d=a.inputEl;if(d&&a.emptyText&&!Ext.isEmpty(b)){d.removeCls(a.emptyCls);a.valueContainsPlaceholder=false}a.callParent(arguments);a.applyEmptyText();return a},getErrors:function(o){var h=this,m=h.callParent(arguments),a=h.validator,e=h.vtype,k=Ext.form.field.VTypes,l=h.regex,n=Ext.String.format,b,g,d;o=o||h.processRawValue(h.getRawValue());if(Ext.isFunction(a)){b=a.call(h,o);if(b!==true){m.push(b)}}g=h.allowOnlyWhitespace?o:Ext.String.trim(o);if(g.length<1||(o===h.emptyText&&h.valueContainsPlaceholder)){if(!h.allowBlank){m.push(h.blankText)}if(!h.validateBlank){return m}d=true}if(!d&&o.length<h.minLength){m.push(n(h.minLengthText,h.minLength))}if(o.length>h.maxLength){m.push(n(h.maxLengthText,h.maxLength))}if(e){if(!k[e](o,h)){m.push(h.vtypeText||k[e+"Text"])}}if(l&&!l.test(o)){m.push(h.regexText||h.invalidText)}return m},selectText:function(l,a){var k=this,d=k.getRawValue(),e=true,h=k.inputEl.dom,g,b;if(d.length>0){l=l===g?0:l;a=a===g?d.length:a;if(h.setSelectionRange){h.setSelectionRange(l,a)}else{if(h.createTextRange){b=h.createTextRange();b.moveStart("character",l);b.moveEnd("character",a-d.length);b.select()}}e=Ext.isGecko||Ext.isOpera}if(e){k.focus()}},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}},afterComponentLayout:function(){var b=this,a;b.callParent(arguments);if(b.autoSizing){a=b.inputEl.getWidth();if(a!==b.lastInputWidth){b.fireEvent("autosize",b,a);b.lastInputWidth=a;delete b.autoSizing}}},onDestroy:function(){var a=this;a.callParent();if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}}},0,["textfield"],["component","field","textfield","box"],{component:true,field:true,textfield:true,box:true},["widget.textfield"],0,[Ext.form.field,"Text",Ext.form,"TextField",Ext.form,"Text"],0));(Ext.cmd.derive("Ext.layout.component.field.TextArea",Ext.layout.component.field.Text,{type:"textareafield",canGrowWidth:false,naturalSizingProp:"cols",beginLayout:function(a){this.callParent(arguments);a.target.inputEl.setStyle("height","")},measureContentHeight:function(b){var g=this,a=g.owner,n=g.callParent(arguments),d,l,k,h,e,m;if(a.grow&&!b.state.growHandled){d=b.inputContext;l=a.inputEl;e=l.getWidth(true);k=Ext.util.Format.htmlEncode(l.dom.value)||"&#160;";k+=a.growAppend;k=k.replace(/\n/g,"<br/>");m=Ext.util.TextMetrics.measure(l,k,e).height+d.getBorderInfo().height+d.getPaddingInfo().height;m=Ext.Number.constrain(m,a.growMin,a.growMax);d.setHeight(m);b.state.growHandled=true;d.domBlock(g,"height");n=NaN}return n}},0,0,0,0,["layout.textareafield"],0,[Ext.layout.component.field,"TextArea"],0));(Ext.cmd.derive("Ext.form.field.TextArea",Ext.form.field.Text,{alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="rows"> rows="{rows}" </tpl>','<tpl if="cols"> cols="{cols}" </tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",cols:20,rows:4,enterIsSpecial:false,preventScrollbars:false,componentLayout:"textareafield",setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",getSubTplData:function(){var d=this,b=d.getFieldStyle(),a=d.callParent();if(d.grow){if(d.preventScrollbars){a.fieldStyle=(b||"")+";overflow:hidden;height:"+d.growMin+"px"}}Ext.applyIf(a,{cols:d.cols,rows:d.rows});return a},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on("paste",a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},transformOriginalValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){if(a&&typeof a==="string"){a=a.replace(this.returnRe,"")}return a},onPaste:function(b){var a=this;if(!a.pasteTask){a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)}a.pasteTask.delay(1)},pasteCheck:function(){var b=this,d=b.getValue(),a=b.maxLength;if(d.length>a){d=d.substr(0,a);b.setValue(d)}},fireKey:function(g){var b=this,a=g.getKey(),d;if(g.isSpecialKey()&&(b.enterIsSpecial||(a!==g.ENTER||g.hasModifier()))){b.fireEvent("specialkey",b,g)}if(b.needsMaxCheck&&a!==g.BACKSPACE&&a!==g.DELETE&&!g.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(g,a)){d=b.getValue();if(d.length>=b.maxLength){g.stopEvent()}}},isCutCopyPasteSelectAll:function(b,a){if(b.ctrlKey){return a===b.A||a===b.C||a===b.V||a===b.X}return false},autoSize:function(){var b=this,a;if(b.grow&&b.rendered){b.updateLayout();a=b.inputEl.getHeight();if(a!==b.lastInputHeight){b.fireEvent("autosize",b,a);b.lastInputHeight=a}}},initAria:function(){this.callParent(arguments);this.getActionEl().dom.setAttribute("aria-multiline",true)},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}this.callParent()}},0,["textarea","textareafield"],["component","field","textfield","textarea","box","textareafield"],{component:true,field:true,textfield:true,textarea:true,box:true,textareafield:true},["widget.textarea","widget.textareafield"],0,[Ext.form.field,"TextArea",Ext.form,"TextArea"],0));(Ext.cmd.derive("Ext.form.field.Display",Ext.form.field.Base,{alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls}">{value}</div>',{compiled:true,disableFormats:true}],readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,isDirty:function(){return false},isValid:function(){return true},validate:function(){return true},getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;b=Ext.value(b,"");a.rawValue=b;if(a.rendered){a.inputEl.dom.innerHTML=a.getDisplayValue();a.updateLayout()}return b},getDisplayValue:function(){var a=this,b=this.getRawValue(),d;if(a.renderer){d=a.renderer.call(a.scope||a,b,a)}else{d=a.htmlEncode?Ext.util.Format.htmlEncode(b):b}return d},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}},0,["displayfield"],["component","field","box","displayfield"],{component:true,field:true,box:true,displayfield:true},["widget.displayfield"],0,[Ext.form.field,"Display",Ext.form,"DisplayField",Ext.form,"Display"],0));(Ext.cmd.derive("Ext.layout.container.Anchor",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,beginLayoutCycle:function(d){var l=this,a=0,h,m,g,e,b,k;l.callParent(arguments);g=d.childItems;b=g.length;for(e=0;e<b;++e){m=g[e];h=m.target.anchorSpec;if(h){if(m.widthModel.calculated&&h.right){a|=1}if(m.heightModel.calculated&&h.bottom){a|=2}if(a==3){break}}}d.anchorDimensions=a},calculateItems:function(k,a){var u=this,n=k.childItems,h=n.length,r=a.gotHeight,l=a.gotWidth,g=a.height,d=a.width,b=(l?1:0)|(r?2:0),t=k.anchorDimensions,o,x,q,w,m,e;if(!t){return true}for(m=0;m<h;m++){x=n[m];q=x.getMarginInfo();o=x.target.anchorSpec;if(l&&x.widthModel.calculated){e=o.right(d)-q.width;e=u.adjustWidthAnchor(e,x);x.setWidth(e)}if(r&&x.heightModel.calculated){w=o.bottom(g)-q.height;w=u.adjustHeightAnchor(w,x);x.setHeight(w)}}return(b&t)===t},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(d,h,b){if(d&&d!="none"){var e=this.anchorFactory,g;if(this.parseAnchorRE.test(d)){return e.standard(b-h)}if(d.indexOf("%")!=-1){return e.ratio(parseFloat(d.replace("%",""))*0.01)}g=parseInt(d,10);if(!isNaN(g)){return e.offset(g)}}return null},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b},configureItem:function(h){var g=this,a=g.owner,e=h.anchor,b,d,k;g.callParent(arguments);if(!h.anchor&&h.items&&!Ext.isNumber(h.width)&&!(Ext.isIE6&&Ext.isStrict)){h.anchor=e=g.defaultAnchor}if(a.anchorSize){if(typeof a.anchorSize=="number"){d=a.anchorSize}else{d=a.anchorSize.width;k=a.anchorSize.height}}else{d=a.initialConfig.width;k=a.initialConfig.height}if(e){b=e.split(" ");h.anchorSpec={right:g.parseAnchor(b[0],h.initialConfig.width,d),bottom:g.parseAnchor(b[1],h.initialConfig.height,k)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(d){var g=d.anchorSpec,a="$",e=this.sizePolicy,b;if(g){b=this.owner.getSizeModel();if(g.right&&!b.width.shrinkWrap){e=e.r}if(g.bottom&&!b.height.shrinkWrap){a="b"}}return e[a]}},0,0,0,0,["layout.anchor"],0,[Ext.layout.container,"Anchor",Ext.layout,"AnchorLayout"],0));(Ext.cmd.derive("Ext.window.MessageBox",Ext.window.Window,{OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hide-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},iconHeight:35,iconWidth:50,makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b=this,d,e;if(b.cfg.prompt||b.cfg.multiline){if(b.cfg.multiline){e=b.textArea}else{e=b.textField}d=e.getValue();e.reset()}b.hide();b.userCallback(a.itemId,d,b.cfg)},hide:function(){var b=this,a=b.cfg.cls;b.dd.endDrag();b.progressBar.reset();if(a){b.removeCls(a)}b.callParent(arguments)},constructor:function(a){var b=this;b.callParent(arguments);b.minWidth=b.defaultMinWidth=(b.minWidth||b.defaultMinWidth);b.maxWidth=b.defaultMaxWidth=(b.maxWidth||b.defaultMaxWidth);b.minHeight=b.defaultMinHeight=(b.minHeight||b.defaultMinHeight);b.maxHeight=b.defaultMaxHeight=(b.maxHeight||b.defaultMaxHeight)},initComponent:function(a){var g=this,b=g.id,e,d;g.title="&#160;";g.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[g.iconComponent=new Ext.Component({width:g.iconWidth,height:g.iconHeight}),g.promptContainer=new Ext.container.Container({flex:1,layout:"anchor",items:[g.msg=new Ext.form.field.Display({id:b+"-displayfield",cls:g.baseCls+"-text"}),g.textField=new Ext.form.field.Text({id:b+"-textfield",anchor:"100%",enableKeyEvents:true,listeners:{keydown:g.onPromptKey,scope:g}}),g.textArea=new Ext.form.field.TextArea({id:b+"-textarea",anchor:"100%",height:75})]})]});g.progressBar=new Ext.ProgressBar({id:b+"-progressbar",margins:"0 10 10 10"});g.items=[g.topContainer,g.progressBar];g.msgButtons=[];for(e=0;e<4;e++){d=g.makeButton(e);g.msgButtons[d.itemId]=d;g.msgButtons.push(d)}g.bottomTb=new Ext.toolbar.Toolbar({id:b+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[g.msgButtons[0],g.msgButtons[1],g.msgButtons[2],g.msgButtons[3]]});g.dockedItems=[g.bottomTb];g.on("close",g.onClose,g);g.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,d){var b=this;if(d.keyCode===d.RETURN||d.keyCode===10){if(b.msgButtons.ok.isVisible()){b.msgButtons.ok.handler.call(b,b.msgButtons.ok)}else{if(b.msgButtons.yes.isVisible()){b.msgButtons.yes.handler.call(b,b.msgButtons.yes)}}}},reconfigure:function(o){var q=this,r=0,m=true,a=q.buttonText,t=q.resizer,b,d,u,l,e,k,h,n,g;q.updateButtonText();o=o||{};q.cfg=o;if(o.width){d=o.width}if(o.height){u=o.height}q.minWidth=o.minWidth||q.defaultMinWidth;q.maxWidth=o.maxWidth||q.defaultMaxWidth;q.minHeight=o.minHeight||q.defaultMinHeight;q.maxHeight=o.maxHeight||q.defaultMaxHeight;if(t){b=t.resizeTracker;t.minWidth=b.minWidth=q.minWidth;t.maxWidth=b.maxWidth=q.maxWidth;t.minHeight=b.minHeight=q.minHeight;t.maxHeight=b.maxHeight=q.maxHeight}delete q.defaultFocus;if(o.defaultFocus){q.defaultFocus=o.defaultFocus}q.animateTarget=o.animateTarget||undefined;q.modal=o.modal!==false;q.setTitle(o.title||"");q.setIconCls(o.iconCls||"");if(Ext.isObject(o.buttons)){q.buttonText=o.buttons;r=0}else{q.buttonText=o.buttonText||q.buttonText;r=Ext.isNumber(o.buttons)?o.buttons:0}r=r|q.updateButtonText();q.buttonText=a;Ext.suspendLayouts();delete q.width;delete q.height;if(d||u){if(d){q.setWidth(d)}if(u){q.setHeight(u)}}q.hidden=false;if(!q.rendered){q.render(Ext.getBody())}q.closable=o.closable!==false&&!o.wait;q.header.child("[type=close]").setVisible(q.closable);if(!o.title&&!q.closable&&!o.iconCls){q.header.hide()}else{q.header.show()}q.liveDrag=!o.proxyDrag;q.userCallback=Ext.Function.bind(o.callback||o.fn||Ext.emptyFn,o.scope||Ext.global);q.setIcon(o.icon,o.iconWidth,o.iconHeight);h=q.msg;if(o.msg){h.setValue(o.msg);h.show()}else{h.hide()}e=q.textArea;k=q.textField;if(o.prompt||o.multiline){q.multiline=o.multiline;if(o.multiline){e.setValue(o.value);e.setHeight(o.defaultTextHeight||q.defaultTextHeight);e.show();k.hide();q.defaultFocus=e}else{k.setValue(o.value);e.hide();k.show();q.defaultFocus=k}}else{e.hide();k.hide()}n=q.progressBar;if(o.progress||o.wait){n.show();q.updateProgress(0,o.progressText);if(o.wait===true){n.wait(o.waitConfig)}}else{n.hide()}g=q.msgButtons;for(l=0;l<4;l++){if(r&Math.pow(2,l)){if(!q.defaultFocus){q.defaultFocus=g[l]}g[l].show();m=false}else{g[l].hide()}}if(m){q.bottomTb.hide()}else{q.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var e=this,d=e.buttonText,b=0,g,a;for(g in d){if(d.hasOwnProperty(g)){a=e.msgButtons[g];if(a){if(e.cfg&&e.cfg.buttonText){b=b|Math.pow(2,Ext.Array.indexOf(e.buttonIds,g))}if(a.text!=d[g]){a.setText(d[g])}}}}return b},show:function(a){var d=this,b;if(Ext.AbstractComponent.layoutSuspendCount){Ext.on({resumelayouts:function(){d.show(a)},single:true});return d}d.reconfigure(a);if(a.cls){d.addCls(a.cls)}b=d.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");d.preventFocusOnActivate=!b.length;d.hidden=true;d.callParent();return d},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(e,d,a){var g=this,h=g.iconComponent,b=g.messageIconCls;if(b){h.removeCls(b)}if(e){h.show();h.setSize(d||g.iconWidth,a||g.iconHeight);h.addCls(Ext.baseCSSPrefix+"dlg-icon");h.addCls(g.messageIconCls=e)}else{h.removeCls(Ext.baseCSSPrefix+"dlg-icon");h.hide()}return g},updateProgress:function(b,a,d){this.progressBar.updateProgress(b,a);if(d){this.updateText(d)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(a,e,d,b){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,msg:e,buttons:this.YESNO,callback:d,scope:b}}return this.show(a)},prompt:function(b,h,e,d,a,g){if(Ext.isString(b)){b={prompt:true,title:b,minWidth:this.minPromptWidth,msg:h,buttons:this.OKCANCEL,callback:e,scope:d,multiline:a,value:g}}return this.show(b)},wait:function(a,d,b){if(Ext.isString(a)){a={title:d,msg:a,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:b}}return this.show(a)},alert:function(a,e,d,b){if(Ext.isString(a)){a={title:a,msg:e,buttons:this.OK,fn:d,scope:b,minWidth:this.minWidth}}return this.show(a)},progress:function(a,d,b){if(Ext.isString(a)){a={title:a,msg:d,progress:true,progressText:b}}return this.show(a)}},1,["messagebox"],["container","component","box","window","panel","messagebox"],{container:true,component:true,box:true,window:true,panel:true,messagebox:true},["widget.messagebox"],0,[Ext.window,"MessageBox"],function(){Ext.MessageBox=Ext.Msg=new this()}));(Ext.cmd.derive("Ext.form.Basic",Ext.util.Observable,{alternateClassName:"Ext.form.BasicForm",constructor:function(b,d){var e=this,a;e.owner=b;e.checkValidityTask=new Ext.util.DelayedTask(e.checkValidity,e);e.checkDirtyTask=new Ext.util.DelayedTask(e.checkDirty,e);e.monitor=new Ext.container.Monitor({selector:"[isFormField]",scope:e,addHandler:e.onFieldAdd,removeHandler:e.onFieldRemove});e.monitor.bind(b);Ext.apply(e,d);if(Ext.isString(e.paramOrder)){e.paramOrder=e.paramOrder.split(/[\s,|]/)}a=e.reader;if(a&&!a.isReader){if(typeof a==="string"){a={type:a}}e.reader=Ext.createByAlias("reader."+a.type,a)}a=e.errorReader;if(a&&!a.isReader){if(typeof a==="string"){a={type:a}}e.errorReader=Ext.createByAlias("reader."+a.type,a)}e.addEvents("beforeaction","actionfailed","actioncomplete","validitychange","dirtychange");e.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var b=this,a=b.monitor;if(a){a.unbind();b.monitor=null}b.clearListeners();b.checkValidityTask.cancel();b.checkDirtyTask.cancel()},onFieldAdd:function(b){var a=this;a.mon(b,"validitychange",a.checkValidityDelay,a);a.mon(b,"dirtychange",a.checkDirtyDelay,a);if(a.initialized){a.checkValidityDelay()}},onFieldRemove:function(b){var a=this;a.mun(b,"validitychange",a.checkValidityDelay,a);a.mun(b,"dirtychange",a.checkDirtyDelay,a);if(a.initialized){a.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||a.getCount()===0){a=this._boundItems=new Ext.util.MixedCollection();a.addAll(this.owner.query("[formBind]"))}return a},hasInvalidField:function(){return !!this.getFields().findBy(function(d){var a=d.preventMark,b;d.preventMark=true;b=d.isValid();d.preventMark=a;return !b})},isValid:function(){var a=this,b;Ext.suspendLayouts();b=a.getFields().filterBy(function(d){return !d.validate()});Ext.resumeLayouts(true);return b.length<1},checkValidity:function(){var b=this,a=!b.hasInvalidField();if(a!==b.wasValid){b.onValidityChange(a);b.fireEvent("validitychange",b,a);b.wasValid=a}},checkValidityDelay:function(){this.checkValidityTask.delay(10)},onValidityChange:function(h){var e=this.getBoundItems(),b,d,a,g;if(e){b=e.items;a=b.length;for(d=0;d<a;d++){g=b[d];if(g.disabled===h){g.setDisabled(!h)}}}},isDirty:function(){return !!this.getFields().findBy(function(a){return a.isDirty()})},checkDirtyDelay:function(){this.checkDirtyTask.delay(10)},checkDirty:function(){var a=this.isDirty();if(a!==this.wasDirty){this.fireEvent("dirtychange",this,a);this.wasDirty=a}},hasUpload:function(){return !!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(b,a){if(Ext.isString(b)){b=Ext.ClassManager.instantiateByAlias("formaction."+b,Ext.apply({},a,{form:this}))}if(this.fireEvent("beforeaction",this,b)!==false){this.beforeAction(b);Ext.defer(b.run,100,b)}return this},submit:function(a){a=a||{};var b=this,d;if(a.standardSubmit||b.standardSubmit){d="standardsubmit"}else{d=b.api?"directsubmit":"submit"}return b.doAction(d,a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(d){d=d||this._record;if(!d){return this}var b=d.fields.items,e=this.getFieldValues(),k={},h=0,a=b.length,g;for(;h<a;++h){g=b[h].name;if(e.hasOwnProperty(g)){k[g]=e[g]}}d.beginEdit();d.set(k);d.endEdit();return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(d){var h=this,b=d.waitMsg,m=Ext.baseCSSPrefix+"mask-loading",e=h.getFields().items,g,l=e.length,k,a;for(g=0;g<l;g++){k=e[g];if(k.isFormField&&k.syncValue){k.syncValue()}}if(b){a=h.waitMsgTarget;if(a===true){h.owner.el.mask(b,m)}else{if(a){a=h.waitMsgTarget=Ext.get(a);a.mask(b,m)}else{h.floatingAncestor=h.owner.up("[floating]");if(h.floatingAncestor){h.savePreventFocusOnActivate=h.floatingAncestor.preventFocusOnActivate;h.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(b,d.waitTitle||h.waitTitle)}}}},afterAction:function(d,g){var a=this;if(d.waitMsg){var b=Ext.MessageBox,e=a.waitMsgTarget;if(e===true){a.owner.el.unmask()}else{if(e){e.unmask()}else{b.hide()}}}if(a.floatingAncestor){a.floatingAncestor.preventFocusOnActivate=a.savePreventFocusOnActivate}if(g){if(d.reset){a.reset()}Ext.callback(d.success,d.scope||d,[a,d]);a.fireEvent("actioncomplete",a,d)}else{Ext.callback(d.failure,d.scope||d,[a,d]);a.fireEvent("actionfailed",a,d)}},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.getName()===a})},markInvalid:function(m){var g=this,k,a,b,h,d;function l(e,o){var n=g.findField(e);if(n){n.markInvalid(o)}}if(Ext.isArray(m)){a=m.length;for(k=0;k<a;k++){b=m[k];l(b.id,b.msg)}}else{if(m instanceof Ext.data.Errors){a=m.items.length;for(k=0;k<a;k++){b=m.items[k];l(b.field,b.message)}}else{for(d in m){if(m.hasOwnProperty(d)){h=m[d];l(d,h,m)}}}}return this},setValues:function(b){var e=this,a,d,k,h;function g(l,n){var m=e.findField(l);if(m){m.setValue(n);if(e.trackResetOnLoad){m.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(b)){d=b.length;for(a=0;a<d;a++){k=b[a];g(k.id,k.value)}}else{Ext.iterate(b,g)}Ext.resumeLayouts(true);return this},getValues:function(l,m,r,o){var q={},h=this.getFields().items,k,t=h.length,g=Ext.isArray,n,e,d,b,a;for(k=0;k<t;k++){n=h[k];if(!m||n.isDirty()){e=n[o?"getModelData":"getSubmitData"](r);if(Ext.isObject(e)){for(a in e){if(e.hasOwnProperty(a)){d=e[a];if(r&&d===""){d=n.emptyText||""}if(q.hasOwnProperty(a)){b=q[a];if(!g(b)){b=q[a]=[b]}if(g(d)){q[a]=b.concat(d)}else{b.push(d)}}else{q[a]=d}}}}}}if(l){q=Ext.Object.toQueryString(q)}return q},getFieldValues:function(a){return this.getValues(false,a,false,true)},clearInvalid:function(){Ext.suspendLayouts();var b=this,a=b.getFields().items,d,e=a.length;for(d=0;d<e;d++){a[d].clearInvalid()}Ext.resumeLayouts(true);return b},reset:function(b){Ext.suspendLayouts();var d=this,a=d.getFields().items,e,g=a.length;for(e=0;e<g;e++){a[e].reset()}Ext.resumeLayouts(true);if(b===true){delete d._record}return d},applyToFields:function(d){var a=this.getFields().items,b,e=a.length;for(b=0;b<e;b++){Ext.apply(a[b],d)}return this},applyIfToFields:function(d){var a=this.getFields().items,b,e=a.length;for(b=0;b<e;b++){Ext.applyIf(a[b],d)}return this}},1,0,0,0,0,0,[Ext.form,"Basic",Ext.form,"BasicForm"],0));(Ext.cmd.derive("Ext.form.FieldAncestor",Ext.Base,{xhooks:{initHierarchyState:function(a){if(this.fieldDefaults){if(a.fieldDefaults){a.fieldDefaults=Ext.apply(Ext.Object.chain(a.fieldDefaults),this.fieldDefaults)}else{a.fieldDefaults=this.fieldDefaults}}}},initFieldAncestor:function(){var a=this;a.addEvents("fieldvaliditychange","fielderrorchange");a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},onChildFieldAdd:function(b){var a=this;a.mon(b,"errorchange",a.handleFieldErrorChange,a);a.mon(b,"validitychange",a.handleFieldValidityChange,a)},onChildFieldRemove:function(b){var a=this;a.mun(b,"errorchange",a.handleFieldErrorChange,a);a.mun(b,"validitychange",a.handleFieldValidityChange,a)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(d,b){var a=this;if(d!==a){a.fireEvent("fieldvaliditychange",a,d,b);a.onFieldValidityChange(d,b)}},handleFieldErrorChange:function(b,a){var d=this;if(b!==d){d.fireEvent("fielderrorchange",d,b,a);d.onFieldErrorChange(b,a)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}},0,0,0,0,0,0,[Ext.form,"FieldAncestor"],0));(Ext.cmd.derive("Ext.layout.component.field.FieldContainer",Ext.layout.component.field.Field,{type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(b){var a=this.owner;this.callParent(arguments);b.hasRawContent=true;a.bodyEl.setStyle("height","");a.containerEl.setStyle("height","");b.containerElContext=b.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerWidth:function(d,b){var e=d.bodyCellContext,a=e.el.getWidth();e.setWidth(a,false);d.containerElContext.setWidth(a,false)},publishInnerHeight:function(b,a){var d=b.bodyCellContext,e=b.containerElContext;a-=this.measureLabelErrorHeight(b);d.setHeight(a);e.setHeight(a)}},0,0,0,0,["layout.fieldcontainer"],0,[Ext.layout.component.field,"FieldContainer"],0));(Ext.cmd.derive("Ext.form.FieldContainer",Ext.container.Container,{componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:'<div id="{id}-containerEl" class="{containerElCls}">{%this.renderContainer(out,values)%}</div>',initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();a.callParent();a.initMonitor()},getOverflowEl:function(){return this.containerEl},onAdd:function(a){var b=this;if(Ext.isGecko&&b.layout.type==="absolute"&&!b.hideLabel&&b.labelAlign!=="top"){a.x+=(b.labelWidth+b.labelPad)}b.callParent(arguments);if(b.combineLabels){a.oldHideLabel=a.hideLabel;a.hideLabel=true}b.updateLabel()},onRemove:function(a,b){var d=this;d.callParent(arguments);if(!b){if(d.combineLabels){a.hideLabel=a.oldHideLabel}d.updateLabel()}},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},initRenderData:function(){var a=this,b=a.callParent();b.containerElCls=a.containerElCls;return Ext.applyIf(b,a.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";if(!a&&this.combineLabels){a=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)}return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var d=this,a=d.getTpl("fieldSubTpl"),b;if(!a.renderContent){d.setupRenderTpl(a)}b=a.apply(d.getSubTplData());return b},updateLabel:function(){var b=this,a=b.labelEl;if(a){b.setFieldLabel(b.getFieldLabel())}},onFieldErrorChange:function(g,b){if(this.combineErrors){var e=this,h=e.getActiveError(),d=Ext.Array.filter(e.query("[isFormField]"),function(k){return k.hasActiveError()}),a=e.getCombinedErrors(d);if(a){e.setActiveErrors(a)}else{e.unsetActiveError()}if(h!==e.getActiveError()){e.doComponentLayout()}}},getCombinedErrors:function(g){var n=[],d,o=g.length,l,e,m,b,h,k;for(d=0;d<o;d++){l=g[d];e=l.getActiveErrors();b=e.length;for(m=0;m<b;m++){h=e[m];k=l.getFieldLabel();n.push((k?k+": ":"")+h)}}return n},getTargetEl:function(){return this.containerEl},applyTargetCls:function(b){var a=this.containerElCls;this.containerElCls=a?a+" "+b:b}},0,["fieldcontainer"],["container","component","fieldcontainer","box"],{container:true,component:true,fieldcontainer:true,box:true},["widget.fieldcontainer"],[["labelable",Ext.form.Labelable],["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldContainer"],0));(Ext.cmd.derive("Ext.layout.container.CheckboxGroup",Ext.layout.container.Container,{autoFlex:true,type:"checkboxgroup",createsInnerCt:true,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","</td>","</tpl>","</tr></tbody></table>"],lastOwnerItemsGeneration:null,beginLayout:function(b){var m=this,g,e,k,a,l,h=0,o=0,n=m.autoFlex,d=m.innerCt.dom.style;m.callParent(arguments);g=m.columnNodes;b.innerCtContext=b.getEl("innerCt",m);if(!b.widthModel.shrinkWrap){e=g.length;if(m.columnsArray){for(k=0;k<e;k++){a=m.owner.columns[k];if(a<1){h+=a;o++}}for(k=0;k<e;k++){a=m.owner.columns[k];if(a<1){l=((a/h)*100)+"%"}else{l=a+"px"}g[k].style.width=l}}else{for(k=0;k<e;k++){l=n?(1/e*100)+"%":"";g[k].style.width=l;o++}}if(!o){d.tableLayout="fixed";d.width=""}else{if(o<e){d.tableLayout="fixed";d.width="100%"}else{d.tableLayout="auto";if(n){d.width="100%"}else{d.width=""}}}}else{d.tableLayout="auto";d.width=""}},cacheElements:function(){var a=this;a.callParent();a.rowEl=a.innerCt.down("tr");a.columnNodes=a.rowEl.dom.childNodes},calculate:function(k){var g=this,d,b,a,l,e,h;if(!k.getDomProp("containerChildrenSizeDone")){g.done=false}else{d=k.innerCtContext;b=k.widthModel.shrinkWrap;a=k.heightModel.shrinkWrap;l=a||b;e=d.el.dom;h=l&&d.getPaddingInfo();if(b){k.setContentWidth(e.offsetWidth+h.width,true)}if(a){k.setContentHeight(e.offsetHeight+h.height,true)}}},doRenderColumn:function(e,o,h){var l=o.$layout,d=l.owner,g=o.columnCount,k=d.items.items,b=k.length,q,a,m,n,r;if(d.vertical){m=Math.ceil(b/g);a=h*m;b=Math.min(b,a+m);n=1}else{a=h;n=g}for(;a<b;a+=n){q=k[a];l.configureItem(q);r=q.getRenderTree();Ext.DomHelper.generateMarkup(r,e)}},getColumnCount:function(){var b=this,a=b.owner,d=a.columns;if(b.columnsArray){return d.length}if(Ext.isNumber(d)){return d}return a.items.length},getItemSizePolicy:function(a){return this.autoSizePolicy},getRenderData:function(){var m=this,h=m.callParent(),b=m.owner,k,e=m.getColumnCount(),a,d,l,n=m.autoFlex,g=0,o=0;if(m.columnsArray){for(k=0;k<e;k++){a=m.owner.columns[k];if(a<1){g+=a;o++}}}h.colCls=b.groupCls;h.columnCount=e;h.columns=[];for(k=0;k<e;k++){d=(h.columns[k]={});if(m.columnsArray){a=m.owner.columns[k];if(a<1){l=((a/g)*100)+"%"}else{l=a+"px"}d.style="width:"+l}else{d.style="width:"+(1/e*100)+"%";o++}}h.tableStyle=!o?"table-layout:fixed;":(o<e)?"table-layout:fixed;width:100%":(n)?"table-layout:auto;width:100%":"table-layout:auto;";return h},initLayout:function(){var b=this,a=b.owner;b.columnsArray=Ext.isArray(a.columns);b.autoColumns=!a.columns||a.columns==="auto";b.vertical=a.vertical;b.callParent()},isValidParent:function(){return true},setupRenderTpl:function(a){this.callParent(arguments);a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this,b=a.owner.items.generation;if(a.lastOwnerItemsGeneration!==b){a.lastOwnerItemsGeneration=b;a.renderItems(a.getLayoutItems())}},renderItems:function(g){var h=this,a=g.length,b,m,l,e,k,d;if(a){Ext.suspendLayouts();if(h.autoColumns){h.addMissingColumns(a)}e=h.columnNodes.length;l=Math.ceil(a/e);for(b=0;b<a;b++){m=g[b];k=h.getRenderRowIndex(b,l,e);d=h.getRenderColumnIndex(b,l,e);if(!m.rendered){h.renderItem(m,k,d)}else{if(!h.isItemAtPosition(m,k,d)){h.moveItem(m,k,d)}}}if(h.autoColumns){h.removeExceedingColumns(a)}Ext.resumeLayouts(true)}},isItemAtPosition:function(b,d,a){return b.el.dom===this.getNodeAt(d,a)},getRenderColumnIndex:function(b,a,d){if(this.vertical){return Math.floor(b/a)}else{return b%d}},getRenderRowIndex:function(b,a,e){var d=this;if(d.vertical){return b%a}else{return Math.floor(b/e)}},getNodeAt:function(b,a){return this.columnNodes[a].childNodes[b]},addMissingColumns:function(a){var h=this,d=h.columnNodes.length,g,k,b,e;if(d<a){g=a-d;k=h.rowEl;b=h.owner.groupCls;for(e=0;e<g;e++){k.createChild({cls:b,tag:"td",vAlign:"top"})}}},removeExceedingColumns:function(a){var g=this,b=g.columnNodes.length,e,h,d;if(b>a){e=b-a;h=g.rowEl;for(d=0;d<e;d++){h.last().remove()}}},renderItem:function(d,e,a){var b=this;b.configureItem(d);d.render(Ext.get(b.columnNodes[a]),e);b.afterRenderItem(d)},moveItem:function(e,h,b){var d=this,a=d.columnNodes[b],g=a.childNodes[h];a.insertBefore(e.el.dom,g||null)}},0,0,0,0,["layout.checkboxgroup"],0,[Ext.layout.container,"CheckboxGroup"],0));(Ext.cmd.derive("Ext.form.CheckboxManager",Ext.util.MixedCollection,{singleton:true,getByName:function(a,b){return this.filterBy(function(d){return d.name==a&&d.getFormId()==b})}},0,0,0,0,0,0,[Ext.form,"CheckboxManager"],0));(Ext.cmd.derive("Ext.form.field.Checkbox",Ext.form.field.Base,{alternateClassName:"Ext.form.Checkbox",componentLayout:"field",stretchInputElFixed:false,childEls:["boxLabelEl"],fieldSubTpl:["<tpl if=\"boxLabel && boxLabelAlign == 'before'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="{inputTypeAttr}" id="{id}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl if="ariaAttrs"> {ariaAttrs}</tpl>',' class="{fieldCls} {typeCls} {inputCls} {childElCls}" autocomplete="off" hidefocus="true" />',"<tpl if=\"boxLabel && boxLabelAlign == 'after'\">","{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} {boxLabelCls}-{boxLabelAlign}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",{disableFormats:true,compiled:true}],subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",extraFieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",inputTypeAttr:"button",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){this.callParent(arguments);this.getManager().add(this)},initValue:function(){var b=this,a=!!b.checked;b.originalValue=b.lastValue=a;b.setValue(a)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return a.callParent()},getFieldStyle:function(){return Ext.isObject(this.fieldStyle)?Ext.DomHelper.generateStyles(this.fieldStyle):this.fieldStyle||""},getSubTplData:function(){var a=this;return Ext.apply(a.callParent(),{disabled:a.readOnly||a.disabled,boxLabel:a.boxLabel,boxLabelCls:a.boxLabelCls,boxLabelAlign:a.boxLabelAlign,inputTypeAttr:a.inputTypeAttr})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a)},setBoxLabel:function(a){var b=this;b.boxLabel=a;if(b.rendered){b.boxLabelEl.update(a)}},onBoxClick:function(b){var a=this;if(!a.disabled&&!a.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(b,a){return(b===true||b==="true"||b==="1"||b===1||(((Ext.isString(b)||Ext.isNumber(b))&&a)?b==a:this.onRe.test(b)))},setRawValue:function(d){var b=this,e=b.inputEl,a=b.isChecked(d,b.inputValue);if(e){b[a?"addCls":"removeCls"](b.checkedCls)}b.checked=b.rawValue=a;return a},setValue:function(h){var g=this,d,b,a,e;if(Ext.isArray(h)){d=g.getManager().getByName(g.name,g.getFormId()).items;a=d.length;for(b=0;b<a;++b){e=d[b];e.setValue(Ext.Array.contains(h,e.inputValue))}}else{g.callParent(arguments)}return g},valueToRaw:function(a){return a},onChange:function(b,a){var e=this,d=e.handler;if(d){d.call(e.scope||e,e,b)}e.callParent(arguments)},resetOriginalValue:function(b){var h=this,e,g,a,d;if(!b){e=h.getManager().getByName(h.name,h.getFormId()).items;a=e.length;for(d=0;d<a;++d){g=e[d];if(g!==h){e[d].resetOriginalValue(true)}}}h.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=a.readOnly}},setReadOnly:function(d){var a=this,b=a.inputEl;if(b){b.dom.disabled=!!d||a.disabled}a.callParent(arguments)},getFormId:function(){var b=this,a;if(!b.formId){a=b.up("form");if(a){b.formId=a.id}}return b.formId}},0,["checkbox","checkboxfield"],["component","field","checkbox","box","checkboxfield"],{component:true,field:true,checkbox:true,box:true,checkboxfield:true},["widget.checkbox","widget.checkboxfield"],0,[Ext.form.field,"Checkbox",Ext.form,"Checkbox"],0));(Ext.cmd.derive("Ext.form.CheckboxGroup",Ext.form.FieldContainer,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",initComponent:function(){var a=this;a.callParent();a.initField()},initValue:function(){var b=this,a=b.value;b.originalValue=b.lastValue=a||b.getValue();if(a){b.setValue(a)}},onAdd:function(g){var e=this,b,a,d;if(g.isCheckbox){e.mon(g,"change",e.checkChange,e)}else{if(g.isContainer){b=g.items.items;for(d=0,a=b.length;d<a;d++){e.onAdd(b[d])}}}e.callParent(arguments)},onRemove:function(g){var e=this,b,a,d;if(g.isCheckbox){e.mun(g,"change",e.checkChange,e)}else{if(g.isContainer){b=g.items.items;for(d=0,a=b.length;d<a;d++){e.onRemove(b[d])}}}e.callParent(arguments)},isEqual:function(b,a){var d=Ext.Object.toQueryString;return d(b)===d(a)},getErrors:function(){var a=[];if(!this.allowBlank&&Ext.isEmpty(this.getChecked())){a.push(this.blankText)}return a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(b,a){Ext.Array.forEach(this.getBoxes(),b,a||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var d=this.getBoxes(),a,e=d.length;for(a=0;a<e;a++){if(d[a].isDirty()){return true}}},setReadOnly:function(g){var d=this.getBoxes(),a,e=d.length;for(a=0;a<e;a++){d[a].setReadOnly(g)}this.readOnly=g},reset:function(){var d=this,b=d.hasActiveError(),a=d.preventMark;d.preventMark=true;d.batchChanges(function(){var g=d.getBoxes(),e,h=g.length;for(e=0;e<h;e++){g[e].reset()}});d.preventMark=a;d.unsetActiveError();if(b){d.updateLayout()}},resetOriginalValue:function(){var e=this,d=e.getBoxes(),a,g=d.length;for(a=0;a<g;a++){d[a].resetOriginalValue()}e.originalValue=e.getValue();e.checkDirty()},setValue:function(k){var h=this,e=h.getBoxes(),a,m=e.length,g,d,l;h.batchChanges(function(){for(a=0;a<m;a++){g=e[a];d=g.getName();l=false;if(k&&k.hasOwnProperty(d)){if(Ext.isArray(k[d])){l=Ext.Array.contains(k[d],g.inputValue)}else{l=k[d]}}g.setValue(l)}});return h},getValue:function(){var e={},h=this.getBoxes(),d,m=h.length,k,g,a,l;for(d=0;d<m;d++){k=h[d];g=k.getName();a=k.inputValue;if(k.getValue()){if(e.hasOwnProperty(g)){l=e[g];if(!Ext.isArray(l)){l=e[g]=[l]}l.push(a)}else{e[g]=a}}}return e},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var a=this,e,d,b;if(a.disabled){d=true}else{e=a.getErrors();d=Ext.isEmpty(e);b=a.wasValid;if(d){a.unsetActiveError()}else{a.setActiveError(e)}}if(d!==b){a.wasValid=d;a.fireEvent("validitychange",a,d);a.updateLayout()}return d}},0,["checkboxgroup"],["container","component","checkboxgroup","fieldcontainer","box"],{container:true,component:true,checkboxgroup:true,fieldcontainer:true,box:true},["widget.checkboxgroup"],[["field",Ext.form.field.Field]],[Ext.form,"CheckboxGroup"],function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}));(Ext.cmd.derive("Ext.form.FieldSet",Ext.container.Container,{collapsed:false,toggleOnTitleClick:true,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" class="{baseCls}-body {bodyTargetCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:false,beforeDestroy:function(){var b=this,a=b.legend;if(a){delete a.ownerCt;a.destroy();b.legend=null}b.callParent()},initComponent:function(){var b=this,a=b.baseCls;b.initFieldAncestor();b.callParent();b.layout.managePadding=b.layout.manageOverflow=false;b.addEvents("beforeexpand","beforecollapse","expand","collapse");if(b.collapsed){b.addCls(a+"-collapsed");b.collapse()}if(b.title||b.checkboxToggle||b.collapsible){b.addTitleClasses();b.legend=Ext.widget(b.createLegendCt())}b.initMonitor()},initPadding:function(g){var d=this,a=d.getProtoBody(),e=d.padding,b;if(e!==undefined){if(Ext.isIEQuirks||Ext.isIE8m){e=d.parseBox(e);b=Ext.Element.parseBox(0);b.top=e.top;e.top=0;a.setStyle("padding",d.unitizeBox(b))}g.setStyle("padding",d.unitizeBox(e))}},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:true})}return a},initRenderData:function(){var a=this,b=a.callParent();b.bodyTargetCls=a.bodyTargetCls;a.protoBody.writeTo(b);delete a.protoBody;return b},getState:function(){var a=this.callParent();a=this.addPropertyToState(a,"collapsed");return a},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return true},collapsedVertical:function(){return true},createLegendCt:function(){var d=this,a=[],b={xtype:"container",baseCls:d.baseCls+"-header",id:d.id+"-legend",autoEl:"legend",items:a,ownerCt:d,shrinkWrap:true,ownerLayout:d.componentLayout};if(d.checkboxToggle){a.push(d.createCheckboxCmp())}else{if(d.collapsible){a.push(d.createToggleCmp())}}a.push(d.createTitleCmp());return b},createTitleCmp:function(){var b=this,a={xtype:"component",html:b.title,cls:b.baseCls+"-header-text",id:b.id+"-legendTitle"};if(b.collapsible&&b.toggleOnTitleClick){a.listeners={click:{element:"el",scope:b,fn:b.toggle}};a.cls+=" "+b.baseCls+"-header-text-collapsible"}return(b.titleCmp=Ext.widget(a))},createCheckboxCmp:function(){var a=this,b="-checkbox";a.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:true,name:a.checkboxName||a.id+b,cls:a.baseCls+"-header"+b,id:a.id+"-legendChk",checked:!a.collapsed,listeners:{change:a.onCheckChange,scope:a}});return a.checkboxCmp},createToggleCmp:function(){var a=this;a.toggleCmp=Ext.widget({xtype:"tool",height:15,width:15,type:"toggle",handler:a.toggle,id:a.id+"-legendToggle",scope:a});return a.toggleCmp},doRenderLegend:function(b,g){var e=g.$comp,d=e.legend,a;if(d){d.ownerLayout.configureItem(d);a=d.getRenderTree();Ext.DomHelper.generateMarkup(a,b)}},finishRender:function(){var a=this.legend;this.callParent();if(a){a.finishRender()}},getCollapsed:function(){return this.collapsed?"top":false},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(e){var d=this,b=d.legend,a=d.baseCls;d.title=e;if(d.rendered){if(!b){d.legend=b=Ext.widget(d.createLegendCt());d.addTitleClasses();b.ownerLayout.configureItem(b);b.render(d.el,0)}d.titleCmp.update(e)}else{if(b){d.titleCmp.update(e)}else{d.addTitleClasses();d.legend=Ext.widget(d.createLegendCt())}}return d},addTitleClasses:function(){var b=this,d=b.title,a=b.baseCls;if(d){b.addCls(a+"-with-title")}if(d||b.checkboxToggle||b.collapsible){b.addCls(a+"-with-header")}},applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},getDefaultContentTarget:function(){return this.body},expand:function(){return this.setExpanded(true)},collapse:function(){return this.setExpanded(false)},setExpanded:function(b){var d=this,e=d.checkboxCmp,a=b?"expand":"collapse";if(!d.rendered||d.fireEvent("before"+a,d)!==false){b=!!b;if(e){e.setValue(b)}if(b){d.removeCls(d.baseCls+"-collapsed")}else{d.addCls(d.baseCls+"-collapsed")}d.collapsed=!b;if(b){delete d.getHierarchyState().collapsed}else{d.getHierarchyState().collapsed=true}if(d.rendered){d.updateLayout({isRoot:false});d.fireEvent(a,d)}}return d},getRefItems:function(a){var d=this.callParent(arguments),b=this.legend;if(b){d.unshift(b);if(a){d.unshift.apply(d,b.getRefItems(true))}}return d},toggle:function(){this.setExpanded(!!this.collapsed)},onCheckChange:function(b,a){this.setExpanded(a)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}},0,["fieldset"],["container","component","fieldset","box"],{container:true,component:true,fieldset:true,box:true},["widget.fieldset"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"FieldSet"],0));(Ext.cmd.derive("Ext.form.Panel",Ext.panel.Panel,{alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var a=this;if(a.frame){a.border=false}a.initFieldAncestor();a.callParent();a.relayEvents(a.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(a.pollForChanges){a.startPolling(a.pollInterval||500)}},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){var b={},e=this.basicFormConfigs,a=e.length,d=0,g;for(;d<a;++d){g=e[d];b[g]=this[g]}return new Ext.form.Basic(this,b)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(e,b,d,a){return this.getForm().getValues(e,b,d,a)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},submit:function(a){this.form.submit(a)},startPolling:function(b){this.stopPolling();var a=new Ext.util.TaskRunner(b);a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;if(a){a.stopAll();delete this.pollTask}},checkChange:function(){var a=this.form.getFields().items,b,d=a.length;for(b=0;b<d;b++){a[b].checkChange()}}},0,["form"],["container","component","form","box","panel"],{container:true,component:true,form:true,box:true,panel:true},["widget.form"],[["fieldAncestor",Ext.form.FieldAncestor]],[Ext.form,"Panel",Ext,"FormPanel",Ext.form,"FormPanel"],0));(Ext.cmd.derive("Ext.form.RadioManager",Ext.util.MixedCollection,{singleton:true,getByName:function(a,b){return this.filterBy(function(d){return d.name==a&&d.getFormId()==b})},getWithValue:function(a,b,d){return this.filterBy(function(e){return e.name==a&&e.inputValue==b&&e.getFormId()==d})},getChecked:function(a,b){return this.findBy(function(d){return d.name==a&&d.checked&&d.getFormId()==b})}},0,0,0,0,0,0,[Ext.form,"RadioManager"],0));(Ext.cmd.derive("Ext.form.field.Radio",Ext.form.field.Checkbox,{alternateClassName:"Ext.form.Radio",isRadio:true,focusCls:"form-radio-focus",inputType:"radio",ariaRole:"radio",formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(b){var a=this;if(!a.disabled&&!a.readOnly){this.setValue(true)}},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(a){var b=this,d;if(Ext.isBoolean(a)){b.callParent(arguments)}else{d=b.getManager().getWithValue(b.name,a,b.getFormId()).getAt(0);if(d){d.setValue(true)}}return b},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){return this.getSubmitData()},onChange:function(d,a){var h=this,g,e,b,k;h.callParent(arguments);if(d){k=h.getManager().getByName(h.name,h.getFormId()).items;e=k.length;for(g=0;g<e;g++){b=k[g];if(b!==h){b.setValue(false)}}}},getManager:function(){return Ext.form.RadioManager}},0,["radiofield","radio"],["radiofield","component","field","checkbox","box","checkboxfield","radio"],{radiofield:true,component:true,field:true,checkbox:true,box:true,checkboxfield:true,radio:true},["widget.radio","widget.radiofield"],0,[Ext.form.field,"Radio",Ext.form,"Radio"],0));(Ext.cmd.derive("Ext.form.RadioGroup",Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",getBoxes:function(a){return this.query("[isRadio]"+(a||""))},checkChange:function(){var b=this.getValue(),a=Ext.Object.getKeys(b)[0];if(Ext.isArray(b[a])){return}this.callParent(arguments)},setValue:function(e){var l,h,g,k,d,a,b;if(Ext.isObject(e)){for(b in e){if(e.hasOwnProperty(b)){l=e[b];h=this.items.first();g=h?h.getFormId():null;k=Ext.form.RadioManager.getWithValue(b,l,g).items;a=k.length;for(d=0;d<a;++d){k[d].setValue(true)}}}}return this}},0,["radiogroup"],["container","component","checkboxgroup","radiogroup","fieldcontainer","box"],{container:true,component:true,checkboxgroup:true,radiogroup:true,fieldcontainer:true,box:true},["widget.radiogroup"],0,[Ext.form,"RadioGroup"],0));(Ext.cmd.derive("Ext.layout.component.field.Trigger",Ext.layout.component.field.Field,{type:"triggerfield",borderWidths:{},beginLayout:function(e){var d=this,a=d.owner,b;e.triggerWrap=e.getEl("triggerWrap");d.callParent(arguments);b=a.getTriggerStateFlags();if(b!=a.lastTriggerStateFlags){a.lastTriggerStateFlags=b;d.updateEditState()}},beginLayoutCycle:function(a){this.callParent(arguments);if(a.widthModel.shrinkWrap&&!this.owner.inputWidth){a.inputContext.el.setStyle("width","")}},beginLayoutFixed:function(h,d,k){var e=this,a=h.target,g=e.ieInputWidthAdjustment||0,l="100%",b=a.triggerWrap;e.callParent(arguments);a.inputCell.setStyle("width","100%");if(g){e.adjustIEInputPadding(h);if(k==="px"){if(a.inputWidth){l=a.inputWidth-e.getExtraWidth(h)}else{l=d-g-e.getExtraWidth(h)}l+="px"}}a.inputEl.setStyle("width",l);l=a.inputWidth;if(l){b.setStyle("width",l+(g)+"px")}else{b.setStyle("width",d+k)}b.setStyle("table-layout","fixed")},adjustIEInputPadding:function(a){this.owner.inputCell.setStyle("padding-right",this.ieInputWidthAdjustment+"px")},getExtraWidth:function(e){var b=this,a=b.owner,g=b.borderWidths,d=a.ui+a.triggerEl.getCount();if(!(d in g)){g[d]=e.triggerWrap.getBorderInfo().width}return g[d]+a.getTriggerWidth()},beginLayoutShrinkWrap:function(d){var a=d.target,g="",e=a.inputWidth,b=a.triggerWrap;this.callParent(arguments);if(e){b.setStyle("width",e+"px");e=(e-this.getExtraWidth(d))+"px";a.inputEl.setStyle("width",e);a.inputCell.setStyle("width",e)}else{a.inputCell.setStyle("width",g);a.inputEl.setStyle("width",g);b.setStyle("width",g);b.setStyle("table-layout","auto")}},getTextWidth:function(){var b=this,a=b.owner,e=a.inputEl,d;d=(e.dom.value||(a.hasFocus?"":a.emptyText)||"")+a.growAppend;return e.getTextWidth(d)},publishOwnerWidth:function(d,b){var a=this.owner;this.callParent(arguments);if(!a.grow&&!a.inputWidth){b-=this.getExtraWidth(d);if(a.labelAlign!="top"){b-=a.getLabelWidth()}d.inputContext.setWidth(b)}},publishInnerHeight:function(b,a){b.inputContext.setHeight(a-this.measureLabelErrorHeight(b))},measureContentWidth:function(k){var h=this,b=h.owner,g=h.callParent(arguments),l=k.inputContext,e,a,d;if(b.grow&&!k.state.growHandled){e=h.getTextWidth()+k.inputContext.getFrameInfo().width;a=b.growMax;d=Math.min(a,g);a=Math.max(b.growMin,a,d);e=Ext.Number.constrain(e,b.growMin,a);l.setWidth(e);k.state.growHandled=true;l.domBlock(h,"width");g=NaN}else{if(!b.inputWidth){g-=h.getExtraWidth(k)}}return g},updateEditState:function(){var d=this,a=d.owner,g=a.inputEl,e=Ext.baseCSSPrefix+"trigger-noedit",b,h;if(d.owner.readOnly){g.addCls(e);h=true;b=false}else{if(d.owner.editable){g.removeCls(e);h=false}else{g.addCls(e);h=true}b=!d.owner.hideTrigger}a.triggerCell.setDisplayed(b);g.dom.readOnly=h}},0,0,0,0,["layout.triggerfield"],0,[Ext.layout.component.field,"Trigger"],0));(Ext.cmd.derive("Ext.form.field.Trigger",Ext.form.field.Text,{alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],childEls:[{name:"triggerCell",select:"."+Ext.baseCSSPrefix+"trigger-cell"},{name:"triggerEl",select:"."+Ext.baseCSSPrefix+"form-trigger"},"triggerWrap","inputCell"],triggerBaseCls:Ext.baseCSSPrefix+"form-trigger",triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerNoEditCls:Ext.baseCSSPrefix+"trigger-noedit",hideTrigger:false,editable:true,readOnly:false,repeatTriggerClick:false,autoSize:Ext.emptyFn,monitorTab:true,mimicing:false,triggerIndexRe:/trigger-index-(\d+)/,extraTriggerCls:"",componentLayout:"triggerfield",initComponent:function(){this.wrapFocusCls=this.triggerWrapCls+"-focus";this.callParent(arguments)},getSubTplMarkup:function(b){var d=this,a=b.childElCls,e=d.callParent(arguments);return'<table id="'+d.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+a+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+d.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+a+'">'+e+"</td>"+d.getTriggerMarkup()+"</tr></tbody></table>"},getSubTplData:function(){var b=this,d=b.callParent(),e=b.readOnly===true,a=b.editable!==false;return Ext.apply(d,{editableCls:(e||!a)?" "+b.triggerNoEditCls:"",readOnly:!a||e})},getLabelableRenderData:function(){var b=this,d=b.triggerWrapCls,a=b.callParent(arguments);return Ext.applyIf(a,{triggerWrapCls:d,triggerMarkup:b.getTriggerMarkup()})},getTriggerMarkup:function(){var g=this,d=0,l=(g.readOnly||g.hideTrigger),a,h=g.triggerBaseCls,k=[],e=Ext.dom.Element.unselectableCls,b="width:"+g.triggerWidth+"px;"+(l?"display:none;":""),m=g.extraTriggerCls+" "+Ext.baseCSSPrefix+"trigger-cell "+e;if(!g.trigger1Cls){g.trigger1Cls=g.triggerCls}for(d=0;(a=g["trigger"+(d+1)+"Cls"])||d<1;d++){k.push({tag:"td",valign:"top",cls:m,style:b,cn:{cls:[Ext.baseCSSPrefix+"trigger-index-"+d,h,a].join(" "),role:"button"}})}k[0].cn.cls+=" "+h+"-first";return Ext.DomHelper.markup(k)},disableCheck:function(){return !this.disabled},beforeRender:function(){var a=this,b=a.triggerBaseCls,d;if(!a.triggerWidth){d=Ext.getBody().createChild({style:"position: absolute;",cls:Ext.baseCSSPrefix+"form-trigger"});Ext.form.field.Trigger.prototype.triggerWidth=d.getWidth();d.remove()}a.callParent();if(b!=Ext.baseCSSPrefix+"form-trigger"){a.addChildEls({name:"triggerEl",select:"."+b})}a.lastTriggerStateFlags=a.getTriggerStateFlags()},onRender:function(){var a=this;a.callParent(arguments);a.doc=Ext.getDoc();a.initTrigger()},getTriggerWidth:function(){var b=this,a=0;if(b.triggerWrap&&!b.hideTrigger&&!b.readOnly){a=b.triggerEl.getCount()*b.triggerWidth}return a},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateLayout()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateLayout()}},setReadOnly:function(d){var b=this,a=b.readOnly;b.callParent(arguments);if(d!=a){b.updateLayout()}},initTrigger:function(){var k=this,l=k.triggerWrap,n=k.triggerEl,a=k.disableCheck,g,d,b,h,m;if(k.repeatTriggerClick){k.triggerRepeater=new Ext.util.ClickRepeater(l,{preventDefault:true,handler:k.onTriggerWrapClick,listeners:{mouseup:k.onTriggerWrapMouseup,scope:k},scope:k})}else{k.mon(l,{click:k.onTriggerWrapClick,mouseup:k.onTriggerWrapMouseup,scope:k})}n.setVisibilityMode(Ext.Element.DISPLAY);n.addClsOnOver(k.triggerBaseCls+"-over",a,k);g=n.elements;d=g.length;for(h=0;h<d;h++){b=g[h];m=h+1;b.addClsOnOver(k["trigger"+(m)+"Cls"]+"-over",a,k);b.addClsOnClick(k["trigger"+(m)+"Cls"]+"-click",a,k)}n.addClsOnClick(k.triggerBaseCls+"-click",a,k)},onDestroy:function(){var a=this;Ext.destroyMembers(a,"triggerRepeater","triggerWrap","triggerEl");delete a.doc;a.callParent()},onFocus:function(){var a=this;a.callParent(arguments);if(!a.mimicing){a.bodyEl.addCls(a.wrapFocusCls);a.mimicing=true;a.mon(a.doc,"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on("specialkey",a.checkTab,a)}}},checkTab:function(a,b){if(!this.ignoreMonitorTab&&b.getKey()==b.TAB){this.triggerBlur()}},getTriggerStateFlags:function(){var a=this,b=0;if(a.readOnly){b+=1}if(a.editable){b+=2}if(a.hideTrigger){b+=4}return b},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)&&this.validateBlur(a)){this.triggerBlur(a)}},triggerBlur:function(b){var a=this;a.mimicing=false;a.mun(a.doc,"mousedown",a.mimicBlur,a);if(a.monitorTab&&a.inputEl){a.un("specialkey",a.checkTab,a)}Ext.form.field.Trigger.superclass.onBlur.call(a,b);if(a.bodyEl){a.bodyEl.removeCls(a.wrapFocusCls)}},validateBlur:function(a){return true},onTriggerWrapClick:function(){var e=this,g,b,a,d;d=arguments[e.triggerRepeater?1:0];if(d&&!e.readOnly&&!e.disabled){g=d.getTarget("."+e.triggerBaseCls,null);b=g&&g.className.match(e.triggerIndexRe);if(b){a=e["onTrigger"+(parseInt(b[1],10)+1)+"Click"]||e.onTriggerClick;if(a){a.call(e,d)}}}},onTriggerWrapMouseup:Ext.emptyFn,onTriggerClick:Ext.emptyFn},0,["triggerfield","trigger"],["component","field","triggerfield","textfield","box","trigger"],{component:true,field:true,triggerfield:true,textfield:true,box:true,trigger:true},["widget.trigger","widget.triggerfield"],0,[Ext.form.field,"Trigger",Ext.form,"TriggerField",Ext.form,"TwinTriggerField",Ext.form,"Trigger"],0));(Ext.cmd.derive("Ext.form.field.Picker",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Picker",matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,initComponent:function(){this.callParent();this.addEvents("expand","collapse","select")},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});if(!a.editable){a.mon(a.inputEl,"click",a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(a){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var d=this,a,b,e;if(d.rendered&&!d.isExpanded&&!d.isDestroyed){d.expanding=true;a=d.bodyEl;b=d.getPicker();e=d.collapseIf;b.show();d.isExpanded=true;d.alignPicker();a.addCls(d.openCls);d.mon(Ext.getDoc(),{mousewheel:e,mousedown:e,scope:d});Ext.EventManager.onWindowResize(d.alignPicker,d);d.fireEvent("expand",d);d.onExpand();delete d.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var b=this,a=b.getPicker();if(b.isExpanded){if(b.matchFieldWidth){a.setWidth(b.bodyEl.getWidth())}if(a.isFloating()){b.doAlign()}}},doAlign:function(){var e=this,d=e.picker,a="-above",b;e.picker.alignTo(e.triggerWrap,e.pickerAlign,e.pickerOffset);b=d.el.getY()<e.inputEl.getY();e.bodyEl[b?"addCls":"removeCls"](e.openCls+a);d[b?"addCls":"removeCls"](d.baseCls+a)},collapse:function(){if(this.isExpanded&&!this.isDestroyed){var e=this,d=e.openCls,b=e.picker,g=Ext.getDoc(),h=e.collapseIf,a="-above";b.hide();e.isExpanded=false;e.bodyEl.removeCls([d,d+a]);b.el.removeCls(b.baseCls+a);g.un("mousewheel",h,e);g.un("mousedown",h,e);Ext.EventManager.removeResizeListener(e.alignPicker,e);e.fireEvent("collapse",e);e.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(b){var a=this;if(!a.isDestroyed&&!b.within(a.bodyEl,false,true)&&!b.within(a.picker.el,false,true)&&!a.isEventWithinPickerLoadMask(b)){a.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.expand()}a.inputEl.focus()}},triggerBlur:function(){var a=this.picker;this.callParent(arguments);if(a&&a.isVisible()){a.hide()}},mimicBlur:function(d){var b=this,a=b.picker;if(!a||!d.within(a.el,false,true)&&!b.isEventWithinPickerLoadMask(d)){b.callParent(arguments)}},onDestroy:function(){var b=this,a=b.picker;Ext.EventManager.removeResizeListener(b.alignPicker,b);Ext.destroy(b.keyNav);if(a){delete a.pickerField;a.destroy()}b.callParent()},isEventWithinPickerLoadMask:function(b){var a=this.picker.loadMask;return a?b.within(a.maskEl,false,true)||b.within(a.el,false,true):false}},0,["pickerfield"],["component","pickerfield","field","triggerfield","textfield","box","trigger"],{component:true,pickerfield:true,field:true,triggerfield:true,textfield:true,box:true,trigger:true},["widget.pickerfield"],0,[Ext.form.field,"Picker",Ext.form,"Picker"],0));(Ext.cmd.derive("Ext.selection.Model",Ext.util.Observable,{alternateClassName:"Ext.AbstractSelectionModel",allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.addEvents("selectionchange","focuschange");b.modes={SINGLE:true,SIMPLE:true,MULTI:true};b.setSelectionMode(a.mode||b.mode);b.selected=new Ext.util.MixedCollection(null,b.getSelectionId);b.callParent(arguments)},bindStore:function(a,b){var d=this;d.mixins.bindable.bindStore.apply(d,arguments);if(d.store&&!b){d.refresh()}},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,bulkremove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,idchanged:a.onModelIdChanged,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(b){var g=this,e=g.store.getRange(),d=0,a=e.length,h=g.getSelection().length;g.suspendChanges();for(;d<a;d++){g.doSelect(e[d],true,b)}g.resumeChanges();if(!b){g.maybeFireSelectionChange(g.getSelection().length!==h)}},deselectAll:function(n){var h=this,b=h.getSelection(),k={},m=h.store,a=b.length,g,d,e;for(g=0,d=b.length;g<d;g++){e=b[g];k[e.internalId]=m.indexOf(e)}b=Ext.Array.sort(b,function(q,l){var r=k[q.internalId],o=k[l.internalId];return r<o?-1:1});h.suspendChanges();h.doDeselect(b,n);h.resumeChanges();if(!n){h.maybeFireSelectionChange(h.getSelection().length!==a)}},selectWithEvent:function(m,o){var q=this,g=q.isSelected(m),h=o.shiftKey,a=o.ctrlKey,d=q.selectionStart,k=q.getSelection(),n=k.length,r=q.allowDeselect,b,l,t;switch(q.selectionMode){case"MULTI":if(h&&d){q.selectRange(d,m,a)}else{if(a&&g){q.doDeselect(m,false)}else{if(a){q.doSelect(m,true,false)}else{if(g&&!h&&!a&&n>1){b=[];for(l=0;l<n;++l){t=k[l];if(t!==m){b.push(t)}}q.doDeselect(b)}else{if(!g){q.doSelect(m,false)}}}}}break;case"SIMPLE":if(g){q.doDeselect(m)}else{q.doSelect(m,true)}break;case"SINGLE":if(r&&!a){r=q.toggleOnClick}if(r&&g){q.doDeselect(m)}else{q.doSelect(m,false)}break}if(!h){if(q.isSelected(m)){q.selectionStart=m}else{q.selectionStart=null}}},afterKeyNavigate:function(h,g){var k=this,d,a,b=k.isSelected(g),m=(k.selectionStart&&k.isSelected(k.lastFocused))?k.selectionStart:(k.selectionStart=k.lastFocused),n=h.getCharCode(),o=n===h.SPACE,l=n===h.UP||n===h.PAGE_UP?"up":(n===h.DOWN||n===h.DOWN?"down":null);switch(k.selectionMode){case"MULTI":if(o){if(h.shiftKey){k.selectRange(m,g,h.ctrlKey)}else{if(b){k.doDeselect(g,h.ctrlKey);k.setLastFocused(null);k.setLastFocused(g)}else{k.doSelect(g,h.ctrlKey)}}}else{if(h.shiftKey&&m){a=k.store.indexOf(m);d=k.store.indexOf(g);if(l==="up"&&a<=d){k.deselectRange(k.lastFocused,d+1)}else{if(l==="down"&&a>=d){k.deselectRange(k.lastFocused,d-1)}else{if(m!==g){k.selectRange(m,g,h.ctrlKey)}}}k.lastSelected=g;k.setLastFocused(g)}else{if(h.ctrlKey&&b){k.setLastFocused(g)}else{if(h.ctrlKey){k.setLastFocused(g)}else{k.doSelect(g,false)}}}}break;case"SIMPLE":if(b){k.doDeselect(g)}else{k.doSelect(g,true)}break;case"SINGLE":if(o){if(b){k.doDeselect(g);k.setLastFocused(g)}else{k.doSelect(g)}}else{if(h.ctrlKey){k.setLastFocused(g)}else{if(k.allowDeselect&&b){k.doDeselect(g)}else{k.doSelect(g,false)}}}break}if(!h.shiftKey){if(k.isSelected(g)){k.selectionStart=g}}},selectRange:function(o,e,q){var l=this,n=l.store,d=l.selected.items,r,h,k,g,a,m,b;if(l.isLocked()){return}r=l.normalizeRowRange(o,e);o=r[0];e=r[1];g=[];for(h=o;h<=e;h++){if(!l.isSelected(n.getAt(h))){g.push(n.getAt(h))}}if(!q){a=[];l.suspendChanges();for(h=0,k=d.length;h<k;++h){b=d[h];m=n.indexOf(b);if(m<o||m>e){a.push(b)}}for(h=0,k=a.length;h<k;++h){l.doDeselect(a[h])}l.resumeChanges()}l.doMultiSelect(g,true)},deselectRange:function(g,e){var l=this,d=l.store,a,k,h,b;if(l.isLocked()){return}a=l.normalizeRowRange(g,e);g=a[0];e=a[1];h=[];for(k=g;k<=e;k++){b=d.getAt(k);if(l.isSelected(b)){h.push(b)}}l.doDeselect(h)},normalizeRowRange:function(d,b){var a=this.store,e;if(!Ext.isNumber(d)){d=a.indexOf(d)}d=Math.max(0,d);if(!Ext.isNumber(b)){b=a.indexOf(b)}b=Math.min(b,a.getCount()-1);if(d>b){e=b;b=d;d=e}return[d,b]},onModelIdChanged:function(a,e,g,d,b){this.selected.updateKey(b,d)},select:function(b,d,a){if(Ext.isDefined(b)){this.doSelect(b,d,a)}},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(d,g,b){var e=this,a;if(e.locked||!e.store){return}if(typeof d==="number"){a=e.store.getAt(d);if(!a){return}d=[a]}if(e.selectionMode=="SINGLE"&&d){a=d.length?d[0]:d;e.doSingleSelect(a,b)}else{e.doMultiSelect(d,g,b)}},doMultiSelect:function(a,n,m){var k=this,b=k.selected,l=false,o,e,h,g,d;if(k.locked){return}a=!Ext.isArray(a)?[a]:a;h=a.length;if(!n&&b.getCount()>0){o=k.deselectDuringSelect(a,b.getRange(),m);if(o[0]){k.maybeFireSelectionChange(o[1]>0&&!m);return}}d=function(){b.add(g);l=true};for(e=0;e<h;e++){g=a[e];if(k.isSelected(g)){continue}k.lastSelected=g;k.onSelectChange(g,true,m,d)}if(!k.preventFocus){k.setLastFocused(g,m)}k.maybeFireSelectionChange(l&&!m)},deselectDuringSelect:function(e,a,l){var k=this,h=a.length,d=0,g=false,m,b;k.suspendChanges();for(b=0;b<h;++b){m=a[b];if(!Ext.Array.contains(e,m)){if(k.doDeselect(m,l)){++d}else{g=true}}}k.resumeChanges();return[g,d]},doDeselect:function(a,m){var l=this,b=l.selected,e=0,k,g,n=0,h=0,d;if(l.locked||!l.store){return false}if(typeof a==="number"){g=l.store.getAt(a);if(!g){return false}a=[g]}else{if(!Ext.isArray(a)){a=[a]}}d=function(){++h;b.remove(g)};k=a.length;l.suspendChanges();for(;e<k;e++){g=a[e];if(l.isSelected(g)){if(l.lastSelected===g){l.lastSelected=b.last();if(l.lastFocused===g){l.setLastFocused(null)}}++n;l.onSelectChange(g,false,m,d)}}l.resumeChanges();l.maybeFireSelectionChange(h>0&&!m);return h===n},doSingleSelect:function(a,b){var e=this,h=false,d=e.selected,g;if(e.locked){return}if(e.isSelected(a)){return}if(d.getCount()){e.suspendChanges();if(!e.doDeselect(e.lastSelected,b)){e.resumeChanges();return}e.resumeChanges()}g=function(){d.add(a);e.lastSelected=a;h=true};e.onSelectChange(a,true,b,g);if(h){if(!b&&!e.preventFocus){e.setLastFocused(a)}e.maybeFireSelectionChange(!b)}},setLastFocused:function(d,b){var e=this,a=e.lastFocused;if(d!==a){e.lastFocused=d;e.onLastFocusChanged(a,d,b)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;if(a&&!b.suspendChange){b.fireEvent("selectionchange",b,b.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(e,d){var h=this,b=h.store,g,a;a=h.normalizeRowRange(e,d);e=a[0];d=a[1];for(g=e;g<=d;g++){if(!h.isSelected(b.getAt(g))){return false}}return true},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},getSelectionId:function(a){return a.internalId},pruneIf:function(){var h=this,e=h.selected,d=[],a=e.length,b,g;if(h.pruneRemoved){for(b=0;b<a;b++){g=e.getAt(b);if(!this.storeHasSelected(g)){d.push(g)}}if(d.length){for(b=0,a=d.length;b<a;b++){e.remove(d[b])}h.maybeFireSelectionChange(true)}}},storeHasSelected:function(b){var e=this.store,d,a,h,g;if(b.hasId()&&e.getById(b)){return true}else{d=e.data.items;a=d.length;h=b.internalId;for(g=0;g<a;++g){if(h===d[g].internalId){return true}}}return false},refresh:function(){var k=this,n=k.store,a,e=[],h=[],d=k.getSelection(),g=d.length,m,l,b=0,o=k.getLastFocused();if(!n){return}for(;b<g;b++){m=d[b];if(n.indexOf(m)!==-1){e.push(m)}else{if(!k.pruneRemoved){a=n.getById(m.getId());if(a){e.push(a)}else{h.push(m)}}}if(k.mode==="SINGLE"&&h.length){break}}if(k.selected.getCount()!=(e.length+h.length)){l=true}k.clearSelections();if(n.indexOf(o)!==-1){k.setLastFocused(o,true)}if(e.length){k.doSelect(e,false,true)}if(h.length){k.selected.addAll(h);if(!k.lastSelected){k.lastSelected=h[h.length-1]}}k.maybeFireSelectionChange(l)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(d,b,e,a){var g=this;if(g.selectionStart&&Ext.Array.contains(b,g.selectionStart)){g.selectionStart=null}if(a||g.locked||!g.pruneRemoved){return}g.deselectDeletedRecords(b)},deselectDeletedRecords:function(b){var h=this,e=h.selected,d,g=b.length,k=0,a;for(d=0;d<g;d++){a=b[d];if(e.remove(a)){if(h.lastSelected==a){h.lastSelected=null}if(h.getLastFocused()==a){h.setLastFocused(null)}++k}}if(k){h.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:Ext.emptyFn,onStoreLoad:Ext.emptyFn,onSelectChange:function(a,e,d,h){var g=this,b=e?"select":"deselect";if((d||g.fireEvent("before"+b,g,a))!==false&&h()!==false){if(!d){g.fireEvent(b,g,a)}}},onLastFocusChanged:function(b,a){this.fireEvent("focuschange",this,b,a)},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true)},bindComponent:Ext.emptyFn},1,0,0,0,0,[["bindable",Ext.util.Bindable]],[Ext.selection,"Model",Ext,"AbstractSelectionModel"],0));(Ext.cmd.derive("Ext.selection.DataViewModel",Ext.selection.Model,{deselectOnContainerClick:true,enableKeyNav:true,constructor:function(a){this.addEvents("beforedeselect","beforeselect","deselect","select");this.callParent(arguments)},bindComponent:function(a){var b=this,d={refresh:b.refresh,scope:b};b.view=a;b.bindStore(a.getStore());d[a.triggerEvent]=b.onItemClick;d[a.triggerCtEvent]=b.onContainerClick;a.on(d);if(b.enableKeyNav){b.initKeyNav(a)}},onUpdate:function(b){var a=this.view;if(a&&this.isSelected(b)){a.onItemSelect(b)}},onItemClick:function(b,a,g,d,h){this.selectWithEvent(a,h)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b})},onNavKey:function(h){h=h||1;var g=this,b=g.view,e=g.getSelection()[0],d=g.view.store.getCount(),a;if(e){a=b.indexOf(b.getNode(e))+h}else{a=0}if(a<0){a=d-1}else{if(a>=d){a=0}}g.select(a)},onSelectChange:function(b,g,e,k){var h=this,a=h.view,d=g?"select":"deselect";if((e||h.fireEvent("before"+d,h,b))!==false&&k()!==false){if(a){if(g){a.onItemSelect(b)}else{a.onItemDeselect(b)}}if(!e){h.fireEvent(d,h,b)}}},onLastFocusChanged:function(e,b,d){var a=this.view;if(a&&!d&&b){a.focusNode(b);this.fireEvent("focuschange",this,e,b)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}},1,0,0,0,0,0,[Ext.selection,"DataViewModel"],0));(Ext.cmd.derive("Ext.view.AbstractView",Ext.Component,{inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},deferInitialRefresh:true,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",addCmpEvents:function(){},initComponent:function(){var d=this,a=Ext.isDefined,e=d.itemTpl,b={};if(e){if(Ext.isArray(e)){e=e.join("")}else{if(Ext.isObject(e)){b=Ext.apply(b,e.initialConfig);e=e.html}}if(!d.itemSelector){d.itemSelector="."+d.itemCls}e=Ext.String.format('<tpl for="."><div class="{0}">{1}</div></tpl>',d.itemCls,e);d.tpl=new Ext.XTemplate(e,b)}d.callParent();d.tpl=d.getTpl("tpl");if(d.overItemCls){d.trackOver=true}d.addEvents("beforerefresh","refresh","viewready","itemupdate","itemadd","itemremove");d.addCmpEvents();d.store=Ext.data.StoreManager.lookup(d.store||"ext-empty-store");if(!d.dataSource){d.dataSource=d.store}d.bindStore(d.dataSource,true,"dataSource");if(!d.all){d.all=new Ext.CompositeElementLite()}d.scrollState={top:0,left:0};d.on({scroll:d.onViewScroll,element:"el",scope:d})},onRender:function(){var e=this,b=e.loadMask,d=e.getMaskStore(),a={target:e,msg:e.loadingText,msgCls:e.loadingCls,useMsg:e.loadingUseMsg,store:d};e.callParent(arguments);if(b&&!d.proxy.isSynchronous){if(Ext.isObject(b)){a=Ext.apply(a,b)}e.loadMask=new Ext.LoadMask(a);e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide})}},finishRender:function(){var a=this;a.callParent(arguments);if(!a.up("[collapsed],[hidden]")){a.doFirstRefresh(a.dataSource)}},onBoxReady:function(){var a=this;a.callParent(arguments);if(!a.firstRefreshDone){a.doFirstRefresh(a.dataSource)}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var b=this,a=b.loadingHeight;if(a&&a>b.getHeight()){b.hasLoadingHeight=true;b.oldMinHeight=b.minHeight;b.minHeight=a;b.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getSelectionModel:function(){var a=this,b="SINGLE";if(a.simpleSelect){b="SIMPLE"}else{if(a.multiSelect){b="MULTI"}}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection){a.selModel.locked=true}return a.selModel},refresh:function(){var d=this,k,b,g,e,h,a;if(!d.rendered||d.isDestroyed){return}if(!d.hasListeners.beforerefresh||d.fireEvent("beforerefresh",d)!==false){k=d.getTargetEl();a=d.getViewRange();h=k.dom;if(!d.preserveScrollOnRefresh){b=h.parentNode;g=h.style.display;h.style.display="none";e=h.nextSibling;b.removeChild(h)}if(d.refreshCounter){d.clearViewEl()}else{d.fixedNodes=k.dom.childNodes.length;d.refreshCounter=1}d.tpl.append(k,d.collectData(a,d.all.startIndex));if(a.length<1){if(!this.store.loading&&(!d.deferEmptyText||d.hasFirstRefresh)){Ext.core.DomHelper.insertHtml("beforeEnd",k.dom,d.emptyText)}d.all.clear()}else{d.collectNodes(k.dom);d.updateIndexes(0)}if(d.hasFirstRefresh){if(d.refreshSelmodelOnRefresh!==false){d.selModel.refresh()}else{d.selModel.pruneIf()}}d.hasFirstRefresh=true;if(!d.preserveScrollOnRefresh){b.insertBefore(h,e);h.style.display=g}this.refreshSize();d.fireEvent("refresh",d);if(!d.viewReady){d.viewReady=true;d.fireEvent("viewready",d)}}},collectNodes:function(a){this.all.fill(Ext.query(this.getItemSelector(),Ext.getDom(a)),this.all.startIndex)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(){var a=this.getSizeModel();if(a.height.shrinkWrap||a.width.shrinkWrap){this.updateLayout()}},clearViewEl:function(){var b=this,a=b.getTargetEl();if(b.fixedNodes){while(a.dom.childNodes[b.fixedNodes]){a.dom.removeChild(a.dom.childNodes[b.fixedNodes])}}else{a.update("")}b.refreshCounter++},onViewScroll:Ext.emptyFn,onIdChanged:Ext.emptyFn,saveScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;a.left=b.scrollLeft;a.top=b.scrollTop}},restoreScrollState:function(){if(this.rendered){var b=this.el.dom,a=this.scrollState;b.scrollLeft=a.left;b.scrollTop=a.top}},prepareData:function(g,e,d){var b,a,h;if(d){b=d.getAssociatedData();for(a in b){if(b.hasOwnProperty(a)){if(!h){g=Ext.Object.chain(g);h=true}g[a]=b[a]}}}return g},collectData:function(d,h){var g=[],e=0,a=d.length,b;for(;e<a;e++){b=d[e];g[e]=this.prepareData(b.data,h+e,b)}return g},bufferRender:function(a,b){var d=this,e=d.renderBuffer||(d.renderBuffer=document.createElement("div"));d.tpl.overwrite(e,d.collectData(a,b));return Ext.DomQuery.select(d.getItemSelector(),e)},getNodeContainer:function(){return this.getTargetEl()},onUpdate:function(g,a){var e=this,b,d;if(e.viewReady){b=e.dataSource.indexOf(a);if(b>-1){d=e.bufferRender([a],b)[0];if(e.getNode(a)){e.all.replaceElement(b,d,true);e.updateIndexes(b,b);e.selModel.onUpdate(a);if(e.hasListeners.itemupdate){e.fireEvent("itemupdate",a,b,d)}return d}}}},onAdd:function(d,b,e){var g=this,a;if(g.rendered){if(g.all.getCount()===0){g.refresh();a=g.all.slice()}else{a=g.doAdd(b,e);if(g.refreshSelmodelOnRefresh!==false){g.selModel.refresh()}g.updateIndexes(e);g.refreshSize()}if(g.hasListeners.itemadd){g.fireEvent("itemadd",b,e,a)}}},doAdd:function(d,e){var m=this,b=m.bufferRender(d,e,true),h=m.all,k=h.getCount(),g,a;if(k===0){for(g=0,a=b.length;g<a;g++){this.getNodeContainer().appendChild(b[g])}}else{if(e<k){if(e===0){h.item(e).insertSibling(b,"before",true)}else{h.item(e-1).insertSibling(b,"after",true)}}else{h.last().insertSibling(b,"after",true)}}h.insert(e,b);return b},onRemove:function(l,b,e){var h=this,k=h.hasListeners.itemremove,g,a,d;if(h.all.getCount()){if(h.dataSource.getCount()===0){if(k){for(g=e.length-1;g>=0;--g){h.fireEvent("itemremove",b[g],e[g])}}h.refresh()}else{for(g=e.length-1;g>=0;--g){a=b[g];d=e[g];h.doRemove(a,d);if(k){h.fireEvent("itemremove",a,d)}}h.updateIndexes(e[0])}this.refreshSize()}},doRemove:function(a,b){this.all.removeElement(b,true)},refreshNode:function(a){this.onUpdate(this.dataSource,this.dataSource.getAt(a))},updateIndexes:function(g,e){var b=this.all.elements,a=this.getViewRange(),d;g=g||0;e=e||((e===0)?0:(b.length-1));for(d=g;d<=e;d++){b[d].viewIndex=d;b[d].viewRecordId=a[d].internalId;if(!b[d].boundView){b[d].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(a,b,e){var d=this;d.mixins.bindable.bindStore.apply(d,arguments);if(!b){d.getSelectionModel().bindStore(a)}if(d.componentLayoutCounter){d.doFirstRefresh(a)}},doFirstRefresh:function(a){var b=this;b.firstRefreshDone=true;if(a&&!a.loading){if(b.deferInitialRefresh){b.applyFirstRefresh()}else{b.refresh()}}},applyFirstRefresh:function(){var a=this;if(a.isDestroyed){return}if(a.up("[isCollapsingOrExpanding]")){Ext.Function.defer(a.applyFirstRefresh,100,a)}else{Ext.Function.defer(function(){if(!a.isDestroyed){a.refresh()}},1)}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(a,b,d){this.setMaskBind(a);if(!b&&d==="store"){this.bindStore(a,false,"dataSource")}},setMaskBind:function(b){var a=this.loadMask;if(a&&a.bindStore){a.bindStore(b)}},getStoreListeners:function(){var a=this;return{idchanged:a.onIdChanged,refresh:a.onDataRefresh,add:a.onAdd,bulkremove:a.onRemove,update:a.onUpdate,clear:a.refresh}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var a=this,b=!a.firstRefreshDone&&(!a.rendered||a.up("[collapsed],[isCollapsingOrExpanding],[hidden]"));if(b){a.deferInitialRefresh=false}else{if(a.blockRefresh!==true){a.firstRefreshDone=true;a.refresh()}}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var b=[],a=this.selModel.getSelection(),e=a.length,d=0;for(;d<e;d++){b.push(this.getNode(a[d]))}return b},getRecords:function(d){var b=[],e=0,a=d.length,g=this.dataSource.data;for(;e<a;e++){b[b.length]=g.getByKey(d[e].viewRecordId)}return b},getRecord:function(a){return this.dataSource.data.getByKey(Ext.getDom(a).viewRecordId)},isSelected:function(b){var a=this.getRecord(b);return this.selModel.isSelected(a)},select:function(b,d,a){this.selModel.select(b,d,a)},deselect:function(b,a){this.selModel.deselect(b,a)},getNode:function(a){if((!a&&a!==0)||!this.rendered){return null}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return a},getNodeByRecord:function(a){var d=this.all.elements,e=d.length,b=0;for(;b<e;b++){if(d[b].viewRecordId===a.internalId){return d[b]}}return null},getNodes:function(d,a){var b=this.all;if(a===undefined){a=b.getCount()}else{a++}return b.slice(d||0,a)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.callParent();a.bindStore(null);a.selModel.destroy()},onItemSelect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).addCls(this.selectedItemCls)}},onItemDeselect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector}},0,0,["component","box"],{component:true,box:true},0,[["bindable",Ext.util.Bindable]],[Ext.view,"AbstractView"],function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(a,b,e){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})}));(Ext.cmd.derive("Ext.view.View",Ext.view.AbstractView,{alternateClassName:"Ext.DataView",deferHighlight:Ext.isIE7m?100:0,mouseOverOutBuffer:20,inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"}},initComponent:function(){var a=this;a.callParent();if(a.mouseOverOutBuffer){a.handleMouseOverOrOut=Ext.Function.createBuffered(a.handleMouseOverOrOut,a.mouseOverOutBuffer,a);a.lastMouseOverOutEvent=new Ext.EventObjectImpl()}else{if(a.deferHighlight){a.setHighlightedItem=Ext.Function.createBuffered(a.setHighlightedItem,a.deferHighlight,a)}}},addCmpEvents:function(){this.addEvents("beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","beforeitemkeydown","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","itemkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","selectionchange","beforeselect","beforedeselect","select","deselect","focuschange","highlightitem","unhighlightitem")},getFocusEl:function(){return this.getTargetEl()},afterRender:function(){var a=this,b=a.mouseOverOutBuffer?a.onMouseOverOut:a.handleMouseOverOrOut;a.callParent();a.mon(a.getTargetEl(),{scope:a,freezeEvent:true,click:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:b,mouseout:b})},onMouseOverOut:function(b){var a=this;a.lastMouseOverOutEvent.setEvent(b.browserEvent,true);a.handleMouseOverOrOut(a.lastMouseOverOutEvent)},handleMouseOverOrOut:function(g){var d=this,b=g.type==="mouseout",h=b?g.getRelatedTarget:g.getTarget,a=h.call(g,d.itemSelector)||h.call(g,d.dataRowSelector);if(!d.mouseOverItem||a!==d.mouseOverItem){if(d.mouseOverItem){g.item=d.mouseOverItem;g.newType="mouseleave";d.handleEvent(g)}d.mouseOverItem=a;if(d.mouseOverItem){g.item=d.mouseOverItem;g.newType="mouseenter";d.handleEvent(g)}}},handleEvent:function(d){var b=this,a=d.type=="keydown"&&d.getKey();if(b.processUIEvent(d)!==false){b.processSpecialEvent(d)}if(a===d.SPACE){if(!b.inputTagRe.test(d.getTarget().tagName)){d.stopEvent()}}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(k){if(!Ext.getBody().isAncestor(k.target)){return}var l=this,n=k.getTarget(l.getItemSelector(),l.getTargetEl()),a=this.statics().EventMap,h,g,m=k.type,d=k.type,b;if(k.newType){d=k.newType;n=k.item}if(!n&&m=="keydown"){b=l.getSelectionModel();g=b.lastFocused||b.getLastSelected();if(g){n=l.getNode(g,true)}}if(n){if(!g){g=l.getRecord(n)}h=l.indexInStore?l.indexInStore(g):l.indexOf(n);if(!g||l.processItemEvent(g,n,h,k)===false){return false}if((l["onBeforeItem"+a[d]](g,n,h,k)===false)||(l.fireEvent("beforeitem"+d,l,g,n,h,k)===false)||(l["onItem"+a[d]](g,n,h,k)===false)){return false}l.fireEvent("item"+d,l,g,n,h,k)}else{if((l.processContainerEvent(k)===false)||(l["onBeforeContainer"+a[m]](k)===false)||(l.fireEvent("beforecontainer"+m,l,k)===false)||(l["onContainer"+a[m]](k)===false)){return false}l.fireEvent("container"+m,l,k)}return true},onItemMouseEnter:function(a,d,b,g){if(this.trackOver){this.highlightItem(d)}},onItemMouseLeave:function(a,d,b,g){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(g){var e=this,d=e.highlightedItem,h=e.overItemCls,a=e.beforeOverItemCls,b;if(d!=g){if(d){Ext.fly(d).removeCls(h);b=d.previousSibling;if(a&&b){Ext.fly(b).removeCls(a)}e.fireEvent("unhighlightitem",e,d)}e.highlightedItem=g;if(g){Ext.fly(g).addCls(e.overItemCls);b=g.previousSibling;if(a&&b){Ext.fly(b).addCls(a)}e.fireEvent("highlightitem",e,g)}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},onUpdate:function(b,a){var h=this,g,d,e;if(h.viewReady){g=h.getNode(a);d=h.callParent(arguments);e=h.highlightedItem;if(e&&e===g){delete h.highlightedItem;if(d){h.highlightItem(d)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(l){var h=this,g=h.getNode(l,true),e=h.el,a=0,b=0,k=e.getRegion(),d;k.bottom=k.top+e.dom.clientHeight;k.right=k.left+e.dom.clientWidth;if(g){d=Ext.fly(g).getRegion();if(d.top<k.top){a=d.top-k.top}else{if(d.bottom>k.bottom){a=d.bottom-k.bottom}}if(d.left<k.left){b=d.left-k.left}else{if(d.right>k.right){b=d.right-k.right}}if(b||a){h.scrollBy(b,a,false)}e.focus()}}},0,["dataview"],["component","box","dataview"],{component:true,box:true,dataview:true},["widget.dataview"],0,[Ext.view,"View",Ext,"DataView"],0));(Ext.cmd.derive("Ext.layout.component.BoundList",Ext.layout.component.Auto,{type:"component",beginLayout:function(e){var d=this,a=d.owner,b=a.pagingToolbar;d.callParent(arguments);if(a.floating){e.savedXY=a.getXY();a.setXY([0,-9999])}if(b){e.toolbarContext=e.context.getCmp(b)}e.listContext=e.getEl("listEl")},beginLayoutCycle:function(b){var a=this.owner;this.callParent(arguments);if(b.heightModel.auto){a.el.setHeight("auto");a.listEl.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(a){var b=a.savedXY;this.callParent(arguments);if(b){this.owner.setXY(b)}},measureContentWidth:function(a){return this.owner.listEl.getWidth()},measureContentHeight:function(a){return this.owner.listEl.getHeight()},publishInnerHeight:function(d,a){var b=d.toolbarContext,e=0;if(b){e=b.getProp("height")}if(e===undefined){this.done=false}else{d.listContext.setHeight(a-d.getFrameInfo().height-e)}},calculateOwnerHeightFromContentHeight:function(d){var a=this.callParent(arguments),b=d.toolbarContext;if(b){a+=b.getProp("height")}return a}},0,0,0,0,["layout.boundlist"],0,[Ext.layout.component,"BoundList"],0));(Ext.cmd.derive("Ext.toolbar.TextItem",Ext.toolbar.Item,{alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(b){var a=this;a.text=b;if(a.rendered){a.el.update(b);a.updateLayout()}}},0,["tbtext"],["component","tbtext","tbitem","box"],{component:true,tbtext:true,tbitem:true,box:true},["widget.tbtext"],0,[Ext.toolbar,"TextItem",Ext.Toolbar,"TextItem"],0));(Ext.cmd.derive("Ext.form.field.Spinner",Ext.form.field.Trigger,{alternateClassName:"Ext.form.Spinner",trigger1Cls:Ext.baseCSSPrefix+"form-spinner-up",trigger2Cls:Ext.baseCSSPrefix+"form-spinner-down",spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,triggerTpl:'<td style="{triggerStyle}" class="{triggerCls}"><div class="'+Ext.baseCSSPrefix+"trigger-index-0 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-up {spinnerUpCls} {childElCls}" role="button"></div><div class="'+Ext.baseCSSPrefix+"trigger-index-1 "+Ext.baseCSSPrefix+"form-trigger "+Ext.baseCSSPrefix+'form-spinner-down {spinnerDownCls} {childElCls}" role="button"></div></td></tr>',initComponent:function(){this.callParent();this.addEvents("spin","spinup","spindown")},onRender:function(){var b=this,a;b.callParent(arguments);a=b.triggerEl;b.spinUpEl=a.item(0);b.spinDownEl=a.item(1);b.triggerCell=b.spinUpEl.parent();if(b.keyNavEnabled){b.spinnerKeyNav=new Ext.util.KeyNav(b.inputEl,{scope:b,up:b.spinUp,down:b.spinDown})}if(b.mouseWheelEnabled){b.mon(b.bodyEl,"mousewheel",b.onMouseWheel,b)}},getSubTplMarkup:function(b){var d=this,a=b.childElCls,e=Ext.form.field.Base.prototype.getSubTplMarkup.apply(d,arguments);return'<table id="'+d.id+'-triggerWrap" class="'+Ext.baseCSSPrefix+"form-trigger-wrap"+a+'" cellpadding="0" cellspacing="0"><tbody><tr><td id="'+d.id+'-inputCell" class="'+Ext.baseCSSPrefix+"form-trigger-input-cell"+a+'">'+e+"</td>"+d.getTriggerMarkup()+"</tbody></table>"},getTriggerMarkup:function(){return this.getTpl("triggerTpl").apply(this.getTriggerData())},getTriggerData:function(){var a=this,b=(a.readOnly||a.hideTrigger);return{triggerCls:Ext.baseCSSPrefix+"trigger-cell",triggerStyle:b?"display:none":"",spinnerUpCls:!a.spinUpEnabled?a.trigger1Cls+"-disabled":"",spinnerDownCls:!a.spinDownEnabled?a.trigger2Cls+"-disabled":""}},getTriggerWidth:function(){var b=this,a=0;if(b.triggerWrap&&!b.hideTrigger&&!b.readOnly){a=b.triggerWidth}return a},onTrigger1Click:function(){this.spinUp()},onTrigger2Click:function(){this.spinDown()},onTriggerWrapMouseup:function(){this.inputEl.focus()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(a){var b=this,d=b.spinUpEnabled;b.spinUpEnabled=a;if(d!==a&&b.rendered){b.spinUpEl[a?"removeCls":"addCls"](b.trigger1Cls+"-disabled")}},setSpinDownEnabled:function(a){var b=this,d=b.spinDownEnabled;b.spinDownEnabled=a;if(d!==a&&b.rendered){b.spinDownEl[a?"removeCls":"addCls"](b.trigger2Cls+"-disabled")}},onMouseWheel:function(b){var a=this,d;if(a.hasFocus){d=b.getWheelDelta();if(d>0){a.spinUp()}else{if(d<0){a.spinDown()}}b.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav","spinUpEl","spinDownEl");this.callParent()}},0,["spinnerfield"],["spinnerfield","component","field","triggerfield","textfield","box","trigger"],{spinnerfield:true,component:true,field:true,triggerfield:true,textfield:true,box:true,trigger:true},["widget.spinnerfield"],0,[Ext.form.field,"Spinner",Ext.form,"Spinner"],0));(Ext.cmd.derive("Ext.form.field.Number",Ext.form.field.Spinner,{alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:".",submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this;a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue)},getErrors:function(d){var b=this,g=b.callParent(arguments),e=Ext.String.format,a;d=Ext.isDefined(d)?d:this.processRawValue(this.getRawValue());if(d.length<1){return g}d=String(d).replace(b.decimalSeparator,".");if(isNaN(d)){g.push(e(b.nanText,d))}a=b.parseValue(d);if(b.minValue===0&&a<0){g.push(this.negativeText)}else{if(a<b.minValue){g.push(e(b.minText,b.minValue))}}if(a>b.maxValue){g.push(e(b.maxText,b.maxValue))}return g},rawToValue:function(b){var a=this.fixPrecision(this.parseValue(b));if(a===null){a=b||null}return a},valueToRaw:function(d){var b=this,a=b.decimalSeparator;d=b.parseValue(d);d=b.fixPrecision(d);d=Ext.isNumber(d)?d:parseFloat(String(d).replace(a,"."));d=isNaN(d)?"":String(d).replace(".",a);return d},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=b.replace(a.decimalSeparator,".")}return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var d=this,e=d.getValue(),b=e===null,a;if(d.spinUpEnabled||d.spinUpDisabledByToggle){a=b||e<d.maxValue;d.setSpinUpEnabled(a,true)}if(d.spinDownEnabled||d.spinDownDisabledByToggle){a=b||e>d.minValue;d.setSpinDownEnabled(a,true)}},setMinValue:function(b){var a=this,d;a.minValue=Ext.Number.from(b,Number.NEGATIVE_INFINITY);a.toggleSpinners();if(a.disableKeyFilter!==true){d=a.baseChars+"";if(a.allowExponential){d+=a.decimalSeparator+"e+-"}else{if(a.allowDecimals){d+=a.decimalSeparator}if(a.minValue<0){d+="-"}}d=Ext.String.escapeRegex(d);a.maskRe=new RegExp("["+d+"]");if(a.autoStripChars){a.stripCharsRe=new RegExp("[^"+d+"]","gi")}}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(e){var d=this,b=isNaN(e),a=d.decimalPrecision;if(b||!e){return b?"":e}else{if(!d.allowDecimals||a<=0){a=0}}return parseFloat(Ext.Number.toFixed(parseFloat(e),a))},beforeBlur:function(){var b=this,a=b.parseValue(b.getRawValue());if(!Ext.isEmpty(a)){b.setValue(a)}},setSpinUpEnabled:function(b,a){this.callParent(arguments);if(!a){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!b}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},setSpinDownEnabled:function(b,a){this.callParent(arguments);if(!a){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!b}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}},setSpinValue:function(d){var b=this,a;if(b.enforceMaxLength){if(b.fixPrecision(d).toString().length>b.maxLength){return}}b.setValue(d)}},0,["numberfield"],["spinnerfield","component","field","triggerfield","textfield","numberfield","box","trigger"],{spinnerfield:true,component:true,field:true,triggerfield:true,textfield:true,numberfield:true,box:true,trigger:true},["widget.numberfield"],0,[Ext.form.field,"Number",Ext.form,"NumberField",Ext.form,"Number"],0));(Ext.cmd.derive("Ext.toolbar.Paging",Ext.toolbar.Toolbar,{alternateClassName:"Ext.PagingToolbar",displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a=this;return[{itemId:"first",tooltip:a.firstText,overflowText:a.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:a.moveFirst,scope:a},{itemId:"prev",tooltip:a.prevText,overflowText:a.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:a.movePrevious,scope:a},"-",a.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:a.inputItemWidth,margins:"-1 2 3 2",listeners:{scope:a,keydown:a.onPagingKeyDown,blur:a.onPagingBlur}},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(a.afterPageText,1)},"-",{itemId:"next",tooltip:a.nextText,overflowText:a.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:a.moveNext,scope:a},{itemId:"last",tooltip:a.lastText,overflowText:a.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:a.moveLast,scope:a},"-",{itemId:"refresh",tooltip:a.refreshText,overflowText:a.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",handler:a.doRefresh,scope:a}]},initComponent:function(){var b=this,d=b.getPagingItems(),a=b.items||b.buttons||[];if(b.prependButtons){b.items=a.concat(d)}else{b.items=d.concat(a)}delete b.buttons;if(b.displayInfo){b.items.push("->");b.items.push({xtype:"tbtext",itemId:"displayItem"})}b.callParent();b.addEvents("change","beforechange");b.on("beforerender",b.onLoad,b,{single:true});b.bindStore(b.store||"ext-empty-store",true)},updateInfo:function(){var g=this,d=g.child("#displayItem"),a=g.store,b=g.getPageData(),e,h;if(d){e=a.getCount();if(e===0){h=g.emptyMsg}else{h=Ext.String.format(g.displayMsg,b.fromRecord,b.toRecord,b.total)}d.setText(h)}},onLoad:function(){var k=this,e,b,d,a,h,l,g;h=k.store.getCount();l=h===0;if(!l){e=k.getPageData();b=e.currentPage;d=e.pageCount;a=Ext.String.format(k.afterPageText,isNaN(d)?1:d)}else{b=0;d=0;a=Ext.String.format(k.afterPageText,0)}Ext.suspendLayouts();g=k.child("#afterTextItem");if(g){g.setText(a)}g=k.getInputItem();if(g){g.setDisabled(l).setValue(b)}k.setChildDisabled("#first",b===1||l);k.setChildDisabled("#prev",b===1||l);k.setChildDisabled("#next",b===d||l);k.setChildDisabled("#last",b===d||l);k.setChildDisabled("#refresh",false);k.updateInfo();Ext.resumeLayouts(true);if(k.rendered){k.fireEvent("change",k,e)}},setChildDisabled:function(a,b){var d=this.child(a);if(d){d.setDisabled(b)}},getPageData:function(){var b=this.store,a=b.getTotalCount();return{total:a,currentPage:b.currentPage,pageCount:Math.ceil(a/b.pageSize),fromRecord:((b.currentPage-1)*b.pageSize)+1,toRecord:Math.min(b.currentPage*b.pageSize,a)}},onLoadError:function(){if(!this.rendered){return}this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(b){var d=this.getInputItem(),e=false,a;if(d){a=d.getValue();e=parseInt(a,10);if(!a||isNaN(e)){d.setValue(b.currentPage);return false}}return e},onPagingFocus:function(){var a=this.getInputItem();if(a){a.select()}},onPagingBlur:function(d){var b=this.getInputItem(),a;if(b){a=this.getPageData().currentPage;b.setValue(a)}},onPagingKeyDown:function(m,l){var g=this,b=l.getKey(),d=g.getPageData(),a=l.shiftKey?10:1,h;if(b==l.RETURN){l.stopEvent();h=g.readPageFromInput(d);if(h!==false){h=Math.min(Math.max(1,h),d.pageCount);if(g.fireEvent("beforechange",g,h)!==false){g.store.loadPage(h)}}}else{if(b==l.HOME||b==l.END){l.stopEvent();h=b==l.HOME?1:d.pageCount;m.setValue(h)}else{if(b==l.UP||b==l.PAGE_UP||b==l.DOWN||b==l.PAGE_DOWN){l.stopEvent();h=g.readPageFromInput(d);if(h){if(b==l.DOWN||b==l.PAGE_DOWN){a*=-1}h+=a;if(h>=1&&h<=d.pageCount){m.setValue(h)}}}}}},beforeLoad:function(){if(this.rendered){this.setChildDisabled("#refresh",true)}},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1)}},movePrevious:function(){var b=this,a=b.store.currentPage-1;if(a>0){if(b.fireEvent("beforechange",b,a)!==false){b.store.previousPage()}}},moveNext:function(){var d=this,b=d.getPageData().pageCount,a=d.store.currentPage+1;if(a<=b){if(d.fireEvent("beforechange",d,a)!==false){d.store.nextPage()}}},moveLast:function(){var b=this,a=b.getPageData().pageCount;if(b.fireEvent("beforechange",b,a)!==false){b.store.loadPage(a)}},doRefresh:function(){var a=this,b=a.store.currentPage;if(a.fireEvent("beforechange",a,b)!==false){a.store.loadPage(b)}},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.unbind();this.callParent()}},0,["pagingtoolbar"],["container","toolbar","component","box","pagingtoolbar"],{container:true,toolbar:true,component:true,box:true,pagingtoolbar:true},["widget.pagingtoolbar"],[["bindable",Ext.util.Bindable]],[Ext.toolbar,"Paging",Ext,"PagingToolbar"],0));(Ext.cmd.derive("Ext.view.BoundList",Ext.view.View,{alternateClassName:"Ext.BoundList",pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,refreshed:0,deferInitialRefresh:false,componentLayout:"boundlist",childEls:["listEl"],renderTpl:['<div id="{id}-listEl" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'" style="overflow:auto"></div>',"{%","var me=values.$comp, pagingToolbar=me.pagingToolbar;","if (pagingToolbar) {","pagingToolbar.ownerLayout = me.componentLayout;","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var b=this,a=b.baseCls,d=b.itemCls;b.selectedItemCls=a+"-selected";if(b.trackOver){b.overItemCls=a+"-item-over"}b.itemSelector="."+d;if(b.floating){b.addCls(a+"-floating")}if(!b.tpl){b.tpl=new Ext.XTemplate('<ul class="'+Ext.plainListCls+'"><tpl for=".">','<li role="option" unselectable="on" class="'+d+'">'+b.getInnerTpl(b.displayField)+"</li>","</tpl></ul>")}else{if(!b.tpl.isTemplate){b.tpl=new Ext.XTemplate(b.tpl)}}if(b.pageSize){b.pagingToolbar=b.createPagingToolbar()}b.callParent()},beforeRender:function(){var a=this;a.callParent(arguments);if(a.up("menu")){a.addCls(Ext.baseCSSPrefix+"menu")}},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){return this.pagingToolbar?[this.pagingToolbar]:[]},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);if(a){a.finishRender()}},refresh:function(){var d=this,a=d.tpl,b=d.pagingToolbar,e=d.rendered;a.field=d.pickerField;a.store=d.store;d.callParent();a.field=a.store=null;if(e&&b&&b.rendered&&!d.preserveScrollOnRefresh){d.el.appendChild(b.el)}if(e&&Ext.isIE6&&Ext.isStrict){d.listEl.repaint()}},bindStore:function(a,b){var d=this.pagingToolbar;this.callParent(arguments);if(d){d.bindStore(a,b)}},getTargetEl:function(){return this.listEl||this.el},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){Ext.destroyMembers(this,"pagingToolbar","listEl");this.callParent()}},0,["boundlist"],["component","box","boundlist","dataview"],{component:true,box:true,boundlist:true,dataview:true},["widget.boundlist"],[["queryable",Ext.Queryable]],[Ext.view,"BoundList",Ext,"BoundList"],0));(Ext.cmd.derive("Ext.view.BoundListKeyNav",Ext.util.KeyNav,{constructor:function(b,a){var d=this;d.boundList=a.boundList;d.callParent([b,Ext.apply({},a,d.defaultHandlers)])},defaultHandlers:{up:function(){var g=this,b=g.boundList,e=b.all,h=b.highlightedItem,d=h?b.indexOf(h):-1,a=d>0?d-1:e.getCount()-1;g.highlightAt(a)},down:function(){var g=this,b=g.boundList,e=b.all,h=b.highlightedItem,d=h?b.indexOf(h):-1,a=d<e.getCount()-1?d+1:0;g.highlightAt(a)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(b){var a=this.boundList,d=a.all.item(b);if(d){d=d.dom;a.highlightItem(d);a.getTargetEl().scrollChildIntoView(d,false)}},selectHighlighted:function(h){var g=this,b=g.boundList,d=b.highlightedItem,a=b.getSelectionModel();if(d){a.selectWithEvent(b.getRecord(d),h)}}},1,0,0,0,0,0,[Ext.view,"BoundListKeyNav"],0));(Ext.cmd.derive("Ext.layout.component.field.ComboBox",Ext.layout.component.field.Trigger,{type:"combobox",startingWidth:null,getTextWidth:function(){var k=this,b=k.owner,o=b.store,l=b.displayField,e=o.data.length,m="",g=0,d=0,h,q,a;for(;g<e;g++){q=o.getAt(g).data[l];h=q.length;if(h>d){d=h;m=q}}a=Math.max(k.callParent(arguments),b.inputEl.getTextWidth(m+b.growAppend));if(!k.startingWidth||b.removingRecords){k.startingWidth=a;if(a<b.growMin){b.defaultListConfig.minWidth=b.growMin}b.removingRecords=false}return(a<k.startingWidth)?k.startingWidth:a}},0,0,0,0,["layout.combobox"],0,[Ext.layout.component.field,"ComboBox"],0));(Ext.cmd.derive("Ext.form.field.ComboBox",Ext.form.field.Picker,{alternateClassName:"Ext.form.ComboBox",componentLayout:"combobox",triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hide-display "+Ext.baseCSSPrefix+"form-data-hidden",fieldSubTpl:['<div class="{hiddenDataCls}" role="presentation"></div>','<input id="{id}" type="{type}" {inputAttrTpl} class="{fieldCls} {typeCls} {editableCls}" autocomplete="off"','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="size"> size="{size}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"/>",{compiled:true,disableFormats:true}],getSubTplData:function(){var a=this;Ext.applyIf(a.subTplData,{hiddenDataCls:a.hiddenDataCls});return a.callParent(arguments)},afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var g=this,d=Ext.isDefined,b=g.store,e=g.transform,a,h;Ext.applyIf(g.renderSelectors,{hiddenDataEl:"."+g.hiddenDataCls.split(" ").join(".")});this.addEvents("beforequery","select","beforeselect","beforedeselect");if(e){a=Ext.getDom(e);if(a){if(!g.store){b=Ext.Array.map(Ext.Array.from(a.options),function(k){return[k.value,k.text]})}if(!g.name){g.name=a.name}if(!("value" in g)){g.value=a.value}}}g.bindStore(b||"ext-empty-store",true);b=g.store;if(b.autoCreated){g.queryMode="local";g.valueField=g.displayField="field1";if(!b.expanded){g.displayField="field2"}}if(!d(g.valueField)){g.valueField=g.displayField}h=g.queryMode==="local";if(!d(g.queryDelay)){g.queryDelay=h?10:500}if(!d(g.minChars)){g.minChars=h?0:4}if(!g.displayTpl){g.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+g.displayField+'"]]}<tpl if="xindex < xcount">'+g.delimiter+"</tpl></tpl>")}else{if(Ext.isString(g.displayTpl)){g.displayTpl=new Ext.XTemplate(g.displayTpl)}}g.callParent();g.doQueryTask=new Ext.util.DelayedTask(g.doRawQuery,g);if(g.store.getCount()>0){g.setValue(g.value)}if(a){g.render(a.parentNode,a);Ext.removeNode(a);delete g.renderTo}},getStore:function(){return this.store},beforeBlur:function(){this.doQueryTask.cancel();this.assertValue()},assertValue:function(){var b=this,d=b.getRawValue(),e,a;if(b.forceSelection){if(b.multiSelect){if(d!==b.getDisplayValue()){b.setValue(b.lastSelection)}}else{e=b.findRecordByDisplay(d);if(e){a=b.value;if(!b.findRecordByValue(a)){b.select(e,true)}}else{b.setValue(b.lastSelection)}}}b.collapse()},onTypeAhead:function(){var g=this,e=g.displayField,b=g.store.findRecord(e,g.getRawValue()),d=g.getPicker(),h,a,k;if(b){h=b.get(e);a=h.length;k=g.getRawValue().length;d.highlightItem(d.getNode(b));if(k!==0&&k!==a){g.setRawValue(h);g.selectText(k,h.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent();if(this.queryFilter&&!this.queryFilter.disabled){this.queryFilter.disabled=true;this.store.filter()}},onUnbindStore:function(a){var d=this,b=d.picker;if(d.queryFilter){d.store.removeFilter(d.queryFilter)}if(!a&&b){b.bindStore(null)}},onBindStore:function(a,d){var b=this.picker;if(!d){this.resetToDefault()}if(b){b.bindStore(a)}},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(b,a,e){var d=this;if(d.ignoreSelection>0){--d.ignoreSelection}if(e&&!b.lastOptions.rawQuery){if(d.value==null){if(d.store.getCount()){d.doAutoSelect()}else{d.setValue(d.value)}}else{d.setValue(d.value)}}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(g,b,e){var d=this,a=d.beforeQuery({query:g||"",rawQuery:e,forceAll:b,combo:d,cancel:false});if(a===false||a.cancel){return false}if(d.queryCaching&&a.query===d.lastQuery){d.expand()}else{d.lastQuery=a.query;if(d.queryMode==="local"){d.doLocalQuery(a)}else{d.doRemoteQuery(a)}}return true},beforeQuery:function(a){var b=this;if(b.fireEvent("beforequery",a)===false){a.cancel=true}else{if(!a.cancel){if(a.query.length<b.minChars&&!a.forceAll){a.cancel=true}}}return a},doLocalQuery:function(a){var b=this,d=a.query;if(!b.queryFilter){b.queryFilter=new Ext.util.Filter({id:b.id+"-query-filter",anyMatch:b.anyMatch,caseSensitive:b.caseSensitive,root:"data",property:b.displayField});b.store.addFilter(b.queryFilter,false)}if(d||!a.forceAll){b.queryFilter.disabled=false;b.queryFilter.setValue(b.enableRegEx?new RegExp(d):d)}else{b.queryFilter.disabled=true}b.store.filter();if(b.store.getCount()){b.expand()}else{b.collapse()}b.afterQuery(a)},doRemoteQuery:function(b){var d=this,a=function(){d.afterQuery(b)};d.expand();if(d.pageSize){d.loadPage(1,{rawQuery:b.rawQuery,callback:a})}else{d.store.load({params:d.getParams(b.query),rawQuery:b.rawQuery,callback:a})}},afterQuery:function(a){var b=this;if(b.store.getCount()){if(b.typeAhead){b.doTypeAhead()}if(b.getRawValue()!==b.getDisplayValue()){b.ignoreSelection++;b.picker.getSelectionModel().deselectAll();b.ignoreSelection--}if(a.rawQuery){b.syncSelection();if(b.picker&&!b.picker.getSelectionModel().hasSelection()){b.doAutoSelect()}}else{b.doAutoSelect()}}},loadPage:function(b,a){this.store.loadPage(b,Ext.apply({params:this.getParams(this.lastQuery)},a))},onPageChange:function(b,a){this.loadPage(a);return false},getParams:function(d){var b={},a=this.queryParam;if(a){b[a]=d}return b},doAutoSelect:function(){var b=this,a=b.picker,d,e;if(a&&b.autoSelect&&b.store.getCount()>0){d=a.getSelectionModel().lastSelected;e=a.getNode(d||0);if(e){a.highlightItem(e);a.listEl.scrollChildIntoView(e,false)}}},doTypeAhead:function(){if(!this.typeAheadTask){this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.typeAheadTask.delay(this.typeAheadDelay)}},onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.onFocus({});if(a.triggerAction==="all"){a.doQuery(a.allQuery,true)}else{if(a.triggerAction==="last"){a.doQuery(a.lastQuery,true)}else{a.doQuery(a.getRawValue(),false,true)}}}a.inputEl.focus()}},onPaste:function(){var a=this;if(!a.readOnly&&!a.disabled&&a.editable){a.doQueryTask.delay(a.queryDelay)}},onKeyUp:function(g,b){var d=this,a=g.getKey();if(!d.readOnly&&!d.disabled&&d.editable){d.lastKey=a;if(!g.isSpecialKey()||a==g.BACKSPACE||a==g.DELETE){d.doQueryTask.delay(d.queryDelay)}}if(d.enableKeyEvents){d.callParent(arguments)}},initEvents:function(){var a=this;a.callParent();if(!a.enableKeyEvents){a.mon(a.inputEl,"keyup",a.onKeyUp,a)}a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){Ext.destroy(this.listKeyNav);this.bindStore(null);this.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var d=this,b,a=Ext.apply({xtype:"boundlist",pickerField:d,selModel:{mode:d.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,store:d.store,displayField:d.displayField,focusOnToFront:false,pageSize:d.pageSize,tpl:d.tpl},d.listConfig,d.defaultListConfig);b=d.picker=Ext.widget(a);if(d.pageSize){b.pagingToolbar.on("beforechange",d.onPageChange,d)}d.mon(b,{itemclick:d.onItemClick,refresh:d.onListRefresh,scope:d});d.mon(b.getSelectionModel(),{beforeselect:d.onBeforeSelect,beforedeselect:d.onBeforeDeselect,selectionchange:d.onListSelectionChange,scope:d});return b},alignPicker:function(){var b=this,a=b.getPicker(),g=b.getPosition()[1]-Ext.getBody().getScroll().top,e=Ext.Element.getViewHeight()-g-b.getHeight(),d=Math.max(g,e);if(a.height){delete a.height;a.updateLayout()}if(a.getHeight()>d-5){a.setHeight(d-5)}b.callParent()},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onItemClick:function(d,a){var g=this,e=g.picker.getSelectionModel().getSelection(),b=g.valueField;if(!g.multiSelect&&e.length){if(a.get(b)===e[0].get(b)){g.displayTplData=[a.data];g.setRawValue(g.getDisplayValue());g.collapse()}}},onBeforeSelect:function(b,a){return this.fireEvent("beforeselect",this,a,a.index)},onBeforeDeselect:function(b,a){return this.fireEvent("beforedeselect",this,a,a.index)},onListSelectionChange:function(b,e){var a=this,g=a.multiSelect,d=e.length>0;if(!a.ignoreSelection&&a.isExpanded){if(!g){Ext.defer(a.collapse,1,a)}if(g||d){a.setValue(e,false)}if(d){a.fireEvent("select",a,e)}a.inputEl.focus()}},onExpand:function(){var e=this,a=e.listKeyNav,d=e.selectOnTab,b=e.getPicker();if(a){a.enable()}else{a=e.listKeyNav=new Ext.view.BoundListKeyNav(this.inputEl,{boundList:b,forceKeyDown:true,tab:function(g){if(d){this.selectHighlighted(g);e.triggerBlur()}return true},enter:function(k){var g=b.getSelectionModel(),h=g.getCount();this.selectHighlighted(k);if(!e.multiSelect&&h===g.getCount()){e.collapse()}}})}if(d){e.ignoreMonitorTab=true}Ext.defer(a.enable,1,a);e.inputEl.focus()},onCollapse:function(){var b=this,a=b.listKeyNav;if(a){a.disable();b.ignoreMonitorTab=false}},select:function(g,b){var e=this,d=e.picker,a=true,h;if(g&&g.isModel&&b===true&&d){h=!d.getSelectionModel().isSelected(g)}e.setValue(g,true);if(h){e.fireEvent("select",e,g)}},findRecord:function(e,d){var b=this.store,a=b.findExact(e,d);return a!==-1?b.getAt(a):false},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(o,g){var m=this,d=m.valueNotFoundText,q=m.inputEl,h,l,k,a,n=[],b=[],e=[];if(m.store.loading){m.value=o;m.setHiddenValue(m.value);return m}o=Ext.Array.from(o);for(h=0,l=o.length;h<l;h++){k=o[h];if(!k||!k.isModel){k=m.findRecordByValue(k)}if(k){n.push(k);b.push(k.data);e.push(k.get(m.valueField))}else{if(!m.forceSelection){e.push(o[h]);a={};a[m.displayField]=o[h];b.push(a)}else{if(Ext.isDefined(d)){b.push(d)}}}}m.setHiddenValue(e);m.value=m.multiSelect?e:e[0];if(!Ext.isDefined(m.value)){m.value=null}m.displayTplData=b;m.lastSelection=m.valueModels=n;if(q&&m.emptyText&&!Ext.isEmpty(o)){q.removeCls(m.emptyCls)}m.setRawValue(m.getDisplayValue());m.checkChange();if(g!==false){m.syncSelection()}m.applyEmptyText();return m},setHiddenValue:function(l){var g=this,a=g.hiddenName,e,b,m,k,h,d;if(!g.hiddenDataEl||!a){return}l=Ext.Array.from(l);b=g.hiddenDataEl.dom;m=b.childNodes;k=m[0];h=l.length;d=m.length;if(!k&&h>0){g.hiddenDataEl.update(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a}));d=1;k=b.firstChild}while(d>h){b.removeChild(m[0]);--d}while(d<h){b.appendChild(k.cloneNode(true));++d}for(e=0;e<h;e++){m[e].value=l[e]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var b=this,a=b.picker,e=b.getRawValue(),d=b.value;if(b.getDisplayValue()!==e){d=e;b.value=b.displayTplData=b.valueModels=null;if(a){b.ignoreSelection++;a.getSelectionModel().deselectAll();b.ignoreSelection--}}return d},getSubmitValue:function(){var a=this.getValue();if(Ext.isEmpty(a)){a=""}return a},isEqual:function(g,e){var b=Ext.Array.from,d,a;g=b(g);e=b(e);a=g.length;if(a!==e.length){return false}for(d=0;d<a;d++){if(e[d]!==g[d]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var k=this,e=k.picker,h,d,b=k.valueModels||[],g=b.length,a,l;if(e){h=[];for(a=0;a<g;a++){l=b[a];if(l&&l.isModel&&k.store.indexOf(l)>=0){h.push(l)}}k.ignoreSelection++;d=e.getSelectionModel();d.deselectAll();if(h.length){d.select(h,undefined,true)}k.ignoreSelection--}},onEditorTab:function(b){var a=this.listKeyNav;if(this.selectOnTab&&a){a.selectHighlighted(b)}}},0,["combo","combobox"],["component","pickerfield","field","triggerfield","textfield","combo","box","trigger","combobox"],{component:true,pickerfield:true,field:true,triggerfield:true,textfield:true,combo:true,box:true,trigger:true,combobox:true},["widget.combo","widget.combobox"],[["bindable",Ext.util.Bindable]],[Ext.form.field,"ComboBox",Ext.form,"ComboBox"],0));Ext.define("ExtThemeNeptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});(Ext.cmd.derive("Ext.picker.Month",Ext.Component,{alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","buttonsEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" href="#" hidefocus="on" ></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" href="#" hidefocus="on" ></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" href="#">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>',"</div>",'<tpl if="showButtons">','<div id="{id}-buttonsEl" class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected";a.addEvents("cancelclick","monthclick","monthdblclick","okclick","select","yearclick","yeardblclick");if(a.small){a.addCls(a.smallCls)}a.setValue(a.value);a.activeYear=a.getYear(new Date().getFullYear()-4,-4);if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})}this.callParent()},beforeRender:function(){var h=this,d=0,b=[],a=Ext.Date.getShortMonthName,g=h.monthOffset,k=h.monthMargin,e="";h.callParent();for(;d<g;++d){b.push(a(d),a(d+g))}if(Ext.isDefined(k)){e="margin: 0 "+k+"px;"}Ext.apply(h.renderData,{months:b,years:h.getYears(),showButtons:h.showButtons,monthStyle:e})},afterRender:function(){var b=this,a=b.bodyEl,d=b.buttonsEl;b.callParent();b.mon(a,"click",b.onBodyClick,b);b.mon(a,"dblclick",b.onBodyClick,b);b.years=a.select("."+b.baseCls+"-year a");b.months=a.select("."+b.baseCls+"-month a");b.backRepeater=new Ext.util.ClickRepeater(b.prevEl,{handler:Ext.Function.bind(b.adjustYear,b,[-b.totalYears])});b.prevEl.addClsOnOver(b.baseCls+"-yearnav-prev-over");b.nextRepeater=new Ext.util.ClickRepeater(b.nextEl,{handler:Ext.Function.bind(b.adjustYear,b,[b.totalYears])});b.nextEl.addClsOnOver(b.baseCls+"-yearnav-next-over");b.updateBody();if(!Ext.isDefined(b.monthMargin)){Ext.picker.Month.prototype.monthMargin=b.calculateMonthMargin()}},calculateMonthMargin:function(){var e=this,b=e.monthEl,a=e.months,g=a.first(),d=g.getMargin("l");while(d&&e.getLargest()>e.measureMaxHeight){--d;a.setStyle("margin","0 "+d+"px")}return d},getLargest:function(a){var b=0;this.months.each(function(e){var d=e.getHeight();if(d>b){b=d}});return b},setValue:function(e){var d=this,g=d.activeYear,h=d.monthOffset,b,a;if(!e){d.value=[null,null]}else{if(Ext.isDate(e)){d.value=[e.getMonth(),e.getFullYear()]}else{d.value=[e[0],e[1]]}}if(d.rendered){b=d.value[1];if(b!==null){if((b<g||b>g+d.yearOffset)){d.activeYear=b-d.yearOffset+1}}d.updateBody()}return d},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){var e=this,g=e.yearOffset,h=e.activeYear,a=h+g,d=h,b=[];for(;d<a;++d){b.push(d,d+g)}return b},updateBody:function(){var l=this,g=l.years,b=l.months,q=l.getYears(),r=l.selectedCls,n=l.getYear(null),h=l.value[0],o=l.monthOffset,k,e,m,a,d;if(l.rendered){g.removeCls(r);b.removeCls(r);e=g.elements;a=e.length;for(m=0;m<a;m++){d=Ext.fly(e[m]);k=q[m];d.dom.innerHTML=k;if(k==n){d.addCls(r)}}if(h!==null){if(h<o){h=h*2}else{h=(h-o)*2+1}b.item(h).addCls(r)}}},getYear:function(a,d){var b=this.value[1];d=d||0;return b===null?a:b+d},onBodyClick:function(g,b){var d=this,a=g.type=="dblclick";if(g.getTarget("."+d.baseCls+"-month")){g.stopEvent();d.onMonthClick(b,a)}else{if(g.getTarget("."+d.baseCls+"-year")){g.stopEvent();d.onYearClick(b,a)}}},adjustYear:function(a){if(typeof a!="number"){a=this.totalYears}this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(d,a){var b=this;b.value[0]=b.resolveOffset(b.months.indexOf(d),b.monthOffset);b.updateBody();b.fireEvent("month"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},onYearClick:function(d,a){var b=this;b.value[1]=b.activeYear+b.resolveOffset(b.years.indexOf(d),b.yearOffset);b.updateBody();b.fireEvent("year"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},resolveOffset:function(a,b){if(a%2===0){return(a/2)}else{return b+Math.floor(a/2)}},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn");a.callParent()},finishRenderChildren:function(){var a=this;this.callParent(arguments);if(this.showButtons){a.okBtn.finishRender();a.cancelBtn.finishRender()}},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()}},0,["monthpicker"],["component","box","monthpicker"],{component:true,box:true,monthpicker:true},["widget.monthpicker"],0,[Ext.picker,"Month",Ext,"MonthPicker"],0));(Ext.cmd.derive("Ext.picker.Date",Ext.Component,{alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" class="{baseCls}-prev {baseCls}-arrow" href="#" role="button" title="{prevText}" hidefocus="on" ></a>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" class="{baseCls}-next {baseCls}-arrow" href="#" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a role="presentation" hidefocus="on" class="{parent.baseCls}-date" href="#"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(b){b--;var a=b%7===0&&b!==0;return a?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,initHour:12,numDays:42,initComponent:function(){var b=this,a=Ext.Date.clearTime;b.selectedCls=b.baseCls+"-selected";b.disabledCellCls=b.baseCls+"-disabled";b.prevCls=b.baseCls+"-prevday";b.activeCls=b.baseCls+"-active";b.cellCls=b.baseCls+"-cell";b.nextCls=b.baseCls+"-prevday";b.todayCls=b.baseCls+"-today";if(!b.format){b.format=Ext.Date.defaultFormat}if(!b.dayNames){b.dayNames=Ext.Date.dayNames}b.dayNames=b.dayNames.slice(b.startDay).concat(b.dayNames.slice(0,b.startDay));b.callParent();b.value=b.value?a(b.value,true):a(new Date());b.addEvents("select");b.initDisabledDays()},beforeRender:function(){var b=this,d=new Array(b.numDays),a=Ext.Date.format(new Date(),b.format);if(b.up("menu")){b.addCls(Ext.baseCSSPrefix+"menu")}b.monthBtn=new Ext.button.Split({ownerCt:b,ownerLayout:b.getComponentLayout(),text:"",tooltip:b.monthYearText,listeners:{click:b.showMonthPicker,arrowclick:b.showMonthPicker,scope:b}});if(b.showToday){b.todayBtn=new Ext.button.Button({ownerCt:b,ownerLayout:b.getComponentLayout(),text:Ext.String.format(b.todayText,a),tooltip:Ext.String.format(b.todayTip,a),tooltipType:"title",handler:b.selectToday,scope:b})}b.callParent();Ext.applyIf(b,{renderData:{}});Ext.apply(b.renderData,{dayNames:b.dayNames,showToday:b.showToday,prevText:b.prevText,nextText:b.nextText,days:d});b.protoEl.unselectable()},finishRenderChildren:function(){var a=this;a.callParent();a.monthBtn.finishRender();if(a.showToday){a.todayBtn.finishRender()}},onRender:function(b,a){var d=this;d.callParent(arguments);d.cells=d.eventEl.select("tbody td");d.textNodes=d.eventEl.query("tbody td a");d.mon(d.eventEl,{scope:d,mousewheel:d.handleMouseWheel,click:{fn:d.handleDateClick,delegate:"a."+d.baseCls+"-date"}})},initEvents:function(){var d=this,a=Ext.Date,b=a.DAY;d.callParent();d.prevRepeater=new Ext.util.ClickRepeater(d.prevEl,{handler:d.showPrevMonth,scope:d,preventDefault:true,stopDefault:true});d.nextRepeater=new Ext.util.ClickRepeater(d.nextEl,{handler:d.showNextMonth,scope:d,preventDefault:true,stopDefault:true});d.keyNav=new Ext.util.KeyNav(d.eventEl,Ext.apply({scope:d,left:function(g){if(g.ctrlKey){d.showPrevMonth()}else{d.update(a.add(d.activeDate,b,-1))}},right:function(g){if(g.ctrlKey){d.showNextMonth()}else{d.update(a.add(d.activeDate,b,1))}},up:function(g){if(g.ctrlKey){d.showNextYear()}else{d.update(a.add(d.activeDate,b,-7))}},down:function(g){if(g.ctrlKey){d.showPrevYear()}else{d.update(a.add(d.activeDate,b,7))}},pageUp:function(g){if(g.altKey){d.showPrevYear()}else{d.showPrevMonth()}},pageDown:function(g){if(g.altKey){d.showNextYear()}else{d.showNextMonth()}},tab:function(g){d.doCancelFieldFocus=true;d.handleTabClick(g);delete d.doCancelFieldFocus;return true},enter:function(g){g.stopPropagation();return true},home:function(g){d.update(a.getFirstDateOfMonth(d.activeDate))},end:function(g){d.update(a.getLastDateOfMonth(d.activeDate))}},d.keyNavConfig));if(d.showToday){d.todayKeyListener=d.eventEl.addKeyListener(Ext.EventObject.SPACE,d.selectToday,d)}d.update(d.value)},handleTabClick:function(g){var d=this,a=d.getSelectedDate(d.activeDate),b=d.handler;if(!d.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasCls(d.disabledCellCls)){d.doCancelFocus=d.focusOnSelect===false;d.setValue(new Date(a.dateValue));delete d.doCancelFocus;d.fireEvent("select",d,d.value);if(b){b.call(d.scope||d,d,d.value)}d.onSelect()}},getSelectedDate:function(a){var d=this,k=a.getTime(),l=d.cells,m=d.selectedCls,g=l.elements,b,e=g.length,h;l.removeCls(m);for(b=0;b<e;b++){h=Ext.fly(g[b]);if(h.dom.firstChild.dateValue==k){return h.dom.firstChild}}return null},initDisabledDays:function(){var k=this,b=k.disabledDates,h="(?:",a,l,e,g;if(!k.disabledDatesRE&&b){a=b.length-1;e=b.length;for(l=0;l<e;l++){g=b[l];h+=Ext.isDate(g)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(g,k.format))+"$":g;if(l!=a){h+="|"}}k.disabledDatesRE=new RegExp(h+")")}},setDisabledDates:function(a){var b=this;if(Ext.isArray(a)){b.disabledDates=a;b.disabledDatesRE=null}else{b.disabledDatesRE=a}b.initDisabledDays();b.update(b.value,true);return b},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a,true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a);b.prevRepeater.setDisabled(a);b.nextRepeater.setDisabled(a);if(b.showToday){b.todayKeyListener.setDisabled(a);b.todayBtn.setDisabled(a)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(d){var b=this.monthPicker,a={duration:200,callback:function(){if(d){b.hide()}else{b.show()}}};if(d){b.el.slideOut("t",a)}else{b.el.slideIn("t",a)}},hideMonthPicker:function(a){var d=this,b=d.monthPicker;if(b){if(d.shouldAnimate(a)){d.runAnimation(true)}else{b.hide()}}return d},showMonthPicker:function(a){var d=this,b;if(d.rendered&&!d.disabled){b=d.createMonthPicker();b.setValue(d.getActive());b.setSize(d.getSize());b.setPosition(-1,-1);if(d.shouldAnimate(a)){d.runAnimation(false)}else{b.show()}}return d},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var b=this,a=b.monthPicker;if(!a){b.monthPicker=a=new Ext.picker.Month({renderTo:b.el,floating:true,shadow:false,small:b.showToday===false,listeners:{scope:b,cancelclick:b.onCancelClick,okclick:b.onOkClick,yeardblclick:b.onOkClick,monthdblclick:b.onOkClick}});if(!b.disableAnim){a.el.setStyle("display","none")}b.on("beforehide",Ext.Function.bind(b.hideMonthPicker,b,[false]))}return a},onOkClick:function(b,g){var e=this,h=g[0],d=g[1],a=new Date(d,h,e.getActive().getDate());if(a.getMonth()!==h){a=Ext.Date.getLastDateOfMonth(new Date(d,h,1))}e.setValue(a);e.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0){this.showPrevMonth()}else{if(b<0){this.showNextMonth()}}}},handleDateClick:function(g,a){var d=this,b=d.handler;g.stopEvent();if(!d.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasCls(d.disabledCellCls)){d.doCancelFocus=d.focusOnSelect===false;d.setValue(new Date(a.dateValue));delete d.doCancelFocus;d.fireEvent("select",d,d.value);if(b){b.call(d.scope||d,d,d.value)}d.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var d=this,a=d.todayBtn,b=d.handler;if(a&&!a.disabled){d.setValue(Ext.Date.clearTime(new Date()));d.fireEvent("select",d,d.value);if(b){b.call(d.scope||d,d,d.value)}d.onSelect()}return d},selectedUpdate:function(a){var d=this,k=a.getTime(),l=d.cells,m=d.selectedCls,g=l.elements,b,e=g.length,h;l.removeCls(m);for(b=0;b<e;b++){h=Ext.fly(g[b]);if(h.dom.firstChild.dateValue==k){d.fireEvent("highlightitem",d,h);h.addCls(m);if(d.isVisible()&&!d.doCancelFocus){Ext.fly(h.dom.firstChild).focus(50)}break}}},fullUpdate:function(F){var K=this,h=K.cells.elements,e=K.textNodes,O=K.disabledCellCls,r=Ext.Date,B=0,J=0,g=K.isVisible(),o=+r.clearTime(F,true),E=+r.clearTime(new Date()),z=K.minDate?r.clearTime(K.minDate,true):Number.NEGATIVE_INFINITY,A=K.maxDate?r.clearTime(K.maxDate,true):Number.POSITIVE_INFINITY,I=K.disabledDatesRE,y=K.disabledDatesText,P=K.disabledDays?K.disabledDays.join(""):false,G=K.disabledDaysText,C=K.format,n=r.getDaysInMonth(F),u=r.getFirstDateOfMonth(F),k=u.getDay()-K.startDay,D=r.add(F,r.MONTH,-1),b=K.longDayFormat,m,w,a,N,q,t,d,l,x;if(k<0){k+=7}n+=k;m=r.getDaysInMonth(D)-k;w=new Date(D.getFullYear(),D.getMonth(),m,K.initHour);if(K.showToday){N=r.clearTime(new Date());a=(N<z||N>A||(I&&C&&I.test(r.dateFormat(N,C)))||(P&&P.indexOf(N.getDay())!=-1));if(!K.disabled){K.todayBtn.setDisabled(a);K.todayKeyListener.setDisabled(a)}}q=function(R,S){x=+r.clearTime(w,true);R.title=r.format(w,b);R.firstChild.dateValue=x;if(x==E){S+=" "+K.todayCls;R.title=K.todayText;K.todayElSpan=Ext.DomHelper.append(R.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hide-clip",html:K.todayText},true)}if(x==o){S+=" "+K.selectedCls;K.fireEvent("highlightitem",K,R);if(g&&K.floating){Ext.fly(R.firstChild).focus(50)}}if(x<z){S+=" "+O;R.title=K.minText}else{if(x>A){S+=" "+O;R.title=K.maxText}else{if(P&&P.indexOf(w.getDay())!==-1){R.title=G;S+=" "+O}else{if(I&&C){l=r.dateFormat(w,C);if(I.test(l)){R.title=y.replace("%0",l);S+=" "+O}}}}}R.className=S+" "+K.cellCls};for(;B<K.numDays;++B){if(B<k){t=(++m);d=K.prevCls}else{if(B>=n){t=(++J);d=K.nextCls}else{t=B-k+1;d=K.activeCls}}e[B].innerHTML=t;w.setDate(w.getDate()+1);q(h[B],d)}K.monthBtn.setText(Ext.Date.format(F,K.monthYearFormat))},update:function(a,e){var b=this,d=b.activeDate;if(b.rendered){b.activeDate=a;if(!e&&d&&b.el&&d.getMonth()==a.getMonth()&&d.getFullYear()==a.getFullYear()){b.selectedUpdate(a,d)}else{b.fullUpdate(a,d)}}return b},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}a.callParent()},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}}},0,["datepicker"],["component","box","datepicker"],{component:true,box:true,datepicker:true},["widget.datepicker"],0,[Ext.picker,"Date",Ext,"DatePicker"],0));(Ext.cmd.derive("Ext.form.field.Date",Ext.form.field.Picker,{alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var e=this,b=Ext.isString,d,a;d=e.minValue;a=e.maxValue;if(b(d)){e.minValue=e.parseDate(d)}if(b(a)){e.maxValue=e.parseDate(a)}e.disabledDatesRE=null;e.initDisabledDays();e.callParent()},initValue:function(){var a=this,b=a.value;if(Ext.isString(b)){a.value=a.rawToValue(b)}a.callParent()},initDisabledDays:function(){if(this.disabledDates){var b=this.disabledDates,a=b.length-1,h="(?:",k,g=b.length,e;for(k=0;k<g;k++){e=b[k];h+=Ext.isDate(e)?"^"+Ext.String.escapeRegex(e.dateFormat(this.format))+"$":e;if(k!==a){h+="|"}}this.disabledDatesRE=new RegExp(h+")")}},setDisabledDates:function(a){var d=this,b=d.picker;d.disabledDates=a;d.initDisabledDays();if(b){b.setDisabledDates(d.disabledDatesRE)}},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;if(b){b.setDisabledDays(a)}},setMinValue:function(d){var b=this,a=b.picker,e=(Ext.isString(d)?b.parseDate(d):d);b.minValue=e;if(a){a.minText=Ext.String.format(b.minText,b.formatDate(b.minValue));a.setMinDate(e)}},setMaxValue:function(d){var b=this,a=b.picker,e=(Ext.isString(d)?b.parseDate(d):d);b.maxValue=e;if(a){a.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue));a.setMaxDate(e)}},getErrors:function(u){var l=this,t=Ext.String.format,m=Ext.Date.clearTime,r=l.callParent(arguments),q=l.disabledDays,e=l.disabledDatesRE,o=l.minValue,k=l.maxValue,h=q?q.length:0,g=0,a,b,n,d;u=l.formatDate(u||l.processRawValue(l.getRawValue()));if(u===null||u.length<1){return r}a=u;u=l.parseDate(u);if(!u){r.push(t(l.invalidText,a,Ext.Date.unescapeFormat(l.format)));return r}d=u.getTime();if(o&&d<m(o).getTime()){r.push(t(l.minText,l.formatDate(o)))}if(k&&d>m(k).getTime()){r.push(t(l.maxText,l.formatDate(k)))}if(q){n=u.getDay();for(;g<h;g++){if(n===q[g]){r.push(l.disabledDaysText);break}}}b=l.formatDate(u);if(e&&e.test(b)){r.push(t(l.disabledDatesText,b))}return r},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(h,k){var g=this,d=Ext.Date,a=null,b=g.useStrict,e;if(d.formatContainsHourInfo(k)){a=d.parse(h,k,b)}else{e=d.parse(h+" "+g.initTime,k+" "+g.initTimeFormat,b);if(e){a=d.clearTime(e)}}return a},getSubmitValue:function(){var b=this.submitFormat||this.format,a=this.getValue();return a?Ext.Date.format(a,b):""},parseDate:function(g){if(!g||Ext.isDate(g)){return g}var e=this,k=e.safeParse(g,e.format),b=e.altFormats,h=e.altFormatsArray,d=0,a;if(!k&&b){h=h||b.split("|");a=h.length;for(;d<a&&!k;++d){k=e.safeParse(g,h[d])}}return k},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onDownArrow:function(a){this.callParent(arguments);if(this.isExpanded){this.getPicker().focus()}},onSelect:function(a,e){var b=this;b.setValue(e);b.fireEvent("select",b,e);b.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date())},onCollapse:function(){this.focus(false,60)},beforeBlur:function(){var d=this,a=d.parseDate(d.getRawValue()),b=d.focusTask;if(b){b.cancel()}if(a){d.setValue(a)}}},0,["datefield"],["component","pickerfield","field","datefield","triggerfield","textfield","box","trigger"],{component:true,pickerfield:true,field:true,datefield:true,triggerfield:true,textfield:true,box:true,trigger:true},["widget.datefield"],0,[Ext.form.field,"Date",Ext.form,"DateField",Ext.form,"Date"],0));Ext.define("ExtThemeNeptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});(Ext.cmd.derive("Ext.form.field.FileButton",Ext.button.Button,{childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:false,renderTpl:['<span id="{id}-btnWrap" class="{baseCls}-wrap','<tpl if="splitCls"> {splitCls}</tpl>','{childElCls}" unselectable="on">','<span id="{id}-btnEl" class="{baseCls}-button">','<span id="{id}-btnInnerEl" class="{baseCls}-inner {innerCls}','{childElCls}" unselectable="on">',"{text}","</span>",'<span role="img" id="{id}-btnIconEl" class="{baseCls}-icon-el {iconCls}','{childElCls} {glyphCls}" unselectable="on" style="','<tpl if="iconUrl">background-image:url({iconUrl});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl>',"</span>","</span>","</span>",'<input id="{id}-fileInputEl" class="{childElCls} {inputCls}" type="file" size="1" name="{inputName}">'],getTemplateArgs:function(){var a=this.callParent();a.inputCls=this.inputCls;a.inputName=this.inputName;return a},afterRender:function(){var a=this;a.callParent(arguments);a.fileInputEl.on("change",a.fireChange,a)},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){var b=this;b.fileInputEl=b.el.createChild({name:b.inputName,id:!a?b.id+"-fileInputEl":undefined,cls:b.inputCls,tag:"input",type:"file",size:1});b.fileInputEl.on("change",b.fireChange,b)},reset:function(a){if(a){this.fileInputEl.remove()}this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.remove();a=Ext.get(a);this.el.appendChild(a);this.fileInputEl=a},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=true},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=false}},0,["filebutton"],["button","component","filebutton","box"],{button:true,component:true,filebutton:true,box:true},["widget.filebutton"],0,[Ext.form.field,"FileButton"],0));(Ext.cmd.derive("Ext.form.field.File",Ext.form.field.Trigger,{alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],buttonText:"Browse...",buttonOnly:false,buttonMargin:3,clearOnSubmit:true,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",readOnly:true,triggerNoEditCls:"",componentLayout:"triggerfield",childEls:["browseButtonWrap"],onRender:function(){var a=this,d=a.id,b;a.callParent(arguments);b=a.inputEl;b.dom.name="";a.button=new Ext.form.field.FileButton(Ext.apply({renderTo:d+"-browseButtonWrap",ownerCt:a,ownerLayout:a.componentLayout,id:d+"-button",ui:a.ui,disabled:a.disabled,text:a.buttonText,style:a.buttonOnly?"":a.getButtonMarginProp()+a.buttonMargin+"px",inputName:a.getName(),listeners:{scope:a,change:a.onFileChange}},a.buttonConfig));a.fileInputEl=a.button.fileInputEl;if(a.buttonOnly){a.inputCell.setDisplayed(false)}a.browseButtonWrap.dom.style.width=(a.browseButtonWrap.dom.lastChild.offsetWidth+a.button.getEl().getMargin("lr"))+"px";if(Ext.isIE){a.button.getEl().repaint()}},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"></td>'},onFileChange:function(a,d,b){this.lastValue=null;Ext.form.field.File.superclass.setValue.call(this,b)},setValue:Ext.emptyFn,reset:function(){var b=this,a=b.clearOnSubmit;if(b.rendered){b.button.reset(a);b.fileInputEl=b.button.fileInputEl;if(a){b.inputEl.dom.value=""}}b.callParent()},onShow:function(){this.callParent();this.button.updateLayout()},onDisable:function(){this.callParent();this.button.disable()},onEnable:function(){this.callParent();this.button.enable()},isFileUpload:function(){return true},extractFileInput:function(){var a=this.button.fileInputEl.dom;this.reset();return a},restoreInput:function(b){var a=this.button;a.restoreInput(b);this.fileInputEl=a.fileInputEl},onDestroy:function(){Ext.destroyMembers(this,"button");delete this.fileInputEl;this.callParent()},getButtonMarginProp:function(){return"margin-left:"}},0,["fileuploadfield","filefield"],["component","field","fileuploadfield","triggerfield","filefield","textfield","box","trigger"],{component:true,field:true,fileuploadfield:true,triggerfield:true,filefield:true,textfield:true,box:true,trigger:true},["widget.filefield","widget.fileuploadfield"],0,[Ext.form.field,"File",Ext.form,"FileUploadField",Ext.ux.form,"FileUploadField",Ext.form,"File"],0));(Ext.cmd.derive("Ext.form.field.Hidden",Ext.form.field.Base,{alternateClassName:"Ext.form.Hidden",inputType:"hidden",hideLabel:true,hidden:true,initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(b,a){return this.isEqualAsString(b,a)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn},0,["hiddenfield","hidden"],["hiddenfield","component","field","hidden","box"],{hiddenfield:true,component:true,field:true,hidden:true,box:true},["widget.hidden","widget.hiddenfield"],0,[Ext.form.field,"Hidden",Ext.form,"Hidden"],0));(Ext.cmd.derive("Ext.picker.Color",Ext.Component,{alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);a.addEvents("select");if(a.handler){a.on("select",a.handler,a.scope,true)}},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var b=this,a=b.clickEvent;b.callParent(arguments);b.mon(b.el,a,b.handleClick,b,{delegate:"a"});if(a!="click"){b.mon(b.el,"click",Ext.emptyFn,b,{delegate:"a",stopEvent:true})}},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(d,e){var b=this,a;d.stopEvent();if(!b.disabled){a=e.className.match(b.colorRe)[1];b.select(a.toUpperCase())}},select:function(b,a){var e=this,h=e.selectedCls,g=e.value,d;b=b.replace("#","");if(!e.rendered){e.value=b;return}if(b!=g||e.allowReselect){d=e.el;if(e.value){d.down("a.color-"+g).removeCls(h)}d.down("a.color-"+b).addCls(h);e.value=b;if(a!==true){e.fireEvent("select",e,b)}}},clear:function(){var b=this,d=b.value,a;if(d&&b.rendered){a=b.el.down("a.color-"+d);a.removeCls(b.selectedCls)}b.value=null},getValue:function(){return this.value||null}},0,["colorpicker"],["component","colorpicker","box"],{component:true,colorpicker:true,box:true},["widget.colorpicker"],0,[Ext.picker,"Color",Ext,"ColorPalette"],0));(Ext.cmd.derive("Ext.layout.component.field.HtmlEditor",Ext.layout.component.field.FieldContainer,{type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(b){var a=this.owner,d;if(Ext.isGecko){d=a.textareaEl.dom;this.lastValue=d.value;d.value=""}this.callParent(arguments);b.toolbarContext=b.context.getCmp(a.toolbar);b.inputCmpContext=b.context.getCmp(a.inputCmp);b.textAreaContext=b.getEl("textareaEl");b.iframeContext=b.getEl("iframeEl")},beginLayoutCycle:function(k){var h=this,d=k.widthModel,b=k.heightModel,a=h.owner,g=a.iframeEl,e=a.textareaEl;h.callParent(arguments);if(d.shrinkWrap){g.setStyle("width","");e.setStyle("width","")}else{if(d.natural){k.bodyCellContext.setWidth(h.naturalWidth)}}if(b.natural||b.shrinkWrap){g.setHeight(h.naturalHeight);e.setHeight(h.naturalHeight)}},finishedLayout:function(){var a=this.owner;this.callParent(arguments);if(Ext.isIE9m&&Ext.isIEQuirks){a.el.repaint()}if(Ext.isGecko){a.textareaEl.dom.value=this.lastValue}},publishOwnerWidth:function(b,a){this.callParent(arguments);a-=b.inputCmpContext.getBorderInfo().width;b.textAreaContext.setWidth(a);b.iframeContext.setWidth(a)},publishInnerWidth:function(g,d){var b=g.inputCmpContext.getBorderInfo().width,e=Ext.isStrict&&Ext.isIE8m,a=g.widthModel.natural;this.callParent(arguments);d=g.bodyCellContext.props.width-b;if(a){if(e){d-=2}g.textAreaContext.setWidth(d);g.iframeContext.setWidth(d)}else{if(e){g.textAreaContext.setWidth(d)}}},publishInnerHeight:function(d,a){var e=d.toolbarContext.getProp("height"),b=this.owner.sourceEditMode;this.callParent(arguments);a=d.bodyCellContext.props.height;if(e!==undefined){a-=e+d.inputCmpContext.getFrameInfo().height;if(Ext.isIE8&&Ext.isStrict){a-=2}else{if(Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)){a-=4}}d.iframeContext.setHeight(a);d.textAreaContext.setHeight(a)}else{this.done=false}}},0,0,0,0,["layout.htmleditor"],0,[Ext.layout.component.field,"HtmlEditor"],0));(Ext.cmd.derive("Ext.form.field.HtmlEditor",Ext.form.FieldContainer,{alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:Ext.baseCSSPrefix+"html-editor-container",initComponent:function(){var a=this;a.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");a.items=[a.createToolbar(),a.createInputCmp()];a.layout={type:"vbox",align:"stretch"};a.callParent(arguments);a.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var a=this,d=a.id+"-inputCmp",b={id:d,name:a.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};a.getInsertionRenderData(b,a.subTplInsertions);return{flex:1,xtype:"component",tpl:a.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:d,cls:Ext.baseCSSPrefix+"html-editor-input",data:b}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var k=this,b=[],g,a=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),e=Ext.baseCSSPrefix,l,h;function d(o,m,n){return{itemId:o,cls:e+"btn-icon",iconCls:e+"edit-"+o,enableToggle:m!==false,scope:k,handler:n||k.relayBtnCmd,clickEvent:"mousedown",tooltip:a?k.buttonTips[o]||h:h,overflowText:k.buttonTips[o].title||h,tabIndex:-1}}if(k.enableFont&&!Ext.isSafari2){l=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" class="'+e+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){k.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var m=this.selectEl;if(m){m.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var m=this.selectEl;if(m){m.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){k.win.focus();k.relayCmd("fontName",k.fontSelect.dom.value);k.deferFocus()},element:"selectEl"}});b.push(l,"-")}if(k.enableFormat){b.push(d("bold"),d("italic"),d("underline"))}if(k.enableFontSize){b.push("-",d("increasefontsize",false,k.adjustFont),d("decreasefontsize",false,k.adjustFont))}if(k.enableColors){b.push("-",{itemId:"forecolor",cls:e+"btn-icon",iconCls:e+"edit-forecolor",overflowText:k.buttonTips.forecolor.title,tooltip:a?k.buttonTips.forecolor||h:h,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(n,m){k.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+m:m);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:e+"btn-icon",iconCls:e+"edit-backcolor",overflowText:k.buttonTips.backcolor.title,tooltip:a?k.buttonTips.backcolor||h:h,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(n,m){if(Ext.isGecko){k.execCmd("useCSS",false);k.execCmd("hilitecolor","#"+m);k.execCmd("useCSS",true);k.deferFocus()}else{k.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+m:m)}this.up("menu").hide()}}]})})}if(k.enableAlignments){b.push("-",d("justifyleft"),d("justifycenter"),d("justifyright"))}if(!Ext.isSafari2){if(k.enableLinks){b.push("-",d("createlink",false,k.createLink))}if(k.enableLists){b.push("-",d("insertorderedlist"),d("insertunorderedlist"))}if(k.enableSourceEdit){b.push("-",d("sourceedit",true,function(m){k.toggleSourceEdit(!k.sourceEditMode)}))}}for(g=0;g<b.length;g++){if(b[g].itemId!=="sourceedit"){b[g].disabled=true}}return{xtype:"toolbar",defaultButtonUI:k.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:b,listeners:{click:function(m){m.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(g){var e=this,d=e.textareaEl,b=e.iframeEl,a;e.readOnly=g;if(d){d.dom.readOnly=g}if(e.initialized){a=e.getEditorBody();if(Ext.isIE){b.setDisplayed(false);a.contentEditable=!g;b.setDisplayed(true)}else{e.setDesignMode(!g)}if(a){a.style.cursor=g?"default":"text"}e.disableItems(g)}},getDocMarkup:function(){var b=this,a=b.iframeEl.getHeight()-b.iframePad*2,d=Ext.isIE8m;return Ext.String.format((d?"":"<!DOCTYPE html>")+'<html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(b.rtl?"rtl;":"ltr;")+(d?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",b.iframePad,a,b.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return(!Ext.isIE&&this.iframeEl.dom.contentDocument)||this.getWin().document},getWin:function(){return Ext.isIE?this.iframeEl.dom.contentWindow:window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var k=this,a=0,l,b,m,g,e,h,d;if(!k.defaultFont){b=k.textareaEl.getStyle("font-family");b=Ext.String.capitalize(b.split(",")[0]);l=Ext.Array.clone(k.fontFamilies);Ext.Array.include(l,b);l.sort();k.defaultFont=b;m=k.down("#fontSelect").selectEl.dom;for(e=0,h=l.length;e<h;++e){b=l[e];d=b.toLowerCase();g=new Option(b,d);if(b==k.defaultFont){a=e}g.style.fontFamily=d;if(Ext.isIE){m.add(g)}else{m.options.add(g)}}m.options[a].selected=true}},isEqual:function(b,a){return this.isEqualAsString(b,a)},afterRender:function(){var b=this,a=b.inputCmp;b.callParent(arguments);b.iframeEl=a.iframeEl;b.textareaEl=a.textareaEl;b.inputEl=b.iframeEl;if(b.enableFont){b.initDefaultFont()}b.monitorTask=Ext.TaskManager.start({run:b.checkDesignMode,scope:b,interval:100});b.relayCmd("fontName",b.defaultFont)},initFrameDoc:function(){var b=this,d,a;Ext.TaskManager.stop(b.monitorTask);d=b.getDoc();b.win=b.getWin();d.open();d.write(b.getDocMarkup());d.close();a={run:function(){var e=b.getDoc();if(e.body||e.readyState==="complete"){Ext.TaskManager.stop(a);b.setDesignMode(true);Ext.defer(b.initEditor,10,b)}},interval:10,duration:10000,scope:b};Ext.TaskManager.start(a)},checkDesignMode:function(){var a=this,b=a.getDoc();if(b&&(!b.editorInitialized||a.getDesignMode()!=="on")){a.initFrameDoc()}},setDesignMode:function(d){var a=this,b=a.getDoc();if(b){if(a.readOnly){d=false}b.designMode=(/on|true/i).test(String(d).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return !a?"":String(a.designMode).toLowerCase()},disableItems:function(e){var b=this.getToolbar().items.items,d,a=b.length,g;for(d=0;d<a;d++){g=b[d];if(g.getItemId()!=="sourceedit"){g.setDisabled(e)}}},toggleSourceEdit:function(b){var h=this,e=h.iframeEl,a=h.textareaEl,g=Ext.baseCSSPrefix+"hidden",d=h.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(b)){b=!h.sourceEditMode}h.sourceEditMode=b;if(d.pressed!==b){d.toggle(b)}if(b){h.disableItems(true);h.syncValue();e.addCls(g);a.removeCls(g);a.dom.removeAttribute("tabIndex");a.focus();h.inputEl=a}else{if(h.initialized){h.disableItems(h.readOnly)}h.pushValue();e.removeCls(g);a.addCls(g);a.dom.setAttribute("tabIndex",-1);h.deferFocus();h.inputEl=e}h.fireEvent("editmodechange",h,b);h.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=="http://"){this.relayCmd("createlink",a)}},clearInvalid:Ext.emptyFn,setValue:function(e){var d=this,b=d.textareaEl,a=d.inputCmp;d.mixins.field.setValue.call(d,e);if(e===null||e===undefined){e=""}if(b){b.dom.value=e}d.pushValue();if(!d.rendered&&d.inputCmp){d.inputCmp.data.value=e}return d},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){a=a.substring(1)}return a},syncValue:function(){var h=this,b,k,e,a,d,g;if(h.initialized){b=h.getEditorBody();e=b.innerHTML;g=h.textareaEl.dom;if(Ext.isWebKit){a=b.getAttribute("style");d=a.match(/text-align:(.*?);/i);if(d&&d[1]){e='<div style="'+d[0]+'">'+e+"</div>"}}e=h.cleanHtml(e);if(h.fireEvent("beforesync",h,e)!==false){if(Ext.isGecko&&g.value===""&&e==="<br>"){e=""}if(g.value!==e){g.value=e;k=true}h.fireEvent("sync",h,e);if(k){h.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var b=this,a;if(b.initialized){a=b.textareaEl.dom.value||"";if(!b.activated&&a.length<1){a=b.defaultValue}if(b.fireEvent("beforepush",b,a)!==false){b.getEditorBody().innerHTML=a;if(Ext.isGecko){b.setDesignMode(false);b.setDesignMode(true)}b.fireEvent("push",b,a)}}},deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl},focus:function(e,b){var d=this,g,a;if(b){if(!d.focusTask){d.focusTask=new Ext.util.DelayedTask(d.focus)}d.focusTask.delay(Ext.isNumber(b)?b:10,null,d,[e,false])}else{if(e){if(d.textareaEl&&d.textareaEl.dom){g=d.textareaEl.dom.value}if(g&&g.length){d.execCmd("selectall",true)}}a=d.getFocusEl();if(a&&a.focus){a.focus()}}return d},initEditor:function(){try{var h=this,g=h.getEditorBody(),b=h.textareaEl.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),l,d;b["background-attachment"]="fixed";g.bgProperties="fixed";Ext.DomHelper.applyStyles(g,b);l=h.getDoc();if(l){try{Ext.EventManager.removeAll(l)}catch(k){}}d=Ext.Function.bind(h.onEditorEvent,h);Ext.EventManager.on(l,{mousedown:d,dblclick:d,click:d,keyup:d,buffer:100});d=h.onRelayedEvent;Ext.EventManager.on(l,{mousedown:d,mousemove:d,mouseup:d,click:d,dblclick:d,scope:h});if(Ext.isGecko){Ext.EventManager.on(l,"keypress",h.applyCommand,h)}if(h.fixKeys){Ext.EventManager.on(l,"keydown",h.fixKeys,h)}if(h.fixKeysAfter){Ext.EventManager.on(l,"keyup",h.fixKeysAfter,h)}if(Ext.isIE9&&Ext.isStrict){Ext.EventManager.on(l.documentElement,"focus",h.focus,h)}if(Ext.isIE8m||(Ext.isIE9&&!Ext.isStrict)){Ext.EventManager.on(l,"focusout",function(){h.savedSelection=l.selection.type!=="None"?l.selection.createRange():null},h);Ext.EventManager.on(l,"focusin",function(){if(h.savedSelection){h.savedSelection.select()}},h)}Ext.EventManager.onWindowUnload(h.beforeDestroy,h);l.editorInitialized=true;h.initialized=true;h.pushValue();h.setReadOnly(h.readOnly);h.fireEvent("initialize",h)}catch(a){}},beforeDestroy:function(){var a=this,g=a.monitorTask,d,h;if(g){Ext.TaskManager.stop(g)}if(a.rendered){Ext.EventManager.removeUnloadListener(a.beforeDestroy,a);try{d=a.getDoc();if(d){Ext.EventManager.removeAll(Ext.fly(d));for(h in d){if(d.hasOwnProperty&&d.hasOwnProperty(h)){delete d[h]}}}}catch(b){}delete a.iframeEl;delete a.textareaEl;delete a.toolbar;delete a.inputCmp}a.callParent()},onRelayedEvent:function(d){var b=this.iframeEl,e=Ext.Element.getTrueXY(b),g=d.getXY(),a=Ext.EventManager.getPageXY(d.browserEvent);d.xy=[e[0]+a[0],e[1]+a[1]];d.injectEvent(b);d.xy=g},onFirstFocus:function(){var d=this,b,a;d.activated=true;d.disableItems(d.readOnly);if(Ext.isGecko){d.win.focus();b=d.win.getSelection();if(!b.focusNode||b.focusNode.nodeType!==3){a=b.getRangeAt(0);a.selectNodeContents(d.getEditorBody());a.collapse(true);d.deferFocus()}try{d.execCmd("useCSS",true);d.execCmd("styleWithCSS",false)}catch(g){}}d.fireEvent("activate",d)},adjustFont:function(e){var g=e.getItemId()==="increasefontsize"?1:-1,d=this.getDoc().queryCommandValue("FontSize")||"2",a=Ext.isString(d)&&d.indexOf("px")!==-1,b;d=parseInt(d,10);if(a){if(d<=10){d=1+g}else{if(d<=13){d=2+g}else{if(d<=16){d=3+g}else{if(d<=18){d=4+g}else{if(d<=24){d=5+g}else{d=6+g}}}}}d=Ext.Number.constrain(d,1,6)}else{b=Ext.isSafari;if(b){g*=2}d=Math.max(1,d+g)+(b?"px":0)}this.relayCmd("FontSize",d)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){var m=this,g,d,e,n,b,h,a,k;if(m.readOnly){return}if(!m.activated){m.onFirstFocus();return}e=m.getToolbar().items.map;n=m.getDoc();if(m.enableFont&&!Ext.isSafari2){h=n.queryCommandValue("fontName");b=(h?h.split(",")[0].replace(/^'/,"").replace(/'$/,""):m.defaultFont).toLowerCase();a=m.fontSelect.dom;if(b!==a.value||b!=h){a.value=b}}function o(){var l;for(g=0,d=arguments.length,b;g<d;g++){b=arguments[g];try{l=n.queryCommandState(b)}catch(q){l=false}e[b].toggle(l)}}if(m.enableFormat){o("bold","italic","underline")}if(m.enableAlignments){o("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&m.enableLists){o("insertorderedlist","insertunorderedlist")}k=m.toolbar.query("menu");for(g=0;g<k.length;g++){k[g].hide()}m.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){Ext.defer(function(){var d=this;if(!this.isDestroyed){d.win.focus();d.execCmd(b,a);d.updateToolbar()}},10,this)},execCmd:function(d,b){var a=this,e=a.getDoc();e.execCommand(d,false,(b==undefined?null:b));a.syncValue()},applyCommand:function(d){if(d.ctrlKey){var a=this,g=d.getCharCode(),b;if(g>0){g=String.fromCharCode(g);switch(g){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline";break}if(b){a.win.focus();a.execCmd(b);a.deferFocus();d.preventDefault()}}}},insertAtCursor:function(d){var b=this,a;if(b.activated){b.win.focus();if(Ext.isIE){a=b.getDoc().selection.createRange();if(a){a.pasteHTML(d);b.syncValue();b.deferFocus()}}else{b.execCmd("InsertHTML",d);b.deferFocus()}}},fixKeys:(function(){if(Ext.isIE){return function(l){var d=this,b=l.getKey(),h=d.getDoc(),m=d.readOnly,a,g;if(b===l.TAB){l.stopEvent();if(!m){a=h.selection.createRange();if(a){if(a.collapse){a.collapse(true);a.pasteHTML("&#160;&#160;&#160;&#160;")}d.deferFocus()}}}else{if(b===l.ENTER){if(!m){a=h.selection.createRange();if(a){g=a.parentElement();if(!g||g.tagName.toLowerCase()!=="li"){l.stopEvent();a.pasteHTML("<br />");a.collapse(false);a.select()}}}}}}}if(Ext.isOpera){return function(d){var b=this,a=d.getKey(),g=b.readOnly;if(a===d.TAB){d.stopEvent();if(!g){b.win.focus();b.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");b.deferFocus()}}}}return null}()),fixKeysAfter:(function(){if(Ext.isIE){return function(g){var b=this,a=g.getKey(),d=b.getDoc(),l=b.readOnly,h;if(!l&&(a===g.BACKSPACE||a===g.DELETE)){h=d.body.innerHTML;if(h==="<p>&nbsp;</p>"||h==="<P>&nbsp;</P>"){d.body.innerHTML=""}}}}return null}()),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}}},0,["htmleditor"],["container","component","fieldcontainer","box","htmleditor"],{container:true,component:true,fieldcontainer:true,box:true,htmleditor:true},["widget.htmleditor"],[["field",Ext.form.field.Field]],[Ext.form.field,"HtmlEditor",Ext.form,"HtmlEditor"],0));Ext.define("ExtThemeNeptune.form.field.HtmlEditor",{override:"Ext.form.field.HtmlEditor",defaultButtonUI:"plain-toolbar"});(Ext.cmd.derive("Ext.picker.Time",Ext.view.BoundList,{increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var d=this,a=Ext.Date,b=a.clearTime,e=d.initDate;d.absMin=b(new Date(e[0],e[1],e[2]));d.absMax=a.add(b(new Date(e[0],e[1],e[2])),"mi",(24*60)-1);d.store=d.createStore();d.store.addFilter(d.rangeFilter=new Ext.util.Filter({id:"time-picker-filter"}),false);d.updateList();d.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(a){var b=this.initDate;a.setFullYear(b[0],b[1],b[2]);return a},updateList:function(){var d=this,b=d.normalizeDate(d.minValue||d.absMin),a=d.normalizeDate(d.maxValue||d.absMax);d.rangeFilter.setFilterFn(function(e){var g=e.get("date");return g>=b&&g<=a});d.store.filter()},createStore:function(){var e=this,d=Ext.Date,g=[],b=e.absMin,a=e.absMax;while(b<=a){g.push({disp:d.dateFormat(b,e.format),date:b});b=d.add(b,"mi",e.increment)}return new Ext.data.Store({fields:["disp","date"],data:g})},focusNode:function(a){return false}},0,["timepicker"],["component","timepicker","box","boundlist","dataview"],{component:true,timepicker:true,box:true,boundlist:true,dataview:true},["widget.timepicker"],0,[Ext.picker,"Time"],0));(Ext.cmd.derive("Ext.form.field.Time",Ext.form.field.ComboBox,{alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var d=this,b=d.minValue,a=d.maxValue;if(b){d.setMinValue(b)}if(a){d.setMaxValue(a)}d.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+d.displayField+'"])]}<tpl if="xindex < xcount">'+d.delimiter+"</tpl></tpl>",{formatDate:Ext.Function.bind(d.formatDate,d)});this.callParent()},transformOriginalValue:function(a){if(Ext.isString(a)){return this.rawToValue(a)}return a},isEqual:function(b,a){return Ext.Date.isEqual(b,a)},setMinValue:function(d){var b=this,a=b.picker;b.setLimit(d,true);if(a){a.setMinValue(b.minValue)}},setMaxValue:function(d){var b=this,a=b.picker;b.setLimit(d,false);if(a){a.setMaxValue(b.maxValue)}},setLimit:function(b,h){var a=this,g,e;if(Ext.isString(b)){g=a.parseDate(b)}else{if(Ext.isDate(b)){g=b}}if(g){e=Ext.Date.clearTime(new Date(a.initDate));e.setHours(g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds())}else{e=null}a[h?"minValue":"maxValue"]=e},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(e){var b=this,h=Ext.String.format,k=b.callParent(arguments),d=b.minValue,g=b.maxValue,a;e=b.formatDate(e||b.processRawValue(b.getRawValue()));if(e===null||e.length<1){return k}a=b.parseDate(e);if(!a){k.push(h(b.invalidText,e,Ext.Date.unescapeFormat(b.format)));return k}if(d&&a<d){k.push(h(b.minText,b.formatDate(d)))}if(g&&a>g){k.push(h(b.maxText,b.formatDate(g)))}return k},formatDate:function(){return Ext.form.field.Date.prototype.formatDate.apply(this,arguments)},parseDate:function(g){var e=this,k=g,b=e.altFormats,h=e.altFormatsArray,d=0,a;if(g&&!Ext.isDate(g)){k=e.safeParse(g,e.format);if(!k&&b){h=h||b.split("|");a=h.length;for(;d<a&&!k;++d){k=e.safeParse(g,h[d])}}}if(k&&e.snapToIncrement){k=new Date(Ext.Number.snap(k.getTime(),e.increment*60*1000))}return k},safeParse:function(g,h){var e=this,b=Ext.Date,d,a=null;if(b.formatContainsDateInfo(h)){a=b.parse(g,h)}else{d=b.parse(e.initDate+" "+g,e.initDateFormat+" "+h);if(d){a=d}}return a},getSubmitValue:function(){var a=this,d=a.submitFormat||a.format,b=a.getValue();return b?Ext.Date.format(b,d):null},createPicker:function(){var b=this,a;b.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:"SINGLE"},cls:undefined,minValue:b.minValue,maxValue:b.maxValue,increment:b.increment,format:b.format,maxHeight:b.pickerMaxHeight},b.listConfig);a=b.callParent();b.bindStore(a.store);return a},onItemClick:function(b,a){var e=this,d=b.getSelectionModel().getSelection();if(d.length>0){d=d[0];if(d&&Ext.Date.isEqual(a.get("date"),d.get("date"))){e.collapse()}}},onListSelectionChange:function(b,e){if(e.length){var a=this,d=e[0].get("date");if(!a.ignoreSelection){a.skipSync=true;a.setValue(d);a.skipSync=false;a.fireEvent("select",a,d);a.picker.clearHighlight();a.collapse();a.inputEl.focus()}}},syncSelection:function(){var m=this,k=m.picker,e,h,n,b,l,g,a;if(k&&!m.skipSync){k.clearHighlight();n=m.getValue();h=k.getSelectionModel();m.ignoreSelection++;if(n===null){h.deselectAll()}else{if(Ext.isDate(n)){b=k.store.data.items;g=b.length;for(l=0;l<g;l++){a=b[l];if(Ext.Date.isEqual(a.get("date"),n)){e=a;break}}h.select(e)}}m.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments);if(a.wasValid&&b){a.setRawValue(a.formatDate(b))}},setValue:function(){this.getPicker();return this.callParent(arguments)},getValue:function(){return this.parseDate(this.callParent(arguments))}},0,["timefield"],["timefield","component","pickerfield","field","triggerfield","textfield","combo","box","trigger","combobox"],{timefield:true,component:true,pickerfield:true,field:true,triggerfield:true,textfield:true,combo:true,box:true,trigger:true,combobox:true},["widget.timefield"],0,[Ext.form.field,"Time",Ext.form,"TimeField",Ext.form,"Time"],0));(Ext.cmd.derive("Ext.grid.CellContext",Ext.Base,{isCellContext:true,constructor:function(a){this.view=a},setPosition:function(d,a){var b=this;if(arguments.length===1){if(d.view){b.view=d.view}a=d.column;d=d.row}b.setRow(d);b.setColumn(a);return b},setRow:function(b){var a=this;if(b!==undefined){if(typeof b==="number"){a.row=Math.max(Math.min(b,a.view.dataSource.getCount()-1),0);a.record=a.view.dataSource.getAt(b)}else{if(b.isModel){a.record=b;a.row=a.view.indexOf(b)}else{if(b.tagName){a.record=a.view.getRecord(b);a.row=a.view.indexOf(a.record)}}}}},setColumn:function(b){var d=this,a=d.view.ownerCt.columnManager;if(b!==undefined){if(typeof b==="number"){d.column=b;d.columnHeader=a.getHeaderAtIndex(b)}else{if(b.isHeader){d.columnHeader=b;d.column=a.getHeaderIndex(b)}}}}},1,0,0,0,0,0,[Ext.grid,"CellContext"],0));(Ext.cmd.derive("Ext.grid.CellEditor",Ext.Editor,{constructor:function(a){a=Ext.apply({},a);if(a.field){a.field.monitorTab=false}this.callParent([a])},onShow:function(){var a=this,b=a.boundEl.first();if(b){if(a.isForTree){b=b.child(a.treeNodeSelector)}b.hide()}a.callParent(arguments)},onHide:function(){var a=this,b=a.boundEl.first();if(b){if(a.isForTree){b=b.child(a.treeNodeSelector)}b.show()}a.callParent(arguments)},afterRender:function(){var a=this,b=a.field;a.callParent(arguments);if(b.isCheckbox){b.mon(b.inputEl,{mousedown:a.onCheckBoxMouseDown,click:a.onCheckBoxClick,scope:a})}},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(false,10)},realign:function(a){var k=this,g=k.boundEl,l=g.first(),e=g.getWidth(),h=Ext.Array.clone(k.offsets),b=k.grid,d;if(k.isForTree){d=k.getTreeNodeOffset(l);e-=Math.abs(d);h[0]+=d}if(b.columnLines){e-=g.getBorderWidth("rl")}if(a===true){k.field.setWidth(e)}k.alignTo(l,k.alignment,h)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(b){var a=this.field;if(a.onEditorTab){a.onEditorTab(b)}},alignment:"l-l",hideEl:false,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:false,shadow:false},1,0,["container","editor","component","box"],{container:true,editor:true,component:true,box:true},0,0,[Ext.grid,"CellEditor"],0));(Ext.cmd.derive("Ext.grid.ColumnComponentLayout",Ext.layout.component.Auto,{type:"columncomponent",setWidthInDom:true,beginLayout:function(b){var a=this;a.callParent(arguments);b.titleContext=b.getEl("titleEl");b.triggerContext=b.getEl("triggerEl")},beginLayoutCycle:function(e){var b=this,a=b.owner;b.callParent(arguments);if(e.widthModel.shrinkWrap){a.el.setWidth("")}var d=a.isLast&&a.isSubHeader?"0":"";if(d!==b.lastBorderRightWidth){a.el.dom.style.borderRightWidth=b.lasBorderRightWidth=d}a.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(e,m){if(!m){return}var h=this,b=h.owner,a=m-e.getBorderInfo().height,d=a,k,g,n,l;if(!b.noWrap&&!e.hasDomProp("width")){h.done=false;return}if(e.hasRawContent){g=d;k=b.textEl.getHeight();if(k){d-=k;if(d>0){n=Math.floor(d/2);l=d-n;e.titleContext.setProp("padding-top",n);e.titleContext.setProp("padding-bottom",l)}}}else{g=b.titleEl.getHeight();e.setProp("innerHeight",a-g,false)}if((Ext.isIE6||Ext.isIEQuirks)&&e.triggerContext){e.triggerContext.setHeight(g)}},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishOwnerHeight:function(b,a){this.callParent(arguments);if((Ext.isIE6||Ext.isIEQuirks)&&b.triggerContext){b.triggerContext.setHeight(a)}},publishInnerWidth:function(a,b){if(!a.hasRawContent){a.setProp("innerWidth",b-a.getBorderInfo().width,false)}},calculateOwnerHeightFromContentHeight:function(d,b){var a=this.callParent(arguments);if(!d.hasRawContent){if(this.owner.noWrap||d.hasDomProp("width")){return b+this.owner.titleEl.getHeight()+d.getBorderInfo().height}return null}return a},calculateOwnerWidthFromContentWidth:function(h,b){var a=this.owner,g=Math.max(b,a.textEl.getWidth()+h.titleContext.getPaddingInfo().width),e=h.getPaddingInfo().width,d=this.getTriggerOffset(a,h);return g+e+d},getTriggerOffset:function(a,d){var b=0;if(d.widthModel.shrinkWrap&&!a.menuDisabled){if(a.query(">:not([hidden])").length===0){b=a.self.triggerElWidth}}return b}},0,0,0,0,["layout.columncomponent"],0,[Ext.grid,"ColumnComponentLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnLayout",Ext.layout.container.HBox,{type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){if(!this.scrollbarWidth){this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width}this.grid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(d){var l=this,b=l.owner,a=l.grid,m=a.view,k=l.getVisibleItems(),h=k.length,e=l.firstHeaderCls,o=l.lastHeaderCls,g,n;if(a.lockable){if(b.up("tablepanel")===m.normalGrid){m=m.normalGrid.getView()}else{m=null}}for(g=0;g<h;g++){n=k[g];n.isLast=false;n.removeCls([e,o]);if(g===0){n.addCls(e)}if(g===h-1){n.addCls(o);n.isLast=true}}l.callParent(arguments);if(!b.isColumn&&Ext.getScrollbarSize().width&&!a.collapsed&&m&&m.rendered&&(d.viewTable=m.body.dom)){d.viewContext=d.context.getCmp(m)}},roundFlex:function(a){return Math.floor(a)},calculate:function(a){this.callParent(arguments);if(a.state.parallelDone&&(!this.owner.forceFit||a.flexedItems.length)){a.setProp("columnWidthsDone",true)}if(a.viewContext){a.state.tableHeight=a.viewTable.offsetHeight}},completeLayout:function(e){var b=this,a=b.owner,d=e.state;b.callParent(arguments);if(!e.flexedItems.length&&!d.flexesCalculated&&a.forceFit&&b.convertWidthsToFlexes(e)){b.cacheFlexes(e);e.invalidate({state:{flexesCalculated:true}})}else{e.setProp("columnWidthsDone",true)}},convertWidthsToFlexes:function(a){var h=this,e=0,k=h.sizeModels.calculated,d,g,b,m,l;d=a.childItems;g=d.length;for(b=0;b<g;b++){m=d[b];l=m.target;e+=m.props.width;if(!(l.fixed||l.resizable===false)){l.flex=a.childItems[b].flex=m.props.width;l.width=null;m.widthModel=k}}return e!==a.props.width},getContainerSize:function(g){var e=this,a,d=g.viewContext,b;if(e.owner.isColumn){a=e.getColumnContainerSize(g)}else{a=e.callParent(arguments);if(d&&!d.heightModel.shrinkWrap&&d.target.componentLayout.ownerContext){b=d.getProp("height");if(isNaN(b)){e.done=false}else{if(g.state.tableHeight>b){a.width-=Ext.getScrollbarSize().width;g.state.parallelDone=false;d.invalidate()}}}}return a},getColumnContainerSize:function(h){var l=h.paddingContext.getPaddingInfo(),b=0,g=0,k,e,d,a;if(!h.widthModel.shrinkWrap){++g;d=h.getProp("innerWidth");k=(typeof d=="number");if(k){++b;d-=l.width;if(d<0){d=0}}}if(!h.heightModel.shrinkWrap){++g;a=h.getProp("innerHeight");e=(typeof a=="number");if(e){++b;a-=l.height;if(a<0){a=0}}}return{width:d,height:a,needed:g,got:b,gotAll:b==g,gotWidth:k,gotHeight:e}},publishInnerCtSize:function(g){var e=this,d=g.state.boxPlan.targetSize,b=g.peek("contentWidth"),a;e.owner.tooNarrow=g.state.boxPlan.tooNarrow;if((b!=null)&&!e.owner.isColumn){d.width=b;a=e.owner.ownerCt.view;if(a.scrollFlags.y){d.width+=Ext.getScrollbarSize().width}}return e.callParent(arguments)}},0,0,0,0,["layout.gridcolumn"],0,[Ext.grid,"ColumnLayout"],0));(Ext.cmd.derive("Ext.grid.ColumnManager",Ext.Base,{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(b,a){this.headerCt=b;if(a){this.secondHeaderCt=a}},getColumns:function(){if(!this.columns){this.cacheColumns()}return this.columns},getHeaderIndex:function(a){if(a.isGroupHeader){a=a.down(":not([isGroupHeader])")}return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){var b=this.getColumns();return b.length?b[a]:null},getHeaderById:function(g){var d=this.getColumns(),a=d.length,b,e;for(b=0;b<a;++b){e=d[b];if(e.getItemId()===g){return e}}return null},getVisibleHeaderClosestToIndex:function(b){var a=this.getHeaderAtIndex(b);if(a&&a.hidden){a=a.next(":not([hidden])")||a.prev(":not([hidden])")}return a},cacheColumns:function(){this.columns=this.headerCt.getVisibleGridColumns();if(this.secondHeaderCt){Ext.Array.push(this.columns,this.secondHeaderCt.getVisibleGridColumns())}},invalidate:function(){this.columns=null;if(this.rootColumns){this.rootColumns.invalidate()}}},1,0,0,0,0,0,[Ext.grid,"ColumnManager",Ext.grid,"ColumnModel"],function(){this.createAlias("indexOf","getHeaderIndex")}));(Ext.cmd.derive("Ext.layout.container.Fit",Ext.layout.container.Container,{alternateClassName:"Ext.layout.FitLayout",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",defaultMargins:{top:0,right:0,bottom:0,left:0},manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(b,d){var a=d||this.owner.getSizeModel(),e=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[e]},beginLayoutCycle:function(l,g){var x=this,y=x.lastHeightModel&&x.lastHeightModel.calculated,h=x.lastWidthModel&&x.lastWidthModel.calculated,q=h||y,m=0,n=0,w,b,r,u,e,a,k,o,t,d;x.callParent(arguments);if(q&&l.targetContext.el.dom.tagName.toUpperCase()!="TD"){q=h=y=false}b=l.childItems;e=b.length;for(r=0;r<e;++r){u=b[r];if(g){w=u.target;k=w.minHeight;o=w.minWidth;if(o||k){a=u.marginInfo||u.getMarginInfo();k+=a.height;o+=a.height;if(m<k){m=k}if(n<o){n=o}}}if(q){t=u.el.dom.style;if(y){t.height=""}if(h){t.width=""}}}if(g){l.maxChildMinHeight=m;l.maxChildMinWidth=n}w=l.target;l.overflowX=(!l.widthModel.shrinkWrap&&l.maxChildMinWidth&&w.scrollFlags.x)||d;l.overflowY=(!l.heightModel.shrinkWrap&&l.maxChildMinHeight&&w.scrollFlags.y)||d},calculate:function(h){var r=this,n=h.childItems,e=n.length,d=r.getContainerSize(h),g={length:e,ownerContext:h,targetSize:d},w=h.widthModel.shrinkWrap,o=h.heightModel.shrinkWrap,m=h.overflowX,k=h.overflowY,q,b,t,l,a,u;if(m||k){q=r.getScrollbarsNeeded(m&&d.width,k&&d.height,h.maxChildMinWidth,h.maxChildMinHeight);if(q){b=Ext.getScrollbarSize();if(q&1){d.height-=b.height}if(q&2){d.width-=b.width}}}for(l=0;l<e;++l){g.index=l;r.fitItem(n[l],g)}if(o||w){t=h.targetContext.getPaddingInfo();if(w){if(k&&!d.gotHeight){r.done=false}else{a=g.contentWidth+t.width;if(q&2){a+=b.width}if(!h.setContentWidth(a)){r.done=false}}}if(o){if(m&&!d.gotWidth){r.done=false}else{u=g.contentHeight+t.height;if(q&1){u+=b.height}if(!h.setContentHeight(u)){r.done=false}}}}},fitItem:function(b,d){var a=this;if(b.invalid){a.done=false;return}d.margins=b.getMarginInfo();d.needed=d.got=0;a.fitItemWidth(b,d);a.fitItemHeight(b,d);if(d.got!=d.needed){a.done=false}},fitItemWidth:function(d,e){var a,b;if(e.ownerContext.widthModel.shrinkWrap){b=d.getProp("width")+e.margins.width;a=e.contentWidth;if(a===undefined){e.contentWidth=b}else{e.contentWidth=Math.max(a,b)}}else{if(d.widthModel.calculated){++e.needed;if(e.targetSize.gotWidth){++e.got;this.setItemWidth(d,e)}}}this.positionItemX(d,e)},fitItemHeight:function(d,e){var b,a;if(e.ownerContext.heightModel.shrinkWrap){a=d.getProp("height")+e.margins.height;b=e.contentHeight;if(b===undefined){e.contentHeight=a}else{e.contentHeight=Math.max(b,a)}}else{if(d.heightModel.calculated){++e.needed;if(e.targetSize.gotHeight){++e.got;this.setItemHeight(d,e)}}}this.positionItemY(d,e)},positionItemX:function(a,d){var b=d.margins;if(d.index||b.left){a.setProp("x",b.left)}if(b.width){a.setProp("margin-right",b.width)}},positionItemY:function(a,d){var b=d.margins;if(d.index||b.top){a.setProp("y",b.top)}if(b.height){a.setProp("margin-bottom",b.height)}},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}},0,0,0,0,["layout.fit"],0,[Ext.layout.container,"Fit",Ext.layout,"FitLayout"],0));(Ext.cmd.derive("Ext.panel.Table",Ext.panel.Panel,{extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",layout:"fit",hasView:false,viewType:null,selType:"rowmodel",scroll:true,deferRowRender:true,sortableColumns:true,enableLocking:false,scrollerOwner:true,enableColumnMove:true,sealedColumns:false,enableColumnResize:true,rowLines:true,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",initComponent:function(){var h=this,k=h.columns||h.colModel,b,g,a,d=h.store=Ext.data.StoreManager.lookup(h.store||"ext-empty-store"),e;if(h.columnLines){h.addCls(h.colLinesCls)}h.addCls(h.rowLines?h.rowLinesCls:h.noRowLinesCls);if(k instanceof Ext.grid.header.Container){k.isRootHeader=true;h.headerCt=k}else{if(h.enableLocking||h.hasLockedColumns(k)){h.self.mixin("lockable",Ext.grid.locking.Lockable);h.injectLockable()}else{if(Ext.isArray(k)){k={items:k}}Ext.apply(k,{grid:h,forceFit:h.forceFit,sortable:h.sortableColumns,enableColumnMove:h.enableColumnMove,enableColumnResize:h.enableColumnResize,sealed:h.sealedColumns,isRootHeader:true});if(Ext.isDefined(h.enableColumnHide)){k.enableColumnHide=h.enableColumnHide}if(!h.headerCt){h.headerCt=new Ext.grid.header.Container(k)}}}h.columns=h.headerCt.getGridColumns();h.scrollTask=new Ext.util.DelayedTask(h.syncHorizontalScroll,h);h.addEvents("reconfigure","viewready");h.bodyCls=h.bodyCls||"";h.bodyCls+=(" "+h.extraBodyCls);h.cls=h.cls||"";h.cls+=(" "+h.extraBaseCls);delete h.autoScroll;if(!h.hasView){e=h.headerCt.getGridColumns();if(d.buffered&&!d.remoteSort){for(g=0,a=e.length;g<a;g++){e[g].sortable=false}}if(h.hideHeaders){h.headerCt.height=0;h.headerCt.hiddenHeaders=true;h.headerCt.addCls(h.hiddenHeaderCtCls);h.addCls(h.hiddenHeaderCls);if(Ext.isIEQuirks){h.headerCt.style={display:"none"}}}h.relayHeaderCtEvents(h.headerCt);h.features=h.features||[];if(!Ext.isArray(h.features)){h.features=[h.features]}h.dockedItems=[].concat(h.dockedItems||[]);h.dockedItems.unshift(h.headerCt);h.viewConfig=h.viewConfig||{};b=h.getView();h.items=[b];h.hasView=true;if(!h.hideHeaders){b.on({scroll:{fn:h.onHorizontalScroll,element:"el",scope:h}})}h.bindStore(d,true);h.mon(b,{viewready:h.onViewReady,refresh:h.onRestoreHorzScroll,scope:h})}h.relayEvents(h.view,["beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","containermouseup","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","selectionchange","beforeselect","select","beforedeselect","deselect"]);h.callParent(arguments);h.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange"]);if(!h.lockable&&h.headerCt){h.headerCt.on("afterlayout",h.onRestoreHorzScroll,h)}},hasLockedColumns:function(d){var b,a,e;if(Ext.isObject(d)){d=d.items}for(b=0,a=d.length;b<a;b++){e=d[b];if(!e.processed&&e.locked){return true}}},relayHeaderCtEvents:function(a){this.relayEvents(a,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var b=this,d=b.callParent(),a=b.store.getState();d=b.addPropertyToState(d,"columns",b.headerCt.getColumnsState());if(a){d.storeState=a}return d},applyState:function(g){var e=this,h=g.sort,a=g.storeState,b=e.store,d=g.columns;delete g.columns;e.callParent(arguments);if(d){e.headerCt.applyColumnsState(d)}if(h){if(b.remoteSort){b.sort({property:h.property,direction:h.direction,root:h.root},null,false)}else{b.sort(h.property,h.direction)}}else{if(a){b.applyState(a)}}},getStore:function(){return this.store},getView:function(){var a=this,b;if(!a.view){b=a.getSelectionModel();Ext.widget(Ext.apply({grid:a,deferInitialRefresh:a.deferRowRender!==false,trackOver:a.trackMouseOver!==false,scroll:a.scroll,xtype:a.viewType,store:a.store,headerCt:a.headerCt,columnLines:a.columnLines,rowLines:a.rowLines,selModel:b,features:a.features,panel:a,emptyText:a.emptyText||""},a.viewConfig));if(a.view.emptyText){a.view.emptyText='<div class="'+a.emptyCls+'">'+a.view.emptyText+"</div>"}a.view.getComponentLayout().headerCt=a.headerCt;a.mon(a.view,{uievent:a.processEvent,scope:a});b.view=a.view;a.headerCt.view=a.view}return a.view},setAutoScroll:Ext.emptyFn,processEvent:function(k,m,n,a,l,g,d,o){var h=this,b;if(l!==-1){b=h.columnManager.getColumns()[l];return b.processEvent.apply(b,arguments)}},determineScrollbars:function(){},invalidateScroller:function(){},scrollByDeltaY:function(b,a){this.getView().scrollBy(0,b,a)},scrollByDeltaX:function(b,a){this.getView().scrollBy(b,0,a)},afterCollapse:function(){var a=this;a.saveScrollPos();a.saveScrollPos();a.callParent(arguments)},afterExpand:function(){var a=this;a.callParent(arguments);a.restoreScrollPos();a.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.delayScroll()},onHeaderMove:function(g,h,a,b,e){var d=this;if(d.optimizedColumnMove===false){d.view.refresh()}else{d.view.moveColumn(b,e,a)}d.delayScroll()},onHeaderHide:function(a,b){this.view.refresh();this.delayScroll()},onHeaderShow:function(a,b){this.view.refresh();this.delayScroll()},delayScroll:function(){var a=this.getScrollTarget().el;if(a){this.scrollTask.delay(10,null,null,[a.dom.scrollLeft])}},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){var a=this.scrollLeftPos;if(a){this.syncHorizontalScroll(a,true)}},getScrollerOwner:function(){var a=this;if(!this.scrollerOwner){a=this.up("[scrollerOwner]")}return a},getLhsMarker:function(){var a=this;return a.lhsMarker||(a.lhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getRhsMarker:function(){var a=this;return a.rhsMarker||(a.rhsMarker=Ext.DomHelper.append(a.el,{cls:a.resizeMarkerCls},true))},getSelectionModel:function(){var d=this,a=d.selModel,g,e,b;if(!a){a={};g=true}if(!a.events){b=a.selType||d.selType;g=!a.mode;a=d.selModel=Ext.create("selection."+b,a)}if(d.simpleSelect){e="SIMPLE"}else{if(d.multiSelect){e="MULTI"}}Ext.applyIf(a,{allowDeselect:d.allowDeselect});if(e&&g){a.setSelectionMode(e)}if(!a.hasRelaySetup){d.relayEvents(a,["selectionchange","beforeselect","beforedeselect","select","deselect"]);a.hasRelaySetup=true}if(d.disableSelection){a.locked=true}return a},getScrollTarget:function(){var a=this.getScrollerOwner(),b=a.query("tableview");return b[1]||b[0]},onHorizontalScroll:function(a,b){this.syncHorizontalScroll(b.scrollLeft)},syncHorizontalScroll:function(e,b){var d=this,a;b=b===true;if(d.rendered&&(b||e!==d.scrollLeftPos)){if(b){a=d.getScrollTarget();a.el.dom.scrollLeft=e}d.headerCt.el.dom.scrollLeft=e;d.scrollLeftPos=e}},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(b,d){var e=this,a=e.getView(),g=b&&b.buffered,h;e.store=b;h=e.findPlugin("bufferedrenderer");if(h){e.verticalScroller=h;if(h.store){h.bindStore(b)}}else{if(g){e.verticalScroller=h=e.addPlugin(Ext.apply({ptype:"bufferedrenderer"},e.initialConfig.verticalScroller))}}if(a.store!==b){if(d){a.bindStore(b,false,"dataSource")}else{a.bindStore(b,false)}}e.mon(b,{load:e.onStoreLoad,scope:e});e.storeRelayers=e.relayEvents(b,["filterchange"]);if(h){e.invalidateScrollerOnRefresh=false}if(e.invalidateScrollerOnRefresh!==undefined){a.preserveScrollOnRefresh=!e.invalidateScrollerOnRefresh}},unbindStore:function(){var b=this,a=b.store;if(a){b.store=null;b.mun(a,{load:b.onStoreLoad,scope:b});Ext.destroy(b.storeRelayers)}},reconfigure:function(b,g){var h=this,a=h.getView(),e,l=h.store,k=h.headerCt,d=k?k.items.getRange():h.columns;if(g){g=Ext.Array.slice(g)}h.fireEvent("beforereconfigure",h,b,g,l,d);if(h.lockable){h.reconfigureLockable(b,g)}else{Ext.suspendLayouts();if(g){delete h.scrollLeftPos;k.removeAll();k.add(g)}if(b&&(b=Ext.StoreManager.lookup(b))!==l){if(h.store){h.unbindStore()}e=a.deferInitialRefresh;a.deferInitialRefresh=false;h.bindStore(b);a.deferInitialRefresh=e}else{h.getView().refresh()}k.setSortState();Ext.resumeLayouts(true)}h.fireEvent("reconfigure",h,b,g,l,d)},beforeDestroy:function(){var a=this.scrollTask;if(a){a.cancel();this.scrollTask=null}this.callParent()},onDestroy:function(){if(this.lockable){this.destroyLockable()}this.callParent()}},0,["tablepanel"],["container","component","box","panel","tablepanel"],{container:true,component:true,box:true,panel:true,tablepanel:true},["widget.tablepanel"],0,[Ext.panel,"Table"],0));(Ext.cmd.derive("Ext.util.CSS",Ext.Base,function(){var d,g=null,e=document,b=/(-[a-z])/gi,a=function(h,k){return k.charAt(1).toUpperCase()};return{singleton:true,rules:g,initialized:false,constructor:function(){d=this},createStyleSheet:function(l,o){var k,h=e.getElementsByTagName("head")[0],n=e.createElement("style");n.setAttribute("type","text/css");if(o){n.setAttribute("id",o)}if(Ext.isIE){h.appendChild(n);k=n.styleSheet;k.cssText=l}else{try{n.appendChild(e.createTextNode(l))}catch(m){n.cssText=l}h.appendChild(n);k=n.styleSheet?n.styleSheet:(n.sheet||e.styleSheets[e.styleSheets.length-1])}d.cacheStyleSheet(k);return k},removeStyleSheet:function(k){var h=e.getElementById(k);if(h){h.parentNode.removeChild(h)}},swapStyleSheet:function(l,h){var k;d.removeStyleSheet(l);k=e.createElement("link");k.setAttribute("rel","stylesheet");k.setAttribute("type","text/css");k.setAttribute("id",l);k.setAttribute("href",h);e.getElementsByTagName("head")[0].appendChild(k)},refreshCache:function(){return d.getRules(true)},cacheStyleSheet:function(n){if(!g){g=d.rules={}}try{var r=n.cssRules||n.rules,m=r.length-1,k=n.imports,h=k?k.length:0,q,l;for(l=0;l<h;++l){d.cacheStyleSheet(k[l])}for(;m>=0;--m){q=r[m];if(q.styleSheet){d.cacheStyleSheet(q.styleSheet)}d.cacheRule(q,n)}}catch(o){}},cacheRule:function(k,n){if(k.styleSheet){return d.cacheStyleSheet(k.styleSheet)}var m=k.selectorText,l,h;if(m){m=m.split(",");l=m.length;for(h=0;h<l;h++){g[Ext.String.trim(m[h]).toLowerCase()]={parentStyleSheet:n,cssRule:k}}}},getRules:function(l){var k={},h;if(g===null||l){d.refreshCache()}for(h in g){k[h]=g[h].cssRule}return k},refreshCache:function(){var l=e.styleSheets,k=0,h=l.length;g=d.rules={};for(;k<h;k++){try{if(!l[k].disabled){d.cacheStyleSheet(l[k])}}catch(m){}}},getRule:function(k,m,l){var n,h;if(!g||m){d.refreshCache()}if(!Ext.isArray(k)){h=g[k.toLowerCase()];if(h&&!l){h=h.cssRule}return h||null}for(n=0;n<k.length;n++){if(g[k[n]]){return l?g[k[n].toLowerCase()]:g[k[n].toLowerCase()].cssRule}}return null},createRule:function(o,k,m){var h,n=o.cssRules||o.rules,l=n.length;if(o.insertRule){o.insertRule(k+"{"+m+"}",l)}else{o.addRule(k,m||" ")}d.cacheRule(h=n[l],o);return h},updateRule:function(h,n,m){var o,k,l;if(!Ext.isArray(h)){o=d.getRule(h);if(o){if(arguments.length==2){l=Ext.Element.parseStyles(n);for(n in l){o.style[n.replace(b,a)]=l[n]}}else{o.style[n.replace(b,a)]=m}return true}}else{for(k=0;k<h.length;k++){if(d.updateRule(h[k],n,m)){return true}}}return false},deleteRule:function(h){var l=d.getRule(h,false,true),m,k;if(l){m=l.parentStyleSheet;k=Ext.Array.indexOf(m.cssRules||m.rules,l.cssRule);if(m.deleteRule){m.deleteRule(k)}else{m.removeRule(k)}delete g[h]}}}},1,0,0,0,0,0,[Ext.util,"CSS"],0));(Ext.cmd.derive("Ext.view.TableLayout",Ext.layout.component.Auto,{type:"tableview",beginLayout:function(e){var d=this,b=d.owner.lockingPartner,a=d.owner;d.callParent(arguments);if(b){d.lockedGrid=d.owner.up("[lockable]");d.lockedGrid.needsRowHeightSync=true;if(!e.lockingPartner){e.lockingPartner=e.context.getItem(b,b.el);if(e.lockingPartner&&!e.lockingPartner.lockingPartner){e.lockingPartner.lockingPartner=e}}}e.headerContext=e.context.getCmp(d.headerCt);if(d.owner.body.dom){e.bodyContext=e.getEl(d.owner.body)}if(Ext.isWebKit){a.el.select(a.getBodySelector()).setStyle("table-layout","auto")}},calculate:function(h){var g=this,d=g.lockingPartner,a=g.owner,e=0,b;if(h.headerContext.hasProp("columnWidthsDone")){if(!g.setColumnWidths(h)){g.done=false;return}h.state.columnWidthsSynced=true;if(h.bodyContext){b=g.owner.el.down("."+a.ownerCt.emptyCls,true);if(!b){e=h.bodyContext.el.dom.offsetHeight;h.bodyContext.setHeight(e,false)}else{e=b.offsetHeight}h.setProp("contentHeight",e)}if(d&&!d.state.columnWidthsSynced){g.done=false}else{g.callParent(arguments)}}else{g.done=false}},measureContentHeight:function(b){var a=b.lockingPartner;if(!b.bodyContext||(b.state.columnWidthsSynced&&(!a||a.state.columnWidthsSynced))){return this.callParent(arguments)}},setColumnWidths:function(e){var q=this,d=q.owner,b=e.context,h=q.headerCt.getVisibleGridColumns(),g,m=0,o=h.length,n=0,a=0,r,l,k=!Ext.isBorderBox;if(b){b.currentLayout=q}for(m=0;m<o;m++){g=h[m];r=b.getCmp(g);l=r.props.width;if(isNaN(l)){r.getProp("width");return false}n+=l;if(k&&d.columnLines){if(!a){a=b.getCmp(g).borderInfo.width||1}l-=a}d.body.select(d.getColumnSizerSelector(g)).setWidth(l)}d.el.select(d.getBodySelector()).setWidth(n);return true},finishedLayout:function(){var b=this,a=b.owner;b.callParent(arguments);if(Ext.isWebKit){a.el.select(a.getBodySelector()).setStyle("table-layout","")}if(a.refreshCounter&&b.lockedGrid&&b.lockedGrid.syncRowHeight&&b.lockedGrid.needsRowHeightSync){b.lockedGrid.syncRowHeights();b.lockedGrid.needsRowHeightSync=false}}},0,0,0,0,["layout.tableview"],0,[Ext.view,"TableLayout"],0));(Ext.cmd.derive("Ext.view.NodeCache",Ext.Base,{constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.AbstractElement.Fly()},clear:function(g){var d=this,e=this.elements,a,b;if(g){for(a in e){b=e[a];b.parentNode.removeChild(b)}}d.elements={};d.count=d.startIndex=0;d.endIndex=-1},fill:function(b,h){var e=this,g=e.elements={},d,a=b.length;if(!h){h=0}for(d=0;d<a;d++){g[h+d]=b[d]}e.startIndex=h;e.endIndex=h+a-1;e.count=a;return this},insert:function(h,b){var e=this,g=e.elements,d,a=b.length;if(e.count){if(h<e.count){for(d=e.endIndex+a;d>=h+a;d--){g[d]=g[d-a];g[d].setAttribute("data-recordIndex",d)}}e.endIndex=e.endIndex+a}else{e.startIndex=h;e.endIndex=h+a-1}for(d=0;d<a;d++,h++){g[h]=b[d];g[h].setAttribute("data-recordIndex",h)}e.count+=a},item:function(d,b){var e=this.elements[d],a=null;if(e){a=b?this.elements[d]:this.el.attach(this.elements[d])}return a},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(g,b){var e=this.elements,a=[],d;if(arguments.length<2){b=this.endIndex}else{b=Math.min(this.endIndex,b-1)}for(d=g||this.startIndex;d<=b;d++){a.push(e[d])}return a},replaceElement:function(e,d,a){var g=this.elements,b=(typeof e==="number")?e:this.indexOf(e);if(b>-1){d=Ext.getDom(d);if(a){e=g[b];e.parentNode.insertBefore(d,e);Ext.removeNode(e);d.setAttribute("data-recordIndex",b)}this.elements[b]=d}return this},indexOf:function(b){var d=this.elements,a;b=Ext.getDom(b);for(a=this.startIndex;a<=this.endIndex;a++){if(d[a]===b){return a}}return -1},removeRange:function(b,h,e){var l=this,a=l.elements,g,k,d,m;if(h===undefined){h=l.count}else{h=Math.min(l.endIndex+1,h+1)}if(!b){b=0}d=h-b;for(k=b,m=h;k<l.endIndex;k++,m++){if(e&&k<h){Ext.removeNode(a[k])}if(m<=l.endIndex){g=a[k]=a[m];g.setAttribute("data-recordIndex",k)}else{delete a[k]}}l.count-=d;l.endIndex-=d},removeElement:function(o,d){var k=this,n,m,a=k.elements,e,g,b=0,h,l;if(Ext.isArray(o)){n=o;o=[];g=n.length;for(b=0;b<g;b++){m=n[b];if(typeof m!=="number"){m=k.indexOf(m)}if(m>=k.startIndex&&m<=k.endIndex){o[o.length]=m}}Ext.Array.sort(o);g=o.length}else{if(o<k.startIndex||o>k.endIndex){return}g=1;o=[o]}for(h=l=o[0],b=0;h<=k.endIndex;h++,l++){if(b<g&&h===o[b]){l++;b++;if(d){Ext.removeNode(a[h])}}if(l<=k.endIndex&&l>=k.startIndex){e=a[h]=a[l];e.setAttribute("data-recordIndex",h)}else{delete a[h]}}k.endIndex-=g;k.count-=g},scroll:function(g,n,d){var m=this,a=m.elements,q=g.length,k,e,b,h,l=m.view.getNodeContainer(),o=document.createDocumentFragment();if(n==-1){for(k=(m.endIndex-d)+1;k<=m.endIndex;k++){e=a[k];delete a[k];e.parentNode.removeChild(e)}m.endIndex-=d;h=m.view.bufferRender(g,m.startIndex-=q);for(k=0;k<q;k++){a[m.startIndex+k]=h[k];o.appendChild(h[k])}l.insertBefore(o,l.firstChild)}else{b=m.startIndex+d;for(k=m.startIndex;k<b;k++){e=a[k];delete a[k];e.parentNode.removeChild(e)}m.startIndex=k;h=m.view.bufferRender(g,m.endIndex+1);for(k=0;k<q;k++){a[m.endIndex+=1]=h[k];o.appendChild(h[k])}l.appendChild(o)}m.count=m.endIndex-m.startIndex+1}},1,0,0,0,0,0,[Ext.view,"NodeCache"],0));(Ext.cmd.derive("Ext.view.Table",Ext.view.View,{componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",headerRowSelector:"tr."+Ext.baseCSSPrefix+"grid-header-row",selectedItemCls:Ext.baseCSSPrefix+"grid-row-selected",beforeSelectedItemCls:Ext.baseCSSPrefix+"grid-row-before-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-row-focused",beforeFocusedItemCls:Ext.baseCSSPrefix+"grid-row-before-focused",tableFocusedFirstCls:Ext.baseCSSPrefix+"grid-table-focused-first",tableSelectedFirstCls:Ext.baseCSSPrefix+"grid-table-selected-first",tableOverFirstCls:Ext.baseCSSPrefix+"grid-table-over-first",overItemCls:Ext.baseCSSPrefix+"grid-row-over",beforeOverItemCls:Ext.baseCSSPrefix+"grid-row-before-over",altRowCls:Ext.baseCSSPrefix+"grid-row-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+) ",""),positionBody:true,trackOver:true,getRowClass:null,stripeRows:true,markDirty:true,tpl:"{%values.view.tableTpl.applyOut(values, out)%}",tableTpl:["{%",'var view=values.view,tableCls=["'+Ext.baseCSSPrefix+'" + view.id + "-table '+Ext.baseCSSPrefix+'grid-table"];',"if (view.columnLines) tableCls[tableCls.length]=view.ownerCt.colLinesCls;","if (view.rowLines) tableCls[tableCls.length]=view.ownerCt.rowLinesCls;","%}",'<table role="presentation" id="{view.id}-table" class="{[tableCls.join(" ")]}" border="0" cellspacing="0" cellpadding="0" style="{tableStyle}" tabIndex="-1">',"{[view.renderColumnSizer(out)]}","{[view.renderTHead(values, out)]}","{[view.renderTFoot(values, out)]}",'<tbody id="{view.id}-body">',"{%","view.renderRows(values.rows, values.viewStartIndex, out);","%}","</tbody>","</table>",{priority:0}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-data-row";',"%}",'<tr role="row" {[values.rowId ? ("id=\\"" + values.rowId + "\\"") : ""]} ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]} {[values.rowClasses.join(" ")]}{[dataRowCls]}" ','{rowAttr:attributes} tabIndex="-1">','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td role="gridcell" class="{tdCls}" {tdAttr} id="{[Ext.id()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}"','style="text-align:{align};<tpl if="style">{style}</tpl>">{value}</div>',"</td>",{priority:0}],refreshSelmodelOnRefresh:false,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){if(a.grid.isTree){a.baseCls=Ext.baseCSSPrefix+"tree-view"}this.callParent([a])},initComponent:function(){var b=this,a=b.scroll;this.addEvents("beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown");b.body=new Ext.dom.Element.Fly();b.body.id=b.id+"gridBody";b.autoScroll=undefined;if(!b.trackOver){b.overItemCls=null;b.beforeOverItemCls=null}if(a===true||a==="both"){b.autoScroll=true}else{if(a==="horizontal"){b.overflowX="auto"}else{if(a==="vertical"){b.overflowY="auto"}}}b.selModel.view=b;b.headerCt.view=b;b.grid.view=b;b.initFeatures(b.grid);delete b.grid;b.tpl=b.getTpl("tpl");b.itemSelector=b.getItemSelector();b.all=new Ext.view.NodeCache(b);b.callParent()},moveColumn:function(a,q,e){var o=this,m=(e>1)?document.createDocumentFragment():undefined,d=q,r=o.getGridColumns().length,k=r-1,b=(o.firstCls||o.lastCls)&&(q===0||q==r||a===0||a==k),h,g,w,l,n,u,t;if(o.rendered&&q!==a){w=o.el.query(o.getDataRowSelector());if(q>a&&m){d-=e}for(h=0,l=w.length;h<l;h++){n=w[h];u=n.childNodes;if(b){if(u.length===1){Ext.fly(u[0]).addCls(o.firstCls);Ext.fly(u[0]).addCls(o.lastCls);continue}if(a===0){Ext.fly(u[0]).removeCls(o.firstCls);Ext.fly(u[1]).addCls(o.firstCls)}else{if(a===k){Ext.fly(u[k]).removeCls(o.lastCls);Ext.fly(u[k-1]).addCls(o.lastCls)}}if(q===0){Ext.fly(u[0]).removeCls(o.firstCls);Ext.fly(u[a]).addCls(o.firstCls)}else{if(q===r){Ext.fly(u[k]).removeCls(o.lastCls);Ext.fly(u[a]).addCls(o.lastCls)}}}if(m){for(g=0;g<e;g++){m.appendChild(u[a])}n.insertBefore(m,u[d]||null)}else{n.insertBefore(u[a],u[d]||null)}}t=o.el.query(o.getBodySelector());for(h=0,l=t.length;h<l;h++){n=t[h];if(m){for(g=0;g<e;g++){m.appendChild(n.childNodes[a])}n.insertBefore(m,n.childNodes[d]||null)}else{n.insertBefore(n.childNodes[a],n.childNodes[d]||null)}}}},scrollToTop:Ext.emptyFn,addElListener:function(a,d,b){this.mon(this,a,d,b,{element:"el"})},getGridColumns:function(){return this.ownerCt.columnManager.getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.columnManager.getHeaderAtIndex(a)},getCell:function(a,b){var d=this.getNode(a,true);return Ext.fly(d).down(b.getCellSelector())},getFeature:function(b){var a=this.featuresMC;if(a){return a.get(b)}},findFeature:function(a){if(this.features){return Ext.Array.findBy(this.features,function(b){if(b.ftype===a){return true}})}},initFeatures:function(e){var h=this,d,g,b,a;h.tableTpl=Ext.XTemplate.getTpl(this,"tableTpl");h.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");h.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");h.featuresMC=new Ext.util.MixedCollection();g=h.features=h.constructFeatures();a=g?g.length:0;for(d=0;d<a;d++){b=g[d];b.view=h;b.grid=e;h.featuresMC.add(b);b.init(e)}},renderTHead:function(b,d){var g=b.view.headerFns,a,e;if(g){for(e=0,a=g.length;e<a;++e){g[e].call(this,b,d)}}},addHeaderFn:function(){var a=this.headerFns;if(!a){a=this.headerFns=[]}a.push(fn)},renderTFoot:function(b,d){var g=b.view.footerFns,a,e;if(g){for(e=0,a=g.length;e<a;++e){g[e].call(this,b,d)}}},addFooterFn:function(a){var b=this.footerFns;if(!b){b=this.footerFns=[]}b.push(a)},addTableTpl:function(a){return this.addTpl("tableTpl",a)},addRowTpl:function(a){return this.addTpl("rowTpl",a)},addCellTpl:function(a){return this.addTpl("cellTpl",a)},addTpl:function(g,e){var d=this,a,b;e=Ext.Object.chain(e);if(!e.isTemplate){e.applyOut=d.tplApplyOut}for(a=d[g];e.priority<a.priority;a=a.nextTpl){b=a}if(b){b.nextTpl=e}else{d[g]=e}e.nextTpl=a;return e},tplApplyOut:function(a,b){if(this.before){if(this.before(a,b)===false){return}}this.nextTpl.applyOut(a,b);if(this.after){this.after(a,b)}},constructFeatures:function(){var h=this,g=h.features,e,b,d=0,a;if(g){b=[];a=g.length;for(;d<a;d++){e=g[d];if(!e.isFeature){e=Ext.create("feature."+e.ftype,e)}b[d]=e}}return b},beforeRender:function(){var a=this;a.callParent();if(!a.enableTextSelection){a.protoEl.unselectable()}},onViewScroll:function(b,a){this.callParent(arguments);this.fireEvent("bodyscroll",b,a)},createRowElement:function(a,b){var d=this,e=d.renderBuffer;d.tpl.overwrite(e,d.collectData([a],b));return Ext.fly(e).down(d.getNodeContainerSelector(),true).firstChild},bufferRender:function(a,b){var d=this,e=d.renderBuffer;d.tpl.overwrite(e,d.collectData(a,b));return Ext.Array.toArray(Ext.fly(e).down(d.getNodeContainerSelector(),true).childNodes)},collectData:function(a,b){this.rowValues.view=this;return{view:this,rows:a,viewStartIndex:b,tableStyle:this.bufferedRenderer?("position:absolute;top:"+this.bufferedRenderer.bodyTop):""}},collectNodes:function(a){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(){var d=this,b,a=d.getBodySelector();if(a){d.body.attach(d.el.child(a,true))}if(!d.hasLoadingHeight){b=d.up("tablepanel");Ext.suspendLayouts();d.callParent();b.updateLayout();Ext.resumeLayouts(true)}},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(b){b=this.getNode(b);if(b){var a=b.getAttribute("data-recordIndex");if(a){a=parseInt(a,10);if(a>-1){return this.store.data.getAt(a)}}return this.dataSource.data.get(b.getAttribute("data-recordId"))}},indexOf:function(a){a=this.getNode(a,false);if(!a&&a!==0){return -1}return this.all.indexOf(a)},indexInStore:function(b){b=this.getNode(b,true);if(!b&&b!==0){return -1}var a=b.getAttribute("data-recordIndex");if(a){return parseInt(a,10)}return this.dataSource.indexOf(this.getRecord(b))},renderRows:function(g,e,b){var h=this.rowValues,a=g.length,d;h.view=this;h.columns=this.ownerCt.columnManager.getColumns();for(d=0;d<a;d++,e++){h.itemClasses.length=h.rowClasses.length=0;this.renderRow(g[d],e,b)}h.view=h.columns=h.record=null},renderColumnSizer:function(b){var e=this.getGridColumns(),a=e.length,d,h,g;for(d=0;d<a;d++){h=e[d];g=h.hidden?0:(h.lastBox?h.lastBox.width:Ext.grid.header.Container.prototype.defaultWidth);b.push('<colgroup><col class="',Ext.baseCSSPrefix,"grid-cell-",e[d].getItemId(),'" style="width:'+g+'px"></colgroup>')}},renderRow:function(h,a,g){var l=this,e=a===-1,k=l.selModel,o=l.rowValues,d=o.itemClasses,b=o.rowClasses,n,m=l.rowTpl;o.record=h;o.recordId=h.internalId;o.recordIndex=a;o.rowId=l.getRowId(h);o.itemCls=o.rowCls="";if(!o.columns){o.columns=l.ownerCt.columnManager.getColumns()}d.length=b.length=0;if(!e){d[0]=Ext.baseCSSPrefix+"grid-row";if(k&&k.isRowSelected){if(k.isRowSelected(a+1)){d.push(l.beforeSelectedItemCls)}if(k.isRowSelected(h)){d.push(l.selectedItemCls)}}if(l.stripeRows&&a%2!==0){b.push(l.altRowCls)}if(l.getRowClass){n=l.getRowClass(h,a,null,l.dataSource);if(n){b.push(n)}}}if(g){m.applyOut(o,g)}else{return m.apply(o)}},renderCell:function(d,h,g,l,e){var n=this,k=n.selModel,m=n.cellValues,b=m.classes,a=h.data[d.dataIndex],q=n.cellTpl,r,o;m.record=h;m.column=d;m.recordIndex=g;m.columnIndex=l;m.cellIndex=l;m.align=d.align;m.tdCls=d.tdCls;m.innerCls=d.innerCls;m.style=m.tdAttr="";m.unselectableAttr=n.enableTextSelection?"":'unselectable="on"';if(d.renderer&&d.renderer.call){r=d.renderer.call(d.scope||n.ownerCt,a,m,h,g,l,n.dataSource,n);if(m.css){h.cssWarning=true;m.tdCls+=" "+m.css;delete m.css}}else{r=a}m.value=(r==null||r==="")?"&#160;":r;b[1]=Ext.baseCSSPrefix+"grid-cell-"+d.getItemId();o=2;if(d.tdCls){b[o++]=d.tdCls}if(n.markDirty&&h.isModified(d.dataIndex)){b[o++]=n.dirtyCls}if(d.isFirstVisible){b[o++]=n.firstCls}if(d.isLastVisible){b[o++]=n.lastCls}if(!n.enableTextSelection){b[o++]=Ext.baseCSSPrefix+"unselectable"}b[o++]=m.tdCls;if(k&&k.isCellSelected&&k.isCellSelected(n,g,l)){b[o++]=(n.selectedCellCls)}b.length=o;m.tdCls=b.join(" ");q.applyOut(m,e);m.column=null},getNode:function(d,b){var e,a=this.callParent(arguments);if(a&&a.tagName){if(b){if(!(e=Ext.fly(a)).is(this.dataRowSelector)){return e.down(this.dataRowSelector,true)}}else{if(b===false){if(!(e=Ext.fly(a)).is(this.itemSelector)){return e.up(this.itemSelector,null,true)}}}}return a},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(b,a){b=this.constructRowId(b);return this.retrieveNode(b,a)},getNodeByRecord:function(a,b){var d=this.getRowId(a);return this.retrieveNode(d,b)},retrieveNode:function(g,d){var a=this.el.getById(g,true),b=this.itemSelector,e;if(d===false&&a){if(!(e=Ext.fly(a)).is(b)){return e.up(b,null,true)}}return a},updateIndexes:Ext.emptyFn,bodySelector:"table",nodeContainerSelector:"tbody",itemSelector:"tr."+Ext.baseCSSPrefix+"grid-row",dataRowSelector:"tr."+Ext.baseCSSPrefix+"grid-data-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"col."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getNodeContainer:function(){return this.el.down(this.nodeContainerSelector,true)},getBodySelector:function(){return this.bodySelector+"."+Ext.baseCSSPrefix+this.id+"-table"},getNodeContainerSelector:function(){return this.nodeContainerSelector},getColumnSizerSelector:function(a){return this.sizerSelector+"-"+a.getItemId()},getItemSelector:function(){return this.itemSelector},getDataRowSelector:function(){return this.dataRowSelector},getCellSelector:function(b){var a=this.cellSelector;if(b){a+="-"+b.getItemId()}return a},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(b,a){var d=this.getNode(b,false);if(d){Ext.fly(d).addCls(a)}},removeRowCls:function(b,a){var d=this.getNode(b,false);if(d){Ext.fly(d).removeCls(a)}},setHighlightedItem:function(d){var b=this,a=b.highlightedItem;if(a&&b.el.isAncestor(a)&&b.isRowStyleFirst(a)){b.getRowStyleTableEl(a).removeCls(b.tableOverFirstCls)}if(d&&b.isRowStyleFirst(d)){b.getRowStyleTableEl(d).addCls(b.tableOverFirstCls)}b.callParent(arguments)},onRowSelect:function(b){var a=this;a.addRowCls(b,a.selectedItemCls);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).addCls(a.tableSelectedFirstCls)}else{a.addRowCls(b-1,a.beforeSelectedItemCls)}},onRowDeselect:function(b){var a=this;a.removeRowCls(b,[a.selectedItemCls,a.focusedItemCls]);if(a.isRowStyleFirst(b)){a.getRowStyleTableEl(b).removeCls([a.tableFocusedFirstCls,a.tableSelectedFirstCls])}else{a.removeRowCls(b-1,[a.beforeFocusedItemCls,a.beforeSelectedItemCls])}},onCellSelect:function(b){var a=this.getCellByPosition(b);if(a){a.addCls(this.selectedCellCls);this.scrollCellIntoView(a)}},onCellDeselect:function(b){var a=this.getCellByPosition(b,true);if(a){Ext.fly(a).removeCls(this.selectedCellCls)}},getCellByPosition:function(a,b){if(a){var d=this.getNode(a.row,true),e=this.ownerCt.columnManager.getHeaderAtIndex(a.column);if(e&&d){return Ext.fly(d).down(this.getCellSelector(e),b)}}return false},getFocusEl:function(){var b=this,a;if(b.refreshCounter){a=b.focusedRow;if(!(a&&b.el.contains(a))){if(b.all.getCount()&&(a=b.getNode(b.all.item(0).dom,true))){b.focusRow(a)}else{a=b.body}}}else{return b.el}return Ext.get(a)},onRowFocus:function(e,b,a){var d=this;if(b){d.addRowCls(e,d.focusedItemCls);if(d.isRowStyleFirst(e)){d.getRowStyleTableEl(e).addCls(d.tableFocusedFirstCls)}else{d.addRowCls(e-1,d.beforeFocusedItemCls)}if(!a){d.focusRow(e)}}else{d.removeRowCls(e,d.focusedItemCls);if(d.isRowStyleFirst(e)){d.getRowStyleTableEl(e).removeCls(d.tableFocusedFirstCls)}else{d.removeRowCls(e-1,d.beforeFocusedItemCls)}}if((Ext.isIE6||Ext.isIE7)&&!d.ownerCt.rowLines){d.repaintRow(e)}},focus:function(e,b){var d=this,a=Ext.isIE&&!b,g;if(a){g=d.el.dom.scrollLeft}this.callParent(arguments);if(a){d.el.dom.scrollLeft=g}},focusRow:function(h,b){var e=this,d,g=e.ownerCt&&e.ownerCt.collapsed,a;if(e.isVisible(true)&&!g&&(h=e.getNode(h,true))){e.scrollRowIntoView(h);a=e.getRecord(h);d=e.indexInStore(h);e.selModel.setLastFocused(a);e.focusedRow=h;e.focus(false,b,function(){e.fireEvent("rowfocus",a,h,d)})}},scrollRowIntoView:function(a){a=this.getNode(a,true);if(a){Ext.fly(a).scrollIntoView(this.el,false)}},focusCell:function(b){var e=this,a=e.getCellByPosition(b),d=e.getRecord(b.row);e.focusRow(d);if(a){e.scrollCellIntoView(a);e.fireEvent("cellfocus",d,a,b)}},scrollCellIntoView:function(a){if(a.row!=null&&a.column!=null){a=this.getCellByPosition(a)}if(a){Ext.fly(a).scrollIntoView(this.el,true)}},scrollByDelta:function(d,b){b=b||"scrollTop";var a=this.el.dom;a[b]=(a[b]+=d)},isDataRow:function(a){return Ext.fly(a).hasCls(Ext.baseCSSPrefix+"grid-data-row")},syncRowHeights:function(h,a){h=Ext.get(h);a=Ext.get(a);h.dom.style.height=a.dom.style.height="";var e=this,g=e.rowTpl,b=h.dom.offsetHeight,d=a.dom.offsetHeight;if(b!==d){while(g){if(g.syncRowHeights){if(g.syncRowHeights(h,a)===false){break}}g=g.nextTpl}b=h.dom.offsetHeight;d=a.dom.offsetHeight;if(b!==d){h=h.down("[data-recordId]")||h;a=a.down("[data-recordId]")||a;if(h&&a){h.dom.style.height=a.dom.style.height="";b=h.dom.offsetHeight;d=a.dom.offsetHeight;if(b>d){h.setHeight(b);a.setHeight(b)}else{if(d>b){h.setHeight(d);a.setHeight(d)}}}}}},onIdChanged:function(a,k,h,d,b){var g=this,e;if(g.viewReady){e=g.getNodeById(b);if(e){e.setAttribute("data-recordId",k.internalId);e.id=g.getRowId(k)}}},onUpdate:function(h,d,o,w){var A=this,r=A.rowTpl,l,x,b,n,q,y,z,g,t,u,m,e,B,k,a;if(A.viewReady){b=A.getNodeByRecord(d,false);if(b){t=A.overItemCls;u=A.overItemCls;m=A.focusedItemCls;e=A.beforeFocusedItemCls;B=A.selectedItemCls;k=A.beforeSelectedItemCls;l=A.indexInStore(d);x=Ext.fly(b,"_internal");n=A.createRowElement(d,l);if(x.hasCls(t)){Ext.fly(n).addCls(t)}if(x.hasCls(u)){Ext.fly(n).addCls(u)}if(x.hasCls(m)){Ext.fly(n).addCls(m)}if(x.hasCls(e)){Ext.fly(n).addCls(e)}if(x.hasCls(B)){Ext.fly(n).addCls(B)}if(x.hasCls(k)){Ext.fly(n).addCls(k)}a=A.ownerCt.columnManager.getColumns();if(Ext.isIE9m&&b.mergeAttributes){b.mergeAttributes(n,true)}else{q=n.attributes;y=q.length;for(g=0;g<y;g++){z=q[g].name;if(z!=="id"){b.setAttribute(z,q[g].value)}}}if(a.length){A.updateColumns(d,A.getNode(b,true),A.getNode(n,true),a,w)}while(r){if(r.syncContent){if(r.syncContent(b,n)===false){break}}r=r.nextTpl}A.fireEvent("itemupdate",d,l,b);A.refreshSize()}}},updateColumns:function(e,d,l,b,u){var z=this,m,w,x,h,o=b.length,q,g,a,n,k,t=z.editingPlugin||(z.lockingPartner&&z.ownerCt.ownerLockable.view.editingPlugin),r=t&&t.editing,y=z.getCellSelector();if(d.mergeAttributes){d.mergeAttributes(l,true)}else{m=l.attributes;w=m.length;for(h=0;h<w;h++){x=m[h].name;if(x!=="id"){d.setAttribute(x,m[h].value)}}}for(q=0;q<o;q++){g=b[q];if(z.shouldUpdateCell(e,g,u)){y=z.getCellSelector(g);a=Ext.DomQuery.selectNode(y,d);n=Ext.DomQuery.selectNode(y,l);if(r){Ext.fly(a).syncContent(n)}else{k=a.parentNode;k.insertBefore(n,a);k.removeChild(a)}}}},shouldUpdateCell:function(b,g,e){if(g.hasCustomRenderer||!e){return true}if(e){var a=e.length,d,h;for(d=0;d<a;++d){h=e[d];if(h===g.dataIndex||h===b.idProperty){return true}}}return false},refresh:function(){var a=this,b=a.el&&a.el.isAncestor(Ext.Element.getActiveElement());a.callParent(arguments);a.headerCt.setSortState();if(a.el&&!a.all.getCount()&&a.headerCt&&a.headerCt.tooNarrow){a.el.createChild({style:"position:absolute;height:1px;width:1px;left:"+(a.headerCt.getFullWidth()-1)+"px"})}if(b){a.selModel.onLastFocusChanged(null,a.selModel.lastFocused)}},processItemEvent:function(h,x,r,m){if(this.indexInStore(x)!==-1){var o=this,t=m.getTarget(o.getCellSelector(),x),q,a=o.statics().EventMap,k=o.getSelectionModel(),n=m.type,b=o.features,l=b.length,d,w,u,g;if(n=="keydown"&&!t&&k.getCurrentPosition){t=o.getCellByPosition(k.getCurrentPosition(),true)}if(t){if(!t.parentNode){return false}g=o.getHeaderByCell(t);q=Ext.Array.indexOf(o.getGridColumns(),g)}else{q=-1}w=o.fireEvent("uievent",n,o,t,r,q,m,h,x);if(w===false||o.callParent(arguments)===false){o.selModel.onVetoUIEvent(n,o,t,r,q,m,h,x);return false}for(d=0;d<l;++d){u=b[d];if(u.wrapsItem){if(u.vetoEvent(h,x,r,m)===false){o.processSpecialEvent(m);return false}}}if(n=="mouseover"||n=="mouseout"){return true}if(!t){return true}return !((o["onBeforeCell"+a[n]](t,q,h,x,r,m)===false)||(o.fireEvent("beforecell"+n,o,t,q,h,x,r,m)===false)||(o["onCell"+a[n]](t,q,h,x,r,m)===false)||(o.fireEvent("cell"+n,o,t,q,h,x,r,m)===false))}else{this.processSpecialEvent(m);return false}},processSpecialEvent:function(l){var o=this,d=o.features,n=d.length,q=l.type,g,r,h,k,b,m,a=o.ownerCt;o.callParent(arguments);if(q=="mouseover"||q=="mouseout"){return}for(g=0;g<n;g++){r=d[g];if(r.hasFeatureEvent){k=l.getTarget(r.eventSelector,o.getTargetEl());if(k){h=r.eventPrefix;b=r.getFireEventArgs("before"+h+q,o,k,l);m=r.getFireEventArgs(h+q,o,k,l);if((o.fireEvent.apply(o,b)===false)||(a.fireEvent.apply(a,b)===false)||(o.fireEvent.apply(o,m)===false)||(a.fireEvent.apply(a,m)===false)){return false}}}}return true},onCellMouseDown:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){if(Ext.isNumber(a)){a=this.getGridColumns[a]}if(a){if(a.isGroupHeader){a.autoSize();return}delete a.flex;a.setWidth(this.getMaxContentWidth(a))}},getMaxContentWidth:function(e){var h=this,o=h.el.query(e.getCellInnerSelector()),b=e.getWidth(),d=0,g=o.length,m=Ext.supports.ScrollWidthInlinePaddingBug,a=h.body.select(h.getColumnSizerSelector(e)),k=Math.max,n,l;if(m&&g>0){n=h.getCellPaddingAfter(o[0])}a.setWidth(1);l=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr");for(;d<g;d++){l=k(l,o[d].scrollWidth)}if(m){l+=n}l=k(l,40);a.setWidth(b);return l},getPositionByEvent:function(h){var g=this,b=h.getTarget(g.cellSelector),d=h.getTarget(g.itemSelector),a=g.getRecord(d),k=g.getHeaderByCell(b);return g.getPosition(a,k)},getHeaderByCell:function(a){if(a){var b=a.className.match(this.cellRe);if(b&&b[1]){return this.ownerCt.columnManager.getHeaderById(b[1])}}return false},walkCells:function(n,o,k,q,a,t){if(!n){return false}var l=this,u=n.row,g=n.column,m=l.dataSource.getCount(),b=l.ownerCt.columnManager.getColumns().length-1,r=u,h=g,d=l.ownerCt.columnManager.getHeaderAtIndex(g);if(!d||d.hidden||!m){return false}k=k||{};o=o.toLowerCase();switch(o){case"right":if(g===b){if(q||u===m-1){return false}if(!k.ctrlKey){r=l.walkRows(u,1);if(r!==u){h=0}}}else{if(!k.ctrlKey){h=g+1}else{h=b}}break;case"left":if(g===0){if(q||u===0){return false}if(!k.ctrlKey){r=l.walkRows(u,-1);if(r!==u){h=b}}}else{if(!k.ctrlKey){h=g-1}else{h=0}}break;case"up":if(u===0){return false}else{if(!k.ctrlKey){r=l.walkRows(u,-1)}else{r=l.walkRows(-1,1)}}break;case"down":if(u===m-1){return false}else{if(!k.ctrlKey){r=l.walkRows(u,1)}else{r=l.walkRows(m,-1)}}break}if(a&&a.call(t||l,{row:r,column:h})!==true){return false}else{return new Ext.grid.CellContext(l).setPosition(r,h)}},walkRows:function(l,a){var e=this,g=0,n=l,b,k=(e.dataSource.buffered?e.dataSource.getTotalCount():e.dataSource.getCount())-1,d=(a<0)?0:k,h=d?1:-1,m=l;do{if(d?m>=d:m<=0){return n||d}m+=h;if((b=Ext.fly(e.getNode(m,true)))&&b.isVisible(true)){g+=h;n=m}}while(g!==a);return m},walkRecs:function(b,a){var k=this,l=0,o=b,d,n=(k.store.buffered?k.store.getTotalCount():k.store.getCount())-1,g=(a<0)?0:n,m=g?1:-1,h=k.store.indexOf(b),e;do{if(g?h>=g:h<=0){return o}h+=m;e=k.store.getAt(h);if((d=Ext.fly(k.getNodeByRecord(e,true)))&&d.isVisible(true)){l+=m;o=e}}while(l!==a);return o},getFirstVisibleRowIndex:function(){var d=this,b=(d.dataSource.buffered?d.dataSource.getTotalCount():d.dataSource.getCount()),a=d.indexOf(d.all.first())-1;do{a+=1;if(a===b){return}}while(!Ext.fly(d.getNode(a,true)).isVisible(true));return a},getLastVisibleRowIndex:function(){var b=this,a=b.indexOf(b.all.last());do{a-=1;if(a===-1){return}}while(!Ext.fly(b.getNode(a,true)).isVisible(true));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return new Ext.grid.CellContext(this).setPosition(a,b)},beforeDestroy:function(){var a=this;if(a.rendered){a.el.removeAllListeners()}a.callParent(arguments)},onDestroy:function(){var e=this,d=e.featuresMC,a,b;if(d){for(b=0,a=d.getCount();b<a;++b){d.getAt(b).destroy()}}e.featuresMC=null;this.callParent(arguments)},onAdd:function(d,a,b){this.callParent(arguments);this.doStripeRows(b)},onRemove:function(d,a,b){this.callParent(arguments);this.doStripeRows(b[0])},doStripeRows:function(b,a){var e=this,g,k,d,h;if(e.rendered&&e.stripeRows){g=e.getNodes(b,a);for(d=0,k=g.length;d<k;d++){h=g[d];h.className=h.className.replace(e.rowClsRe," ");b++;if(b%2===0){h.className+=(" "+e.altRowCls)}}}},repaintRow:function(e){var d=this.getNode(e),b=d.childNodes,a=b.length;while(a--){b[a].className=b[a].className}},getRowStyleTableEl:function(b){var a=this;if(!b.tagName){b=this.getNode(b)}return(a.isGrouping?Ext.fly(b):this.el).down("table.x-grid-table")},isRowStyleFirst:function(d){var b=this,a;if(d===-1){return false}if(!d.tagName){a=d;d=this.getNode(d)}else{a=b.indexOf(d)}return(!a||b.isGrouping&&Ext.fly(d).hasCls(Ext.baseCSSPrefix+"grid-group-row"))},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")}},1,["tableview"],["component","box","tableview","dataview"],{component:true,box:true,tableview:true,dataview:true},["widget.tableview"],0,[Ext.view,"Table"],0));(Ext.cmd.derive("Ext.grid.View",Ext.view.Table,{stripeRows:true,autoScroll:true},0,["gridview"],["component","box","tableview","dataview","gridview"],{component:true,box:true,tableview:true,dataview:true,gridview:true},["widget.gridview"],0,[Ext.grid,"View"],0));(Ext.cmd.derive("Ext.grid.Panel",Ext.panel.Table,{alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:false,rowLines:true},0,["grid","gridpanel"],["container","component","grid","gridpanel","box","panel","tablepanel"],{container:true,component:true,grid:true,gridpanel:true,box:true,panel:true,tablepanel:true},["widget.grid","widget.gridpanel"],0,[Ext.grid,"Panel",Ext.list,"ListView",Ext,"ListView",Ext.grid,"GridPanel"],0));Ext.define("Ext.grid.plugin.BufferedRendererTableView",{override:"Ext.view.Table",onAdd:function(b,a,d){var e=this,h=e.bufferedRenderer,g=e.all;if(e.rendered&&h&&(g.getCount()+a.length)>h.viewSize){if(d<g.startIndex+h.viewSize&&(d+a.length)>g.startIndex){e.refreshView()}else{h.stretchView(e,h.getScrollHeight())}}else{e.callParent([b,a,d])}},onRemove:function(b,a,e){var d=this,g=d.bufferedRenderer;d.callParent([b,a,e]);if(d.rendered&&g){if(d.dataSource.getCount()>g.viewSize){d.refreshView()}else{g.stretchView(d,g.getScrollHeight())}}},onDataRefresh:function(){var a=this;if(a.bufferedRenderer){a.all.clear();a.bufferedRenderer.onStoreClear()}a.callParent()}});Ext.define("ExtThemeNeptune.panel.Table",{override:"Ext.panel.Table",bodyBorder:true});(Ext.cmd.derive("Ext.grid.plugin.HeaderResizer",Ext.AbstractPlugin,{disabled:false,config:{dynamic:false},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1000,wResizeCursor:"col-resize",eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:true})},destroy:function(){if(this.tracker){this.tracker.destroy()}},afterHeaderRender:function(){var b=this.headerCt,a=b.el;b.mon(a,"mousemove",this.onHeaderCtMouseMove,this);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:Ext.Function.bind(this.onBeforeStart,this),onStart:Ext.Function.bind(this.onStart,this),onDrag:Ext.Function.bind(this.onDrag,this),onEnd:Ext.Function.bind(this.onEnd,this),tolerance:3,autoStart:300,el:a})},onHeaderCtMouseMove:function(b,n){var g=this,a,l,m,h,d,k;if(g.headerCt.dragging){if(g.activeHd){g.activeHd.el.dom.style.cursor="";delete g.activeHd}}else{l=b.getTarget("."+g.colHeaderCls,3,true);if(l){m=Ext.getCmp(l.id);if(m.isOnLeftEdge(b)){h=m.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(h){k=g.headerCt.up("tablepanel");d=h.up("tablepanel");if(!((d===k)||((k.ownerCt.isXType("tablepanel"))&&k.ownerCt.view.lockedGrid===d))){h=null}}}else{if(m.isOnRightEdge(b)){h=m}else{h=null}}if(h){if(h.isGroupHeader){a=h.getGridColumns();h=a[a.length-1]}if(h&&!(h.fixed||(h.resizable===false)||g.disabled)){g.activeHd=h;m.el.dom.style.cursor=g.eResizeCursor;if(m.triggerEl){m.triggerEl.dom.style.cursor=g.eResizeCursor}}}else{m.el.dom.style.cursor="";if(m.triggerEl){m.triggerEl.dom.style.cursor=""}g.activeHd=null}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;if(!!this.dragHd&&!this.headerCt.dragging){this.tracker.constrainTo=this.getConstrainRegion();return true}else{this.headerCt.dragging=false;return false}},getConstrainRegion:function(){var d=this,a=d.dragHd.el,e=0,b,g;if(d.headerCt.forceFit){b=d.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(b){if(!d.headerInSameGrid(b)){b=null}e=b.getWidth()-d.minColWidth}}else{if((g=d.dragHd.up("tablepanel")).isLocked){e=d.dragHd.up("[scrollerOwner]").getWidth()-g.getWidth()-30}else{e=d.maxColWidth-a.getWidth()}}return d.adjustConstrainRegion(a.getRegion(),0,e,0,d.minColWidth)},onStart:function(k){var l=this,h=l.dragHd,b=h.el.getWidth(),g=h.getOwnerHeaderCt(),o,n,q,d,a,m,r;l.headerCt.dragging=true;l.origWidth=b;if(!l.dynamic){q=d=g.up("tablepanel");if(q.ownerLockable){d=q.ownerLockable}o=l.getLeftMarkerX(d);a=d.getLhsMarker();m=d.getRhsMarker();r=q.body.getHeight()+g.getHeight();n=g.getOffsetsTo(d)[1];a.setLocalY(n);m.setLocalY(n);a.setHeight(r);m.setHeight(r);l.setMarkerX(a,o);l.setMarkerX(m,o+b)}},onDrag:function(b){var a=this,d;if(a.dynamic){a.doResize()}else{d=this.headerCt.up("tablepanel");if(d.ownerLockable){d=d.ownerLockable}this.setMarkerX(this.getMovingMarker(d),this.calculateDragX(d))}},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(a){this.headerCt.dragging=false;if(this.dragHd){if(!this.dynamic){var b=this.headerCt.up("tablepanel");if(b.ownerLockable){b=b.ownerLockable}this.setMarkerX(b.getLhsMarker(),-9999);this.setMarkerX(b.getRhsMarker(),-9999)}this.doResize()}},doResize:function(){var d=this,b=d.dragHd,a,e;if(b){e=d.tracker.getOffset("point");if(b.flex){delete b.flex}Ext.suspendLayouts();d.adjustColumnWidth(e[0]);if(d.headerCt.forceFit){a=b.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(a&&!d.headerInSameGrid(a)){a=null}if(a){delete a.flex;a.setWidth(a.getWidth()-e[0])}}Ext.resumeLayouts(true)}},headerInSameGrid:function(b){var a=this.dragHd.up("tablepanel");return !!b.up(a)},disable:function(){this.disabled=true;if(this.tracker){this.tracker.disable()}},enable:function(){this.disabled=false;if(this.tracker){this.tracker.enable()}},calculateDragX:function(a){return this.tracker.getXY("point")[0]-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(b,a){b.setLocalX(a)},adjustConstrainRegion:function(h,e,g,a,d){return h.adjust(e,g,a,d)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+a)}},0,0,0,0,["plugin.gridheaderresizer"],0,[Ext.grid.plugin,"HeaderResizer"],0));(Ext.cmd.derive("Ext.grid.header.DragZone",Ext.dd.DragZone,{colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(b){if(b.getTarget(this.colInnerSelector)){var g=b.getTarget(this.colHeaderSelector),a,d;if(g){a=Ext.getCmp(g.id);if(!this.headerCt.dragging&&a.draggable&&!(a.isOnLeftEdge(b)||a.isOnRightEdge(b))){d=document.createElement("div");d.innerHTML=Ext.getCmp(g.id).text;return{ddel:d,header:a}}}}return false},onBeforeDrag:function(){return !(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=true;this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=false;this.callParent(arguments)},afterRepair:function(){this.callParent();this.headerCt.dragging=false},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=true},enable:function(){this.disabled=false}},1,0,0,0,0,0,[Ext.grid.header,"DragZone"],0));(Ext.cmd.derive("Ext.grid.header.DropZone",Ext.dd.DropZone,{colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.callParent([a.el])},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){if(!this.topIndicator){this.self.prototype.topIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-top",html:"&#160;"},true);this.self.prototype.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)}return this.topIndicator},getBottomIndicator:function(){if(!this.bottomIndicator){this.self.prototype.bottomIndicator=Ext.DomHelper.append(Ext.getBody(),{cls:"col-move-bottom",html:"&#160;"},true)}return this.bottomIndicator},getLocation:function(g,b){var a=g.getXY()[0],d=Ext.fly(b).getRegion(),h;if((d.right-a)<=(d.right-d.left)/2){h="after"}else{h="before"}return{pos:h,header:Ext.getCmp(b.id),node:b}},positionIndicator:function(E,t,A){var D=this,u=E.header,h=D.getLocation(A,t),m=h.header,g=h.pos,d,z,o,x,y,a,b,n,q,C,B,r,l,w,k;if(m===D.lastTargetHeader&&g===D.lastDropPos){return}d=u.nextSibling("gridcolumn:not([hidden])");z=u.previousSibling("gridcolumn:not([hidden])");D.lastTargetHeader=m;D.lastDropPos=g;if(!m.draggable&&g==="before"&&m.getIndex()===0){return false}E.dropLocation=h;if((u!==m)&&((g==="before"&&d!==m)||(g==="after"&&z!==m))&&!m.isDescendantOf(u)){r=Ext.dd.DragDropManager.getRelated(D);l=r.length;w=0;for(;w<l;w++){k=r[w];if(k!==D&&k.invalidateDrop){k.invalidateDrop()}}D.valid=true;o=D.getTopIndicator();x=D.getBottomIndicator();if(g==="before"){y="bc-tl";a="tc-bl"}else{y="bc-tr";a="tc-br"}b=o.getAlignToXY(m.el,y);n=x.getAlignToXY(m.el,a);q=D.headerCt.el;C=q.getX()-D.indicatorXOffset;B=q.getX()+q.getWidth();b[0]=Ext.Number.constrain(b[0],C,B);n[0]=Ext.Number.constrain(n[0],C,B);o.setXY(b);x.setXY(n);o.show();x.show()}else{D.invalidateDrop()}},invalidateDrop:function(){this.valid=false;this.hideIndicators()},onNodeOver:function(d,k,h,g){var l=this,n=g.header,a,o,b,m;if(g.header.el.dom===d){a=false}else{g.isLock=g.isUnlock=false;o=l.getLocation(h,d).header;a=(n.ownerCt===o.ownerCt);if(!a&&(!n.ownerCt.sealed&&!o.ownerCt.sealed)){a=true;b=n.up("tablepanel");m=o.up("tablepanel");g.isLock=m.isLocked&&!b.isLocked;g.isUnlock=!m.isLocked&&b.isLocked;if((g.isUnlock&&n.lockable===false)||(g.isLock&&!n.isLockable())){a=false}}}if(a){l.positionIndicator(g,d,h)}else{l.valid=false}return l.valid?l.dropAllowed:l.dropNotAllowed},hideIndicators:function(){var a=this;a.getTopIndicator().hide();a.getBottomIndicator().hide();a.lastTargetHeader=a.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(t,d,x,A){if(this.valid){var w=A.header,l=A.dropLocation,o=l.header,z=w.ownerCt,q=z.items.indexOf(w),a=o.ownerCt,u=a.items.indexOf(o),m=this.headerCt,g=m.columnManager,b=g.getHeaderIndex(w),y=g.getHeaderIndex(o),r=w.isGroupHeader?w.query(":not([isGroupHeader])").length:1,n=z===a,k,h;if(l.pos==="after"){u++;y+=o.isGroupHeader?o.query(":not([isGroupHeader])").length:1}if(A.isLock){k=z.up("[scrollerOwner]");k.lock(w,u);A.isLock=false;this.onNodeDrop(t,d,x,A)}else{if(A.isUnlock){k=z.up("[scrollerOwner]");k.unlock(w,u);A.isUnlock=false;this.onNodeDrop(t,d,x,A)}else{this.invalidateDrop();h=w.getWidth();if(n){if(u===q){m.onHeaderMoved(w,r,b,y);return}if(u>q){u-=1}}Ext.suspendLayouts();if(n){a.move(q,u)}else{z.remove(w,false);a.insert(u,w)}if(a.isGroupHeader){if(!n){w.savedFlex=w.flex;delete w.flex;w.width=h}}else{if(w.savedFlex){w.flex=w.savedFlex;delete w.width}}m.purgeCache();Ext.resumeLayouts(true);m.onHeaderMoved(w,r,b,y)}}}}},1,0,0,0,0,0,[Ext.grid.header,"DropZone"],0));(Ext.cmd.derive("Ext.grid.plugin.HeaderReorderer",Ext.AbstractPlugin,{init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:true,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){var a=this;a.dragZone=new Ext.grid.header.DragZone(a.headerCt);a.dropZone=new Ext.grid.header.DropZone(a.headerCt);if(a.disabled){a.dragZone.disable()}},enable:function(){this.disabled=false;if(this.dragZone){this.dragZone.enable()}},disable:function(){this.disabled=true;if(this.dragZone){this.dragZone.disable()}}},0,0,0,0,["plugin.gridheaderreorderer"],0,[Ext.grid.plugin,"HeaderReorderer"],0));(Ext.cmd.derive("Ext.grid.header.Container",Ext.container.Container,{border:true,baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:false,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",triStateSort:false,ddLock:false,dragging:false,sortable:true,enableColumnHide:true,initComponent:function(){var a=this;a.headerCounter=0;a.plugins=a.plugins||[];if(!a.isColumn){if(a.enableColumnResize){a.resizer=new Ext.grid.plugin.HeaderResizer();a.plugins.push(a.resizer)}if(a.enableColumnMove){a.reorderer=new Ext.grid.plugin.HeaderReorderer();a.plugins.push(a.reorderer)}}if(a.isColumn&&(!a.items||a.items.length===0)){a.isContainer=false;a.layout={type:"container",calculate:Ext.emptyFn}}else{a.layout=Ext.apply({type:"gridcolumn",align:"stretch"},a.initialConfig.layout);if(a.isRootHeader){a.grid.columnManager=a.columnManager=new Ext.grid.ColumnManager(a)}}a.defaults=a.defaults||{};Ext.applyIf(a.defaults,{triStateSort:a.triStateSort,sortable:a.sortable});a.menuTask=new Ext.util.DelayedTask(a.updateMenuDisabledState,a);a.callParent();a.addEvents("columnresize","headerclick","headercontextmenu","headertriggerclick","columnmove","columnhide","columnshow","columnschanged","sortchange","menucreate")},isLayoutRoot:function(){if(this.hiddenHeaders){return false}return this.callParent()},getOwnerHeaderCt:function(){var a=this;return a.isRootHeader?a:a.up("[isRootHeader]")},onDestroy:function(){var a=this;if(a.menu){a.menu.un("hide",a.onMenuHide,a)}a.menuTask.cancel();Ext.destroy(a.resizer,a.reorderer);a.callParent()},applyColumnsState:function(e){if(!e||!e.length){return}var n=this,l=n.items.items,k=l.length,g=0,b=e.length,m,d,a,h;for(m=0;m<b;m++){a=e[m];for(h=k;h--;){d=l[h];if(d.getStateId&&d.getStateId()==a.id){if(g!==h){n.moveHeader(h,g)}if(d.applyColumnState){d.applyColumnState(a)}++g;break}}}},getColumnsState:function(){var b=this,a=[],d;b.items.each(function(e){d=e.getColumnState&&e.getColumnState();if(d){a.push(d)}});return a},onAdd:function(b){var a=this;if(!b.headerId){b.headerId=b.initialConfig.id||Ext.id(null,"header-")}if(!b.getStateId()){b.stateId=b.initialConfig.id||("h"+(++a.headerCounter))}a.callParent(arguments);a.onColumnsChanged()},onMove:function(){this.callParent(arguments);this.onColumnsChanged()},onShow:function(){this.callParent(arguments);this.onColumnsChanged()},onColumnsChanged:function(){var a=this;while(a){a.purgeCache();if(a.isRootHeader){break}a=a.ownerCt}if(a&&a.rendered){a.fireEvent("columnschanged",a)}},onRemove:function(d){var b=this,a=b.ownerCt;b.callParent(arguments);if(!b.destroying){b.onColumnsChanged();if(b.isGroupHeader&&!b.items.getCount()&&a){b.detachComponent(d);Ext.suspendLayouts();a.remove(b);Ext.resumeLayouts(true)}}},applyDefaults:function(b){var a;if(b&&!b.isComponent&&b.xtype=="rownumberer"){a=b}else{a=this.callParent(arguments);if(!b.isGroupHeader&&!("width" in a)&&!a.flex){a.width=this.defaultWidth}}return a},setSortState:function(){var a=this.up("[store]").store,d=a.getFirstSorter(),b;if(d){b=this.down("gridcolumn[dataIndex="+d.property+"]");if(b){b.setSortState(d.direction,false,true)}}else{this.clearOtherSortStates(null)}},getHeaderMenu:function(){var b=this.getMenu(),a;if(b){a=b.child("#columnItem");if(a){return a.menu}}return null},onHeaderVisibilityChange:function(g,e){var b=this,d=b.getHeaderMenu(),a;b.purgeCache();if(d){a=b.getMenuItemForHeader(d,g);if(a){a.setChecked(e,true)}if(d.isVisible()){b.menuTask.delay(50)}}},updateMenuDisabledState:function(k){var h=this,e=h.query(":not([hidden])"),d,a=e.length,g,b,l;if(!k){k=h.getMenu()}for(d=0;d<a;++d){g=e[d];b=h.getMenuItemForHeader(k,g);if(b){l=g.isHideable()?"enable":"disable";if(b.menu){l+="CheckChange"}b[l]()}}},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId="+b.id+"]"):null},onHeaderShow:function(d){var b=this,a=b.ownerCt;if(b.forceFit){delete b.flex}b.onHeaderVisibilityChange(d,true);if(!d.isGroupHeader){if(a){a.onHeaderShow(b,d)}}b.fireEvent("columnshow",b,d);b.fireEvent("columnschanged",this)},onHeaderHide:function(d){var b=this,a=b.ownerCt;b.onHeaderVisibilityChange(d,false);if(!d.isGroupHeader){if(a){a.onHeaderHide(b,d)}}b.fireEvent("columnhide",b,d);b.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=true;Ext.Function.defer(function(){this.ddLock=false},200,this)},onHeaderResize:function(h,b,g){var e=this,a=e.view,d=e.ownerCt;if(a&&a.body.dom){e.tempLock();if(d){d.onHeaderResize(e,h,b)}}e.fireEvent("columnresize",this,h,b)},onHeaderClick:function(d,b,a){d.fireEvent("headerclick",this,d,b,a);this.fireEvent("headerclick",this,d,b,a)},onHeaderContextMenu:function(d,b,a){d.fireEvent("headercontextmenu",this,d,b,a);this.fireEvent("headercontextmenu",this,d,b,a)},onHeaderTriggerClick:function(g,d,a){var b=this;if(g.fireEvent("headertriggerclick",b,g,d,a)!==false&&b.fireEvent("headertriggerclick",b,g,d,a)!==false){b.showMenuBy(a,g)}},showMenuBy:function(b,h){var e=this.getMenu(),g=e.down("#ascItem"),d=e.down("#descItem"),a;e.activeHeader=e.ownerButton=h;h.setMenuActive(true);a=h.sortable?"enable":"disable";if(g){g[a]()}if(d){d[a]()}e.showBy(b)},onMenuHide:function(a){a.activeHeader.setMenuActive(false)},moveHeader:function(a,b){this.tempLock();this.onHeaderMoved(this.move(a,b),1,a,b)},purgeCache:function(){var a=this,b=a.menu;a.gridDataColumns=a.hideableColumns=null;if(a.columnManager){a.columnManager.invalidate()}if(b&&b.hidden){b.hide();b.destroy();a.menu=null}},onHeaderMoved:function(h,a,d,g){var e=this,b=e.ownerCt;if(b&&b.onHeaderMove){b.onHeaderMove(e,h,a,d,g)}e.fireEvent("columnmove",e,h,d,g)},getMenu:function(){var a=this;if(!a.menu){a.menu=new Ext.menu.Menu({hideOnParentHide:false,items:a.getMenuItems(),listeners:{hide:a.onMenuHide,scope:a}});a.fireEvent("menucreate",a,a.menu)}a.updateMenuDisabledState(a.menu);return a.menu},getMenuItems:function(){var d=this,b=[],a=d.enableColumnHide?d.getColumnMenu(d):null;if(d.sortable){b=[{itemId:"ascItem",text:d.sortAscText,cls:d.menuSortAscCls,handler:d.onSortAscClick,scope:d},{itemId:"descItem",text:d.sortDescText,cls:d.menuSortDescCls,handler:d.onSortDescClick,scope:d}]}if(a&&a.length){if(d.sortable){b.push("-")}b.push({itemId:"columnItem",text:d.columnsText,cls:d.menuColsIcon,menu:a,hideOnClick:false})}return b},onSortAscClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("ASC")},onSortDescClick:function(){var b=this.getMenu(),a=b.activeHeader;a.setSortState("DESC")},getColumnMenu:function(h){var d=[],b=0,g,a=h.query(">gridcolumn[hideable]"),k=a.length,e;for(;b<k;b++){g=a[b];e=new Ext.menu.CheckItem({text:g.menuText||g.text,checked:!g.hidden,hideOnClick:false,headerId:g.id,menu:g.isGroupHeader?this.getColumnMenu(g):undefined,checkHandler:this.onColumnCheckChange,scope:this});d.push(e);g.on({destroy:Ext.Function.bind(e.destroy,e)})}return d},onColumnCheckChange:function(a,b){var d=Ext.getCmp(a.headerId);d[b?"show":"hide"]()},getColumnCount:function(){return this.getGridColumns().length},getFullWidth:function(){var d=0,b=this.getVisibleGridColumns(),g=b.length,a=0,e;for(;a<g;a++){e=b[a];if(e.getDesiredWidth){d+=e.getDesiredWidth()||0}else{d+=e.getWidth()}}return d},clearOtherSortStates:function(a){var d=this.getGridColumns(),e=d.length,b=0;for(;b<e;b++){if(d[b]!==a){d[b].setSortState(null,true)}}},getVisibleGridColumns:function(){var d=this.getGridColumns(),b=[],a=d.length,e;for(e=0;e<a;e++){if(!d[e].hidden){b[b.length]=d[e]}}return b},getGridColumns:function(k,a){if(!k&&this.gridDataColumns){return this.gridDataColumns}var h=this,m=k||[],g,b,e,l,d;a=a||h.hidden;if(h.items){g=h.items.items;for(b=0,e=g.length;b<e;b++){l=g[b];if(l.isGroupHeader){l.getGridColumns(m,a)}else{l.hiddenAncestor=a;m.push(l)}}}if(!k){h.gridDataColumns=m}if(!k&&e){for(b=0,e=m.length;b<e;b++){l=m[b];l.isFirstVisible=l.isLastVisible=false;if(!(l.hidden||l.hiddenAncestor)){if(!d){l.isFirstVisible=true}d=l}}if(d){d.isLastVisible=true}}return m},getHideableColumns:function(){var b=this,a=b.hideableColumns;if(!a){a=b.hideableColumns=b.query("[hideable]")}return a},getHeaderIndex:function(a){return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){return this.columnManager.getVisibleHeaderClosestToIndex(a)},autoSizeColumn:function(b){var a=this.view;if(a){a.autoSizeColumn(b)}}},0,["headercontainer"],["container","component","headercontainer","box"],{container:true,component:true,headercontainer:true,box:true},["widget.headercontainer"],0,[Ext.grid.header,"Container"],0));(Ext.cmd.derive("Ext.grid.column.Column",Ext.grid.header.Container,{alternateClassName:"Ext.grid.Column",baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:4,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],noWrap:true,renderTpl:'<div id="{id}-titleEl" {tipMarkup}class="'+Ext.baseCSSPrefix+'column-header-inner"><span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'column-header-text{childElCls}">{text}</span><tpl if="!menuDisabled"><div id="{id}-triggerEl" class="'+Ext.baseCSSPrefix+'column-header-trigger{childElCls}"></div></tpl></div>{%this.renderContainer(out,values)%}',dataIndex:null,text:"&#160;",menuText:null,emptyCellText:"&#160;",sortable:true,resizable:true,hideable:true,menuDisabled:false,renderer:false,editRenderer:false,align:"left",draggable:true,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:true,isColumn:true,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:true,initResizable:Ext.emptyFn,initComponent:function(){var b=this,d,a;if(b.header!=null){b.text=b.header;b.header=null}if(!b.triStateSort){b.possibleSortStates.length=2}if(b.columns!=null){b.isGroupHeader=true;b.items=b.columns;b.columns=b.flex=b.width=null;b.cls=(b.cls||"")+" "+b.groupHeaderCls;b.sortable=b.resizable=false;b.align="center"}else{if(b.flex){b.minWidth=b.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth}}b.addCls(Ext.baseCSSPrefix+"column-header-align-"+b.align);d=b.renderer;if(d){if(typeof d=="string"){b.renderer=Ext.util.Format[d]}b.hasCustomRenderer=true}else{if(b.defaultRenderer){b.scope=b;b.renderer=b.defaultRenderer}}b.callParent(arguments);a={element:b.clickTargetName,click:b.onTitleElClick,contextmenu:b.onTitleElContextMenu,mouseenter:b.onTitleMouseOver,mouseleave:b.onTitleMouseOut,scope:b};if(b.resizable){a.dblclick=b.onTitleElDblClick}b.on(a)},onAdd:function(a){if(a.isColumn){a.isSubHeader=true;a.addCls(this.groupSubHeaderCls)}if(this.hidden){a.hide()}this.callParent(arguments)},onRemove:function(a){if(a.isSubHeader){a.isSubHeader=false;a.removeCls(this.groupSubHeaderCls)}this.callParent(arguments)},initRenderData:function(){var b=this,e="",d=b.tooltip,a=b.tooltipType=="qtip"?"data-qtip":"title";if(!Ext.isEmpty(d)){e=a+'="'+d+'" '}return Ext.applyIf(b.callParent(arguments),{text:b.text,menuDisabled:b.menuDisabled,tipMarkup:e})},applyColumnState:function(b){var a=this;a.applyColumnsState(b.columns);if(b.hidden!=null){a.hidden=b.hidden}if(b.locked!=null){a.locked=b.locked}if(b.sortable!=null){a.sortable=b.sortable}if(b.width!=null){a.flex=null;a.width=b.width}else{if(b.flex!=null){a.width=null;a.flex=b.flex}}},getColumnState:function(){var g=this,b=g.items.items,a=b?b.length:0,e,d=[],h={id:g.getStateId()};g.savePropsToState(["hidden","sortable","locked","flex","width"],h);if(g.isGroupHeader){for(e=0;e<a;e++){d.push(b[e].getColumnState())}if(d.length){h.columns=d}}else{if(g.isSubHeader&&g.ownerCt.hidden){delete g.hidden}}if("width" in h){delete h.flex}return h},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;if(this.rendered){this.textEl.update(a)}},getIndex:function(){return this.isGroupColumn?false:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return this.isGroupColumn?false:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var b=this,a=b.up("tablepanel");b.callParent();if(a&&(!b.sortable||a.sortableColumns===false)&&!b.groupable&&!b.lockable&&(a.enableColumnHide===false||!b.getOwnerHeaderCt().getHideableColumns().length)){b.menuDisabled=true}b.protoEl.unselectable()},afterRender:function(){var b=this,a=b.triggerEl,d;b.callParent(arguments);if(!Ext.isIE8||!Ext.isStrict){b.mon(b.getFocusEl(),{focus:b.onTitleMouseOver,blur:b.onTitleMouseOut,scope:b})}if(a&&b.self.triggerElWidth===undefined){a.setStyle("display","block");b.self.triggerElWidth=a.getWidth();a.setStyle("display","")}b.keyNav=new Ext.util.KeyNav(b.el,{enter:b.onEnterKey,down:b.onDownKey,scope:b})},afterComponentLayout:function(e,a,d,h){var g=this,b=g.getOwnerHeaderCt();g.callParent(arguments);if(b&&(d!=null||g.flex)&&e!==d){b.onHeaderResize(g,e,true)}},onDestroy:function(){var a=this;Ext.destroy(a.textEl,a.keyNav,a.field);a.keyNav=null;a.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl){this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)}},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(h,a){var d=this,b,g;if(d.isOnLeftEdge(h)){b=d.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])");if(b&&b.getOwnerHeaderCt()===d.getOwnerHeaderCt()){b.autoSize()}}else{if(d.isOnRightEdge(h)){if(d.isGroupHeader&&h.getPoint().isContainedBy(d.layout.innerCt)){g=d.query("gridcolumn:not([hidden]):not([isGroupHeader])");this.getOwnerHeaderCt().autoSizeColumn(g[g.length-1]);return}d.autoSize()}}},autoSize:function(){var b=this,d,g,a,e;if(b.isGroupHeader){d=b.query("gridcolumn:not([hidden]):not([isGroupHeader])");g=d.length;e=this.getOwnerHeaderCt();Ext.suspendLayouts();for(a=0;a<g;a++){e.autoSizeColumn(d[a])}Ext.resumeLayouts(true);return}this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(g,b){var d=this,a=d.getOwnerHeaderCt();if(a&&!a.ddLock){if(d.triggerEl&&(g.target===d.triggerEl.dom||b===d.triggerEl.dom||g.within(d.triggerEl))){a.onHeaderTriggerClick(d,g,b)}else{if(g.getKey()||(!d.isOnLeftEdge(g)&&!d.isOnRightEdge(g))){d.toggleSortState();a.onHeaderClick(d,g,b)}}}},onTitleElContextMenu:function(g,b){var d=this,a=d.getOwnerHeaderCt();if(a&&!a.ddLock){a.onHeaderContextMenu(d,g,b)}},processEvent:function(h,b,a,d,g,k){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){var b=this,a,d;if(b.sortable){a=Ext.Array.indexOf(b.possibleSortStates,b.sortState);d=(a+1)%b.possibleSortStates.length;b.setSortState(b.possibleSortStates[d])}},doSort:function(d){var b=this.up("tablepanel"),a=b.store;if(b.ownerLockable&&a.isNodeStore){a=b.ownerLockable.lockedGrid.store}a.sort({property:this.getSortParam(),direction:d})},getSortParam:function(){return this.dataIndex},setSortState:function(h,g,d){var e=this,k=e.ascSortCls,b=e.descSortCls,a=e.getOwnerHeaderCt(),l=e.sortState;h=h||null;if(!e.sorting&&l!==h&&(e.getSortParam()!=null)){if(h&&!d){e.sorting=true;e.doSort(h);e.sorting=false}switch(h){case"DESC":e.addCls(b);e.removeCls(k);break;case"ASC":e.addCls(k);e.removeCls(b);break;default:e.removeCls([k,b])}if(a&&!e.triStateSort&&!g){a.clearOtherSortStates(e)}e.sortState=h;if(e.triStateSort||h!=null){a.fireEvent("sortchange",a,e,h)}}},isHideable:function(){var a={hideCandidate:this,result:this.hideable};if(a.result){this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a])}return a.result},hasOtherMenuEnabledChildren:function(a){var b,d;if(!this.isXType("headercontainer")){a.result=false;return false}b=this.query(">:not([hidden]):not([menuDisabled])");d=b.length;if(Ext.Array.contains(b,a.hideCandidate)){d--}if(d){return false}a.hideCandidate=this},isLockable:function(){var a={result:this.lockable!==false};if(a.result){this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[a])}return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer")){a.result=false;return false}if(this.query(">:not([hidden])").length>1){return false}},hide:function(d){var l=this,g=l.getOwnerHeaderCt(),b=l.ownerCt,a,m,k,h,e;if(!l.isVisible()){return l}if(!g){l.callParent();return l}if(g.forceFit){l.visibleSiblingCount=g.getVisibleGridColumns().length-1;if(l.flex){l.savedWidth=l.getWidth();l.flex=null}}a=b.isGroupHeader;if(a&&!d){k=b.query(">:not([hidden])");if(k.length===1&&k[0]==l){l.ownerCt.hide();return}}Ext.suspendLayouts();if(l.isGroupHeader){k=l.items.items;for(e=0,h=k.length;e<h;e++){m=k[e];if(!m.hidden){m.hide(true)}}}l.callParent();g.onHeaderHide(l);Ext.resumeLayouts(true);return l},show:function(h,k){var q=this,m=q.getOwnerHeaderCt(),e=q.ownerCt,o,n,l,r,b,a,g,d,t=Ext.grid.header.Container.prototype.defaultWidth;if(q.isVisible()){return q}if(!q.rendered){q.hidden=false;return}a=m.el.getViewSize().width-(m.view.el.dom.scrollHeight>m.view.el.dom.clientHeight?Ext.getScrollbarSize().width:0);if(m.forceFit){o=Ext.ComponentQuery.query(":not([flex])",m.getVisibleGridColumns());if(o.length){q.width=q.savedWidth||q.width||t}else{o=m.getVisibleGridColumns();n=o.length;d=q.visibleSiblingCount;b=(q.savedWidth||q.width||t);b=Math.min(b*(d/n),t,Math.max(a-(n*t),t));q.width=null;q.flex=b;a-=b;g=0;for(l=0;l<n;l++){r=o[l];r.flex=(r.width||r.getWidth());g+=r.flex;r.width=null}for(l=0;l<n;l++){r=o[l];r.flex=r.flex/g*a}}}Ext.suspendLayouts();if(q.isSubHeader&&e.hidden){e.show(false,true)}q.callParent(arguments);if(q.isGroupHeader&&k!==true&&!q.query(":not([hidden])").length){o=q.items.items;for(l=0,n=o.length;l<n;l++){r=o[l];if(r.hidden){r.show(true)}}}Ext.resumeLayouts(true);e=q.getOwnerHeaderCt();if(e){e.onHeaderShow(q)}},getDesiredWidth:function(){var a=this;if(a.rendered&&a.componentLayout&&a.componentLayout.lastComponentSize){return a.componentLayout.lastComponentSize.width}else{if(a.flex){return a.width}else{return a.width}}},getCellSelector:function(){return"."+Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return(a.getXY()[0]-this.getX()<=this.handleWidth)},isOnRightEdge:function(a){return(this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth)},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)}},0,["gridcolumn"],["container","component","gridcolumn","headercontainer","box"],{container:true,component:true,gridcolumn:true,headercontainer:true,box:true},["widget.gridcolumn"],0,[Ext.grid.column,"Column",Ext.grid,"Column"],0));(Ext.cmd.derive("Ext.grid.column.Action",Ext.grid.column.Column,{alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(e){var h=this,b=Ext.apply({},e),d=b.items||h.items||[h],k,g,a;h.origRenderer=b.renderer||h.renderer;h.origScope=b.scope||h.scope;h.renderer=h.scope=b.renderer=b.scope=null;b.items=null;h.callParent([b]);h.items=d;for(g=0,a=d.length;g<a;++g){if(d[g].getClass){k=true;break}}if(h.origRenderer||k){h.hasCustomRenderer=true}},defaultRenderer:function(r,w,g,a,e,q,o){var n=this,h=Ext.baseCSSPrefix,u=n.origScope||n,m=n.items,k=m.length,d=0,t,l,b,x;l=Ext.isFunction(n.origRenderer)?n.origRenderer.apply(u,arguments)||"":"";w.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;d<k;d++){t=m[d];b=t.disabled||(t.isDisabled?t.isDisabled.call(t.scope||u,o,a,e,t,g):false);x=b?null:(t.tooltip||(t.getTip?t.getTip.apply(t.scope||u,arguments):null));if(!t.hasActionConfiguration){t.stopSelection=n.stopSelection;t.disable=Ext.Function.bind(n.disableAction,n,[d],0);t.enable=Ext.Function.bind(n.enableAction,n,[d],0);t.hasActionConfiguration=true}l+='<img role="button" alt="'+(t.altText||n.altText)+'" src="'+(t.icon||Ext.BLANK_IMAGE_URL)+'" class="'+h+"action-col-icon "+h+"action-col-"+String(d)+" "+(b?h+"item-disabled":" ")+" "+(Ext.isFunction(t.getClass)?t.getClass.apply(t.scope||u,arguments):(t.iconCls||n.iconCls||""))+'"'+(x?' data-qtip="'+x+'"':"")+" />"}return l},enableAction:function(b,a){var d=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(d.items,b)}}d.items[b].disabled=false;d.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).removeCls(d.disabledCls);if(!a){d.fireEvent("enable",d)}},disableAction:function(b,a){var d=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(d.items,b)}}d.items[b].disabled=true;d.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).addCls(d.disabledCls);if(!a){d.fireEvent("disable",d)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(m,q,t,b,n,k,g,w){var l=this,h=k.getTarget(),d,u,o,r=m=="keydown"&&k.getKey(),a;if(r&&!Ext.fly(h).findParent(q.getCellSelector())){h=Ext.fly(t).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(h&&(d=h.className.match(l.actionIdRe))){u=l.items[parseInt(d[1],10)];a=u.disabled||(u.isDisabled?u.isDisabled.call(u.scope||l.origScope||l,q,b,n,u,g):false);if(u&&!a){if(m=="click"||(r==k.ENTER||r==k.SPACE)){o=u.handler||l.handler;if(o){o.call(u.scope||l.origScope||l,q,b,n,u,k,g,w)}}else{if(m=="mousedown"&&u.stopSelection!==false){return false}}}}return l.callParent(arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]}},1,["actioncolumn"],["container","component","gridcolumn","actioncolumn","headercontainer","box"],{container:true,component:true,gridcolumn:true,actioncolumn:true,headercontainer:true,box:true},["widget.actioncolumn"],0,[Ext.grid.column,"Action",Ext.grid,"ActionColumn"],0));(Ext.cmd.derive("Ext.grid.column.CheckColumn",Ext.grid.column.Column,{alternateClassName:"Ext.ux.CheckColumn",align:"center",stopSelection:true,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",constructor:function(){this.addEvents("beforecheckchange","checkchange");this.scope=this;this.callParent(arguments)},processEvent:function(k,m,r,b,l,g,d,t){var h=this,q=k==="keydown"&&g.getKey(),a=k=="mousedown";if(!h.disabled&&(a||(q==g.ENTER||q==g.SPACE))){var n=h.dataIndex,o=!d.get(n);if(h.fireEvent("beforecheckchange",h,b,o)!==false){d.set(n,o);h.fireEvent("checkchange",h,b,o);if(a){g.stopEvent()}if(!h.stopSelection){m.selModel.selectByPosition({row:b,column:l})}return false}else{return !h.stopSelection}}else{return h.callParent(arguments)}},onEnable:function(a){var b=this;b.callParent(arguments);b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).removeCls(b.disabledCls);if(!a){b.fireEvent("enable",b)}},onDisable:function(a){var b=this;b.callParent(arguments);b.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"grid-cell-"+b.id).addCls(b.disabledCls);if(!a){b.fireEvent("disable",b)}},renderer:function(b,d){var e=Ext.baseCSSPrefix,a=[e+"grid-checkcolumn"];if(this.disabled){d.tdCls+=" "+this.disabledCls}if(b){a.push(e+"grid-checkcolumn-checked")}return'<img class="'+a.join(" ")+'" src="'+Ext.BLANK_IMAGE_URL+'"/>'}},1,["checkcolumn"],["container","component","gridcolumn","headercontainer","box","checkcolumn"],{container:true,component:true,gridcolumn:true,headercontainer:true,box:true,checkcolumn:true},["widget.checkcolumn"],0,[Ext.grid.column,"CheckColumn",Ext.ux,"CheckColumn"],0));(Ext.cmd.derive("Ext.grid.column.RowNumberer",Ext.grid.column.Column,{alternateClassName:"Ext.grid.RowNumberer",text:"&#160",width:23,sortable:false,draggable:false,autoLock:true,lockable:false,align:"right",constructor:function(a){var b=this;b.width=b.width;b.callParent(arguments);b.scope=b},resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:undefined,renderer:function(k,a,g,b,e,l){var d=this.rowspan,h=l.currentPage,m=g.index;if(d){a.tdAttr='rowspan="'+d+'"'}if(m==null){m=b;if(h>1){m+=(h-1)*l.pageSize}}return m+1}},1,["rownumberer"],["container","component","gridcolumn","headercontainer","box","rownumberer"],{container:true,component:true,gridcolumn:true,headercontainer:true,box:true,rownumberer:true},["widget.rownumberer"],0,[Ext.grid.column,"RowNumberer",Ext.grid,"RowNumberer"],0));Ext.define("ExtThemeNeptune.grid.column.RowNumberer",{override:"Ext.grid.column.RowNumberer",width:25});(Ext.cmd.derive("Ext.grid.locking.HeaderContainer",Ext.grid.header.Container,{constructor:function(e){var d=this,a,b,k=[],h=e.lockedGrid,g=e.normalGrid;d.lockable=e;d.callParent();h.columnManager.rootColumns=g.columnManager.rootColumns=e.columnManager=d.columnManager=new Ext.grid.ColumnManager(h.headerCt,g.headerCt);a=h.headerCt.events;for(b in a){if(a.hasOwnProperty(b)){k.push(b)}}d.relayEvents(h.headerCt,k);d.relayEvents(g.headerCt,k)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var b=this,a=b.lockable.lockedGrid.headerCt.getColumnsState(),d=b.lockable.normalGrid.headerCt.getColumnsState();return a.concat(d)},applyColumnsState:function(k){var t=this,g=t.lockable.lockedGrid,h=g.headerCt,q=t.lockable.normalGrid.headerCt,u=Ext.Array.toValueMap(h.items.items,"headerId"),l=Ext.Array.toValueMap(q.items.items,"headerId"),o=[],r=[],n=1,b=k.length,m,a,e,d;for(m=0;m<b;m++){d=k[m];e=u[d.id];a=e||l[d.id];if(a){if(a.applyColumnState){a.applyColumnState(d)}if(a.locked===undefined){a.locked=!!e}if(a.locked){o.push(a);if(!a.hidden&&typeof a.width=="number"){n+=a.width}}else{r.push(a)}}}if(o.length+r.length==h.items.getCount()+q.items.getCount()){h.removeAll(false);q.removeAll(false);h.add(o);q.add(r);g.setWidth(n)}}},1,0,["container","component","headercontainer","box"],{container:true,component:true,headercontainer:true,box:true},0,0,[Ext.grid.locking,"HeaderContainer"],0));(Ext.cmd.derive("Ext.grid.locking.View",Ext.Base,{alternateClassName:"Ext.grid.LockingView",isLockingView:true,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(d){var h=this,l=[],a=h.eventRelayRe,b=d.locked.getView(),k=d.normal.getView(),e,g;Ext.apply(h,{lockedView:b,normalView:k,lockedGrid:d.locked,normalGrid:d.normal,panel:d.panel});h.mixins.observable.constructor.call(h,d);e=b.events;for(g in e){if(e.hasOwnProperty(g)&&a.test(g)){l.push(g)}}h.relayEvents(b,l);h.relayEvents(k,l);k.on({scope:h,itemmouseleave:h.onItemMouseLeave,itemmouseenter:h.onItemMouseEnter});b.on({scope:h,itemmouseleave:h.onItemMouseLeave,itemmouseenter:h.onItemMouseEnter});h.panel.on({render:h.onPanelRender,scope:h})},onPanelRender:function(){var d=this,b=d.loadMask,a={target:d.panel,msg:d.loadingText,msgCls:d.loadingCls,useMsg:d.loadingUseMsg,store:d.panel.store};d.el=d.panel.body;d.fireEvent("render",d);if(b){if(Ext.isObject(b)){a=Ext.apply(a,b)}d.loadMask=new Ext.LoadMask(a)}},getGridColumns:function(){var a=this.lockedGrid.headerCt.getVisibleGridColumns();return a.concat(this.normalGrid.headerCt.getVisibleGridColumns())},getEl:function(a){return this.getViewForColumn(a).getEl()},getViewForColumn:function(b){var a=this.lockedView,d;a.headerCt.cascade(function(e){if(e===b){d=true;return false}});return d?a:this.normalView},onItemMouseEnter:function(d,b){var h=this,e=h.lockedView,a=h.normalView,g;if(d.trackOver){if(d!==e){a=e}g=a.getNode(b,false);a.highlightItem(g)}},onItemMouseLeave:function(d,b){var g=this,e=g.lockedView,a=g.normalView;if(d.trackOver){if(d!==e){a=e}a.clearHighlight()}},relayFn:function(d,b){b=b||[];var a=this.lockedView;a[d].apply(a,b);a=this.normalView;a[d].apply(a,b)},getSelectionModel:function(){return this.panel.getSelectionModel()},getStore:function(){return this.panel.store},getNode:function(b,a){return this.normalView.getNode(b,a)},getCell:function(b,d){var a=this.getViewForColumn(d),e=a.getNode(b,true);return Ext.fly(e).down(d.getCellSelector())},indexOf:function(b){var a=this.lockedView.indexOf(b);if(!a){a=this.normalView.indexOf(b)}return a},focus:function(){var b=this.getSelectionModel().getCurrentPosition(),a=b?b.view:this.normalView;a.focus()},focusRow:function(a){this.normalView.focusRow(a)},focusCell:function(a){a.view.focusCell(a)},isVisible:function(a){return this.panel.isVisible(a)},getRecord:function(b){var a=this.lockedView.getRecord(b);if(!a){a=this.normalView.getRecord(b)}return a},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(a,d,b){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},refresh:function(){this.relayFn("refresh",arguments)},bindStore:function(){this.relayFn("bindStore",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var b=this,a=b.loadMask;b.clearListeners();if(a&&a.bindStore){a.bindStore(null)}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.grid.locking,"View",Ext.grid,"LockingView"],0));(Ext.cmd.derive("Ext.grid.locking.Lockable",Ext.Base,{alternateClassName:"Ext.grid.Lockable",syncRowHeight:true,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["invalidateScrollerOnRefresh","hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","columnLines","rowLines"],normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(g){var d=this,k,e,b,h,a;if(d.subGridXType){k=d.subGridXType}else{if(!g){return"gridpanel"}e=this.getXTypes().split("/");b=e.length;h=e[b-1];a=e[b-2];if(a!=="tablepanel"){k=a}else{k=h}}return k},injectLockable:function(){this.lockable=true;this.hasView=true;var r=this,a=Ext.getScrollbarSize().height,t=r.store=Ext.StoreManager.lookup(r.store),m=r.getSelectionModel(),n,b,g,o,k,e,d,l,w,h,q,u=r.findPlugin("bufferedrenderer");n=r.constructLockableFeatures();if(r.features){r.features=null}b=r.constructLockablePlugins();r.plugins=b.topPlugins;g=Ext.apply({id:r.id+"-locked",isLocked:true,ownerLockable:r,xtype:r.determineXTypeToCreate(true),store:t,scrollerOwner:false,animate:false,scroll:a?false:"vertical",selModel:m,border:false,cls:r.lockedGridCls,isLayoutRoot:function(){return false},features:n.lockedFeatures,plugins:b.lockedPlugins},r.lockedGridConfig);o=Ext.apply({id:r.id+"-normal",isLocked:false,ownerLockable:r,xtype:r.determineXTypeToCreate(),store:t,scrollerOwner:false,selModel:m,border:false,isLayoutRoot:function(){return false},features:n.normalFeatures,plugins:b.normalPlugins},r.normalGridConfig);r.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(o,r,r.bothCfgCopy,true);Ext.copyTo(g,r,r.bothCfgCopy,true);Ext.copyTo(o,r,r.normalCfgCopy,true);Ext.copyTo(g,r,r.lockedCfgCopy,true);for(k=0;k<r.normalCfgCopy.length;k++){delete r[r.normalCfgCopy[k]]}for(k=0;k<r.lockedCfgCopy.length;k++){delete r[r.lockedCfgCopy[k]]}r.addEvents("processcolumns","lockcolumn","unlockcolumn");r.addStateEvents(["lockcolumn","unlockcolumn"]);e=r.processColumns(r.columns);g.width=e.lockedWidth+Ext.num(m.headerWidth,0)+(e.locked.items.length?1:0);g.columns=e.locked;o.columns=e.normal;o.flex=1;g.viewConfig=r.lockedViewConfig||{};g.viewConfig.loadingUseMsg=false;g.viewConfig.loadMask=false;if(a){g.viewConfig.style="border-bottom:"+a+"px solid #f6f6f6;"+(g.viewConfig.style||"")}o.viewConfig=r.normalViewConfig||{};o.viewConfig.loadMask=false;Ext.applyIf(g.viewConfig,r.viewConfig);Ext.applyIf(o.viewConfig,r.viewConfig);r.lockedGrid=Ext.ComponentManager.create(g);if(r.isTree){r.lockedGrid.getView().animate=false;o.store=r.lockedGrid.view.store;o.deferRowRender=false;o.viewConfig.stripeRows=r.lockedGrid.view.stripeRows;o.rowLines=r.lockedGrid.rowLines}w=r.lockedGrid.getView();o.viewConfig.lockingPartner=w;r.normalGrid=Ext.ComponentManager.create(o);w.lockingPartner=h=r.normalGrid.getView();r.view=new Ext.grid.locking.View({loadingText:h.loadingText,loadingCls:h.loadingCls,loadingUseMsg:h.loadingUseMsg,loadMask:r.loadMask!==false,locked:r.lockedGrid,normal:r.normalGrid,panel:r});q=u?{}:{scroll:{fn:r.onLockedViewScroll,element:"el",scope:r}};if(a){r.lockedGrid.on({afterlayout:r.afterLockedViewLayout,scope:r});w.getOverflowStyle();if(w.scrollFlags.y){r.lockedGrid.headerCt.forceFit=true}else{q.mousewheel={fn:r.onLockedViewMouseWheel,element:"el",scope:r}}}w.on(q);q=u?{}:{scroll:{fn:r.onNormalViewScroll,element:"el",scope:r},scope:r};h.on(q);d=r.lockedGrid.headerCt;l=r.normalGrid.headerCt;r.headerCt=r.view.headerCt=new Ext.grid.locking.HeaderContainer(r);d.lockedCt=true;d.lockableInjected=true;l.lockableInjected=true;d.on({add:{buffer:1,scope:r,fn:r.onLockedHeaderAdd},columnshow:r.onLockedHeaderShow,columnhide:r.onLockedHeaderHide,sortchange:r.onLockedHeaderSortChange,columnresize:r.onLockedHeaderResize,scope:r});l.on({sortchange:r.onNormalHeaderSortChange,scope:r});r.modifyHeaderCt();r.items=[r.lockedGrid,r.normalGrid];r.relayHeaderCtEvents(d);r.relayHeaderCtEvents(l);r.storeRelayers=r.relayEvents(t,["filterchange"]);r.layout={type:"hbox",align:"stretch"}},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(d){var g,k,b,m=this.dummyHdrCtr||(this.self.prototype.dummyHdrCtr=new Ext.grid.header.Container()),l=[],e=[],a={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:l},h={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:e},n={lockedWidth:0,locked:a,normal:h};if(Ext.isObject(d)){Ext.applyIf(a,d);Ext.applyIf(h,d);Ext.apply(m,d);d=d.items}for(g=0,k=d.length;g<k;++g){b=d[g];if(!b.isComponent){b=m.lookupComponent(m.applyDefaults(b))}b.processed=true;if(b.locked||b.autoLock){if(!b.hidden){n.lockedWidth+=this.getColumnWidth(b)||m.defaultWidth}l.push(b)}else{e.push(b)}if(!b.headerId){b.headerId=(b.initialConfig||b).id||("h"+(++this.headerCounter))}}this.fireEvent("processcolumns",this,l,e);return n},getColumnWidth:function(g){var b=g.width||0,e,a,d;if(!b&&g.isGroupHeader){e=g.items.items;a=e.length;for(d=0;d<a;d++){b+=this.getColumnWidth(e[d])}}return b},afterLockedViewLayout:function(){var d=this,b=d.lockedGrid.getView(),a=b.el.dom,e=(d.normalGrid.headerCt.tooNarrow?Ext.getScrollbarSize().height:0);if(b.scrollFlags.x&&a.scrollWidth>a.clientWidth){e=0}b.el.dom.style.borderBottomWidth=e+"px";if(!Ext.isBorderBox){b.el.setHeight(b.lastBox.height)}},onLockedViewMouseWheel:function(l){var g=this,k=-g.scrollDelta,a=k*l.getWheelDeltas().y,b=g.lockedGrid.getView().el.dom,d,h;if(!g.ignoreMousewheel){if(b){d=b.scrollTop!==b.scrollHeight-b.clientHeight;h=b.scrollTop!==0}if((a<0&&h)||(a>0&&d)){l.stopEvent();b.scrollTop+=a;g.normalGrid.getView().el.dom.scrollTop=b.scrollTop;g.onNormalViewScroll()}}},onLockedViewScroll:function(){var g=this,e=g.lockedGrid.getView(),d=g.normalGrid.getView(),k=d.el.dom,h=e.el.dom,a,b;if(k.scrollTop!==h.scrollTop){k.scrollTop=h.scrollTop;if(g.store.buffered){b=e.el.child("table",true);a=d.el.child("table",true);a.style.position="absolute";a.style.top=b.style.top}}},onNormalViewScroll:function(){var g=this,e=g.lockedGrid.getView(),d=g.normalGrid.getView(),k=d.el.dom,h=e.el.dom,a,b;if(k.scrollTop!==h.scrollTop){h.scrollTop=k.scrollTop;if(g.store.buffered){b=e.el.child("table",true);a=d.el.child("table",true);b.style.position="absolute";b.style.top=a.style.top}}},syncRowHeights:function(){var g=this,a,e=g.lockedGrid.getView(),b=g.normalGrid.getView(),h=e.all.slice(),l=b.all.slice(),d=h.length,k;if(l.length===d){for(a=0;a<d;a++){b.syncRowHeights(h[a],l[a])}k=b.el.dom.scrollTop;b.el.dom.scrollTop=k;e.el.dom.scrollTop=k}},modifyHeaderCt:function(){var a=this;a.lockedGrid.headerCt.getMenuItems=a.getMenuItems(a.lockedGrid.headerCt.getMenuItems,true);a.normalGrid.headerCt.getMenuItems=a.getMenuItems(a.normalGrid.headerCt.getMenuItems,false);a.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.lockedGrid.headerCt.showMenuBy,a.showMenuBy);a.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(a.normalGrid.headerCt.showMenuBy,a.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(b,h){var g=this.getMenu(),d=g.down("#unlockItem"),e=g.down("#lockItem"),a=d.prev();if(h.lockable===false){a.hide();d.hide();e.hide()}else{a.show();d.show();e.show();if(!d.initialConfig.disabled){d.setDisabled(h.lockable===false)}if(!e.initialConfig.disabled){e.setDisabled(!h.isLockable())}}},getMenuItems:function(h,d){var k=this,l=k.unlockText,a=k.lockText,m=Ext.baseCSSPrefix+"hmenu-unlock",b=Ext.baseCSSPrefix+"hmenu-lock",g=Ext.Function.bind(k.onUnlockMenuClick,k),e=Ext.Function.bind(k.onLockMenuClick,k);return function(){var n=h.call(this);n.push("-",{itemId:"unlockItem",cls:m,text:l,handler:g,disabled:!d});n.push({itemId:"lockItem",cls:b,text:a,handler:e,disabled:d});return n}},syncLockedWidth:function(){var g=this,b=g.lockedGrid,e=b.view,d=e.el.dom,k=g.normalGrid,h=b.headerCt.getVisibleGridColumns().length,a=k.headerCt.getVisibleGridColumns().length;Ext.suspendLayouts();if(a){k.show();if(h){if(!b.headerCt.forceFit){delete b.flex;b.setWidth(b.headerCt.getFullWidth())}b.addCls(g.lockedGridCls);b.show()}else{b.getView().refresh();b.hide()}e.el.setStyle(e.getOverflowStyle());g.ignoreMousewheel=e.scrollFlags.y}else{k.hide();d.style.borderBottomWidth="0";b.flex=1;delete b.width;b.removeCls(g.lockedGridCls);b.show();e.el.setStyle(k.view.getOverflowStyle());g.ignoreMousewheel=true}Ext.resumeLayouts(true);return[h,a]},onLockedHeaderAdd:function(){if(!this.ignoreAddLockedColumn){this.syncLockedWidth()}},onLockedHeaderResize:function(){this.syncLockedWidth()},onLockedHeaderHide:function(){this.syncLockedWidth()},onLockedHeaderShow:function(){this.syncLockedWidth()},onLockedHeaderSortChange:function(b,d,a){if(a){this.normalGrid.headerCt.clearOtherSortStates(null,true)}},onNormalHeaderSortChange:function(b,d,a){if(a){this.lockedGrid.headerCt.clearOtherSortStates(null,true)}},lock:function(d,m){var g=this,e=g.normalGrid,b=g.lockedGrid,h=e.headerCt,k=b.headerCt,l,a;d=d||h.getMenu().activeHeader;a=d.ownerCt;if(!d.isLockable()){return}if(d.flex){d.width=d.getWidth();d.flex=null}Ext.suspendLayouts();a.remove(d,false);d.locked=true;g.ignoreAddLockedColumn=true;if(Ext.isDefined(m)){k.insert(m,d)}else{k.add(d)}g.ignoreAddLockedColumn=false;l=g.syncLockedWidth();if(l[0]){b.getView().refresh()}if(l[1]){e.getView().refresh()}Ext.resumeLayouts(true);g.fireEvent("lockcolumn",g,d)},unlock:function(b,g){var e=this,h=e.normalGrid,l=e.lockedGrid,k=h.headerCt,d=l.headerCt,a;if(!Ext.isDefined(g)){g=0}b=b||d.getMenu().activeHeader;Ext.suspendLayouts();b.ownerCt.remove(b,false);b.locked=false;k.insert(g,b);a=e.syncLockedWidth();if(a[0]){l.getView().refresh()}if(a[1]){h.getView().refresh()}Ext.resumeLayouts(true);e.fireEvent("unlockcolumn",e,b)},reconfigureLockable:function(a,b){var d=this,h=d.store,g=d.lockedGrid,e=d.normalGrid;Ext.suspendLayouts();if(b){g.headerCt.removeAll();e.headerCt.removeAll();b=d.processColumns(b);d.ignoreAddLockedColumn=true;g.headerCt.add(b.locked.items);d.ignoreAddLockedColumn=false;e.headerCt.add(b.normal.items);d.syncLockedWidth()}if(a&&a!==h){a=Ext.data.StoreManager.lookup(a);d.store=a;g.bindStore(a);e.bindStore(a)}else{g.getView().refresh();e.getView().refresh()}Ext.resumeLayouts(true)},constructLockableFeatures:function(){var g=this.features,d,e,h,k,b=0,a;if(g){h=[];k=[];a=g.length;for(;b<a;b++){d=g[b];if(!d.isFeature){d=Ext.create("feature."+d.ftype,d)}switch(d.lockableScope){case"locked":h.push(d);break;case"normal":k.push(d);break;default:d.lockableScope="both";h.push(d);k.push(e=d.clone());e.lockingPartner=d;d.lockingPartner=e}}}return{normalFeatures:k,lockedFeatures:h}},constructLockablePlugins:function(){var d=this.plugins,h,b,a,l,m,e,g=0,k;if(d){l=[];m=[];e=[];k=d.length;for(;g<k;g++){h=d[g];switch(h.lockableScope){case"both":m.push(a=h.clonePlugin());e.push(b=h.clonePlugin());a.lockingPartner=b;b.lockingPartner=a;Ext.destroy(h);break;case"locked":m.push(h);break;case"normal":e.push(h);break;default:l.push(h)}}}return{topPlugins:l,normalPlugins:e,lockedPlugins:m}},destroyLockable:function(){Ext.destroy(this.view)}},0,0,0,0,0,0,[Ext.grid.locking,"Lockable",Ext.grid,"Lockable"],function(){this.borrow(Ext.AbstractComponent,["constructPlugin"])}));(Ext.cmd.derive("Ext.grid.plugin.BufferedRenderer",Ext.AbstractPlugin,{lockableScope:"both",percentageFromEdge:0.35,variableRowHeight:false,numFromEdge:8,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:true,scrollToLoadBuffer:200,viewSize:0,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,init:function(d){var e=this,a=d.view,b={scroll:{fn:e.onViewScroll,element:"el",scope:e},boxready:e.onViewResize,resize:e.onViewResize,refresh:e.onViewRefresh,scope:e,destroyable:true};if(!e.variableRowHeight&&d.ownerLockable){d.ownerLockable.syncRowHeight=false}if(d.isTree||d.ownerLockable&&d.ownerLockable.isTree){a.blockRefresh=false;a.loadMask=true}if(a.positionBody){b.refresh=e.onViewRefresh}e.grid=d;e.view=a;a.bufferedRenderer=e;a.preserveScrollOnRefresh=true;e.bindStore(a.dataSource);a.getViewRange=function(){return e.getViewRange()};e.position=0;e.gridListeners=d.on("reconfigure",e.onReconfigure,e);e.viewListeners=a.on(b)},bindStore:function(a){var b=this;if(b.store){b.unbindStore()}b.storeListeners=a.on({scope:b,clear:b.onStoreClear,destroyable:true});b.store=a;if(b.view.componentLayout.layoutCount){b.onViewResize(b.view,0,b.view.getHeight())}},onReconfigure:function(b,a){if(a&&a!==this.store){this.bindStore(a)}},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this;if(a.view.rendered&&!a.store.isDestroyed){if(a.scrollTop!==0){a.ignoreNextScrollEvent=true;a.view.el.dom.scrollTop=a.bodyTop=a.scrollTop=0}a.position=a.scrollHeight=0;a.lastScrollDirection=a.scrollOffset=null;delete a.rowHeight}},onViewRefresh:function(){var d=this,a=d.view,e=d.scrollHeight,b;if(a.all.getCount()){delete d.rowHeight}b=d.getScrollHeight();if(!e||b!=e){d.stretchView(a,b)}if(d.scrollTop!==a.el.dom.scrollTop){d.onViewScroll()}else{d.setBodyTop(d.bodyTop);if(a.all.getCount()){d.viewSize=0;d.onViewResize(a,null,a.getHeight())}}},onViewResize:function(d,g,a,b,k){if(!k||a!==k){var h=this,e;e=Math.ceil(a/h.rowHeight)+h.trailingBufferZone+h.leadingBufferZone;h.viewSize=h.setViewSize(e)}},stretchView:function(b,a){var g=this,e=(g.store.buffered?g.store.getTotalCount():g.store.getCount());if(g.stretcher){g.stretcher.dom.style.marginTop=(a-1)+"px"}else{var d=b.el;if(b.refreshCounter){b.fixedNodes++}if(e&&(g.view.all.endIndex===e-1)){a=g.bodyTop+b.body.dom.offsetHeight}this.stretcher=d.createChild({style:{width:"1px",height:"1px",marginTop:(a-1)+"px",left:0,position:"absolute"}},d.dom.firstChild)}},setViewSize:function(k){if(k!==this.viewSize){this.scrollTop=this.view.el.dom.scrollTop;var g=this,b=g.store,e=g.view.all.getCount(),h,a,d=g.lockingPartner;g.viewSize=b.viewSize=k;if(e){h=g.view.all.startIndex;a=Math.min(h+k-1,(b.buffered?b.getTotalCount():b.getCount())-1);if(d){d.disable()}g.renderRange(h,a);if(d){d.enable()}}}return k},getViewRange:function(){var b=this,d=b.view.all,a=b.store;if(a.data.getCount()){return a.getRange(d.startIndex,d.startIndex+(b.viewSize||b.store.defaultViewSize)-1)}else{return[]}},scrollTo:function(m,d,q,t){var h=this,l=h.view,r=l.el.dom,n=h.store,k=n.buffered?n.getTotalCount():n.getCount(),g,b,e,a,o;m=Math.min(Math.max(m,0),k-1);g=Math.max(Math.min(m-((h.leadingBufferZone+h.trailingBufferZone)/2),k-h.viewSize+1),0);o=g*h.rowHeight;b=Math.min(g+h.viewSize-1,k-1);n.getRange(g,b,{callback:function(w,x,u){h.renderRange(x,u,true);e=n.data.getRange(m,m)[0];a=l.getNode(e,false);l.body.dom.style.top=o+"px";h.position=h.scrollTop=r.scrollTop=o=Math.min(Math.max(0,o-l.body.getOffsetsTo(a)[1]),r.scrollHeight-r.clientHeight);if(Ext.isIE){r.scrollTop=o}if(d){l.selModel.select(e)}if(q){q.call(t||h,m,e)}}})},onViewScroll:function(g,n){var h=this,l=h.store,m=(l.buffered?l.getTotalCount():l.getCount()),d,a,b=h.scrollTop=h.view.el.dom.scrollTop,k=false;if(h.ignoreNextScrollEvent){h.ignoreNextScrollEvent=false;return}if(!(h.disabled||m<h.viewSize)){d=b-h.position;a=d>0?1:-1;if(Math.abs(d)>=20||(a!==h.lastScrollDirection)){h.lastScrollDirection=a;h.handleViewScroll(h.lastScrollDirection);k=true}}if(!k){if(h.lockingPartner&&h.lockingPartner.scrollTop!==b){h.lockingPartner.view.el.dom.scrollTop=b}}},handleViewScroll:function(k){var g=this,h=g.view.all,b=g.store,l=g.viewSize,a=(b.buffered?b.getTotalCount():b.getCount()),e,d;if(k==-1){if(h.startIndex){if((g.getFirstVisibleRowIndex()-h.startIndex)<g.numFromEdge){e=Math.max(0,g.getLastVisibleRowIndex()+g.trailingBufferZone-l)}}}else{if(h.endIndex<a-1){if((h.endIndex-g.getLastVisibleRowIndex())<g.numFromEdge){e=Math.max(0,g.getFirstVisibleRowIndex()-g.trailingBufferZone)}}}if(e!=null){d=Math.min(e+l-1,a-1);if(e!==h.startIndex||d!==h.endIndex){g.renderRange(e,d);return}}if(g.lockingPartner&&g.lockingPartner.view.el&&g.lockingPartner.scrollTop!==g.scrollTop){g.lockingPartner.view.el.dom.scrollTop=g.scrollTop}},renderRange:function(g,a,e){var d=this,b=d.store;if(b.rangeCached(g,a)){d.cancelLoad();if(d.synchronousRender||e){d.onRangeFetched(null,g,a)}else{if(!d.renderTask){d.renderTask=new Ext.util.DelayedTask(d.onRangeFetched,d,null,false)}d.renderTask.delay(1,null,null,[null,g,a])}}else{d.attemptLoad(g,a)}},onRangeFetched:function(k,b,g,d){var m=this,o=m.view,e,r=o.all,a,q=0,h=b*m.rowHeight,n,l=m.lockingPartner;if(o.isDestroyed){return}if(!k){k=m.store.getRange(b,g);if(!k){return}}if(b>r.endIndex||g<r.startIndex){r.clear(true);n=h}if(!r.getCount()){o.doAdd(k,b)}else{if(g>r.endIndex){a=Math.max(b-r.startIndex,0);if(m.variableRowHeight){q=r.item(r.startIndex+a,true).offsetTop}r.scroll(Ext.Array.slice(k,r.endIndex+1-b),1,a,b,g);if(m.variableRowHeight){n=m.bodyTop+q}else{n=h}}else{a=Math.max(r.endIndex-g,0);e=r.startIndex;r.scroll(Ext.Array.slice(k,0,r.startIndex-b),-1,a,b,g);if(m.variableRowHeight){n=m.bodyTop-r.item(e,true).offsetTop}else{n=h}}}m.position=m.scrollTop;if(o.positionBody){m.setBodyTop(n,h)}if(l&&!l.disabled&&!d){l.onRangeFetched(k,b,g,true);if(l.scrollTop!==m.scrollTop){l.view.el.dom.scrollTop=m.scrollTop}}},setBodyTop:function(e,h){var g=this,b=g.view,d=g.store,a=b.body.dom,k;e=Math.floor(e);if(h!==undefined){k=e-h;e=h}a.style.position="absolute";a.style.top=(g.bodyTop=e)+"px";if(k){g.scrollTop=g.position=b.el.dom.scrollTop-=k}if(b.all.endIndex===(d.buffered?d.getTotalCount():d.getCount())-1){g.stretchView(b,g.bodyTop+a.offsetHeight)}},getFirstVisibleRowIndex:function(m,d,b,h){var k=this,l=k.view,o=l.all,a=o.elements,e=l.el.dom.clientHeight,g,n;if(o.getCount()&&k.variableRowHeight){if(!arguments.length){m=o.startIndex;d=o.endIndex;b=k.scrollTop;h=b+e;if(k.bodyTop>h||k.bodyTop+l.body.getHeight()<b){return Math.floor(k.scrollTop/k.rowHeight)}g=m+Math.min(k.numFromEdge+((k.lastScrollDirection==-1)?k.leadingBufferZone:k.trailingBufferZone),Math.floor((d-m)/2))}else{g=m+Math.floor((d-m)/2)}n=k.bodyTop+a[g].offsetTop;if(n+a[g].offsetHeight<b){return k.getFirstVisibleRowIndex(g+1,d,b,h)}if(n<=b){return g}else{if(g!==m){return k.getFirstVisibleRowIndex(m,g-1,b,h)}}}return Math.floor(k.scrollTop/k.rowHeight)},getLastVisibleRowIndex:function(n,d,b,h){var l=this,m=l.view,q=m.all,a=q.elements,e=m.el.dom.clientHeight,g,o,k;if(q.getCount()&&l.variableRowHeight){if(!arguments.length){n=q.startIndex;d=q.endIndex;b=l.scrollTop;h=b+e;if(l.bodyTop>h||l.bodyTop+m.body.getHeight()<b){return Math.floor(l.scrollTop/l.rowHeight)+Math.ceil(e/l.rowHeight)}g=d-Math.min(l.numFromEdge+((l.lastScrollDirection==1)?l.leadingBufferZone:l.trailingBufferZone),Math.floor((d-n)/2))}else{g=n+Math.floor((d-n)/2)}o=l.bodyTop+a[g].offsetTop;if(o>h){return l.getLastVisibleRowIndex(n,g-1,b,h)}k=o+a[g].offsetHeight;if(k>=h){return g}else{if(g!==d){return l.getLastVisibleRowIndex(g+1,d,b,h)}}}return l.getFirstVisibleRowIndex()+Math.ceil(e/l.rowHeight)},getScrollHeight:function(){var e=this,a=e.view,b=e.store,d=!e.hasOwnProperty("rowHeight"),g=e.store.getCount();if(!g){return 0}if(d){if(a.all.getCount()){e.rowHeight=Math.floor(a.body.getHeight()/a.all.getCount())}}return this.scrollHeight=Math.floor((b.buffered?b.getTotalCount():b.getCount())*e.rowHeight)},attemptLoad:function(d,a){var b=this;if(b.scrollToLoadBuffer){if(!b.loadTask){b.loadTask=new Ext.util.DelayedTask(b.doAttemptLoad,b,[])}b.loadTask.delay(b.scrollToLoadBuffer,b.doAttemptLoad,b,[d,a])}else{b.store.getRange(d,a,{callback:b.onRangeFetched,scope:b,fireEvent:false})}},cancelLoad:function(){if(this.loadTask){this.loadTask.cancel()}},doAttemptLoad:function(b,a){this.store.getRange(b,a,{callback:this.onRangeFetched,scope:this,fireEvent:false})},destroy:function(){var b=this,a=b.view;if(a&&a.el){a.el.un("scroll",b.onViewScroll,b)}Ext.destroy(b.viewListeners,b.storeListeners,b.gridListeners)}},0,0,0,0,["plugin.bufferedrenderer"],0,[Ext.grid.plugin,"BufferedRenderer"],0));(Ext.cmd.derive("Ext.grid.plugin.Editing",Ext.AbstractPlugin,{clicksToEdit:2,triggerEvent:undefined,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;b.addEvents("beforeedit","edit","validateedit","canceledit");b.callParent(arguments);b.mixins.observable.constructor.call(b);b.on("edit",function(d,g){b.fireEvent("afteredit",d,g)})},init:function(a){var b=this;b.grid=a;b.view=a.view;b.initEvents();b.mon(a,{reconfigure:b.onReconfigure,scope:b,beforerender:{fn:b.onReconfigure,single:true,scope:b}});a.relayEvents(b,b.relayedEvents);if(b.grid.ownerLockable){b.grid.ownerLockable.relayEvents(b,b.relayedEvents)}a.isEditable=true;a.editingPlugin=a.view.editingPlugin=b},onReconfigure:function(){var a=this.grid;a=a.ownerLockable?a.ownerLockable:a;this.initFieldAccessors(a.getView().getGridColumns())},destroy:function(){var b=this,a=b.grid;Ext.destroy(b.keyNav);b.clearListeners();if(a){b.removeFieldAccessors(a.columnManager.getColumns());a.editingPlugin=a.view.editingPlugin=b.grid=b.view=b.editor=b.keyNav=null}},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else{if(!Ext.isArray(a)){a=[a]}}var d=this,g,e=a.length,b;for(g=0;g<e;g++){b=a[g];if(!b.getEditor){b.getEditor=function(h,k){return d.getColumnField(this,k)}}if(!b.hasEditor){b.hasEditor=function(){return d.hasColumnField(this)}}if(!b.setEditor){b.setEditor=function(h){d.setColumnField(this,h)}}}},removeFieldAccessors:function(a){if(a.isGroupHeader){a=a.getGridColumns()}else{if(!Ext.isArray(a)){a=[a]}}var e,d=a.length,b;for(e=0;e<d;e++){b=a[e];b.getEditor=b.hasEditor=b.setEditor=null}},getColumnField:function(b,a){var d=b.field;if(!(d&&d.isFormField)){d=b.field=this.createColumnField(b,a)}return d},hasColumnField:function(a){return !!a.field},setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(b,a){var d=b.field;if(!d&&b.editor){d=b.editor;b.editor=null}if(!d&&a){d=a}if(d){if(d.isFormField){d.column=b}else{if(Ext.isString(d)){d={name:b.dataIndex,xtype:d,column:b}}else{d=Ext.apply({name:b.dataIndex,column:b},d)}d=Ext.ComponentManager.create(d,this.defaultFieldXType)}b.field=d}return d},initEvents:function(){var a=this;a.initEditTriggers();a.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var b=this,a=b.view;if(b.triggerEvent=="cellfocus"){b.mon(a,"cellfocus",b.onCellFocus,b)}else{if(b.triggerEvent=="rowfocus"){b.mon(a,"rowfocus",b.onRowFocus,b)}else{if(a.getSelectionModel().isCellModel){a.onCellFocus=Ext.Function.bind(b.beforeViewCellFocus,b)}b.mon(a,b.triggerEvent||("cell"+(b.clicksToEdit===1?"click":"dblclick")),b.onCellClick,b)}}b.initAddRemoveHeaderEvents();a.on("render",b.initKeyNavHeaderEvents,b,{single:true})},beforeViewCellFocus:function(a){if(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader)){this.view.focusCell.apply(this.view,arguments)}},onRowFocus:function(a,d,b){this.startEdit(d,0)},onCellFocus:function(d,b,a){this.startEdit(a.row,a.column)},onCellClick:function(d,a,l,b,k,g,h){if(!d.expanderSelector||!h.getTarget(d.expanderSelector)){this.startEdit(b,d.ownerCt.columnManager.getHeaderAtIndex(l))}},initAddRemoveHeaderEvents:function(){var a=this;a.mon(a.grid.headerCt,{scope:a,add:a.onColumnAdd,remove:a.onColumnRemove,columnmove:a.onColumnMove})},initKeyNavHeaderEvents:function(){var a=this;a.keyNav=Ext.create("Ext.util.KeyNav",a.view.el,{enter:a.onEnterKey,esc:a.onEscKey,scope:a})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnRemove:function(a,b){this.removeFieldAccessors(b)},onColumnMove:function(e,b,a,d){this.initFieldAccessors(b)},onEnterKey:function(k){var g=this,d=g.grid,b=d.getSelectionModel(),a,l,h;if(b.getCurrentPosition&&(l=b.getCurrentPosition())){a=l.record;h=l.columnHeader}else{a=b.getLastSelected();h=d.columnManager.getHeaderAtIndex(0)}if(a&&h){g.startEdit(a,h)}},onEscKey:function(a){return this.cancelEdit()},beforeEdit:Ext.emptyFn,startEdit:function(b,g){var e=this,d,a=e.grid.lockable?e.grid:e.view;if(!a.componentLayoutCounter){a.on({boxready:Ext.Function.bind(e.startEdit,e,[b,g]),single:true});return false}if(e.grid.collapsed||!e.grid.view.isVisible(true)){return false}d=e.getEditingContext(b,g);if(d==null){return false}if(!e.preventBeforeCheck){if(e.beforeEdit(d)===false||e.fireEvent("beforeedit",e,d)===false||d.cancel){return false}}e.editing=true;return d},getEditingContext:function(b,h){var g=this,d=g.grid,a=g.view,k=a.getNode(b,true),e,l;if(!k){return}h=d.columnManager.getVisibleHeaderClosestToIndex(Ext.isNumber(h)?h:h.getVisibleIndex());if(!h){return}l=h.getVisibleIndex();if(Ext.isNumber(b)){e=b;b=a.getRecord(k)}else{e=a.indexOf(k)}if(!b){return}return{grid:d,view:a,store:a.dataSource,record:b,field:h.dataIndex,value:b.get(h.dataIndex),row:k,column:h,rowIdx:e,colIdx:l}},cancelEdit:function(){var a=this;a.editing=false;a.fireEvent("canceledit",a,a.context)},completeEdit:function(){var a=this;if(a.editing&&a.validateEdit()){a.fireEvent("edit",a,a.context)}a.context=null;a.editing=false},validateEdit:function(){var b=this,a=b.context;return b.fireEvent("validateedit",b,a)!==false&&!a.cancel}},1,0,0,0,["editing.editing"],[["observable",Ext.util.Observable]],[Ext.grid.plugin,"Editing"],0));(Ext.cmd.derive("Ext.grid.plugin.CellEditing",Ext.grid.plugin.Editing,{lockableScope:"both",init:function(a){var d=this,b=d.lockingPartner;d.callParent(arguments);if(b){if(b.editors){d.editors=b.editors}else{d.editors=b.editors=new Ext.util.MixedCollection(false,function(e){return e.editorId})}}else{d.editors=new Ext.util.MixedCollection(false,function(e){return e.editorId})}},onReconfigure:function(d,a,b){if(b){this.editors.clear()}this.callParent()},destroy:function(){var a=this;if(a.editors){a.editors.each(Ext.destroy,Ext);a.editors.clear()}a.callParent(arguments)},onBodyScroll:function(){var d=this,b=d.getActiveEditor(),a=d.view.el.getScroll();if(b&&b.editing&&b.editingPlugin===d){if(a.top!==d.scroll.top){if(b.field){if(b.field.triggerBlur){b.field.triggerBlur()}else{b.field.blur()}}}else{b.realign()}}d.scroll=a},initCancelTriggers:function(){var d=this,b=d.grid,a=b.view;d.mon(a,"bodyscroll",d.onBodyScroll,d);d.mon(b,{columnresize:d.cancelEdit,columnmove:d.cancelEdit,scope:d})},isCellEditable:function(a,e){var d=this,b=d.getEditingContext(a,e);if(d.grid.view.isVisible(true)&&b){e=b.column;a=b.record;if(e&&d.getEditor(a,e)){return true}}},startEdit:function(a,g,d){var e=this,b;if(!d){e.preventBeforeCheck=true;d=e.callParent(arguments);delete e.preventBeforeCheck;if(d===false){return false}}if(d&&e.grid.view.isVisible(true)){a=d.record;g=d.column;e.completeEdit();if(g&&!g.getEditor(a)){return false}e.context=d;d.originalValue=d.value=a.get(g.dataIndex);if(e.beforeEdit(d)===false||e.fireEvent("beforeedit",e,d)===false||d.cancel){return false}b=e.getEditor(a,g);e.grid.view.cancelFocus();e.view.scrollCellIntoView(e.getCell(a,g));if(b){e.showEditor(b,d,d.value);return true}return false}},showEditor:function(g,a,k){var h=this,e=a.record,d=a.column,b=h.grid.getSelectionModel(),l=b.getCurrentPosition(),m=l&&l.view;if(m&&m!==h.view){return h.lockingPartner.showEditor(g,h.lockingPartner.getEditingContext(l.record,l.columnHeader),k)}h.setEditingContext(a);h.setActiveEditor(g);h.setActiveRecord(e);h.setActiveColumn(d);if(b.selectByPosition&&(!l||l.column!==a.colIdx||l.row!==a.rowIdx)){b.selectByPosition({row:a.rowIdx,column:a.colIdx,view:h.view})}g.startEdit(h.getCell(e,d),k,a);h.editing=true;h.scroll=h.view.el.getScroll()},completeEdit:function(){var a=this.getActiveEditor();if(a){a.completeEdit();this.editing=false}},setEditingContext:function(a){this.context=a;if(this.lockingPartner){this.lockingPartner.context=a}},setActiveEditor:function(a){this.activeEditor=a;if(this.lockingPartner){this.lockingPartner.activeEditor=a}},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;if(this.lockingPartner){this.lockingPartner.activeColumn=a}},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;if(this.lockingPartner){this.lockingPartner.activeRecord=a}},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,g){var k=this,h=k.editors,e=g.getItemId(),d=h.getByKey(e),b=k.grid.ownerLockable||k.grid;if(!d){d=g.getEditor(a);if(!d){return false}if(d instanceof Ext.grid.CellEditor){d.floating=true}else{d=new Ext.grid.CellEditor({floating:true,editorId:e,field:d})}b.add(d);d.on({scope:k,specialkey:k.onSpecialKey,complete:k.onEditComplete,canceledit:k.cancelEdit});g.on("removed",k.cancelActiveEdit,k);h.add(d)}if(g.isTreeColumn){d.isForTree=g.isTreeColumn;d.addCls(Ext.baseCSSPrefix+"tree-cell-editor")}d.grid=k.grid;d.editingPlugin=k;return d},cancelActiveEdit:function(b){var a=this.context;if(a&&a.column===b){this.cancelEdit()}},setColumnField:function(b,d){var a=this.editors.getByKey(b.getItemId());Ext.destroy(a,b.field);this.editors.removeAtKey(b.getItemId());this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,d,b){var g;if(b.getKey()===b.TAB){b.stopEvent();if(a){a.onEditorTab(b)}g=a.up("tablepanel").getSelectionModel();if(g.onEditorTab){return g.onEditorTab(a.editingPlugin,b)}}},onEditComplete:function(d,k,b){var h=this,g=h.getActiveColumn(),e=h.context,a;if(g){a=e.record;h.setActiveEditor(null);h.setActiveColumn(null);h.setActiveRecord(null);e.value=k;if(!h.validateEdit()){return}if(!a.isEqual(k,b)){a.set(g.dataIndex,k)}e.view.focus(false,true);h.fireEvent("edit",h,e);h.editing=false}},cancelEdit:function(){var b=this,a=b.getActiveEditor();b.setActiveEditor(null);b.setActiveColumn(null);b.setActiveRecord(null);if(a){a.cancelEdit();b.context.view.focus();b.callParent(arguments);return}return true},startEditByPosition:function(a){if(!a.isCellContext){a=new Ext.grid.CellContext(this.view).setPosition(a)}a.setColumn(this.view.getHeaderCt().getVisibleHeaderClosestToIndex(a.column).getIndex());return this.startEdit(a.record,a.columnHeader)}},0,0,0,0,["plugin.cellediting"],0,[Ext.grid.plugin,"CellEditing"],0));(Ext.cmd.derive("Ext.layout.component.FieldSet",Ext.layout.component.Body,{type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){if(a.target.collapsed){a.heightModel=this.sizeModels.shrinkWrap}},beginLayoutCycle:function(b){var d=b.target,a;this.callParent(arguments);if(d.collapsed){b.setContentHeight(0);b.restoreMinHeight=d.minHeight;delete d.minHeight;if(b.widthModel.shrinkWrap){a=d.lastComponentSize;b.setContentWidth((a&&a.contentWidth)||this.defaultCollapsedWidth)}}},finishedLayout:function(d){var a=this.owner,b=d.restoreMinHeight;this.callParent(arguments);if(b){a.minHeight=b}},calculateOwnerHeightFromContentHeight:function(e,d){var a=e.getBorderInfo(),b=e.target.legend;return e.getProp("contentHeight")+e.getPaddingInfo().height+((Ext.isIEQuirks||Ext.isIE8m)?e.bodyContext.getPaddingInfo().top:0)+(b?b.getHeight():a.top)+a.bottom},publishInnerHeight:function(d,a){var b=d.target.legend;if(b){a-=b.getHeight()}this.callParent([d,a])},getLayoutItems:function(){var a=this.owner.legend;return a?[a]:[]}},0,0,0,0,["layout.fieldset"],0,[Ext.layout.component,"FieldSet"],0));(Ext.cmd.derive("Ext.resizer.Splitter",Ext.Component,{childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:false,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,size:5,getTrackerConfig:function(){return{xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this}},beforeRender:function(){var a=this,b=a.getCollapseTarget();a.callParent();if(b.collapsed){a.addCls(a.collapsedClsInternal)}if(!a.canResize){a.addCls(a.baseCls+"-noresize")}Ext.applyIf(a.renderData,{collapseDir:a.getCollapseDirection(),collapsible:a.collapsible||b.collapsible});a.protoEl.unselectable()},onRender:function(){var b=this,a;b.callParent(arguments);if(b.performCollapse!==false){if(b.renderData.collapsible){b.mon(b.collapseEl,"click",b.toggleTargetCmp,b)}if(b.collapseOnDblClick){b.mon(b.el,"dblclick",b.toggleTargetCmp,b)}}b.mon(b.getCollapseTarget(),{collapse:b.onTargetCollapse,expand:b.onTargetExpand,beforeexpand:b.onBeforeTargetExpand,beforecollapse:b.onBeforeTargetCollapse,scope:b});if(b.canResize){b.tracker=Ext.create(b.getTrackerConfig());b.relayEvents(b.tracker,["beforedragstart","dragstart","dragend"])}a=b.collapseEl;if(a){a.lastCollapseDirCls=b.collapseDirProps[b.collapseDirection].cls}},getCollapseDirection:function(){var h=this,d=h.collapseDirection,g,a,b,e;if(!d){g=h.collapseTarget;if(g.isComponent){d=g.collapseDirection}if(!d){e=h.ownerCt.layout.type;if(g.isComponent){b=h.ownerCt.items;a=Number(b.indexOf(g)===b.indexOf(h)-1)<<1|Number(e==="hbox")}else{a=Number(h.collapseTarget==="prev")<<1|Number(e==="hbox")}d=["bottom","right","top","left"][a]}h.collapseDirection=d}h.setOrientation((d==="top"||d==="bottom")?"horizontal":"vertical");return d},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==="prev"?a.previousSibling():a.nextSibling()},setCollapseEl:function(b){var a=this.collapseEl;if(a){a.setDisplayed(b)}},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var d=this,b=d.collapseEl,e=d.collapseDirProps[d.collapseDirection],a;if(b){a=b.lastCollapseDirCls;if(a){b.removeCls(a)}b.addCls(b.lastCollapseDirCls=e.cls)}},applyOrientation:function(){var g=this,d=g.orientation,e=g.orientationProps[d],h=g.size,b=e.fixedAxis,k=e.stretchedAxis,a=g.baseCls+"-";g[d]=true;g[e.opposite]=false;if(!g.hasOwnProperty(b)||g[b]==="100%"){g[b]=h}if(!g.hasOwnProperty(k)||g[k]===h){g[k]="100%"}g.removeCls(a+e.opposite);g.addCls(a+d)},setOrientation:function(a){var b=this;if(b.orientation!==a){b.orientation=a;b.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(g,b){var d=this.getCollapseTarget(),h=d.placeholder,a;if(Ext.isFunction(d.expand)&&Ext.isFunction(d.collapse)){if(h&&!h.hidden){a=true}else{a=!d.hidden}if(a){if(d.collapsed){d.expand()}else{if(d.collapseDirection){d.collapse()}else{d.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var a=this;a.callParent(arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}},0,["splitter"],["component","box","splitter"],{component:true,box:true,splitter:true},["widget.splitter"],0,[Ext.resizer,"Splitter"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitter",Ext.resizer.Splitter,{collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}},0,["bordersplitter"],["component","bordersplitter","box","splitter"],{component:true,bordersplitter:true,box:true,splitter:true},["widget.bordersplitter"],0,[Ext.resizer,"BorderSplitter"],0));(Ext.cmd.derive("Ext.layout.container.Border",Ext.layout.container.Container,{alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzMarginProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(o,b,B){var z=this,d=z.axisProps[B],w=!d.horizontal,n=d.sizeProp,t=0,a=o.childItems,h=a.length,y,u,r,k,x,g,m,q,e,A,l;for(u=0;u<h;++u){r=a[u];x=r.target;r.layoutPos={};if(x.region){r.region=g=x.region;r.isCenter=x.isCenter;r.isHorz=x.isHorz;r.isVert=x.isVert;r.weight=x.weight||z.regionWeights[g]||0;b[x.id]=r;if(x.isCenter){y=r;k=x.flex;o.centerRegion=y;continue}if(w!==r.isVert){continue}r.reverseWeighting=(g==d.borderEnd);q=x[n];e=typeof q;if(!x.collapsed){if(e=="string"&&(m=z.percentageRe.exec(q))){r.percentage=parseInt(m[1],10)}else{if(x.flex){t+=r.flex=x.flex}}}}}if(y){A=y.target;if((l=A.placeholderFor)){if(!k&&w===l.collapsedVertical()){k=0;y.collapseAxis=B}}else{if(A.collapsed&&(w===A.collapsedVertical())){k=0;y.collapseAxis=B}}}if(k==null){k=1}t+=k;return Ext.apply({before:w?"top":"left",totalFlex:t},d)},beginLayout:function(e){var n=this,m=n.getLayoutItems(),g=n.padding,o=typeof g,t=false,u,r,b,k,h,a,d,l,q;if(g){if(o=="string"||o=="number"){g=Ext.util.Format.parseBox(g)}}else{g=e.getEl("getTargetEl").getPaddingInfo();t=true}e.outerPad=g;e.padOnContainer=t;for(k=0,b=m.length;k<b;++k){r=m[k];a=n.getSplitterTarget(r);if(a){d=undefined;l=!!r.hidden;if(!a.split){if(a.isCollapsingOrExpanding){d=!!a.collapsed}}else{if(l!==a.hidden){d=!a.hidden}}if(d){r.show()}else{if(d===false){r.hide()}}}}n.callParent(arguments);m=e.childItems;b=m.length;h={};e.borderAxisHorz=n.beginAxis(e,h,"horz");e.borderAxisVert=n.beginAxis(e,h,"vert");for(k=0;k<b;++k){u=m[k];a=n.getSplitterTarget(u.target);if(a){q=h[a.id];if(!q){q=e.getEl(a.el,n);q.region=a.region}u.collapseTarget=a=q;u.weight=a.weight;u.reverseWeighting=a.reverseWeighting;a.splitter=u;u.isHorz=a.isHorz;u.isVert=a.isVert}}n.sortWeightedItems(m,"reverseWeighting");n.setupSplitterNeighbors(m)},calculate:function(e){var o=this,a=o.getContainerSize(e),l=e.childItems,d=l.length,b=e.borderAxisHorz,m=e.borderAxisVert,g=e.outerPad,r=e.padOnContainer,k,u,n,t,q,h;b.begin=g[o.padOnContainerProp];m.begin=g.top;q=b.end=b.flexSpace=a.width+(r?g[o.padOnContainerProp]:-g[o.padNotOnContainerProp]);h=m.end=m.flexSpace=a.height+(r?g.top:-g.bottom);for(k=0;k<d;++k){u=l[k];n=u.getMarginInfo();if(u.isHorz||u.isCenter){b.addUnflexed(n.width);q-=n.width}if(u.isVert||u.isCenter){m.addUnflexed(n.height);h-=n.height}if(!u.flex&&!u.percentage){if(u.isHorz||(u.isCenter&&u.collapseAxis==="horz")){t=u.getProp("width");b.addUnflexed(t);if(u.collapseTarget){q-=t}}else{if(u.isVert||(u.isCenter&&u.collapseAxis==="vert")){t=u.getProp("height");m.addUnflexed(t);if(u.collapseTarget){h-=t}}}}}for(k=0;k<d;++k){u=l[k];n=u.getMarginInfo();if(u.percentage){if(u.isHorz){t=Math.ceil(q*u.percentage/100);t=u.setWidth(t);b.addUnflexed(t)}else{if(u.isVert){t=Math.ceil(h*u.percentage/100);t=u.setHeight(t);m.addUnflexed(t)}}}}for(k=0;k<d;++k){u=l[k];if(!u.isCenter){o.calculateChildAxis(u,b);o.calculateChildAxis(u,m)}}if(o.finishAxis(e,m)+o.finishAxis(e,b)<2){o.done=false}else{o.finishPositions(l)}},calculateChildAxis:function(o,d){var a=o.collapseTarget,k="set"+d.sizePropCap,g=d.sizeProp,e=o.getMarginInfo()[g],m,b,h,l,n;if(a){m=a.region}else{m=o.region;h=o.flex}b=m==d.borderBegin;if(!b&&m!=d.borderEnd){o[k](d.end-d.begin-e);l=d.begin}else{if(h){n=Math.ceil(d.flexSpace*(h/d.totalFlex));n=o[k](n)}else{if(o.percentage){n=o.peek(g)}else{n=o.getProp(g)}}n+=e;if(b){l=d.begin;d.begin+=n}else{d.end=l=d.end-n}}o.layoutPos[d.posProp]=l},finishAxis:function(e,d){var b=d.end-d.begin,a=e.centerRegion;if(a){a["set"+d.sizePropCap](b-a.getMarginInfo()[d.sizeProp]);a.layoutPos[d.posProp]=d.begin}return Ext.isNumber(b)?1:0},finishPositions:function(g){var d=g.length,b,a,e=this.horzMarginProp;for(b=0;b<d;++b){a=g[b];a.setProp("x",a.layoutPos.x+a.marginInfo[e]);a.setProp("y",a.layoutPos.y+a.marginInfo.top)}},getLayoutItems:function(){var a=this.owner,g=(a&&a.items&&a.items.items)||[],e=g.length,b=[],d=0,h,k;for(;d<e;d++){h=g[d];k=h.placeholderFor;if(h.hidden||((!h.floated||h.isCollapsingOrExpanding===2)&&!(k&&k.isCollapsingOrExpanding===2))){b.push(h)}}return b},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getSplitterTarget:function(b){var a=b.collapseTarget;if(a&&a.collapsed){return a.placeholder||a}return a},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},insertSplitter:function(e,d,h,b){var k=e.region,g=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:h,canResize:e.splitterResize!==false,splitterFor:e},b),a=d+((k==="south"||k==="east")?0:1);if(e.collapseMode==="mini"){g.collapsedCls=e.collapsedCls}e.splitter=this.owner.add(a,g)},onAdd:function(g,b){var e=this,l=g.placeholderFor,k=g.region,d,h,a;e.callParent(arguments);if(k){Ext.apply(g,e.regionFlags[k]);if(g.initBorderRegion){g.initBorderRegion()}if(k==="center"){e.centerRegion=g}else{d=g.split;h=!!g.hidden;if(typeof d==="object"){a=d;d=true}if((g.isHorz||g.isVert)&&(d||g.collapseMode=="mini")){e.insertSplitter(g,b,h||!d,a)}}if(!g.hasOwnProperty("collapseMode")){g.collapseMode=e.panelCollapseMode}if(!g.hasOwnProperty("animCollapse")){if(g.collapseMode!=="placeholder"){g.animCollapse=false}else{g.animCollapse=e.panelCollapseAnimate}}}else{if(l){Ext.apply(g,e.regionFlags[l.region]);g.region=l.region;g.weight=l.weight}}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(b){var a=this,e=b.region,d=b.splitter;if(e){if(b.isCenter){a.centerRegion=null}delete b.isCenter;delete b.isHorz;delete b.isVert;if(d){a.owner.doRemove(d,true);delete b.splitter}}a.callParent(arguments)},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(n){var r={},g=n.length,q=this.touchedRegions,k,h,a,m,e,l,o,b,d;for(k=0;k<g;++k){l=n[k].target;o=l.region;if(l.isCenter){a=l}else{if(o){d=q[o];for(h=0,m=d.length;h<m;++h){e=r[d[h]];if(e){e.neighbors.push(l)}}if(l.placeholderFor){b=l.placeholderFor.splitter}else{b=l.splitter}if(b){b.neighbors=[]}r[o]=b}}}if(a){d=q.center;for(h=0,m=d.length;h<m;++h){e=r[d[h]];if(e){e.neighbors.push(a)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(g){var e=this,a=this.sizePolicies,d,b,h,k;if(g.isCenter){k=g.placeholderFor;if(k){if(k.collapsedVertical()){return a.vert}return a.horz}if(g.collapsed){if(g.collapsedVertical()){return a.vert}return a.horz}return a.flexAll}d=g.collapseTarget;if(d){return d.isVert?a.vert:a.horz}if(g.region){if(g.isVert){b=g.height;h=a.vert}else{b=g.width;h=a.horz}if(g.flex||(typeof b=="string"&&e.percentageRe.test(b))){return a.flexAll}return h}return e.autoSizePolicy}},0,0,0,0,["layout.border"],0,[Ext.layout.container,"Border",Ext.layout,"BorderLayout"],function(){var a={addUnflexed:function(d){this.flexSpace=Math.max(this.flexSpace-d,0)}},b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)}));Ext.define("ExtThemeNeptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});(Ext.cmd.derive("Ext.layout.container.Card",Ext.layout.container.Fit,{alternateClassName:"Ext.layout.CardLayout",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var a=this,b=a.getActiveItem();if(b){if(b.hasListeners.beforeactivate&&b.fireEvent("beforeactivate",b)===false){b=a.activeItem=a.owner.activeItem=null}else{if(b.hasListeners.activate){b.on({boxready:function(){b.fireEvent("activate",b)},single:true})}}if(a.deferredRender){if(b){return a.getItemsRenderTree([b])}}else{return a.callParent(arguments)}}},renderChildren:function(){var a=this,b=a.getActiveItem();if(!a.deferredRender){a.callParent()}else{if(b){a.renderItems([b],a.getRenderTarget())}}},isValidParent:function(d,e,a){var b=d.el?d.el.dom:Ext.getDom(d);return(b&&b.parentNode===(e.dom||e))||false},getActiveItem:function(){var b=this,a=b.parseActiveItem(b.activeItem||(b.owner&&b.owner.activeItem));if(a&&b.owner.items.indexOf(a)!=-1){b.activeItem=a}else{b.activeItem=null}return b.activeItem},parseActiveItem:function(a){if(a&&a.isComponent){return a}else{if(typeof a=="number"||a===undefined){return this.getLayoutItems()[a||0]}else{return this.owner.getComponent(a)}}},configureItem:function(a){if(a===this.getActiveItem()){a.hidden=false}else{a.hidden=true}this.callParent(arguments)},onRemove:function(a){var b=this;if(a===b.activeItem){b.activeItem=null}},getAnimation:function(b,a){var d=(b||{}).cardSwitchAnimation;if(d===false){return false}return d||a.cardSwitchAnimation},getNext:function(){var d=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b+1]||(d?a[0]:false)},next:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getNext(a),b)},getPrev:function(){var d=arguments[0],a=this.getLayoutItems(),b=Ext.Array.indexOf(a,this.activeItem);return a[b-1]||(d?a[a.length-1]:false)},prev:function(){var b=arguments[0],a=arguments[1];return this.setActiveItem(this.getPrev(a),b)},setActiveItem:function(b){var g=this,a=g.owner,e=g.activeItem,h=a.rendered,d;b=g.parseActiveItem(b);d=a.items.indexOf(b);if(d==-1){d=a.items.items.length;Ext.suspendLayouts();b=a.add(b);Ext.resumeLayouts()}if(b&&e!=b){if(b.fireEvent("beforeactivate",b,e)===false){return false}if(e&&e.fireEvent("beforedeactivate",e,b)===false){return false}if(h){Ext.suspendLayouts();if(!b.rendered){g.renderItem(b,g.getRenderTarget(),a.items.length)}if(e){if(g.hideInactive){e.hide();e.hiddenByLayout=true}e.fireEvent("deactivate",e,b)}if(b.hidden){b.show()}if(!b.hidden){g.activeItem=b}Ext.resumeLayouts(true)}else{g.activeItem=b}b.fireEvent("activate",b,e);return g.activeItem}return false}},0,0,0,0,["layout.card"],0,[Ext.layout.container,"Card",Ext.layout,"CardLayout"],0));(Ext.cmd.derive("Ext.layout.container.Column",Ext.layout.container.Auto,{alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:true,manageOverflow:true,isItemShrinkWrap:function(a){return true},getItemSizePolicy:function(a,b){if(a.columnWidth){if(!b){b=this.owner.getSizeModel()}if(!b.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(e,a){var r=this,g=e.targetContext,q=e.childItems,n=q.length,b=0,h=a.gotWidth,l,t,k,d,m,o;if(h===false){g.domBlock(r,"width");l=true}else{if(h){t=a.width}else{return true}}for(k=0;k<n;++k){d=q[k];m=d.getMarginInfo().width;if(!d.widthModel.calculated){o=d.getProp("width");if(typeof o!="number"){d.block(r,"width");l=true}b+=o+m}}if(!l){t=(t<b)?0:t-b;for(k=0;k<n;++k){d=q[k];if(d.widthModel.calculated){m=d.marginInfo.width;o=d.target.columnWidth;o=Math.floor(o*t)-m;o=d.setWidth(o);b+=o+m}}e.setContentWidth(b+e.paddingContext.getPaddingInfo().width)}return !l},setCtSizeIfNeeded:function(b,e){var a=this,d=b.paddingContext.getPaddingInfo();a.callParent(arguments);if((Ext.isIEQuirks||Ext.isIE7m)&&a.isShrinkWrapTpl&&d.right){b.outerCtContext.setProp("width",e.width+d.left)}}},0,0,0,0,["layout.column"],0,[Ext.layout.container,"Column",Ext.layout,"ColumnLayout"],0));(Ext.cmd.derive("Ext.menu.Item",Ext.Component,{alternateClassName:"Ext.menu.TextItem",activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,isMenuItem:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:['<tpl if="plain">',"{text}","<tpl else>",'<a id="{id}-itemEl"',' class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}"',' href="{href}"','<tpl if="hrefTarget"> target="{hrefTarget}"</tpl>',' hidefocus="true"',' unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text" unselectable="on">{text}</span>','<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}','{childElCls}"/>',"</a>","</tpl>"],maskOnDisable:false,activate:function(){var a=this;if(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible()){a.el.addCls(a.activeCls);a.focus();a.activated=true;a.fireEvent("activate",a)}},getFocusEl:function(){return this.itemEl},deactivate:function(){var a=this;if(a.activated){a.el.removeCls(a.activeCls);a.blur();a.hideMenu();a.activated=false;a.fireEvent("deactivate",a)}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");if(a){a.focus()}}},expandMenu:function(a){var b=this;if(b.menu){b.cancelDeferHide();if(a===0){b.doExpandMenu()}else{clearTimeout(b.expandMenuTimer);b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)}}},doExpandMenu:function(){var a=this,b=a.menu;if(a.activated&&(!b.rendered||!b.isVisible())){a.parentMenu.activeChild=b;b.parentItem=a;b.parentMenu=a.parentMenu;b.showBy(a,a.menuAlign)}},getRefItems:function(a){var d=this.menu,b;if(d){b=d.getRefItems(a);b.unshift(d)}return b||[]},hideMenu:function(a){var b=this;if(b.menu){clearTimeout(b.expandMenuTimer);b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b)}},initComponent:function(){var b=this,d=Ext.baseCSSPrefix,a=[d+"menu-item"],e;b.addEvents("activate","click","deactivate","textchange","iconchange");if(b.plain){a.push(d+"menu-item-plain")}if(b.cls){a.push(b.cls)}b.cls=a.join(" ");if(b.menu){e=b.menu;delete b.menu;b.setMenu(e)}b.callParent(arguments)},onClick:function(d){var b=this,a=b.clickHideDelay;if(!b.href){d.stopEvent()}if(b.disabled){return}if(b.hideOnClick){if(!a){b.deferHideParentMenus()}else{b.deferHideParentMenusTimer=Ext.defer(b.deferHideParentMenus,a,b)}}Ext.callback(b.handler,b.scope||b,[b,d]);b.fireEvent("click",b,d);if(!b.hideOnClick){b.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}a.callParent(arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var e=this,k=Ext.BLANK_IMAGE_URL,d=e.glyph,h=Ext._glyphFontFamily,b,a,g;e.callParent();if(e.iconAlign==="right"){a=e.checkChangeDisabled?e.disabledCls:"";g=Ext.baseCSSPrefix+"menu-item-icon-right "+e.iconCls}else{a=(e.iconCls||"")+(e.checkChangeDisabled?" "+e.disabledCls:"");g=e.menu?e.arrowCls:""}if(typeof d==="string"){b=d.split("@");d=b[0];h=b[1]}Ext.applyIf(e.renderData,{href:e.href||"#",hrefTarget:e.hrefTarget,icon:e.icon,iconCls:a,glyph:d,glyphCls:d?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:h,hasIcon:!!(e.icon||e.iconCls||d),iconAlign:e.iconAlign,plain:e.plain,text:e.text,arrowCls:g,blank:k,tabIndex:e.tabIndex})},onRender:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.setTooltip(a.tooltip,true)}},setMenu:function(g,e){var d=this,b=d.menu,a=d.arrowEl;if(b){delete b.parentItem;delete b.parentMenu;delete b.ownerItem;if(e===true||(e!==false&&d.destroyMenu)){Ext.destroy(b)}}if(g){d.menu=Ext.menu.Manager.get(g);d.menu.ownerItem=d}else{d.menu=null}if(d.rendered&&!d.destroying&&a){a[d.menu?"addCls":"removeCls"](d.arrowCls)}},setHandler:function(b,a){this.handler=b||null;this.scope=a},setIcon:function(b){var a=this.iconEl,d=this.icon;if(a){a.src=b||Ext.BLANK_IMAGE_URL}this.icon=b;this.fireEvent("iconchange",this,d,b)},setIconCls:function(b){var e=this,a=e.iconEl,d=e.iconCls;if(a){if(e.iconCls){a.removeCls(e.iconCls)}if(b){a.addCls(b)}}e.iconCls=b;e.fireEvent("iconchange",e,d,b)},setText:function(e){var d=this,b=d.textEl||d.el,a=d.text;d.text=e;if(d.rendered){b.update(e||"");d.ownerCt.updateLayout()}d.fireEvent("textchange",d,a,e)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(d,a){var b=this;if(b.rendered){if(!a){b.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(d)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.itemEl.id},d));b.tooltip=d}else{b.itemEl.dom.setAttribute(b.getTipAttr(),d)}}else{b.tooltip=d}return b}},0,["menuitem"],["component","box","menuitem"],{component:true,box:true,menuitem:true},["widget.menuitem"],[["queryable",Ext.Queryable]],[Ext.menu,"Item",Ext.menu,"TextItem"],0));(Ext.cmd.derive("Ext.menu.CheckItem",Ext.menu.Item,{checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,childEls:["itemEl","iconEl","textEl","checkEl"],showCheckbox:true,renderTpl:['<tpl if="plain">',"{text}","<tpl else>","{%var showCheckbox = values.showCheckbox,",'      rightCheckbox = showCheckbox && values.hasIcon && (values.iconAlign !== "left"), textCls = rightCheckbox ? "'+Ext.baseCSSPrefix+'right-check-item-text" : "";%}','<a id="{id}-itemEl" class="'+Ext.baseCSSPrefix+'menu-item-link{childElCls}" href="{href}" <tpl if="hrefTarget">target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"','<tpl if="tabIndex">',' tabIndex="{tabIndex}"',"</tpl>",">",'{%if (values.hasIcon && (values.iconAlign !== "left")) {%}','<div role="img" id="{id}-iconEl" class="'+Ext.baseCSSPrefix+"menu-item-icon {iconCls}",'{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl>','<tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>">','<tpl if="glyph">&#{glyph};</tpl>',"</div>","{%} else if (showCheckbox){%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon{childElCls}" />',"{%}%}",'<span id="{id}-textEl" class="'+Ext.baseCSSPrefix+'menu-item-text {[textCls]}{childElCls}" <tpl if="arrowCls">style="margin-right: 17px;"</tpl> >{text}</span>',"{%if (rightCheckbox) {%}",'<img id="{id}-checkEl" src="{blank}" class="'+Ext.baseCSSPrefix+'menu-item-icon-right{childElCls}" />',"{%} else if (values.arrowCls) {%}",'<img id="{id}-arrowEl" src="{blank}" class="{arrowCls}{childElCls}"/>',"{%}%}","</a>","</tpl>"],initComponent:function(){var a=this;a.checked=!!a.checked;a.addEvents("beforecheckchange","checkchange");a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){a.showCheckbox=false;if(!(a.iconCls||a.icon||a.glyph)){a.iconCls=a.groupCls}if(a.initialConfig.hideOnClick!==false){a.hideOnClick=true}}},beforeRender:function(){this.callParent();this.renderData.showCheckbox=this.showCheckbox},afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.addCls(b.disabledCls)}if(!(Ext.isIE10p||(Ext.isIE9&&Ext.isStrict))&&b.rendered){b.el.repaint()}b.checkChangeDisabled=true},enableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.removeCls(b.disabledCls)}b.checkChangeDisabled=false},onClick:function(b){var a=this;if(!a.disabled&&!a.checkChangeDisabled&&!(a.checked&&a.group)){a.setChecked(!a.checked)}this.callParent([b])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(d,a){var b=this;if(b.checked!==d&&(a||b.fireEvent("beforecheckchange",b,d)!==false)){if(b.el){b.el[d?"addCls":"removeCls"](b.checkedCls)[!d?"addCls":"removeCls"](b.uncheckedCls)}b.checked=d;Ext.menu.Manager.onCheckChange(b,d);if(!a){Ext.callback(b.checkHandler,b.scope,[b,d]);b.fireEvent("checkchange",b,d)}}}},0,["menucheckitem"],["component","box","menucheckitem","menuitem"],{component:true,box:true,menucheckitem:true,menuitem:true},["widget.menucheckitem"],0,[Ext.menu,"CheckItem"],0));(Ext.cmd.derive("Ext.menu.KeyNav",Ext.util.KeyNav,{constructor:function(a){var b=this;b.menu=a.target;b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(b){var a=this,d=a.menu.focusedItem;if(d&&b.getKey()==Ext.EventObject.DOWN&&a.isWhitelisted(d)){return true}a.focusNextItem(1)},enter:function(b){var d=this.menu,a=d.focusedItem;if(d.activeItem){d.onClick(b)}else{if(a&&a.isFormField){return true}}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(b){var a=this.menu,g=a.items,k=a.focusedItem,h=k?g.indexOf(k):-1,l=h+b,e=g.length,d=0,m;while(d<e&&l!==h){if(l<0){l=e-1}else{if(l>=e){l=0}}m=g.getAt(l);if(a.canActivateItem(m)){a.setActiveItem(m);break}l+=b;++d}},isWhitelisted:function(a){return Ext.FocusManager.isWhitelisted(a)},left:function(a){var b=this.menu,d=b.focusedItem;if(d&&this.isWhitelisted(d)){return true}b.hide();if(b.parentMenu){b.parentMenu.focus()}},right:function(d){var g=this.menu,h=g.focusedItem,a=g.activeItem,b;if(h&&this.isWhitelisted(h)){return true}if(a){b=g.activeItem.menu;if(b){a.expandMenu(0);b.setActiveItem(b.child(":focusable"))}}},tab:function(b){var a=this;if(b.shiftKey){a.up(b)}else{a.down(b)}},up:function(b){var a=this,d=a.menu.focusedItem;if(d&&b.getKey()==Ext.EventObject.UP&&a.isWhitelisted(d)){return true}a.focusNextItem(-1)}},1,0,0,0,0,0,[Ext.menu,"KeyNav"],0));(Ext.cmd.derive("Ext.menu.Separator",Ext.menu.Item,{canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",beforeRender:function(a,d){var b=this;b.callParent();b.addCls(b.separatorCls)}},0,["menuseparator"],["component","menuseparator","box","menuitem"],{component:true,menuseparator:true,box:true,menuitem:true},["widget.menuseparator"],0,[Ext.menu,"Separator"],0));(Ext.cmd.derive("Ext.menu.Menu",Ext.panel.Panel,{enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,initComponent:function(){var b=this,e=Ext.baseCSSPrefix,a=[e+"menu"],d=b.bodyCls?[b.bodyCls]:[],g=b.floating!==false;b.addEvents("click","mouseenter","mouseleave","mouseover");Ext.menu.Manager.register(b);if(b.plain){a.push(e+"menu-plain")}b.cls=a.join(" ");d.push(e+"menu-body",Ext.dom.Element.unselectableCls);b.bodyCls=d.join(" ");if(!b.layout){b.layout={type:"vbox",align:"stretchmax",overflowHandler:"Scroller"}}if(g){if(b.minWidth===undefined){b.minWidth=b.defaultMinWidth}}else{b.hidden=!!b.initialConfig.hidden;b.constrain=false}b.callParent(arguments)},registerWithOwnerCt:function(){if(this.floating){this.ownerCt=null;Ext.WindowManager.register(this)}},initHierarchyEvents:Ext.emptyFn,isVisible:function(){return this.callParent()},getHierarchyState:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var a=this;a.callParent(arguments);if(a.showSeparator){a.iconSepEl=a.layout.getElementTarget().insertFirst({cls:Ext.baseCSSPrefix+"menu-icon-separator",html:"&#160;"})}a.mon(a.el,{click:a.onClick,mouseover:a.onMouseOver,scope:a});a.mouseMonitor=a.el.monitorMouseLeave(100,a.onMouseLeave,a);if(a.enableKeyNav){a.keyNav=new Ext.menu.KeyNav({target:a,keyMap:a.getKeyMap()})}},getRefOwner:function(){return this.parentMenu||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||a.getXTypes().indexOf("menuitem")<0)},deactivateActiveItem:function(b){var d=this,e=d.activeItem,a=d.focusedItem;if(e){e.deactivate();if(!e.activated){delete d.activeItem}}if(a&&b){a.blur();delete d.focusedItem}},getFocusEl:function(){return this.focusedItem||this.el},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(a){return this.getChildByElement(a.getTarget())},lookupComponent:function(b){var a=this;if(typeof b=="string"){b=a.lookupItemFromString(b)}else{if(Ext.isObject(b)){b=a.lookupItemFromObject(b)}}b.minWidth=b.minWidth||a.minWidth;return b},lookupItemFromObject:function(d){var b=this,e=Ext.baseCSSPrefix,a;if(!d.isComponent){if(!d.xtype){d=Ext.create("Ext.menu."+(Ext.isBoolean(d.checked)?"Check":"")+"Item",d)}else{d=Ext.ComponentManager.create(d,d.xtype)}}if(d.isMenuItem){d.parentMenu=b}if(!d.isMenuItem&&!d.dock){a=[e+"menu-item-cmp"];if(!b.plain&&(d.indent!==false||d.iconCls==="no-icon")){a.push(e+"menu-item-indent")}if(d.rendered){d.el.addCls(a)}else{d.cls=(d.cls||"")+" "+a.join(" ")}}return d},lookupItemFromString:function(a){return(a=="separator"||a=="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},onClick:function(d){var b=this,a;if(b.disabled){d.stopEvent();return}a=(d.type==="click")?b.getItemFromEvent(d):b.activeItem;if(a&&a.isMenuItem){if(!a.menu||!b.ignoreParentClicks){a.onClick(d)}else{d.stopEvent()}}if(!a||a.disabled){a=undefined}b.fireEvent("click",b,a,d)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}a.callParent(arguments)},onMouseLeave:function(b){var a=this;a.deactivateActiveItem();if(a.disabled){return}a.fireEvent("mouseleave",a,b)},onMouseOver:function(k){var h=this,l=k.getRelatedTarget(),b=!h.el.contains(l),g=h.getItemFromEvent(k),d=h.parentMenu,a=h.parentItem;if(b&&d){d.setActiveItem(a);a.cancelDeferHide();d.mouseMonitor.mouseenter()}if(h.disabled){return}if(g&&!g.activated){h.setActiveItem(g);if(g.activated&&g.expandMenu){g.expandMenu()}}if(b){h.fireEvent("mouseenter",h,k)}h.fireEvent("mouseover",h,g,k)},setActiveItem:function(b){var a=this;if(b&&(b!=a.activeItem)){a.deactivateActiveItem();if(a.canActivateItem(b)){if(b.activate){b.activate();if(b.activated){a.activeItem=b;a.focusedItem=b;a.focus()}}else{b.focus();a.focusedItem=b}}b.el.scrollIntoView(a.layout.getRenderTarget())}},showBy:function(b,e,d){var a=this;a.callParent(arguments);if(!a.hidden){a.setVerticalPosition()}return a},beforeShow:function(){var b=this,a;if(b.floating){b.savedMaxHeight=b.maxHeight;a=b.container.getViewSize().height;b.maxHeight=Math.min(b.maxHeight||a,a)}b.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}},setVerticalPosition:function(){var e=this,h,g=e.getY(),k=g,m=e.getHeight(),b=Ext.Element.getViewportHeight().height,d=e.el.parent(),a=d.getViewSize().height,l=g-d.getScroll().top;d=null;if(e.floating){h=e.maxHeight?e.maxHeight:a-l;if(m>a){k=g-l}else{if(h<m){k=g-(m-h)}else{if((g+m)>b){k=b-m}}}}e.setY(k)}},0,["menu"],["container","component","box","panel","menu"],{container:true,component:true,box:true,panel:true,menu:true},["widget.menu"],0,[Ext.menu,"Menu"],0));Ext.define("ExtThemeNeptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("ExtThemeNeptune.menu.Separator",{override:"Ext.menu.Separator",border:true});(Ext.cmd.derive("Ext.panel.Tool",Ext.Component,{isTool:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img role="presentation" id="{id}-toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,height:15,width:15,initComponent:function(){var a=this;a.addEvents("click");a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent()},afterRender:function(){var b=this,a;b.callParent(arguments);b.el.on({click:b.onClick,mousedown:b.onMouseDown,mouseover:b.onMouseOver,mouseout:b.onMouseOut,scope:b});if(b.tooltip){if(Ext.quickTipsActive&&Ext.isObject(b.tooltip)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.id},b.tooltip))}else{a=b.tooltipType=="qtip"?"data-qtip":"title";b.el.dom.setAttribute(a,b.tooltip)}}},getFocusEl:function(){return this.el},setType:function(a){var b=this,d=b.type;b.type=a;if(b.rendered){if(d){b.toolEl.removeCls(b.baseCls+"-"+d)}b.toolEl.addCls(b.baseCls+"-"+a)}else{b.renderData.type=a}return b},onClick:function(d,b){var a=this;if(a.disabled){return false}a.el.removeCls(a.toolPressedCls);a.el.removeCls(a.toolOverCls);if(a.stopEvent!==false){d.stopEvent()}if(a.handler){Ext.callback(a.handler,a.scope||a,[d,b,a.ownerCt,a])}else{if(a.callback){Ext.callback(a.callback,a.scope||a,[a.toolOwner||a.ownerCt,a,d])}}a.fireEvent("click",a,d);return true},onDestroy:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.id)}this.callParent()},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}},0,["tool"],["component","box","tool"],{component:true,box:true,tool:true},["widget.tool"],0,[Ext.panel,"Tool"],0));Ext.define("ExtThemeNeptune.panel.Tool",{override:"Ext.panel.Tool",height:16,width:16});(Ext.cmd.derive("Ext.resizer.SplitterTracker",Ext.dd.DragTracker,{enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.Element.getViewWidth(true),Ext.Element.getViewHeight(true));a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(l){var g=this,h=g.getPrevCmp(),a=g.getNextCmp(),d=g.getSplitter().collapseEl,k=l.getTarget(),b;if(!h||!a){return false}if(d&&k===g.getSplitter().collapseEl.dom){return false}if(a.collapsed||h.collapsed){return false}g.prevBox=h.getEl().getBox();g.nextBox=a.getEl().getBox();g.constrainTo=b=g.calculateConstrainRegion();if(!b){return false}return b},onStart:function(b){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var k=this,a=k.getSplitter(),l=a.getWidth(),m=a.defaultSplitMin,b=a.orientation,g=k.prevBox,n=k.getPrevCmp(),d=k.nextBox,h=k.getNextCmp(),q,o,e;if(b==="vertical"){e={prevCmp:n,nextCmp:h,prevBox:g,nextBox:d,defaultMin:m,splitWidth:l};q=new Ext.util.Region(g.y,k.getVertPrevConstrainRight(e),g.bottom,k.getVertPrevConstrainLeft(e));o=new Ext.util.Region(d.y,k.getVertNextConstrainRight(e),d.bottom,k.getVertNextConstrainLeft(e))}else{q=new Ext.util.Region(g.y+(n.minHeight||m),g.right,(n.maxHeight?g.y+n.maxHeight:d.bottom-(h.minHeight||m))+l,g.x);o=new Ext.util.Region((h.maxHeight?d.bottom-h.maxHeight:g.y+(n.minHeight||m))-l,d.right,d.bottom-(h.minHeight||m),d.x)}return q.intersect(o)},performResize:function(q,k){var t=this,a=t.getSplitter(),l=a.orientation,u=t.getPrevCmp(),r=t.getNextCmp(),b=a.ownerCt,n=b.query(">[flex]"),o=n.length,d=l==="vertical",m=0,h=d?"width":"height",g=0,w,x;for(;m<o;m++){w=n[m];x=d?w.getWidth():w.getHeight();g+=x;w.flex=x}k=d?k[0]:k[1];if(u){x=t.prevBox[h]+k;if(u.flex){u.flex=x}else{u[h]=x}}if(r){x=t.nextBox[h]-k;if(r.flex){r.flex=x}else{r[h]=x}}b.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.remove();delete a.overlay}a.callParent(arguments)},onEnd:function(d){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+"-active");a.performResize(d,a.getResizeOffset())},onDrag:function(h){var d=this,k=d.getOffset("dragTarget"),g=d.getSplitter(),b=g.getEl(),a=g.orientation;if(a==="vertical"){b.setX(d.startRegion.left+k[0])}else{b.setY(d.startRegion.top+k[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}},0,0,0,0,0,0,[Ext.resizer,"SplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.BorderSplitterTracker",Ext.resizer.SplitterTracker,{getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var D=this,a=D.splitter,r=a.collapseTarget,e=a.defaultSplitMin,k=a.vertical?"Width":"Height",d="min"+k,z="max"+k,l="get"+k,y=a.neighbors,g=y.length,q=r.el.getBox(),h=q.x,t=q.y,C=q.right,m=q.bottom,w=a.vertical?(C-h):(m-t),B,n,o,A,x,u,b;o=(r[d]||Math.min(w,e))-w;A=r[z];if(!A){A=1000000000}else{A-=w}b=w;for(B=0;B<g;++B){n=y[B];w=n[l]();x=w-n[z];u=w-(n[d]||Math.min(w,e));if(!isNaN(x)){if(o<x){o=x}}if(A>u){A=u}}if(A-o<2){return null}q=new Ext.util.Region(t,C,m,h);D.constraintAdjusters[D.getCollapseDirection()](q,o,A,a);D.dragInfo={minRange:o,maxRange:A,targetSize:b};return q},constraintAdjusters:{left:function(d,a,b,e){d[0]=d.x=d.left=d.right+a;d.right+=b+e.getWidth()},top:function(d,a,b,e){d[1]=d.y=d.top=d.bottom+a;d.bottom+=b+e.getHeight()},bottom:function(d,a,b,e){d.bottom=d.top-a;d.top-=b+e.getHeight()},right:function(d,a,b,e){d.right=d.left-a;d[0]=d.x=d.left=d.x-b+e.getWidth()}},onBeforeStart:function(k){var m=this,b=m.splitter,a=b.collapseTarget,o=b.neighbors,g=m.getSplitter().collapseEl,l=k.getTarget(),d=o.length,h,n;if(g&&l===b.collapseEl.dom){return false}if(a.collapsed){return false}for(h=0;h<d;++h){n=o[h];if(n.collapsed&&n.isHorz===a.isHorz){return false}}if(!(m.constrainTo=m.calculateConstrainRegion())){return false}return true},performResize:function(m,l){var n=this,b=n.splitter,k=b.getCollapseDirection(),a=b.collapseTarget,h=n.splitAdjusters[b.vertical?"horz":"vert"],o=l[h.index],g=n.dragInfo,d;if(k=="right"||k=="bottom"){o=-o}o=Math.min(Math.max(g.minRange,o),g.maxRange);if(o){(d=b.ownerCt).suspendLayouts();h.adjustTarget(a,g.targetSize,o);d.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(b,a,d){b.flex=null;b.setSize(a+d)}},vert:{index:1,adjustTarget:function(b,a,d){b.flex=null;b.setSize(undefined,a+d)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}},0,0,0,0,0,0,[Ext.resizer,"BorderSplitterTracker"],0));(Ext.cmd.derive("Ext.resizer.ResizeTracker",Ext.dd.DragTracker,{dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(b){var e=this,d,a,g;if(!b.el){if(b.target.isComponent){e.el=b.target.getEl()}else{e.el=b.target}}this.callParent(arguments);if(e.preserveRatio&&e.minWidth&&e.minHeight){d=e.minWidth/e.el.getWidth();a=e.minHeight/e.el.getHeight();if(a>d){e.minWidth=e.el.getWidth()*a}else{e.minHeight=e.el.getHeight()*d}}if(e.throttle){g=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments)},e.throttle);e.resize=function(k,l,h){if(h){Ext.resizer.ResizeTracker.prototype.resize.apply(e,arguments)}else{g.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getDynamicTarget:function(){var a=this,b=a.target;if(a.dynamic){return b}else{if(!a.proxy){a.proxy=a.createProxy(b)}}a.proxy.show();return a.proxy},createProxy:function(d){var b,a=this.proxyCls;if(d.isComponent){b=d.getProxy().addCls(a)}else{b=d.createProxy({tag:"div",cls:a,id:d.id+"-rzproxy"},Ext.getBody())}b.removeCls(Ext.baseCSSPrefix+"proxy-el");return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox,{horizontal:"none",vertical:"none"})}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(y,q){var z=this,d=z.activeResizeHandle.region,h=z.getOffset(z.constrainTo?"dragTarget":null),n=z.startBox,k,u=0,A=0,m,w,a=0,C=0,B,r=h[0]<0?"right":"left",x=h[1]<0?"down":"up",l,b,g,t,o;d=z.convertRegionName(d);switch(d){case"south":A=h[1];b=2;break;case"north":A=-h[1];C=-A;b=2;break;case"east":u=h[0];b=1;break;case"west":u=-h[0];a=-u;b=1;break;case"northeast":A=-h[1];C=-A;u=h[0];l=[n.x,n.y+n.height];b=3;break;case"southeast":A=h[1];u=h[0];l=[n.x,n.y];b=3;break;case"southwest":u=-h[0];a=-u;A=h[1];l=[n.x+n.width,n.y];b=3;break;case"northwest":A=-h[1];C=-A;u=-h[0];a=-u;l=[n.x+n.width,n.y+n.height];b=3;break}g={width:n.width+u,height:n.height+A,x:n.x+a,y:n.y+C};m=Ext.Number.snap(g.width,z.widthIncrement);w=Ext.Number.snap(g.height,z.heightIncrement);if(m!=g.width||w!=g.height){switch(d){case"northeast":g.y-=w-g.height;break;case"north":g.y-=w-g.height;break;case"southwest":g.x-=m-g.width;break;case"west":g.x-=m-g.width;break;case"northwest":g.x-=m-g.width;g.y-=w-g.height}g.width=m;g.height=w}if(g.width<z.minWidth||g.width>z.maxWidth){g.width=Ext.Number.constrain(g.width,z.minWidth,z.maxWidth);if(a){g.x=n.x+(n.width-g.width)}}else{z.lastX=g.x}if(g.height<z.minHeight||g.height>z.maxHeight){g.height=Ext.Number.constrain(g.height,z.minHeight,z.maxHeight);if(C){g.y=n.y+(n.height-g.height)}}else{z.lastY=g.y}if(z.preserveRatio||y.shiftKey){k=z.startBox.width/z.startBox.height;t=Math.min(Math.max(z.minHeight,g.width/k),z.maxHeight);o=Math.min(Math.max(z.minWidth,g.height*k),z.maxWidth);if(b==1){g.height=t}else{if(b==2){g.width=o}else{B=Math.abs(l[0]-this.lastXY[0])/Math.abs(l[1]-this.lastXY[1]);if(B>k){g.height=t}else{g.width=o}if(d=="northeast"){g.y=n.y-(g.height-n.height)}else{if(d=="northwest"){g.y=n.y-(g.height-n.height);g.x=n.x-(g.width-n.width)}else{if(d=="southwest"){g.x=n.x-(g.width-n.width)}}}}}}if(A===0){x="none"}if(u===0){r="none"}z.resize(g,{horizontal:r,vertical:x},q)},getResizeTarget:function(a){return a?this.target:this.getDynamicTarget()},resize:function(d,g,a){var b=this,e=b.getResizeTarget(a);e.setBox(d);if(b.originalTarget&&(b.dynamic||a)){b.originalTarget.setBox(d)}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy){this.proxy.hide()}},convertRegionName:function(a){return a}},1,0,0,0,0,0,[Ext.resizer,"ResizeTracker"],0));(Ext.cmd.derive("Ext.resizer.Resizer",Ext.Base,{alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",overCls:Ext.baseCSSPrefix+"resizable-over",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},constructor:function(b){var o=this,l,u,x,w=o.handles,d,t,h,e=0,r,q=[],k,a,g,n,m=Ext.dom.Element.unselectableCls;o.addEvents("beforeresize","resizedrag","resize");if(Ext.isString(b)||Ext.isElement(b)||b.dom){l=b;b=arguments[1]||{};b.target=l}o.mixins.observable.constructor.call(o,b);l=o.target;if(l){if(l.isComponent){l.addClsWithUI("resizable");o.el=l.getEl();if(l.minWidth){o.minWidth=l.minWidth}if(l.minHeight){o.minHeight=l.minHeight}if(l.maxWidth){o.maxWidth=l.maxWidth}if(l.maxHeight){o.maxHeight=l.maxHeight}if(l.floating){if(!o.hasOwnProperty("handles")){o.handles="n ne e se s sw w nw"}}}else{o.el=o.target=Ext.get(l)}}else{o.target=o.el=Ext.get(o.el)}x=o.el.dom.tagName.toUpperCase();if(x=="TEXTAREA"||x=="IMG"||x=="TABLE"){o.originalTarget=o.target;u=o.el;g=u.getBox();o.target=o.el=o.el.wrap({cls:o.wrapCls,id:o.el.id+"-rzwrap",style:u.getStyles("margin-top","margin-bottom")});o.el.setPositioning(u.getPositioning());u.clearPositioning();o.el.setBox(g);u.setStyle("position","absolute")}o.el.position();if(o.pinned){o.el.addCls(o.pinnedCls)}o.resizeTracker=new Ext.resizer.ResizeTracker({disabled:o.disabled,target:o.target,constrainTo:o.constrainTo,overCls:o.overCls,throttle:o.throttle,originalTarget:o.originalTarget,delegate:"."+o.handleCls,dynamic:o.dynamic,preserveRatio:o.preserveRatio,heightIncrement:o.heightIncrement,widthIncrement:o.widthIncrement,minHeight:o.minHeight,maxHeight:o.maxHeight,minWidth:o.minWidth,maxWidth:o.maxWidth});o.resizeTracker.on({mousedown:o.onBeforeResize,drag:o.onResize,dragend:o.onResizeEnd,scope:o});if(o.handles=="all"){o.handles="n s e w ne nw se sw"}w=o.handles=o.handles.split(o.delimiterRe);t=o.possiblePositions;h=w.length;d=o.handleCls+" "+o.handleCls+"-{0}";if(o.target.isComponent){n=o.target.baseCls;d+=" "+n+"-handle "+n+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){d+=" "+n+"-handle-{0}-br"}}k=Ext.isIE6?' style="height:'+o.el.getHeight()+'px"':"";for(;e<h;e++){if(w[e]&&t[w[e]]){r=t[w[e]];if(r==="east"||r==="west"){a=k}else{a=""}q.push('<div id="',o.el.id,"-",r,'-handle"',' class="',Ext.String.format(d,r)," ",m,'"',' unselectable="on"',a,"></div>")}}Ext.DomHelper.append(o.el,q.join(""));for(e=0;e<h;e++){if(w[e]&&t[w[e]]){r=t[w[e]];o[r]=o.el.getById(o.el.id+"-"+r+"-handle");o[r].region=r;if(o.transparent){o[r].setOpacity(0)}}}if(Ext.isNumber(o.width)){o.width=Ext.Number.constrain(o.width,o.minWidth,o.maxWidth)}if(Ext.isNumber(o.height)){o.height=Ext.Number.constrain(o.height,o.minHeight,o.maxHeight)}if(o.width!==null||o.height!==null){if(o.originalTarget){o.originalTarget.setWidth(o.width);o.originalTarget.setHeight(o.height)}o.resizeTo(o.width,o.height)}o.forceHandlesHeight()},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(b,d){var a=this.el.getBox();return this.fireEvent("beforeresize",this,a.width,a.height,d)},onResize:function(d,g){var b=this,a=b.el.getBox();b.forceHandlesHeight();return b.fireEvent("resizedrag",b,a.width,a.height,g)},onResizeEnd:function(d,g){var b=this,a=b.el.getBox();b.forceHandlesHeight();return b.fireEvent("resize",b,a.width,a.height,g)},resizeTo:function(b,a){var d=this;d.target.setSize(b,a);d.fireEvent("resize",d,b,a,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var g=this,e,d=g.handles,a=d.length,b=g.possiblePositions,h;g.resizeTracker.destroy();for(e=0;e<a;e++){if(h=g[b[d[e]]]){h.remove()}}},forceHandlesHeight:function(){var a=this,b;if(Ext.isIE6){b=a.east;if(b){b.setHeight(a.el.getHeight())}b=a.west;if(b){b.setHeight(a.el.getHeight())}a.el.repaint()}}},1,0,0,0,0,[["observable",Ext.util.Observable]],[Ext.resizer,"Resizer",Ext,"Resizable"],0));(Ext.cmd.derive("Ext.selection.CellModel",Ext.selection.Model,{isCellModel:true,enableKeyNav:true,preventWrap:false,noSelection:{row:-1,column:-1},constructor:function(){this.addEvents("deselect","select");this.callParent(arguments)},bindComponent:function(a){var d=this,b=a.ownerCt;d.primaryView=a;d.views=d.views||[];d.views.push(a);d.bindStore(a.getStore(),true);a.on({cellmousedown:d.onMouseDown,refresh:d.onViewRefresh,scope:d});if(b.optimizedColumnMove!==false){b.on("columnmove",d.onColumnMove,d)}if(d.enableKeyNav){d.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,tab:b.onKeyTab,scope:b})},getHeaderCt:function(){var b=this.getCurrentPosition(),a=b?b.view:this.primaryView;return a.headerCt},onKeyUp:function(a){this.doMove("up",a)},onKeyDown:function(a){this.doMove("down",a)},onKeyLeft:function(a){this.doMove("left",a)},onKeyRight:function(a){this.doMove("right",a)},doMove:function(b,a){this.keyNavigation=true;this.move(b,a);this.keyNavigation=false},onVetoUIEvent:Ext.emptyFn,select:function(k,g,b){var e=this,h,d=e.getCurrentPosition(),a=e.view.store;if(k||k===0){if(k.isModel){h=a.indexOf(k);if(h!==-1){k={row:h,column:d?d.column:0}}else{k=null}}else{if(typeof k==="number"){k={row:k,column:0}}}}if(k){e.selectByPosition(k,b)}else{e.deselect()}},deselect:function(a,b){this.selectByPosition(null,b)},move:function(a,g){var d=this,h=d.getCurrentPosition(),b;if(h){b=h.view.walkCells(h,a,g,d.preventWrap);if(b){b.view=h.view;return d.setCurrentPosition(b)}}},getCurrentPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(e,a){var d=this,b=d.selection;d.lastSelection=b;if(b){if(e&&(e.record===b.record&&e.columnHeader===b.columnHeader&&e.view===b.view)){e=null}else{d.onCellDeselect(d.selection,a)}}if(e){d.nextSelection=new Ext.grid.CellContext(d.primaryView).setPosition(e);d.selecting=true;d.onCellSelect(d.nextSelection,a);d.selecting=false;return(d.selection=d.nextSelection)}},isCellSelected:function(a,g,d){var e=this,b,h=e.getCurrentPosition();if(h&&h.view===a){b=new Ext.grid.CellContext(a).setPosition({row:g,column:d});return(b.record===h.record)&&(b.columnHeader===h.columnHeader)}},onStoreRemove:function(m,b,g){var k=this,l=k.getCurrentPosition(),d,a=b.length,h,e=0;k.callParent(arguments);if(l){if(g[0]>l.row){return}for(d=0;d<a;d++){h=g[d];if(h<l.row){e++}else{break}}if(e){l.setRow(l.row-e)}}},onMouseDown:function(d,a,h,b,l,g,k){if(g!==-1){this.setCurrentPosition({view:d,row:l,column:h})}},onCellSelect:function(a,b){if(a&&a.row!==undefined&&a.row>-1){this.doSelect(a.record,false,b)}},onCellDeselect:function(a,b){if(a&&a.row!==undefined){this.doDeselect(a.record,b)}},onSelectChange:function(b,g,e,k){var h=this,l,d,a;if(g){l=h.nextSelection;d="select"}else{l=h.lastSelection||h.noSelection;d="deselect"}a=l.view||h.primaryView;if((e||h.fireEvent("before"+d,h,b,l.row,l.column))!==false&&k()!==false){if(g){a.focusRow(b,true);a.onCellSelect(l)}else{a.onCellDeselect(l);delete h.selection}if(!e){h.fireEvent(d,h,b,l.row,l.column)}}},onKeyTab:function(g,b){var d=this,h=d.getCurrentPosition(),a;if(h){a=h.view.editingPlugin;if(a&&d.wasEditing){d.onEditorTab(a,g)}else{d.move(g.shiftKey?"left":"right",g)}}},onEditorTab:function(b,h){var d=this,g=h.shiftKey?"left":"right",a=d.move(g,h);if(a){if(b.startEdit(a.record,a.columnHeader)){d.wasEditing=false}else{d.wasEditing=true}}},refresh:function(){var b=this.getCurrentPosition(),a;if(b&&(a=this.store.indexOf(this.selected.last()))!==-1){b.row=a}},onColumnMove:function(e,g,b,d){var a=e.up("tablepanel");if(a){this.onViewRefresh(a.view)}},onUpdate:function(a){var b=this,d;if(b.isSelected(a)){d=b.selecting?b.nextSelection:b.selection;b.view.onCellSelect(d)}},onViewRefresh:function(b){var d=this,h=d.getCurrentPosition(),g=b.headerCt,a,e;if(h&&h.view===b){a=h.record;e=h.columnHeader;if(!e.isDescendantOf(g)){e=g.queryById(e.id)||g.down('[text="'+e.text+'"]')||g.down('[dataIndex="'+e.dataIndex+'"]')}if(e&&(b.store.indexOfId(a.getId())!==-1)){d.setCurrentPosition({row:a,column:e,view:b})}}},selectByPosition:function(a,b){this.setCurrentPosition(a,b)}},1,0,0,0,["selection.cellmodel"],0,[Ext.selection,"CellModel"],0));(Ext.cmd.derive("Ext.selection.RowModel",Ext.selection.Model,{deltaScroll:5,enableKeyNav:true,ignoreRightMouseSelection:false,constructor:function(){this.addEvents("beforedeselect","beforeselect","deselect","select");this.views=[];this.callParent(arguments)},bindComponent:function(a){var b=this;a.on({itemmousedown:b.onRowMouseDown,itemclick:b.onRowClick,scope:b});if(b.enableKeyNav){b.initKeyNav(a)}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on("render",Ext.Function.bind(b.initKeyNav,b,[a],0),b,{single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:true,eventName:"itemkeydown",processEvent:function(e,d,k,g,h){h.record=d;h.recordIndex=g;return h},up:b.onKeyUp,down:b.onKeyDown,right:b.onKeyRight,left:b.onKeyLeft,pageDown:b.onKeyPageDown,pageUp:b.onKeyPageUp,home:b.onKeyHome,end:b.onKeyEnd,space:b.onKeySpace,enter:b.onKeyEnter,scope:b})},onUpdate:function(b){var e=this,a=e.view,d;if(a&&e.isSelected(b)){d=a.indexOf(b);a.onRowSelect(d);if(b===e.lastFocused){a.onRowFocus(d,true)}}},getRowsVisible:function(){var g=false,a=this.views[0],e=a.all.first(),b,d;if(e){b=e.getHeight();d=a.el.getHeight();g=Math.floor(d/b)}return g},onKeyEnd:function(d){var b=this,a=b.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(b.store.getCount()-1,false,function(g,e){b.afterKeyNavigate(d,e)})}else{b.afterKeyNavigate(d,a.getRecord(a.all.getCount()-1))}},onKeyHome:function(d){var b=this,a=b.views[0];if(a.bufferedRenderer){a.bufferedRenderer.scrollTo(0,false,function(g,e){b.afterKeyNavigate(d,e)})}else{b.afterKeyNavigate(d,a.getRecord(0))}},onKeyPageUp:function(h){var g=this,a=g.views[0],k=g.getRowsVisible(),d,b;if(k){if(a.bufferedRenderer){d=Math.max(h.recordIndex-k,0);(g.lastKeyEvent||(g.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(h.browserEvent);a.bufferedRenderer.scrollTo(d,false,g.afterBufferedScrollTo,g)}else{b=a.walkRecs(h.record,-k);g.afterKeyNavigate(h,b)}}},onKeyPageDown:function(h){var g=this,a=g.views[0],k=g.getRowsVisible(),d,b;if(k){if(a.bufferedRenderer){d=Math.min(h.recordIndex+k,g.store.getCount()-1);(g.lastKeyEvent||(g.lastKeyEvent=new Ext.EventObjectImpl())).setEvent(h.browserEvent);a.bufferedRenderer.scrollTo(d,false,g.afterBufferedScrollTo,g)}else{b=a.walkRecs(h.record,k);g.afterKeyNavigate(h,b)}}},onKeySpace:function(b){var a=this.lastFocused;if(a){this.afterKeyNavigate(b,a)}},onKeyEnter:Ext.emptyFn,onKeyUp:function(b){var a=this.views[0].walkRecs(b.record,-1);if(a){this.afterKeyNavigate(b,a)}},onKeyDown:function(b){var a=this.views[0].walkRecs(b.record,1);if(a){this.afterKeyNavigate(b,a)}},afterBufferedScrollTo:function(b,a){this.afterKeyNavigate(this.lastKeyEvent,a)},scrollByDeltaX:function(e){var a=this.views[0],d=a.up(),b=d.horizontalScroller;if(b){b.scrollByDeltaX(e)}},onKeyLeft:function(a){this.scrollByDeltaX(-this.deltaScroll)},onKeyRight:function(a){this.scrollByDeltaX(this.deltaScroll)},onRowMouseDown:function(b,a,h,d,k){var g=this;if(d!==-1){if(!g.allowRightMouseSelection(k)){return}if(!g.isSelected(a)){g.mousedownAction=true;g.processSelection(b,a,h,d,k)}else{g.mousedownAction=false}}},onVetoUIEvent:function(h,d,a,l,g,k,b){if(h=="mousedown"){this.mousedownAction=!this.isSelected(b)}},onRowClick:function(b,a,g,d,h){if(this.mousedownAction){this.mousedownAction=false}else{this.processSelection(b,a,g,d,h)}},processSelection:function(b,a,g,d,h){this.selectWithEvent(a,h)},allowRightMouseSelection:function(a){var b=this.ignoreRightMouseSelection&&a.button!==0;if(b){b=this.hasSelection()}return !b},onSelectChange:function(h,d,m,a){var l=this,n=l.views,e=n.length,b=n[0].indexOf(h),k=d?"select":"deselect",g=0;if((m||l.fireEvent("before"+k,l,h,b))!==false&&a()!==false){for(;g<e;g++){if(d){n[g].onRowSelect(b,m)}else{n[g].onRowDeselect(b,m)}}if(!m){l.fireEvent(k,l,h,b)}}},onLastFocusChanged:function(k,d,b){var a=this.views,h=a.length,g,e=0;if(k){g=a[0].indexOf(k);if(g!=-1){for(;e<h;e++){a[e].onRowFocus(g,false,true)}}}if(d){g=a[0].indexOf(d);if(g!=-1){for(e=0;e<h;e++){a[e].onRowFocus(g,true,b)}}}this.callParent(arguments)},onEditorTab:function(g,l){var h=this,d=h.views[0],b=g.getActiveRecord(),m=g.getActiveColumn(),a=d.getPosition(b,m),k=l.shiftKey?"left":"right";do{a=d.walkCells(a,k,l,h.preventWrap)}while(a&&(!a.columnHeader.getEditor(b)||!g.startEditByPosition(a)))},getCurrentPosition:function(){var a=this.selected.items[0];if(a){return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(a),0)}},selectByPosition:function(a){this.select(this.store.getAt(a.row))},selectNext:function(k,d){var h=this,b=h.store,g=h.getSelection(),a=g[g.length-1],e=h.views[0].indexOf(a)+1,l;if(e===b.getCount()||e===0){l=false}else{h.doSelect(e,k,d);l=true}return l},selectPrevious:function(h,b){var g=this,e=g.getSelection(),a=e[0],d=g.views[0].indexOf(a)-1,k;if(d<0){k=false}else{g.doSelect(d,h,b);k=true}return k},isRowSelected:function(a,b){return this.isSelected(a)}},1,0,0,0,["selection.rowmodel"],0,[Ext.selection,"RowModel"],0));(Ext.cmd.derive("Ext.tab.Tab",Ext.button.Button,{isTab:true,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,position:"top",initComponent:function(){var a=this;a.addEvents("activate","deactivate","beforeclose","close");a.callParent(arguments);if(a.card){a.setCard(a.card)}a.overCls=["over",a.position+"-over"]},getTemplateArgs:function(){var b=this,a=b.callParent();a.closable=b.closable;a.closeText=b.closeText;return a},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var b=this,a=b.up("tabbar"),d=b.up("tabpanel");b.callParent();b.addClsWithUI(b.position);if(b.active){b.addClsWithUI([b.activeCls,b.position+"-"+b.activeCls])}b.syncClosableUI();if(!b.minWidth){b.minWidth=(a)?a.minTabWidth:b.minWidth;if(!b.minWidth&&d){b.minWidth=d.minTabWidth}if(b.minWidth&&b.iconCls){b.minWidth+=25}}if(!b.maxWidth){b.maxWidth=(a)?a.maxTabWidth:b.maxWidth;if(!b.maxWidth&&d){b.maxWidth=d.maxTabWidth}}},onRender:function(){var a=this;a.setElOrientation();a.callParent(arguments);if(a.closable){a.closeEl.addClsOnOver(a.closeElOverCls)}a.keyNav=new Ext.util.KeyNav(a.el,{enter:a.onEnterKey,del:a.onDeleteKey,scope:a})},setElOrientation:function(){var a=this.position;if(a==="left"||a==="right"){this.el.setVertical(a==="right"?90:270)}},enable:function(a){var b=this;b.callParent(arguments);b.removeClsWithUI(b.position+"-disabled");return b},disable:function(a){var b=this;b.callParent(arguments);b.addClsWithUI(b.position+"-disabled");return b},onDestroy:function(){var a=this;Ext.destroy(a.keyNav);delete a.keyNav;a.callParent(arguments)},setClosable:function(a){var b=this;a=(!arguments.length||!!a);if(b.closable!=a){b.closable=a;if(b.card){b.card.closable=a}b.syncClosableUI();if(b.rendered){b.syncClosableElements();b.updateLayout()}}},syncClosableElements:function(){var a=this,b=a.closeEl;if(a.closable){if(!b){b=a.closeEl=a.btnWrap.insertSibling({tag:"a",cls:a.baseCls+"-close-btn",href:"#",title:a.closeText},"after")}b.addClsOnOver(a.closeElOverCls)}else{if(b){b.remove();delete a.closeEl}}},syncClosableUI:function(){var b=this,a=[b.closableCls,b.closableCls+"-"+b.position];if(b.closable){b.addClsWithUI(a)}else{b.removeClsWithUI(a)}},setCard:function(a){var b=this;b.card=a;b.setText(b.title||a.title);b.setIconCls(b.iconCls||a.iconCls);b.setIcon(b.icon||a.icon);b.setGlyph(b.glyph||a.glyph)},onCloseClick:function(){var a=this;if(a.fireEvent("beforeclose",a)!==false){if(a.tabBar){if(a.tabBar.closeTab(a)===false){return}}else{a.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(b){var a=this;if(a.tabBar){a.tabBar.onClick(b,a.el)}},onDeleteKey:function(a){if(this.closable){this.onCloseClick()}},activate:function(b){var a=this;a.active=true;a.addClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);if(b!==true){a.fireEvent("activate",a)}},deactivate:function(b){var a=this;a.active=false;a.removeClsWithUI([a.activeCls,a.position+"-"+a.activeCls]);if(b!==true){a.fireEvent("deactivate",a)}}},0,["tab"],["button","component","tab","box"],{button:true,component:true,tab:true,box:true},["widget.tab"],0,[Ext.tab,"Tab"],0));(Ext.cmd.derive("Ext.util.Point",Ext.util.Region,{statics:{fromEvent:function(a){a=a.browserEvent||a;a=(a.changedTouches&&a.changedTouches.length>0)?a.changedTouches[0]:a;return new this(a.pageX,a.pageY)}},constructor:function(a,b){this.callParent([b,a,b,a])},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(a){return(this.x==a.x&&this.y==a.y)},isWithin:function(b,a){if(!Ext.isObject(a)){a={x:a,y:a}}return(this.x<=b.x+a.x&&this.x>=b.x-a.x&&this.y<=b.y+a.y&&this.y>=b.y-a.y)},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){return(Math.round(this.x)==Math.round(a.x)&&Math.round(this.y)==Math.round(a.y))}},3,0,0,0,0,0,[Ext.util,"Point"],function(){this.prototype.translate=Ext.util.Region.prototype.translateBy}));(Ext.cmd.derive("Ext.tab.Bar",Ext.panel.Header,{baseCls:Ext.baseCSSPrefix+"tab-bar",isTabBar:true,defaultType:"tab",plain:false,childEls:["body","strip"],renderTpl:['<div id="{id}-body" class="{baseCls}-body {bodyCls} {bodyTargetCls}{childElCls}<tpl if="ui"> {baseCls}-body-{ui}<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl></tpl>"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values)%}","</div>",'<div id="{id}-strip" class="{baseCls}-strip {baseCls}-strip-{dock}{childElCls}','<tpl if="ui"> {baseCls}-strip-{ui}','<tpl for="uiCls"> {parent.baseCls}-strip-{parent.ui}-{.}</tpl>','</tpl>">',"</div>"],_reverseDockNames:{left:"right",right:"left"},initComponent:function(){var a=this;if(a.plain){a.addCls(a.baseCls+"-plain")}a.addClsWithUI(a.orientation);a.addEvents("change");a.callParent(arguments);Ext.merge(a.layout,a.initialConfig.layout);a.layout.align=(a.orientation=="vertical")?"left":"top";a.layout.overflowHandler=new Ext.layout.container.boxOverflow.Scroller(a.layout);a.remove(a.titleCmp);delete a.titleCmp;Ext.apply(a.renderData,{bodyCls:a.bodyCls,dock:a.dock})},onRender:function(){var a=this;a.callParent();if(a.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){a.el.on({mousemove:a.onMouseMove,scope:a})}},afterRender:function(){var a=this.layout;this.callParent();if(Ext.isIE9&&Ext.isStrict&&this.orientation==="vertical"){a.innerCt.on("scroll",function(){a.innerCt.dom.scrollLeft=0})}},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var a=this.items.items,b=a.length,d;if(!Ext.isIE9m){if(this.dock==="right"){while(b--){d=a[b];if(d.isVisible()){d.el.setStyle("left",d.lastBox.width+"px")}}}else{if(this.dock==="left"){while(b--){d=a[b];if(d.isVisible()){d.el.setStyle("left",-d.lastBox.height+"px")}}}}}},getLayout:function(){var a=this;a.layout.type=(a.orientation==="horizontal")?"hbox":"vbox";return a.callParent(arguments)},onAdd:function(a){a.position=this.dock;this.callParent(arguments)},onRemove:function(a){var b=this;if(a===b.previousTab){b.previousTab=null}b.callParent(arguments)},afterComponentLayout:function(b){var d=this,a=d.needsScroll;d.callParent(arguments);if(a){d.layout.overflowHandler.scrollToItem(d.activeTab)}delete d.needsScroll},onClick:function(k,h){var g=this,m=g.tabPanel,l,d,b,a;if(k.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}if(g.orientation==="vertical"&&(Ext.isIE8||Ext.isIE9)&&Ext.isStrict){a=g.getTabInfoFromPoint(k.getXY());d=a.tab;b=a.close}else{l=k.getTarget("."+Ext.tab.Tab.prototype.baseCls);d=l&&Ext.getCmp(l.id);b=d&&d.closeEl&&(h===d.closeEl.dom)}if(b){k.preventDefault()}if(d&&d.isDisabled&&!d.isDisabled()){if(d.closable&&b){d.onCloseClick()}else{if(m){m.setActiveTab(d.card)}else{g.setActiveTab(d)}d.focus()}}},onMouseMove:function(h){var g=this,b=g._overTab,a,d;if(h.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}a=g.getTabInfoFromPoint(h.getXY());d=a.tab;if(d!==b){if(b&&b.rendered){b.onMouseLeave(h);g._overTab=null}if(d){d.onMouseEnter(h);g._overTab=d;if(!d.disabled){g.el.setStyle("cursor","pointer")}}else{g.el.setStyle("cursor","default")}}},onMouseLeave:function(b){var a=this._overTab;if(a&&a.rendered){a.onMouseLeave(b)}},getTabInfoFromPoint:function(h){var F=this,B=F.items.items,g=B.length,r=F.layout.innerCt,z=r.getXY(),y=new Ext.util.Point(h[0],h[1]),A=0,C,b,a,t,D,l,k,e,w,n,m,q,o,x,u,E,d;for(;A<g;A++){C=B[A].lastBox;n=z[0]+C.x;m=z[1]-r.dom.scrollTop+C.y;q=C.width;o=C.height;b=new Ext.util.Region(m,n+q,m+o,n);if(b.contains(y)){d=B[A];a=d.closeEl;if(a){D=a.getXY();e=a.getWidth();w=a.getHeight();if(F._isTabReversed===undefined){F._isTabReversed=u=(d.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1)}E=u?this._reverseDockNames[F.dock]:F.dock;if(E==="right"){l=n+q-((D[1]-m)+a.getHeight());k=m+(D[0]-n)}else{l=n+(D[1]-m);k=m+n+o-D[0]-a.getWidth()}x=new Ext.util.Region(k,l+e,k+w,l);t=x.contains(y)}break}}return{tab:d,close:t}},closeTab:function(d){var e=this,b=d.card,g=e.tabPanel,a;if(b&&b.fireEvent("beforeclose",b)===false){return false}a=e.findNextActivatable(d);Ext.suspendLayouts();if(g&&b){delete d.ownerCt;b.fireEvent("close",b);g.remove(b);if(!g.getComponent(b)){d.fireClose();e.remove(d)}else{d.ownerCt=e;Ext.resumeLayouts(true);return false}}if(a){if(g){g.setActiveTab(a.card)}else{e.setActiveTab(a)}a.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(a){var b=this;if(a.active&&b.items.getCount()>1){return(b.previousTab&&b.previousTab!==a&&!b.previousTab.disabled)?b.previousTab:(a.next("tab[disabled=false]")||a.prev("tab[disabled=false]"))}},setActiveTab:function(b,a){var d=this;if(!b.disabled&&b!==d.activeTab){if(d.activeTab){if(d.activeTab.isDestroyed){d.previousTab=null}else{d.previousTab=d.activeTab;d.activeTab.deactivate()}}b.activate();d.activeTab=b;d.needsScroll=true;if(!a){d.fireEvent("change",d,b,b.card);d.updateLayout()}}}},0,["tabbar"],["container","component","header","tabbar","box"],{container:true,component:true,header:true,tabbar:true,box:true},["widget.tabbar"],0,[Ext.tab,"Bar"],0));Ext.define("ExtThemeNeptune.tab.Tab",{override:"Ext.tab.Tab",border:false});(Ext.cmd.derive("Ext.selection.CheckboxModel",Ext.selection.RowModel,{mode:"MULTI",injectCheckbox:0,checkOnly:false,showHeaderCheckbox:undefined,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",constructor:function(){var a=this;a.callParent(arguments);if(a.mode==="SINGLE"&&a.showHeaderCheckbox!==true){a.showHeaderCheckbox=false}},beforeViewRender:function(b){var d=this,a;d.callParent(arguments);if(!d.hasLockedHeader()||b.headerCt.lockedCt){if(d.showHeaderCheckbox!==false){b.headerCt.on("headerclick",d.onHeaderClick,d)}d.addCheckbox(b,true);a=b.ownerCt;if(b.headerCt.lockedCt){a=a.ownerCt}d.mon(a,"reconfigure",d.onReconfigure,d)}},bindComponent:function(a){var b=this;b.sortable=false;b.callParent(arguments)},hasLockedHeader:function(){var a=this.views,d=a.length,b;for(b=0;b<d;b++){if(a[b].headerCt.lockedCt){return true}}return false},addCheckbox:function(a,b){var d=this,e=d.injectCheckbox,g=a.headerCt;if(e!==false){if(e=="first"){e=0}else{if(e=="last"){e=g.getColumnCount()}}Ext.suspendLayouts();if(a.getStore().buffered){d.showHeaderCheckbox=false}g.add(e,d.getHeaderConfig());Ext.resumeLayouts()}if(b!==true){a.refresh()}},onReconfigure:function(d,a,b){if(b){this.addCheckbox(this.views[0])}},toggleUiHeader:function(g){var b=this.views[0],e=b.headerCt,d=e.child("gridcolumn[isCheckerHd]"),a=this.checkerOnCls;if(d){if(g){d.addCls(a)}else{d.removeCls(a)}}},onHeaderClick:function(d,h,b){if(h.isCheckerHd){b.stopEvent();var a=this,g=h.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");a.preventFocus=true;if(g){a.deselectAll()}else{a.selectAll()}delete a.preventFocus}},getHeaderConfig:function(){var a=this,b=a.showHeaderCheckbox!==false;return{isCheckerHd:b,text:"&#160;",clickTargetName:"el",width:a.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,dataIndex:"",cls:b?Ext.baseCSSPrefix+"column-header-checkbox ":"",renderer:Ext.Function.bind(a.renderer,a),editRenderer:a.editRenderer||a.renderEmpty,locked:a.hasLockedHeader()}},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(k,d,b,l,g,e,a){var h=Ext.baseCSSPrefix;d.tdCls=h+"grid-cell-special "+h+"grid-cell-row-checker";return'<div class="'+h+'grid-row-checker">&#160;</div>'},processSelection:function(b,a,k,g,l){var h=this,d=l.getTarget(h.checkSelector),m;if(h.checkOnly&&!d){return}if(d){m=h.getSelectionMode();if(m!=="SINGLE"){h.setSelectionMode("SIMPLE")}h.selectWithEvent(a,l);h.setSelectionMode(m)}else{h.selectWithEvent(a,l)}},onSelectChange:function(){this.callParent(arguments);if(!this.suspendChange){this.updateHeaderState()}},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){if(a&&!this.suspendChange){this.updateHeaderState()}this.callParent(arguments)},resumeChanges:function(){this.callParent();if(!this.suspendChange){this.updateHeaderState()}},updateHeaderState:function(){var h=this,k=h.store,g=k.getCount(),l=h.views,m=false,a=0,b,e,d;if(!k.buffered&&g>0){b=h.selected;m=true;for(d=0,e=b.getCount();d<e;++d){if(!h.storeHasSelected(b.getAt(d))){break}++a}m=g===a}if(l&&l.length){h.toggleUiHeader(m)}}},1,0,0,0,["selection.checkboxmodel"],0,[Ext.selection,"CheckboxModel"],0));(Ext.cmd.derive("Ext.tab.Panel",Ext.panel.Panel,{alternateClassName:["Ext.TabPanel"],tabPosition:"top",removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,initComponent:function(){var e=this,d=[].concat(e.dockedItems||[]),a=e.activeTab||(e.activeTab=0),b=e.tabPosition;e.layout=new Ext.layout.container.Card(Ext.apply({owner:e,deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:a},e.layout));e.tabBar=new Ext.tab.Bar(Ext.apply({ui:e.ui,dock:e.tabPosition,orientation:(b=="top"||b=="bottom")?"horizontal":"vertical",plain:e.plain,cardLayout:e.layout,tabPanel:e},e.tabBar));d.push(e.tabBar);e.dockedItems=d;e.addEvents("beforetabchange","tabchange");e.callParent(arguments);a=e.activeTab=e.getComponent(a);if(a){e.tabBar.setActiveTab(a.tab,true)}},setActiveTab:function(a){var d=this,b;a=d.getComponent(a);if(a){b=d.getActiveTab();if(b!==a&&d.fireEvent("beforetabchange",d,a,b)===false){return false}if(!a.isComponent){Ext.suspendLayouts();a=d.add(a);Ext.resumeLayouts()}d.activeTab=a;Ext.suspendLayouts();d.layout.setActiveItem(a);a=d.activeTab=d.layout.getActiveItem();if(a&&a!==b){d.tabBar.setActiveTab(a.tab);Ext.resumeLayouts(true);if(b!==a){d.fireEvent("tabchange",d,a,b)}}else{Ext.resumeLayouts(true)}return a}},getActiveTab:function(){var b=this,a=b.getComponent(b.activeTab);if(a&&b.items.indexOf(a)!=-1){b.activeTab=a}else{b.activeTab=null}return b.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(g,d){var e=this,b=g.tabConfig||{},a={xtype:"tab",ui:e.tabBar.ui,card:g,disabled:g.disabled,closable:g.closable,hidden:g.hidden&&!g.hiddenByLayout,tooltip:g.tooltip,tabBar:e.tabBar,position:e.tabPosition,closeText:g.closeText};b=Ext.applyIf(b,a);g.tab=e.tabBar.insert(d,b);g.on({scope:e,enable:e.onItemEnable,disable:e.onItemDisable,beforeshow:e.onItemBeforeShow,iconchange:e.onItemIconChange,iconclschange:e.onItemIconClsChange,titlechange:e.onItemTitleChange});if(g.isPanel){if(e.removePanelHeader){if(g.rendered){if(g.header){g.header.hide()}}else{g.header=false}}if(g.isPanel&&e.border){g.setBorder(false)}}},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab){this.setActiveTab(a);return false}},onItemIconChange:function(b,a){b.tab.setIcon(a)},onItemIconClsChange:function(b,a){b.tab.setIconCls(a)},onItemTitleChange:function(a,b){a.tab.setText(b)},doRemove:function(e,b){var d=this,a;if(d.destroying||d.items.getCount()==1){d.activeTab=null}else{if((a=d.tabBar.items.indexOf(d.tabBar.findNextActivatable(e.tab)))!==-1){d.setActiveTab(a)}}this.callParent(arguments);delete e.tab.card;delete e.tab},onRemove:function(b,d){var a=this;b.un({scope:a,enable:a.onItemEnable,disable:a.onItemDisable,beforeshow:a.onItemBeforeShow});if(!a.destroying&&b.tab.ownerCt===a.tabBar){a.tabBar.remove(b.tab)}}},0,["tabpanel"],["container","component","tabpanel","box","panel"],{container:true,component:true,tabpanel:true,box:true,panel:true},["widget.tabpanel"],0,[Ext.tab,"Panel",Ext,"TabPanel"],0));(Ext.cmd.derive("Ext.toolbar.Spacer",Ext.Component,{alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",focusable:false},0,["tbspacer"],["component","box","tbspacer"],{component:true,box:true,tbspacer:true},["widget.tbspacer"],0,[Ext.toolbar,"Spacer",Ext.Toolbar,"Spacer"],0));(Ext.cmd.derive("Ext.util.Grouper",Ext.util.Sorter,{isGrouper:true,getGroupString:function(a){return a.get(this.property)}},0,0,0,0,0,0,[Ext.util,"Grouper"],0));(Ext.cmd.derive("community_portal.Application",Ext.app.Application,{name:"community_portal",views:[],controllers:[],stores:[]},0,0,0,0,0,0,[community_portal,"Application"],0));(Ext.cmd.derive("community_portal.view.AdAlertService",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.AdAlertService=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"AdAlertServiceForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#AdAlertService").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 10",id:"AdAlertService_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;padding-top:3px;">MySitelette Ad Alert</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE_blue.png" data-qtip="Coming Soon">']},{xtype:"container",layout:"vbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"height:600px!important;width:980px !important;",items:[{xtype:"button",margin:"30 0 30 795",text:'<span style="color:#fff;">Create Ad-alert</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.AdAlertPopup()}}]}]}]});a.items=[com.faralam.AdAlertService];a.callParent()}},0,["AdAlertService_item"],["container","component","form","box","panel","AdAlertService_item"],{container:true,component:true,form:true,box:true,panel:true,AdAlertService_item:true},["widget.AdAlertService_item"],0,[community_portal.view,"AdAlertService"],0));(Ext.cmd.derive("community_portal.view.AddNewVideo",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.AddNewVideo=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"AddNewVideoForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#FF007F !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#videos").setDisabled(false);Ext.getCmp("main_tab").down("#AddNewVideo").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(45)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"AddNewVideo_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Add New Video</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"AddNewVideoContainer",style:"width:980px !important; height:700px !important; padding:30px 0 10px 100px;",items:[{xtype:"button",margin:"0 0 30 580",text:'<span style="color:#fff;">Save</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){var e=Ext.getCmp("videoname").getValue();var d=Ext.getCmp("videourl").getValue();if(e.trim()==""){Ext.MessageBox.alert("Information","Please enter the Video Name")}else{if(d.trim()==""){Ext.MessageBox.alert("Information","Please enter  Video's URL")}}if(e.trim()!=""&&d.trim()!=""){com.faralam.common.createExternalMedia()}}},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Video Title</h3>',inputType:"text",name:"videoname",allowBlank:false,emptyText:"",id:"videoname",msgTarget:"none",inputWidth:626,inputHeight:60,margin:"0 0 0 0",labelAlign:"left",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textareafield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Copy video URL/Copy Embed Code (From Youtube/Vimeo or other source websites)</h3>',inputType:"text",name:"videourl",allowBlank:false,emptyText:"",id:"videourl",msgTarget:"none",inputWidth:730,height:180,margin:"10 0 10 0",labelAlign:"top",labelWidth:730,inputColor:"#000000",style:" border-radius: 3px !important; padding: 10px !important;"}]}]});a.items=[com.faralam.AddNewVideo];a.callParent()}},0,["AddNewVideo_item"],["container","component","form","AddNewVideo_item","box","panel"],{container:true,component:true,form:true,AddNewVideo_item:true,box:true,panel:true},["widget.AddNewVideo_item"],0,[community_portal.view,"AddNewVideo"],0));(Ext.cmd.derive("community_portal.view.AppPreview",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:white;font-weight:bold" data-qtip="Required">*</span>';com.faralam.AppPreview=new Ext.FormPanel({style:"background:rgba(76, 103, 162, 0.91) !important;",height:850,id:"AppPreviewForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#FF007F !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#AppPreview").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"AppPreview_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">AppPreview</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",style:"height:720px !important;",layout:"hbox",items:[{xtype:"container",layout:"vbox",style:"height:720px !important;",margin:"25 10 10 50",items:[{xtype:"component",width:320,id:"mobile_url_start_App",margin:"47 0 0 16",html:"",style:"z-index: 99;"},{xtype:"component",id:"mobile_pic_componemt_App",html:'<img id="mobile_pic_app" src="'+com.faralam.custom_img_path+'mobile_pic.png" width="345">'}]},{xtype:"container",layout:"vbox",style:"height:720px !important;top:50px !important",margin:"25 10 10 10",items:[{xtype:"component",height:70,width:200,style:"padding-top: 5px;",id:"share_base_path_url",html:""},{xtype:"textfield",fieldLabel:'<h3 style="color: #ffffff ; margin-right: 10px;font-weight:bold;font-size:15px">Mobile  Phone</h3>',inputType:"text",name:"mobile_preview",allowBlank:false,emptyText:"",id:"mobile_preview",msgTarget:"none",inputWidth:220,inputHeight:70,margin:"0 0 0 0",labelAlign:"top",labelWidth:200,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"button",text:'<span style="font-weight:bold; color:#fff;">Send</span>',id:"phone_send",scale:"medium",margin:"10",style:"border:2px solid black;cursor:pointer;background:#00b050;",handler:function(){var d=Ext.getCmp("mobile_preview").getValue();if(d.trim()==""){Ext.MessageBox.alert("Information","Please enter mobile number .")}else{if(d.length<10||isNaN(d)){Ext.MessageBox.alert("Information","Please enter a valid mobile number.")}else{com.faralam.common.sendAppURLForSASLToMobileviaSMS(d)}}}},{xtype:"textfield",fieldLabel:'<h3 style="color: #ffffff ; margin-right: 10px;font-weight:bold;font-size:15px">Email Address</h3>',inputType:"text",name:"email_preview",allowBlank:false,emptyText:"",id:"email_preview",msgTarget:"none",inputWidth:220,inputHeight:70,margin:"0 0 0 0",labelAlign:"top",labelWidth:200,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"button",text:'<span style="font-weight:bold; color:#fff;">Send</span>',id:"email_send",scale:"medium",margin:"10",style:"border:2px solid black;background:#00b050;cursor:pointer;",handler:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var d=Ext.getCmp("email_preview").getValue();if(d.trim()==""){Ext.MessageBox.alert("Information","Please fill up email field.")}else{if(!e.test(d)){Ext.MessageBox.alert("Information","Please enter a valid email.")}else{com.faralam.common.sendAppURLForSASLToEmail(d)}}}},{xtype:"component",height:100,width:180,style:"padding-top: 5px;",id:"share_app_social_icon_grp",html:""}]},{xtype:"panel",id:"carousel_main",width:310,height:620,margin:"25 0 0 0",html:""}]}]});a.items=[com.faralam.AppPreview];a.callParent()}},0,["AppPreview_item"],["container","component","form","AppPreview_item","box","panel"],{container:true,component:true,form:true,AppPreview_item:true,box:true,panel:true},["widget.AppPreview_item"],0,[community_portal.view,"AppPreview"],0));(Ext.cmd.derive("community_portal.view.ListGrid",Ext.grid.Panel,{iconCls:"icon-grid",frame:true,width:420,overflowY:"auto",height:400,itemId:"business_list_grid",id:"business_list_grid",preventHeader:true,viewConfig:{scrollOffset:40,emptyText:'<div style="text-align:center; color: #999;">No Data Available</div>',deferEmptyText:false},dockedItems:[{xtype:"toolbar",items:["->",{text:'<span style="color:#000;">Add</span>',cls:"tlb_txt_clr",handler:function(){Ext.getCmp("main_tab").down("#business_list").setDisabled(true);Ext.getCmp("main_tab").down("#name_address").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(3)}}]}],initComponent:function(){this.store={fields:[],data:[]};this.columns=[];this.callParent(arguments)}},0,["listgrid"],["container","component","grid","gridpanel","listgrid","box","panel","tablepanel"],{container:true,component:true,grid:true,gridpanel:true,listgrid:true,box:true,panel:true,tablepanel:true},["widget.listgrid"],0,[community_portal.view,"ListGrid"],0));(Ext.cmd.derive("community_portal.view.BusinessList",Ext.form.Panel,{items:[],initComponent:function(){var a=this;com.faralam.BusinessListFirstPart=new Ext.FormPanel({style:"padding:3% 0;margin: 1% auto 0; width:90% !important;text-align:center;max-width:950px !important;",cls:"common_bg",id:"business_list_first_part",layout:{type:"hbox",pack:"center"},items:[{xtype:"listgrid"}]});com.faralam.BusinessList=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,height:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#business_list").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"image",width:85,height:30,id:"business_list_business_name",src:""},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.BusinessListFirstPart],margin:"0 0 0 0",minHeight:650});a.items=[com.faralam.BusinessList];a.callParent()}},0,["business_lists"],["container","component","business_lists","form","box","panel"],{container:true,component:true,business_lists:true,form:true,box:true,panel:true},["widget.business_lists"],0,[community_portal.view,"BusinessList"],0));(Ext.cmd.derive("community_portal.view.CatalogMenu",Ext.form.Panel,{autoScroll:true,items:[],initComponent:function(){var l='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;function h(){var m="";com.faralam.common.EditCatalog(m)}var a;function k(){var q="add_group";var t="";var o="";var m="";var r="";var n="";com.faralam.common.EditCatalogGroup(q,t,o,m,r,n)}function e(){var q="add_group_within_catalog";var t=Ext.getCmp("catalogId").getValue();var o=Ext.getCmp("catalogName").getValue();var m="";var r="";var n="";if(t==""){Ext.MessageBox.alert("Error","Please select a catalog")}else{com.faralam.common.EditCatalogGroup(q,t,o,m,r,n)}}var d="";var g="";com.faralam.Catalog_first_part=new Ext.FormPanel({style:"background: #314F85 !important;max-height:700px !important;",defaultType:"textfield",defaults:{msgTarget:"none"},id:"catalog_sub",items:[{xtype:"container",style:"padding:1% 0;width:100% !important;background: #e5ffff !important;border:1px solid black",items:[{xtype:"container",layout:"hbox",items:[{xtype:"container",layout:{type:"table",columns:2},items:[{xtype:"container",width:316,items:[{xtype:"container",layout:"hbox",margin:"0 0 0 20",width:265,items:[{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px;margin-left:0;font-style: italic;font-size:15px !important;color:black;font-weight:bold">Catalogs/Menu</span>',width:205},{xtype:"button",scale:"small",cls:"add_catalog_button",style:"left: initial !important;margin: 0 !important;right: 0 !important;top: 15px !important;  padding-top: 15px !important;",height:26,width:25,margin:"15 0 0 0",handler:h},{xtype:"component",margin:"15 0 0 5",id:"delete_zone_catalog",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_catalog" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'}]},{xtype:"container",layout:"hbox",items:[{xtype:"panel",id:"catalog_single_panel",margin:"0 0 0 20",width:265,height:150,html:"<ul><li>No catalog(s) available</li></ul>",style:"background:#FFF !important;border:2px solid black"}]}]},{xtype:"container",width:316,items:[{xtype:"container",layout:"hbox",margin:"0 0 0 20",width:265,items:[{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px;margin-left:0;font-style: italic;font-size:15px !important;font-weight:bold;color:black">Groups in Catalogs</span>',width:212},{xtype:"button",scale:"small",cls:"add_catalog_button",style:"left: initial !important;margin: 0 !important;right: 0 !important;top: 15px !important;  padding-top: 15px !important;",height:26,width:25,margin:"15 0 0 3",handler:e},{xtype:"component",style:"left: initial !important;margin: 0 !important;right: 28px !important;top: 15px !important;",height:26,width:25,margin:"15 0 0 0",id:"delete_zone_catalogInGroup",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_catalogInGroup" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'}]},{xtype:"hiddenfield",id:"catalogId",name:"",value:""},{xtype:"hiddenfield",id:"catalogName",name:"",value:""},{xtype:"panel",id:"catalog_group_panel",margin:"0 0 0 20",width:275,height:150,html:'<ul style="height: 120px;"><li class="catalog_li">No group(s) available</li></ul><div class="drop_here_div_middle_panel">Drop group here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_Group_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_middle_panel"></div>',style:"background:#FFF !important;border:2px solid black"}]},{xtype:"container",width:632,colspan:2,layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",margin:"0 0 0 20",value:'<span class="gallery_txt" style="float:left;margin:15px;margin-left:0;font-style: italic;font-size:15px !important;color:black;font-weight:bold">All Groups</span>',width:520},{xtype:"button",scale:"small",cls:"add_catalog_button",style:"left: initial !important;margin: 0 !important;right: 0 !important;top: 15px !important;  padding-top: 15px !important;",height:26,width:25,margin:"15 0 0 0",handler:k},{xtype:"component",margin:"15 0 0 10",id:"delete_zone_group",html:'<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_group" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'}]},{xtype:"container",layout:"hbox",items:[{xtype:"panel",id:"slide_panel1_catalog",margin:"0 0 0 20",style:"background-color:#555555;border:2px solid black;",html:'<ul style="text-align:left;height: 87px;"></ul>',width:585}]}]}]},{xtype:"container",width:316,items:[{xtype:"container",layout:"hbox",margin:"0 0 0 20",width:296,items:[{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px;margin-left:0;font-style: italic;font-size:15px !important;color:black;font-weight:bold">Items in Group</span>',width:271},{xtype:"component",style:"left: initial !important;margin: 0 !important;right: 28px !important;top: 15px !important;",height:26,width:25,margin:"15 0 0 0",id:"delete_zone_catalogGroupItem",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_catalogGroupItem_img" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'}]},{xtype:"hiddenfield",id:"groupId",name:"",value:""},{xtype:"panel",id:"catalog_itemGroup_panel",margin:"0 0 0 20",html:'<ul style="text-align:left;height: 250px;"><li class="catalog_li">No item(s) available</li></ul><div class="drop_here_div_right_panel">Drop item here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_itemGroup_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_right_panel"></div>',style:"background:#FFF !important; border:2px solid black"}]}]},{xtype:"container",width:970,items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin: 25px 15px 15px 70px;font-style: italic;font-size:15px !important;color:black;font-weight:bold">All Items</span>',width:860},{xtype:"button",scale:"small",cls:"add_catalog_button",style:"left: initial !important;margin: 0 !important;right: 0 !important;top: 20px !important;  padding-top: 15px !important;",height:26,width:25,margin:"20 0 0 0",handler:function(){com.faralam.common.AddNewItem()}},{xtype:"component",style:"left: initial !important;margin: 0 !important;right: 80px !important;top: 20px !important;",height:26,width:25,margin:"20 0 0 0",id:"delete_all_item",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_catalogGroupItem_img" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'}]},{xtype:"container",layout:"hbox",items:[{xtype:"container",width:50,id:"previous_btn"},{xtype:"panel",id:"slide_panel_catalog",style:"left:52px !important",html:g},{xtype:"container",width:50,id:"next_btn"}]}]}]}]});com.faralam.CatalogMenu=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#4F6228 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#CatalogMenu").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"CatalogMenu_pageHeader",html:'<span style="color:#E5FFFF;font-size:20px; font-weight: bold;">View/Edit Menu</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE_blue.png" data-qtip="Coming Soon">']},com.faralam.Catalog_first_part],margin:"0 0 0 0"});this.items=[com.faralam.CatalogMenu];this.callParent()}},0,["CatalogMenu_item"],["container","component","CatalogMenu_item","form","box","panel"],{container:true,component:true,CatalogMenu_item:true,form:true,box:true,panel:true},["widget.CatalogMenu_item"],0,[community_portal.view,"CatalogMenu"],0));(Ext.cmd.derive("community_portal.view.ContestMessage",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span class="required" data-qtip="Required">*</span>';com.faralam.ContestMessage=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"ContestMessageForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#dddeee !important",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_blue.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){if(sessionStorage.contest_type=="POLL"){Ext.getCmp("main_tab").down("#PollContest").setDisabled(false);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(29)}if(sessionStorage.contest_type=="LOYALITY"){Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(true);Ext.getCmp("main_tab").down("#loyality_summery").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(50)}else{Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(false);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(33)}}},{xtype:"component",margin:"0 0 0 0",id:"ContestMessage_pageHeader",html:'<span style="width:920px !important;position: absolute;text-align:center;color:#568;font-size:20px; font-weight: bold;top:0px !important;margin-top:-12px">'+sessionStorage.contest_usrnm+"</span>"},"->","->"]},{xtype:"container",layout:"hbox",style:"width:1030px !important;",items:[{xtype:"container",layout:"vbox",style:"width:790px !important;right: 0 !important;margin-left:110px",items:[{xtype:"container",id:"ContestMessage_reply_container",margin:"10 0 50 15",layout:"vbox",height:700,style:"width:780px !important;",items:[{xtype:"component",id:"ContestMessage_reply_panel",height:586,style:"background:#ccc;width:762px !important;border:6px solid #eee",html:""},{xtype:"container",margin:"1 2 2 2",layout:"hbox",height:60,style:"width:780px !important;",items:[{xtype:"textfield",width:650,height:45,id:"ContestMessage_reply_tf",emptyText:"Type your message here",listeners:{specialkey:function(d,g){if(g.getKey()==g.ENTER){com.faralam.common.sendMessageToUser_contest()}}}},{xtype:"container",defaultType:"button",scale:"medium",width:120,style:"text-align:center;border-radius:none !important",margin:"12 0 0 3",items:[{xtype:"button",text:'<span style="font-weight:bold; color:#fff;">Send</span>',id:"msg_send",scale:"medium",margin:"-3 -5 -5 -40",style:"border:2px solid black;cursor:pointer;background:#9413BF !important;",handler:function(){com.faralam.common.sendMessageToUser_contest()}},{xtype:"hiddenfield",id:"Contest_Usrnm",value:""}]}]}]}]}]}]});a.items=[com.faralam.ContestMessage];a.callParent()}},0,["ContestMessage_item"],["container","ContestMessage_item","component","form","box","panel"],{container:true,ContestMessage_item:true,component:true,form:true,box:true,panel:true},["widget.ContestMessage_item"],0,[community_portal.view,"ContestMessage"],0));(Ext.cmd.derive("community_portal.view.createLoyaltyProgram",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.createLoyaltyProgram=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"createLoyaltyProgramForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#666600 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#createLoyaltyProgram").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"createLoyaltyProgram_pageHeader",html:'<span style="color:#fff;font-size:16px; font-weight: bold;">Create Layalty Program</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",items:[{xtype:"fieldset",title:'<span class="layal_new_label">Current Loyalty Program</span>',collapsible:false,width:960,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 5px 10px; padding: 10px 10px 25px 10px; width: 960px !important;",id:"current_loyalty_program_fieldset",items:[{xtype:"textfield",id:"current_loyalty_program",fieldLabel:"",name:"current_loyalty_program",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:10,inputWidth:790},{xtype:"button",text:'<span style="color:#fff;">Deactivate</span>',scale:"medium",id:"deactivate_current_loyalty_program_btn",margin:"0 0 0 10",style:"cursor:pointer;background:#555555 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.deactivateLoyaltyProgram()}}]},{xtype:"fieldset",title:'<span  class="layal_new_label">New Loyalty Program</span>',collapsible:false,width:960,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 5px 10px; padding: 5px;",id:"new_loyalty_program_fieldset",items:[{xtype:"container",layout:"vbox",margin:"10, 10, 0, 10",items:[{xtype:"component",width:680,height:150,id:"pic_panelloyal_imgs",html:""},{xtype:"textfield",fieldLabel:'<h3 class="layal_new_label">Name</h3>',inputType:"text",name:"loyal_name",allowBlank:false,emptyText:"Enter loyalty name",id:"loyal_name",msgTarget:"none",inputWidth:350,inputHeight:32,margin:"20 0 0 0",labelAlign:"right",labelWidth:175,labelSeparator:"",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"hiddenfield",id:"loyal_itemId",name:"loyal_itemId",value:""},{xtype:"hiddenfield",id:"loyal_itemVersion",name:"loyal_itemVersion",value:""},{xtype:"hiddenfield",id:"loyal_idPrice",name:"loyal_idPrice",value:""},{xtype:"textareafield",fieldLabel:'<h3 class="layal_new_label">Award Message</h3>',labelWidth:175,labelSeparator:"",emptyText:"Enter Message",inputWidth:350,margin:"10 0 0 0",name:"loyal_awardmsg",labelAlign:"right",value:"",width:350,height:100,id:"loyal_awardmsg"},{xtype:"textfield",fieldLabel:'<h3  class="layal_new_label">Count for Award</h3>',inputType:"text",name:"loyal_count_award",allowBlank:false,emptyText:"No. of award",id:"loyal_count_award",msgTarget:"none",inputWidth:350,inputHeight:32,margin:"10 0 0 0",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"vbox",items:[{xtype:"button",text:'<span style="color:#fff;">Activate</span>',scale:"medium",id:"activate_current_loyalty_program_btn",margin:"0 0 0 121",style:"cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){var h=Ext.getCmp("loyal_itemId").getValue();var d=Ext.getCmp("loyal_name").getValue();var e=Ext.getCmp("loyal_awardmsg").getValue();var g=Ext.getCmp("loyal_count_award").getValue();if(h==""){Ext.MessageBox.alert("Information","Select an Item first.")}else{if(d==""||e==""||g==""){Ext.MessageBox.alert("Information","Please fill up all value.")}else{if(isNaN(g)==true){Ext.MessageBox.alert("Information","Please enter only numaric value for Count Award.")}else{if(d!=""||e!=""||g!=""||h!=""){com.faralam.common.createLoyaltyProgram()}else{Ext.MessageBox.alert("Information","Please fill up all value.")}}}}}},{xtype:"container",layout:"vbox",style:"border: 2px solid #0000FF; padding:5px; margin: 5px 0 10px 0;",items:[{xtype:"textfield",inputType:"text",name:"loyal_selected_item_name",allowBlank:false,emptyText:"",id:"loyal_selected_item_name",msgTarget:"none",inputWidth:200,inputHeight:32,margin:"10 0 0 0",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textfield",fieldLabel:'<h3 class="layal_new_label">Price</h3>',inputType:"text",name:"loyal_selected_item_price",allowBlank:false,emptyText:"",id:"loyal_selected_item_price",msgTarget:"none",inputWidth:95,inputHeight:32,margin:"10 0 0 0",labelAlign:"right",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"component",width:200,height:200,margin:"10 0 0 0",id:"loyal_selected_item_image",html:""}]}]}]}]}]});a.items=[com.faralam.createLoyaltyProgram];a.callParent()}},0,["createLoyaltyProgram_item"],["container","component","form","box","createLoyaltyProgram_item","panel"],{container:true,component:true,form:true,box:true,createLoyaltyProgram_item:true,panel:true},["widget.createLoyaltyProgram_item"],0,[community_portal.view,"createLoyaltyProgram"],0));(Ext.cmd.derive("community_portal.view.CreateNewPhotoContest",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.CreateNewPhotoContest=new Ext.FormPanel({style:"background:#DADADA !important;",height:700,id:"CreateNewPhotoContestForm",defaultType:"textfield",defaults:{msgTarget:"none"},items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#006666 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("newPhotoMainContainer").getForm().reset(true);Ext.getCmp("photoQuestion_img").setSrc("");Ext.getCmp("photo_anonymous").setValue(false);Ext.getCmp("photo_agree").setValue(false);$("#photo_anonymous_toggle").attr("checked",false);$("#photo_agree_toggle").attr("checked",false);Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(false);Ext.getCmp("main_tab").down("#CreateNewPhotoContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(33)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Create Photo Content</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"form",layout:"vbox",id:"newPhotoMainContainer",style:"width:980px !important;background:#dadada !important;",items:[{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"width:640px !important;",items:[{xtype:"component",width:640,margin:"25 0 0 45",style:"color:#000 !important;",html:'<div class="create_photo_text">Step 1 Enter Title</div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Contest Title",inputWidth:550,margin:"10 5 0 20",name:"",value:"",id:"newPhotoContestTitle",allowBlank:false},{xtype:"component",width:640,margin:"25 0 0 45",style:"color:#000 !important;",html:'<div class="create_photo_text create_photo_top_margin">Step 2 Enter Description</div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Contest Description / Goal",inputWidth:550,margin:"10 5 0 20",name:"",value:"",id:"newPhotoContestDescription",allowBlank:false}]},{xtype:"container",layout:"vbox",style:"width:340px !important;",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 20",items:[{text:'<span style="color:#fff !important;">Add New Picture</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/photocontest_crop.html")}}]},{xtype:"image",width:160,height:150,src:"",margin:"10 0 0 20",style:"background:#E81212;",id:"photoQuestion_img"}]}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:400,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_photo_text">Step 3 Enter Dates<br><small class="create_small_element">(leave empty for manual activation)</small></div>'},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Activation Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"newPhotoActivationDate",allowBlank:false,format:"Y-m-d"},{xtype:"component",width:30,margin:"10 0 0 0",style:"padding-top: 12px;",html:'<div class="photo_gap"></div>'},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Expiration Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"newPhotoExpirationDate",allowBlank:false,format:"Y-m-d"}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:450,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_photo_text">Step 4 Is This Anonymous</div>'},{xtype:"component",width:200,margin:"10 0 0 50",html:'<div class="photo_switch"><input id="photo_anonymous_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'photo_anonymous\')"><label for="photo_anonymous_toggle"></label></div>'},{xtype:"hiddenfield",id:"photo_anonymous",name:"",value:"false"}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:980,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_photo_text">Step 5 Create Contest <small><b>(you will add prizes next)</b></small></div>'}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 80 20",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 20",items:[{text:'<span style="color:#007AFF !important;">View Terms And Conditions</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){window.open("http://sitelettes.com/termsandconditions","_blank")}}]},{xtype:"component",width:200,margin:"30 0 0 100",style:"color:#000 !important;",html:'<div class="create_photo_text"><small><b>I accept the terms and conditions</b></small></div>'},{xtype:"component",width:60,margin:"20 0 0 40",html:'<div class="photo_switch"><input id="photo_agree_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'photo_agree\')"><label for="photo_agree_toggle"></label></div>'},{xtype:"hiddenfield",id:"photo_agree",name:"",value:"false"},{xtype:"container",defaultType:"button",width:200,style:"text-align:center;",margin:"20 10 0 150",items:[{text:'<span style="color:#fff !important;">Create</span>',style:"background:#007AFF !important;border:2px solid #000 !important;padding:2px 10px !important;",margin:"0 0 0 0",handler:function(){var g=Ext.getCmp("newPhotoContestTitle").getValue();var e=Ext.getCmp("newPhotoContestDescription").getValue();var d=Ext.getCmp("photo_agree").getValue();if(g==""){Ext.MessageBox.alert("Information","Please enter the Photo Contest title")}else{if(e==""){Ext.MessageBox.alert("Information","Please enter the Photo Contest Description.")}else{if(d=="false"){Ext.MessageBox.alert("Information","Please accept the terms and conditions by selecting the checkbox")}else{if(g!=""&&e!=""&&d=="true"){com.faralam.common.createPhoto()}else{Ext.MessageBox.alert("Information","Please enter the photo Contest details")}}}}}}]}]}]}]});a.items=[com.faralam.CreateNewPhotoContest];a.callParent()}},0,["CreateNewPhotoContest_item"],["container","component","form","CreateNewPhotoContest_item","box","panel"],{container:true,component:true,form:true,CreateNewPhotoContest_item:true,box:true,panel:true},["widget.CreateNewPhotoContest_item"],0,[community_portal.view,"CreateNewPhotoContest"],0));(Ext.cmd.derive("community_portal.view.CreateNewPollContest",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.CreateNewPollContest=new Ext.FormPanel({style:"background:#DADADA !important;",height:700,id:"CreateNewPollContestForm",defaultType:"textfield",defaults:{msgTarget:"none"},items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#006666 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#PollContest").setDisabled(false);Ext.getCmp("main_tab").down("#CreateNewPollContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(29)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Create New Poll</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"form",layout:"vbox",id:"newPollMainContainer",style:"width:980px !important;background:#dadada !important;",items:[{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"width:640px !important;",items:[{xtype:"component",width:640,margin:"25 0 0 45",style:"color:#000 !important;",html:'<div class="create_poll_text">Step 1 Enter Title</div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Poll Title",inputWidth:550,margin:"10 5 0 20",name:"",value:"",id:"newPollTitle",allowBlank:false},{xtype:"component",width:640,margin:"25 0 0 45",style:"color:#000 !important;",html:'<div class="create_poll_text create_poll_top_margin">Step 2 Enter Questions</div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Poll Question",inputWidth:550,margin:"10 5 0 20",name:"",value:"",id:"newPollQuestion",allowBlank:false}]},{xtype:"container",layout:"vbox",style:"width:340px !important;",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 20",items:[{text:'<span style="color:#fff !important;">Add New Picture</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/pollcontest_crop.html")}}]},{xtype:"image",width:160,height:150,src:"",margin:"10 0 0 20",style:"background:#E81212;",id:"pollQuestion_img"}]}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:400,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_poll_text">Step 3 Enter Dates<br><small class="create_small_element">(leave empty for manual activation)</small></div>'},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Activation Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"newPollActivationDate",allowBlank:false,format:"Y-m-d"},{xtype:"component",width:30,margin:"10 0 0 0",style:"padding-top: 12px;",html:'<div class="poll_gap"></div>'},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Expiration Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"newPollExpirationDate",allowBlank:false,format:"Y-m-d"}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:450,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_poll_text">Step 4 Is This Anonymous</div>'},{xtype:"component",width:200,margin:"10 0 0 50",html:'<div class="poll_switch"><input id="poll_anonymous_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'poll_anonymous\')"><label for="poll_anonymous_toggle"></label></div>'},{xtype:"hiddenfield",id:"poll_anonymous",name:"",value:"false"}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 0 20",items:[{xtype:"component",width:980,margin:"10 0 0 20",style:"color:#000 !important;",html:'<div class="create_poll_text">Step 5 Create Poll <small><b>(you will add answer choices and prizes next)</b></small></div>'}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",margin:"40 0 80 20",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 20",items:[{text:'<span style="color:#007AFF !important;">View Terms And Conditions</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){window.open("http://sitelettes.com/termsandconditions","_blank")}}]},{xtype:"component",width:200,margin:"30 0 0 100",style:"color:#000 !important;",html:'<div class="create_poll_text"><small><b>I accept the terms and conditions</b></small></div>'},{xtype:"component",width:60,margin:"20 0 0 40",html:'<div class="poll_switch"><input id="poll_agree_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'poll_agree\')"><label for="poll_agree_toggle"></label></div>'},{xtype:"hiddenfield",id:"poll_agree",name:"",value:"false"},{xtype:"container",defaultType:"button",width:200,style:"text-align:center;",margin:"20 10 0 150",items:[{text:'<span style="color:#fff !important;">Create</span>',style:"background:#007AFF !important;border:2px solid #000 !important;padding:2px 10px !important;",margin:"0 0 0 0",handler:function(){var g=Ext.getCmp("newPollTitle").getValue();var d=Ext.getCmp("newPollQuestion").getValue();var e=Ext.getCmp("poll_agree").getValue();if(g==""){Ext.MessageBox.alert("Information","Please enter the poll title")}else{if(d==""){Ext.MessageBox.alert("Information","Please enter the poll question")}else{if(e=="false"){Ext.MessageBox.alert("Information","Please accept the terms and conditions by selecting the checkbox")}else{if(g!=""&&d!=""&&e=="true"){com.faralam.common.createPoll()}else{Ext.MessageBox.alert("Information","Please enter the poll details")}}}}}}]}]}]}]});a.items=[com.faralam.CreateNewPollContest];a.callParent()}},0,["CreateNewPollContest_item"],["container","component","form","CreateNewPollContest_item","box","panel"],{container:true,component:true,form:true,CreateNewPollContest_item:true,box:true,panel:true},["widget.CreateNewPollContest_item"],0,[community_portal.view,"CreateNewPollContest"],0));(Ext.cmd.derive("community_portal.view.CreateOrder",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.CreateOrder=new Ext.FormPanel({style:"background:#56F4B7 !important;",height:700,id:"CreateOrderForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#CreateOrder").setDisabled(true);Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(22)}},"->",{xtype:"component",margin:"0 0 0 -50",html:'<span style="color:#000;font-size:20px; font-weight: bold;">New Order</span>'},"->"]},{xtype:"panel",html:'<div class="area"></div>'},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",layout:"column",items:[{xtype:"container",layout:"vbox",style:"max-width:256px !important;",items:[{xtype:"displayfield",value:'<span style="float:left;color:#000;font-style: italic;font-weight: bold;font-size:16px;">Choose Item</span>'},{xtype:"panel",style:"max-width:256px !important;",id:"pic_panelCreateItem",html:""}]},{xtype:"container",layout:"vbox",style:"max-width: 600px !important;padding-left: 50px;",id:"newOrderRightContainer",items:[{xtype:"container",layout:"hbox",style:"max-width:600px !important;",items:[{xtype:"container",layout:"vbox",style:"width:200px;",items:[{xtype:"displayfield",value:'<span style="float:left;color:#000;font-style: italic;font-weight: bold;font-size:16px;">Add Item</span>'},{xtype:"button",scale:"small",cls:"add_catalog_button",height:26,width:25,style:"margin-top:50px;",handler:function(){var d=Ext.getCmp("orderItemCount").getValue();Ext.getCmp("orderItemCount").setValue(d+1)}},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"numberfield",id:"orderItemCount",fieldLabel:"",name:"orderItemCount",allowBlank:false,msgTarget:"none",labelWidth:1,inputWidth:30,labelSeparator:"  ",hideTrigger:true,minValue:1,value:1,readOnly:true,style:" background:#fff !important;border:none !important;box-shadow:none !important;color:#000"},{xtype:"button",scale:"small",text:"Add",style:" border-radius: 0px !important;cursor:pointer;background:#fff !important;border:none !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:50,margin:"0 0 0 10",handler:function(){var l=parseInt($(".overview")[0].style.top,10);l=Math.abs(l);l=Math.round(l);var g=(l/127)+1;var n=$("#item-"+g+"")[0].getAttribute("itemname");var k=$("#item-"+g+"")[0].getAttribute("price");var h=$("#item-"+g+"")[0].getAttribute("itemversion");var d=$("#item-"+g+"")[0].getAttribute("priceid");var m=$("#item-"+g+"")[0].getAttribute("itemid");var e=Ext.getCmp("orderItemCount").getValue();$("#order_item_table").append('<tr priceid="'+d+'" itemid="'+m+'" itemversion="'+h+'" quantity="'+e+'" ><td style="width:127px;">'+n+'</td><td style="width:64px;text-align: center;">$ '+k+'</td><td style="width:53px;text-align: center;">'+e+'</td><td style="width:68px;text-align: center;">$ '+k*e+'</td><td style="width:54px;text-align: center;"><img src="'+com.faralam.custom_img_path+'/cross.png" onclick="com.faralam.common.removePlacedItem(this)" style="cursor: pointer;"/></td></tr>');$("#order_item_table").perfectScrollbar("destroy");$("#order_item_table").perfectScrollbar()}}]},{xtype:"button",scale:"small",margin:"10 0 0 0",cls:"delete_catalog_button",height:26,width:25,handler:function(){var d=Ext.getCmp("orderItemCount").getValue();if(d>1){Ext.getCmp("orderItemCount").setValue(d-1)}}}]},{xtype:"container",layout:"vbox",margin:"0 0 0 25",items:[{xtype:"displayfield",value:'<span style="float:left;color:#000;font-style: italic;font-weight: bold;font-size:16px;">Items in order</span>'},{xtype:"panel",style:"max-width:377px !important;width:377px;margin-top: 35px;",html:'<table id="order_item_table"></table>'}]}]},{xtype:"container",style:"max-width:570px !important;height:350px;width:570px;",items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",defaultType:"button",width:90,style:"text-align:center;margin: 20px 0 0 365px;right: 0 !important;top: 20px;left: initial !important;",items:[{text:"Submit",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.SubmitUserOrder();if(this.up("form").getForm().isValid()){}}}]},{xtype:"displayfield",value:'<span style="float:left;color:#000;font-style: italic;font-weight: bold;font-size:16px;">Customer Details</span>'},{xtype:"container",layout:"vbox",padding:"5 5 5 5",style:"background:#169C2D;width:570px;",items:[{xtype:"container",layout:"hbox",items:[{xtype:"container",layout:"vbox",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Adhoc</span>'},{xtype:"hiddenfield",id:"adhoc_enable",name:"",value:"false"},{xtype:"component",style:"width: 230px;text-align: center;display: table-cell;vertical-align: bottom;padding: 0 5px; height: 77px;",html:'<div class="switch_email"><input id="adhoc_switch_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.clicktocallSwitchCheckbox(this, \'adhoc_enable\')"><label for="adhoc_switch_toggle"></label></div>'}]},{xtype:"container",layout:"vbox",margin:"0 0 0 10",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Customer Name</span>'},{xtype:"textfield",id:"custName",fieldLabel:"",name:"custName",allowBlank:false,emptyText:"Customer Name",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:230,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]}]},{xtype:"container",layout:"hbox",items:[{xtype:"container",layout:"vbox",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Telephone</span>'},{xtype:"textfield",id:"custTelephone",fieldLabel:"",name:"custTelephone",allowBlank:false,emptyText:"Telephone",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:230,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"vbox",margin:"0 0 0 10",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Email</span>'},{xtype:"textfield",id:"custEmail",fieldLabel:"",name:"custEmail",allowBlank:false,emptyText:"Email",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:230,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]}]}]}]}]}]}]}]});a.items=[com.faralam.CreateOrder];a.callParent()}},0,["CreateOrder_item"],["container","component","form","CreateOrder_item","box","panel"],{container:true,component:true,form:true,CreateOrder_item:true,box:true,panel:true},["widget.CreateOrder_item"],0,[community_portal.view,"CreateOrder"],0));(Ext.cmd.derive("community_portal.view.EditOnlineOrder",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.EditOnlineOrder=new Ext.FormPanel({style:"background:#994813 !important;",height:700,id:"EditOnlineOrderForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(false);Ext.getCmp("main_tab").down("#EditOnlineOrder").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(22)}},"->",{xtype:"component",margin:"0 0 0 -50",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Edit Order Item</span>'},"->"]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",layout:"column",items:[{xtype:"container",layout:"vbox",style:"max-width:900px !important;",items:[{xtype:"container",layout:"hbox",style:"max-width:900px !important;",items:[{xtype:"component",style:"color:#000;width:200px !important",id:"order_com",margin:"0 0 0 10",html:'<p style="color:#000 !important">Order </p>'},{xtype:"component",style:"color:#000;width:200px !important",id:"customer_com",margin:"0 0 0 10",html:'<p style="color:#000 !important">Customer </p>'},{xtype:"button",style:"background:#fff !important;",scale:"small",margin:"0 0 0 10",text:'<span style="color:#000;">Msg</span>',width:50,height:30,handler:function(){Ext.MessageBox.alert("Coming soon")}},{xtype:"component",style:"color:#000;width:150px !important",id:"count_com",margin:"0 0 0 10",html:'<p style="color:#000 !important">Item Count </p>'},{xtype:"button",scale:"medium",margin:"0 0 0 50",style:"background:#3459A0 !important;",text:'<span style="color:#fff;">Add Item</span>',cls:"gallery_next",handler:function(){com.faralam.common.itemPopupSec("AddItem","","","","","")}}]},{xtype:"panel",id:"edit_slide_panel_order",margin:"50 0 0 0",style:"max-width:900px !important;",html:'<table width="900px" height="45px" border="0" bgcolor="#994813"><tr><td width="224px" align="left" valign="top" class="order_table_header">Item</td><td width="112px" align="left" valign="top" class="order_table_header">Price</td><td width="112px" align="left" valign="top" class="order_table_header">Qty</td><td width="224px" align="left" valign="top" class="order_table_header">Total</td><td width="224px" align="left" valign="top" class="order_table_header">Comment</td></table>'},{xtype:"container",layout:"hbox",items:[{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Cancel Entire Order</span>',style:" border-radius: 5px !important;cursor:pointer;background:#FF0000 !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:30,width:200,margin:"50 0 0 40",handler:function(){com.faralam.common.cancelOrder()}}]}]}]}]});a.items=[com.faralam.EditOnlineOrder];a.callParent()}},0,["EditOnlineOrder_item"],["container","component","form","EditOnlineOrder_item","box","panel"],{container:true,component:true,form:true,EditOnlineOrder_item:true,box:true,panel:true},["widget.EditOnlineOrder_item"],0,[community_portal.view,"EditOnlineOrder"],0));(Ext.cmd.derive("community_portal.view.EditRestaurant",Ext.form.Panel,{items:[],autoScroll:true,initComponent:function(){var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a=this;com.faralam.EditNameAddressForm=new Ext.FormPanel({id:"edit_name_address_form",defaults:{msgTarget:"none",labelAlign:"right",labelWidth:150},items:[{xtype:"toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#name_address").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"image",width:85,height:30,id:"edit_restaurant_business_name",style:"margin-left:0.5% !important;",src:""},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"padding:3% 0;margin: 1% auto 0;text-align:center;max-width:1000px !important;",cls:"common_bg",items:[{xtype:"component",html:"<h2>Edit Business Details</h2>"},{xtype:"toolbar",items:["->",{text:'<span style="color:#000;">Save</span>',style:"background: none repeat scroll 0 0 #37ca7a !important;",cls:"tlb_txt_clr",handler:function(){var d=true;if(Ext.getCmp("edit_hidden_field_for_friendly_url").getValue()==1){d=false}if(com.faralam.EditNameAddressForm.isValid()&&d){com.faralam.UpdateSaSlInfo(com.faralam.EditNameAddressForm.getForm().getValues())}}}]},{xtype:"container",layout:"column",margin:"20 0 0 0",items:[{xtype:"form",defaultType:"textfield",id:"edit_res_form",defaults:{inputWidth:225,msgTarget:"none",margin:0,labelAlign:"right",labelWidth:150},style:"padding-left: 25%;float:left;",columnWidth:2/3,items:[{xtype:"hiddenfield",value:"",id:"edit_hidden_field"},{xtype:"component",html:"Optional mobile site URL http://communitylive.co/m/#URLSuffix",style:"text-align:center;margin: 0 0 10px 0;"},{fieldLabel:"URL Suffix",emptyText:"(URLsuffix)",name:"custom_url",id:"edit_friendly_url",margin:"5 0 0 0",listeners:{blur:function(e,g,d){Ext.getCmp("edit_custom_url_msg").setValue("<span>&nbsp;</span>");if(this.getValue()){com.faralam.is_friendly_url_available(this.getValue(),"edit")}}}},{xtype:"hiddenfield",value:"0",id:"edit_hidden_field_for_friendly_url"},{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:"",id:"edit_custom_url_msg",value:""},{fieldLabel:"E-mail",emptyText:"(Enter email address)",name:"res_email_addr",id:"edit_res_email_addr",afterLabelTextTpl:b,allowBlank:false,vtype:"email",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("edit_res_email_addr_err");d.setValue("");if(g){if(k.getValue().length>0){d.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"displayfield",name:"res_email_addr_err",id:"edit_res_email_addr_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Telephone Number",emptyText:"(Enter Telephone Number)",name:"res_tel_number",id:"edit_res_tel_number",afterLabelTextTpl:b,allowBlank:false,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("edit_restaurant_tel_number_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}},keydown:function(g,h,d){com.faralam.FormatPhone(h,g)}}},{xtype:"displayfield",name:"restaurant_tel_number_err",id:"edit_restaurant_tel_number_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Number",emptyText:"(Enter Number)",name:"house_number",id:"edit_house_number",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_number_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_number_err",id:"edit_restaurant_number_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Street",emptyText:"(Enter Street)",name:"street",id:"edit_street",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_street_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_street_err",id:"edit_restaurant_street_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"(line 2)",emptyText:"",name:"line2",id:"edit_line2"},{fieldLabel:"City",emptyText:"(Enter City)",name:"city",id:"edit_city",afterLabelTextTpl:b,allowBlank:false,margin:"10 0 0 0",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_city_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_city_err",id:"edit_restaurant_city_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{xtype:"fieldcontainer",layout:"hbox",id:"edit_state_zip",defaultType:"textfield",defaults:{labelAlign:"right",labelWidth:150},items:[{fieldLabel:"State",emptyText:"(Enter State)",width:250,name:"state",afterLabelTextTpl:b,allowBlank:false,id:"edit_restaurant_state",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_state_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{fieldLabel:"Zip",emptyText:"(Enter Zip)",labelWidth:30,width:130,maskRe:/[0-9.]/,minLength:5,maxLength:5,msgTarget:"none",name:"zip",id:"edit_restaurant_zip",afterLabelTextTpl:b,allowBlank:false,listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("restaurant_addr_zip_err");d.setValue("");if(g){if(k.getValue().length>0){if(k.getValue().length!=k.minLength){d.setValue('<span style="color:#CF4C35;">zip should be five characters</span>')}}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}}]},{xtype:"container",layout:"hbox",defaultType:"displayfield",defaults:{fieldLabel:"&nbsp;",value:"&nbsp;",labelSeparator:"",labelAlign:"right",labelWidth:150},items:[{name:"restaurant_state_err",id:"edit_restaurant_state_err",inputWidth:120},{name:"restaurant_addr_zip_err",id:"edit_restaurant_addr_zip_err",labelWidth:10}]},{fieldLabel:"Country",emptyText:"(Enter Country)",name:"country",id:"edit_country",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_country_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_country_err",id:"edit_restaurant_country_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""}]},{xtype:"container",columnWidth:1/3,defaults:{labelAlign:"right",labelWidth:150},items:[{xtype:"textfield",fieldLabel:"Promo Code",emptyText:"(promoCode)",name:"restaurant_promo_code",id:"edit_restaurant_promo_code",margin:"10 0 0 0"},{xtype:"component",html:"If Event, enter start/end dates",style:"text-align: center;margin-top:40%;"},{xtype:"form",id:"edit_restaurant_event",defaultType:"datefield",margin:"10 0 0 0",defaults:{labelAlign:"right",labelWidth:150},items:[{fieldLabel:"Start Date",emptyText:"(Date)",id:"edit_restaurant_start_date",allowBlank:true,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_start_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_start_err",id:"edit_restaurant_start_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"End Date",emptyText:"(Date)",id:"edit_restaurant_end_date",allowBlank:true,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_end_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_end_err",id:"edit_restaurant_end_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""}]}]}]}]},{xtype:"hiddenfield",value:"",id:"edit_hidden_business_entry"},{xtype:"hiddenfield",value:"",id:"edit_hidden_restaurant_business"}]});a.items=[com.faralam.EditNameAddressForm];a.callParent()}},0,["edit_restaurant"],["container","component","form","box","edit_restaurant","panel"],{container:true,component:true,form:true,box:true,edit_restaurant:true,panel:true},["widget.edit_restaurant"],0,[community_portal.view,"EditRestaurant"],0));(Ext.cmd.derive("community_portal.view.EventsService",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b;var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';EditEvent=function(l){console.log(l);var g=l.getAttribute("status");var m=l.getAttribute("alldata");var h=l.getAttribute("eventType");var k=l.getAttribute("uuid");console.log(k);if(!b){var n=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"hiddenfield",id:"longDescription",name:"",value:""},{xtype:"hiddenfield",id:"allDay",name:"",value:""},{xtype:"hiddenfield",id:"uuid",name:"",value:""},{xtype:"hiddenfield",id:"rating",name:"",value:""},{xtype:"hiddenfield",id:"www",name:"",value:""},{xtype:"hiddenfield",id:"email",name:"",value:""},{xtype:"hiddenfield",id:"telephone",name:"",value:""},{xtype:"hiddenfield",id:"externalId",name:"",value:""},{xtype:"hiddenfield",id:"number",name:"",value:""},,{xtype:"hiddenfield",id:"street",name:"",value:""},{xtype:"hiddenfield",id:"city",name:"",value:""},,{xtype:"hiddenfield",id:"state",name:"",value:""},,{xtype:"hiddenfield",id:"country",name:"",value:""},{xtype:"container",layout:"hbox",height:40,width:500,items:[{xtype:"container",defaultType:"button",width:80,id:"editevent_share_btn",style:"text-align:center;display: inline-block;",margin:"0 0 0 0",items:[{text:'<span style="color:#FFFFFF !important;">Share</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"editevent_share",margin:"0 0 0 0",handler:function(){var e=l.getAttribute("shareURL");com.faralam.common.OpenShare(e,k)}}]},{xtype:"container",defaultType:"button",width:80,id:"editevent_terminate_btn",style:"text-align:center;display: inline-block;",margin:" 0 0 0 80",items:[{text:'<span style="color:#FFFFFF !important;">Terminate</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"editevent_terminate",margin:"0 0 0 0",handler:function(){com.faralam.common.deactivateEvent()}}]},{xtype:"container",defaultType:"button",width:80,id:"editevent_active_btn",style:"text-align:center;display: inline-block;",margin:"0 0 0 0",scale:"medium",items:[{text:'<span style="color:#FFFFFF !important;">Activate</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"editevent_active",margin:"0 0 0 0",handler:function(){var e=Ext.getCmp("hidden_event_id").getValue();com.faralam.common.activateEvent(e,1)}}]},{xtype:"container",defaultType:"button",width:80,id:"editevent_save_btn",style:"text-align:center;display: inline-block;",items:[{text:'<span style="color:#FFFFFF !important;">Save</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"editevent_save",margin:" 0 0 0 80",handler:function(){var u=Ext.getCmp("editeventname").getValue();var t=Ext.getCmp("editeventstdate").getValue();var q=Ext.getCmp("editeventsttime").getValue();var r=Ext.getCmp("editeventendate").getValue();var o=Ext.getCmp("editevententime").getValue();var e=Ext.getCmp("editeventtype").getValue();if(u==""||t==""||t==null||q==null||q==""||r==""||r==null||o==null||o==""||e==""){Ext.MessageBox.alert("Information","Please enter the Required Firlds. ")}else{com.faralam.common.updateEventMetaData()}}}]}]},{xtype:"container",layout:{type:"table",columns:2,tableAttrs:{style:"width: 100%, background-color: #FFFFFF"}},items:[{xtype:"container",layout:{type:"table",columns:1,tableAttrs:{style:{width:"100%"}}},tdAttrs:{style:{width:"75%"}},items:[{xtype:"container",layout:{type:"table",columns:3,tableAttrs:{style:{width:"100%"}}},items:[{tdAttrs:{style:{width:"33%"}},xtype:"container",style:"text-align:left;",items:[{xtype:"hiddenfield",id:"hidden_event_id",name:"hidden_event_id",value:""},{xtype:"container",layout:"vbox",margin:"0 0 0 0",id:"editeventScrollContainer",style:"background-color:#ffffff;width:780px !important; height: 550px; overflow:hidden; padding: 10px;",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Event Name</h3>',inputType:"text",name:"editeventname",allowBlank:false,emptyText:"",id:"editeventname",msgTarget:"none",inputWidth:650,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",layout:"hbox",style:"width:780px !important;",items:[{xtype:"datefield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Date / Time</h3>',inputType:"text",name:"editeventstdate",emptyText:"Start Date",allowBlank:false,id:"editeventstdate",msgTarget:"none",inputWidth:120,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",format:"Y-m-d"},{xtype:"timefield",inputType:"text",name:"editeventsttime",emptyText:"Start Time",allowBlank:false,id:"editeventsttime",inputWidth:120,inputHeight:32,margin:"5 5 5 5",increment:5,style:" border-radius: 3px !important;padding: 5px !important;",format:"H:i:s A"},{xtype:"datefield",fieldLabel:"",inputType:"text",name:"editeventendate",emptyText:"End Date",allowBlank:false,id:"editeventendate",msgTarget:"none",inputWidth:120,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",format:"Y-m-d"},{xtype:"timefield",inputType:"text",name:"editevententime",emptyText:"End Time",allowBlank:false,id:"editevententime",inputWidth:120,inputHeight:32,margin:"5 5 5 5",increment:5,style:" border-radius: 3px !important;padding: 5px !important;",format:"H:i:s A"}]},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">One - Liner</h3>',inputType:"text",name:"editeventoneliner",allowBlank:false,emptyText:"",id:"editeventoneliner",msgTarget:"none",inputWidth:650,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:100,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",layout:"hbox",style:"width:780px !important;",items:[{xtype:"container",layout:"vbox",style:"width:390px !important;",items:[{xtype:"combo",id:"editeventtype",name:"editeventtype",editable:true,margin:"5 5 85 5",labelWidth:100,labelAlign:"right",allowBlank:false,emptyText:"Choose Event Type",inputWidth:250,inputHeight:32,value:"",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Event Type</h3>',mode:"remote",displayField:"displayText",valueField:"enumText",store:Ext.create("Ext.data.Store",{fields:[{name:"enumText"},{name:"displayText"}],autoLoad:true,proxy:{type:"ajax",url:com.faralam.serverURL+"reservations/getEventTypes?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL,reader:{type:"json",root:"rows"}}})}]},{xtype:"container",layout:"vbox",style:"width:390px !important;",items:[{xtype:"container",layout:"hbox",style:"width 390px !important; margin-left:85px !important;",items:[{xtype:"container",defaultType:"button",width:100,style:"text-align:center;",margin:"10 0 0 0",items:[{text:'<span style="color:#FFFFFF !important;">Add New Image</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/editevent_crop.html")}}]},{xtype:"image",width:130,height:100,src:"",margin:"10 0 0 20",style:"background:#007AFF;",id:"editevent_image"}]}]}]}]}]}]}]}]}]});b=Ext.widget("window",{title:"Edit Events",id:"editEvents",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:800,height:400,items:n,listeners:{close:function(){}}})}b.show();if(g=="ACTIVE"||g=="PROPOSED"){if(g=="ACTIVE"){Ext.getCmp("editeventScrollContainer").el.setStyle({backgroundColor:"#cccccc"});Ext.getCmp("editeventScrollContainer").setDisabled(true);Ext.getCmp("editevent_save_btn").hide(500);Ext.getCmp("editevent_active_btn").hide(500);Ext.getCmp("editevent_terminate_btn").show(500);Ext.getCmp("editevent_share_btn").show(500)}else{Ext.getCmp("editeventScrollContainer").el.setStyle({backgroundColor:"#ffffff"});Ext.getCmp("editeventScrollContainer").setDisabled(false);Ext.getCmp("editevent_save_btn").show(500);Ext.getCmp("editevent_active_btn").show(500);Ext.getCmp("editevent_terminate_btn").hide(500);Ext.getCmp("editevent_share_btn").hide(500)}}com.faralam.common.getEventByUUID(l)};com.faralam.EventsService=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"EventsServiceForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#990000 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#EventsService").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 10",id:"EventsService_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;padding-top:3px;">Event</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE_blue.png" data-qtip="Coming Soon">']},{xtype:"container",layout:"vbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"height:300px!important;width:980px !important;",items:[{xtype:"button",margin:"30 0 30 795",text:'<span style="color:#fff;">Create New Event</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("main_tab").down("#createNewEvent").setDisabled(false);Ext.getCmp("main_tab").down("#EventsService").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(46)}}]},{xtype:"container",layout:"vbox",id:"eventComponentContainer",style:"height:600px !important; width:980px !important; padding:50px; overflow:visible !important;",items:[{xtype:"component",id:"eventComponent",margin:"0 0 0 0",style:"height:600px !important; width:980px !important; overflow:visible !important;",html:""}]}]}]});a.items=[com.faralam.EventsService];a.callParent()}},0,["EventsService_item"],["container","component","form","box","panel","EventsService_item"],{container:true,component:true,form:true,box:true,panel:true,EventsService_item:true},["widget.EventsService_item"],0,[community_portal.view,"EventsService"],0));(Ext.cmd.derive("community_portal.view.Gallery",Ext.form.Panel,{items:[],autoScroll:true,initComponent:function(){var d=this;var a="";a='<ul class="images"><li></li></ul>';var b="";b="<ul><li></li></ul>";com.faralam.Gallery_first_part=new Ext.FormPanel({style:"background: #101010 !important;max-height:700px !important;",id:"gallery1",defaults:{msgTarget:"none"},items:[{xtype:"container",cls:"common_bg",style:"padding:1% 0;width:100% !important;",layout:"column",items:[{xtype:"container",layout:"vbox",columnWidth:2/4,items:[{xtype:"container",layout:"hbox",items:[{xtype:"button",style:"background:#fff !important;",scale:"large",margin:"0 0 0 20",text:'<span style="color:#000;">Refresh</span>',width:100,height:40,handler:function(){com.faralam.common.retrieveMediaMetaDataBySASL(sessionStorage.SA,sessionStorage.SL);com.faralam.common.retrieveMobileGalleryInfo(sessionStorage.SA,sessionStorage.SL);com.faralam.common.retrieveMemberMediaMetaDataBySASL(sessionStorage.SA,sessionStorage.SL)}},{xtype:"button",scale:"large",margin:"0 0 0 200",text:'<span style="color:#000;">Add New Picture</span>',cls:"gallery_next",handler:function(){com.faralam.getCropPicURLs("resources/plugins/croppic/croppicoverlay.html")}}]},{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin: 20px 30px;font-style: italic;font-size: 15px;font-weight: normal;width:420px;">Drag and drop from rows below to the vertical row on the right to activate a picture.</span>'},{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px 30px;font-style: italic;">Your Pictures</span><img src="'+com.faralam.custom_img_path+'album.png" width="30" height="30" style="margin: 5px 0 0 0;">'},{xtype:"panel",id:"slide_panel",margin:"0 0 0 20",html:a},{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px 30px;font-style: italic;">User Pictures</span><img src="'+com.faralam.custom_img_path+'user.png" width="30" height="30" style="margin: 5px 0 0 0;">',margin:"50 0 0 0"},{xtype:"panel",id:"slide_panel1",margin:"5 0 0 20",style:{padding:"10px"},html:b},{xtype:"component",margin:"50 0 100 250",id:"delete_zone",html:'<span style="color: #fff;margin:0 10px 0 0; font-weight:bold;">Drag and drop to delete</span><img ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="drop_element" src="'+com.faralam.custom_img_path+'trash.png" widht="26" height="26" border="0">'}]},{xtype:"panel",html:b,id:"mobile_gallery",columnWidth:1/6,style:"width:180px !important;"},{xtype:"container",layout:"vbox",columnWidth:1/4,items:[{xtype:"form",layout:"vbox",padding:"10 10 5 10",style:{border:"1px solid #fff;"},id:"gallery_picture_frm",items:[{xtype:"fieldset",title:"Title",collapsible:false,defaults:{anchor:"100%"},layout:"anchor",items:[{xtype:"textfield",inputWidth:180,id:"gallery_show_image_title",name:"gallery_show_image_title",style:"border:none !important;",value:""}]},{xtype:"image",width:200,height:150,src:"",style:"border: 1px solid #fff;margin: 3px 0 0 0;",id:"gallery_show_image"},{xtype:"fieldset",title:"Description",collapsible:false,defaults:{anchor:"100%"},layout:"anchor",style:"margin: 3px 0 0 0;",items:[{xtype:"textareafield",id:"gallery_textarea",name:"gallery_textarea",style:"border:none !important;",height:200,width:180,value:""}]},{xtype:"hiddenfield",value:"",name:"gallery_picture_id",id:"gallery_picture_id"},{xtype:"button",text:'<span style="color:#000;">Save</span>',id:"gallery_save_pic_txt",style:"marging-top:3px;margin-left: .35%;",handler:function(){var e=Ext.getCmp("gallery_picture_frm").getForm().getValues();var g=JSON.parse(Ext.getCmp("mediametadata").getValue());if(e.gallery_show_image_title){com.faralam.common.setGalleryTitle(e.gallery_picture_id,g.serviceAccommodatorId,g.serviceLocationId,e.gallery_show_image_title)}if(e.gallery_textarea){com.faralam.common.setGalleryMessage(e.gallery_picture_id,g.serviceAccommodatorId,g.serviceLocationId,e.gallery_textarea)}}}]}]}]},{xtype:"hiddenfield",value:"",name:"mediametadata",id:"mediametadata"}]});com.faralam.Gallery=Ext.create("Ext.form.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#gallery").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"gallery_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Gallery</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.Gallery_first_part],margin:"0 0 0 0",id:"gallery_upload"});d.items=[com.faralam.Gallery];d.callParent()}},0,["gallery"],["container","component","form","box","panel","gallery"],{container:true,component:true,form:true,box:true,panel:true,gallery:true},["widget.gallery"],0,[community_portal.view,"Gallery"],0));(Ext.cmd.derive("community_portal.view.HtmlEmailService",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.HtmlEmailService=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"HtmlEmailServiceForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#HtmlEmailService").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"HtmlEmailService_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">News Letter</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE_blue.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"height:600px!important;width:980px !important;",items:[{xtype:"button",margin:"30 0 30 795",text:'<span style="color:#fff;">Preview and Send</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.newsLetterPopup()}}]}]}]});a.items=[com.faralam.HtmlEmailService];a.callParent()}},0,["HtmlEmailService_item"],["container","component","form","box","panel","HtmlEmailService_item"],{container:true,component:true,form:true,box:true,panel:true,HtmlEmailService_item:true},["widget.HtmlEmailService_item"],0,[community_portal.view,"HtmlEmailService"],0));(Ext.cmd.derive("community_portal.view.Login",Ext.form.Panel,{items:[],initComponent:function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;Ext.tip.QuickTipManager.init();function a(){if(!d){var g=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var h=this.up("form").getForm().getValues();var k=h.email_for_password;com.faralam.SendEmailForResetPassword(k)}}}]},{fieldLabel:"Enter your email",afterLabelTextTpl:e,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"email_for_password",id:"email_for_password",emptyText:"(enter your email)",name:"email_for_password",fieldStyle:"color:#000 !important;"}]});d=Ext.widget("window",{title:"Password Recovery",id:"win_frwrd",closeAction:"hide",layout:"fit",resizable:true,modal:true,items:g,defaultFocus:"new_user_id",listeners:{close:function(){g.getForm().reset()}}})}d.show()}var b=this;b.items=[{xtype:"component",cls:"common_toolbar",style:"font-weight: bold;padding: 2px 15px;text-align:center;",html:'<span style="color:#000;font-size:20px;">Dashboard LITE</span><img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'},{xtype:"container",layout:"hbox",style:"margin:50px auto;max-width:100% !important;",items:[{xtype:"container",id:"login_left",style:"border:1px solid #000;",width:320,height:230,items:[{xtype:"component",html:'<h3 style="font-size: 17px;line-height: 30px;color:#000;font-weight: lighter;">Please use the username or email address you used to sign up. If you don\'t have an account, you can create one at</h3><br/><h3 style="text-align: center;"><a href="http://apploom.com" target="_blank" style="font-weight: lighter;color:#000;text-decoration: none;">http://apploom.com</a></h3>',padding:"20 20 20 30"}]},{xtype:"form",defaultType:"textfield",defaults:{msgTarget:"none",inputWidth:176,margin:"0 0 0 0",labelAlign:"right",labelWidth:150},id:"login_right",style:"padding:10px;",width:390,height:230,items:[{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:""},{fieldLabel:"User Id or E-Mail",name:"email",afterLabelTextTpl:e,allowBlank:false,emptyText:"(enter your User Id or email)",id:"email",listeners:{validitychange:function(l,k,h){var g=Ext.getCmp("login_err");g.setValue("");if(!k){g.setValue('<span style="color:#CF4C35;">'+l.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"login_err",id:"login_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Password",inputType:"password",name:"password",afterLabelTextTpl:e,allowBlank:false,emptyText:"(enter your password)",minLength:6,id:"password",listeners:{errorchange:function(l,h,k){var g=Ext.getCmp("login_pass_err");g.setValue("");if(h){if(l.getValue().length>0){g.setValue('<span style="color:#CF4C35;">minimum length six</span>')}else{g.setValue('<span style="color:#CF4C35;">'+h+"</span>")}}}}},{xtype:"displayfield",name:"login_pass_err",id:"login_pass_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{xtype:"fieldcontainer",fieldLabel:"Demo Mode",defaultType:"checkboxfield",margin:"0 0 0 10",items:[{name:"access_mode",id:"access_mode",listeners:{click:{element:"el",fn:function(){var g=Ext.getCmp("access_mode").getValue();console.log(g);if(g===true){Ext.getCmp("email").setValue("");Ext.getCmp("password").setValue("")}else{Ext.getCmp("email").setValue("");Ext.getCmp("password").setValue("")}}}}}]},{xtype:"button",text:"Forgot Password",height:27,margin:"10 10 10 10",handler:a},{xtype:"button",width:59,height:27,margin:"10 10 10 10",id:"login_btn",listeners:{click:{element:"el",fn:function(){if(b.isValid()){com.faralam.loginValues=b.getValues();com.faralam.loginEmailValue=com.faralam.loginValues.email;com.faralam.loginPasswordValue=com.faralam.loginValues.password;if(com.faralam.loginValues.access_mode){com.faralam.loginAccessModeValue="demo"}else{com.faralam.loginAccessModeValue="live"}com.faralam.registration.login(com.faralam.loginEmailValue,com.faralam.loginPasswordValue,com.faralam.loginAccessModeValue)}}},afterRender:function(h,g){this.keyNav=Ext.create("Ext.util.KeyNav",this.el,{enter:function(){if(b.isValid()){com.faralam.loginValues=b.getValues();com.faralam.loginEmailValue=com.faralam.loginValues.email;com.faralam.loginPasswordValue=com.faralam.loginValues.password;com.faralam.registration.login(com.faralam.loginEmailValue,com.faralam.loginPasswordValue)}},scope:this})},focus:function(){this.getEl().dom.style.opacity="0.6"},blur:function(){this.getEl().dom.style.opacity="1"}}}]}]}];b.callParent()}},0,["login"],["container","component","form","box","panel","login"],{container:true,component:true,form:true,box:true,panel:true,login:true},["widget.login"],0,[community_portal.view,"Login"],0));(Ext.cmd.derive("community_portal.view.Restaurant",Ext.form.Panel,{items:[],autoScroll:true,initComponent:function(){var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a=this;com.faralam.NameAddressForm=new Ext.FormPanel({id:"name_address_form",defaults:{msgTarget:"none",labelAlign:"right",labelWidth:150},items:[{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{xtype:"button",scale:"large",text:'<span style="color:#000;">Logout</span>',width:100,height:32,style:"margin:10px;",handler:function(){com.faralam.UserLogOut()}},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"padding:3% 0;margin: 1% auto 0;text-align:center;max-width:1000px !important;",cls:"common_bg",items:[{xtype:"component",html:"<h2>STEP3: Find your business/event, or just create it from scratch.</h2>"},{xtype:"toolbar",items:["->",{text:'<span style="color:#000;">Add</span>',id:"next",disabled:true,handler:function(){var d=true;if(Ext.getCmp("hidden_field_for_friendly_url").getValue()==1){d=false}if(Ext.getCmp("res_select1").getValue()&&d){if(com.faralam.NameAddressForm.isValid()){com.faralam.createAndClaimOwnership()}}else{if(com.faralam.NameAddressForm.isValid()&&d){var e=Ext.getCmp("hidden_field").getValue().split(",");com.faralam.claimOwnership(e[0],e[1])}}}}]},{xtype:"combo",fieldLabel:"What type of Business/Event",name:"restaurant_business",id:"restaurant_business",emptyText:"(Type of Business)",blankText:"Please select Domain",afterLabelTextTpl:b,labelWidth:250,allowBlank:false,queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:true,editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(g){var d=[];var e=0;Ext.each(g,function(h){d.push([]);d[e].push(new Array(1));d[e]["value"]=h.displayText;d[e]["value1"]=h.enumText;e=e+1});g=d;return g}}}}),listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("gallery_event_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"gallery_event_err",id:"gallery_event_err",fieldLabel:"&nbsp;",labelWidth:250,value:"",labelSeparator:""},{xtype:"container",layout:"hbox",style:"width: 100%",defaultType:"radio",defaults:{flex:1},margin:"0 0 0 60",items:[{boxLabel:'<span style="color:#fff;">Create your business listing from scratch</span>',name:"res_select",inputValue:"res_select1",id:"res_select1",margin:"0 0 0 5",handler:function(d){Ext.getCmp("zip").reset();if(Ext.getCmp("res_select1").value){Ext.getCmp("restaurant_name").reset();Ext.getCmp("restaurant_name").setDisabled(true);Ext.getCmp("next").setDisabled(false);Ext.getCmp("enter_zip").setDisabled(true);Ext.getCmp("res_email_addr").setDisabled(false);Ext.getCmp("house_number").setDisabled(false);Ext.getCmp("res_tel_number").setDisabled(false);Ext.getCmp("street").setDisabled(false);Ext.getCmp("line2").setDisabled(false);Ext.getCmp("city").setDisabled(false);Ext.getCmp("state_zip").setDisabled(false);Ext.getCmp("country").setDisabled(false);Ext.getCmp("business_entry").setDisabled(false)}else{if(Ext.getCmp("business_entry").getValue()){Ext.getCmp("business_entry").reset()}Ext.getCmp("next").setDisabled(true);Ext.getCmp("enter_zip").setDisabled(false);Ext.getCmp("res_email_addr").setDisabled(true);Ext.getCmp("house_number").setDisabled(true);Ext.getCmp("res_tel_number").setDisabled(true);Ext.getCmp("street").setDisabled(true);Ext.getCmp("line2").setDisabled(true);Ext.getCmp("city").setDisabled(true);Ext.getCmp("state_zip").setDisabled(true);Ext.getCmp("country").setDisabled(true);Ext.getCmp("business_entry").setDisabled(true)}Ext.getCmp("form").getForm().reset();Ext.getCmp("restaurant_name").getStore().loadData([],false)}},{boxLabel:'<span style="color:#fff;">Pick from a list of Business for your zip code</span>',name:"res_select",inputValue:"res_select2",id:"res_select2",checked:true,margin:"5 0 0 0"}]},{xtype:"container",layout:"hbox",style:"margin-left: 53%",id:"enter_zip",items:[{xtype:"button",text:"Lookup",handler:function(){if(com.faralam.NameAddressForm.isValid()){if(Ext.getCmp("zip").isValid()){com.faralam.loginMask=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait ..."});com.faralam.loginMask.show();com.faralam.zip_code=Ext.getCmp("zip").getValue();com.faralam.restaurantURL=com.faralam.serverURL+"sasl/getSASLSummaryByZipCode";com.faralam.restaurantURL=com.faralam.restaurantURL+"?"+encodeURI("domain="+Ext.getCmp("restaurant_business").getValue()+"&UID="+sessionStorage.UID+"&zipcode="+com.faralam.zip_code+"&country=USA&status=UNCLAIMED");Ext.getCmp("restaurant_name").getStore().load({url:com.faralam.restaurantURL,callback:function(e,d,g){com.faralam.loginMask.hide();console.log(e);if(e){Ext.getCmp("restaurant_name").setDisabled(false);Ext.getCmp("restaurant_name").focus()}else{com.faralam.registration.showPopup("Status","No predefined entries found for given location")}}})}}}},{xtype:"container",layout:"vbox",items:[{fieldLabel:"Zip",afterLabelTextTpl:b,xtype:"textfield",name:"zip",allowBlank:false,emptyText:"(000000)",minLength:5,maxLength:5,maskRe:/[0-9.]/,id:"zip",labelWidth:false,labelStyle:"width: auto",margin:"0 0 0 10",blankText:"Enter zip code",value:"94301",msgTarget:"none",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("restaurant_zip_err");d.setValue("");if(g){if(k.getValue().length>0&&k.getValue().length!=k.minLength){d.setValue('<span style="color:#CF4C35;">zip should be five characters</span>')}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"displayfield",name:"restaurant_zip_err",id:"restaurant_zip_err",fieldLabel:"&nbsp;",labelWidth:40,value:"",labelSeparator:""}]}]},{xtype:"container",layout:"hbox",margin:"0 0 0 60",defaultType:"textfield",defaults:{labelAlign:"right",labelWidth:150},items:[{grow:true,emptyText:"(Enter Business/Event name)",width:250,disabled:true,id:"business_entry",allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("typed_business_evnt_name_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"combo",fieldLabel:"Business/Event name",emptyText:"(Select)",name:"restaurant_name",id:"restaurant_name",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:false,editable:true,disabled:true,afterLabelTextTpl:b,allowBlank:false,style:"margin-left:1%;",inputWidth:250,margin:"0 0 0 -20",store:Ext.create("Ext.data.ArrayStore",{fields:["value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(g){var d=[];var e=0;Ext.getCmp("restaurant_name").setValue(g[0].name);Ext.getCmp("hidden_field").setValue(g[0].serviceAccommodatorId+","+g[0].serviceLocationId+","+g[0].address.city+","+g[0].address.street+","+g[0].address.street2+","+g[0].address.state+","+g[0].address.postalCode+","+g[0].address.country+","+g[0].address.number);if(g[0].address.number!="null"){Ext.getCmp("house_number").setValue(g[0].address.number)}if(g[0].address.street!="null"){Ext.getCmp("street").setValue(g[0].address.street)}if(g[0].address.street2!="null"){Ext.getCmp("line2").setValue(g[0].address.street2)}if(g[0].address.city!="null"){Ext.getCmp("city").setValue(g[0].address.city)}if(g[0].address.state!="null"){Ext.getCmp("restaurant_state").setValue(g[0].address.state)}if(g[0].address.postalCode!="null"){Ext.getCmp("restaurant_zip").setValue(g[0].address.postalCode)}if(g[0].address.county!="null"){Ext.getCmp("country").setValue(g[0].address.country)}Ext.getCmp("next").setDisabled(false);Ext.each(g,function(h){d.push([]);d[e].push(new Array(1));d[e]["value"]=h.name;d[e]["value1"]=h.serviceAccommodatorId+","+h.serviceLocationId+","+h.address.city+","+h.address.street+","+h.address.street2+","+h.address.state+","+h.address.postalCode+","+h.address.country+","+h.address.number;e=e+1});g=d;return g}},listeners:{exception:function(g,e,d){com.faralam.common.ErrorHandling(e.responseText)}}}}),listeners:{select:function(){var d=this.getValue().split(",");Ext.getCmp("hidden_field").setValue(d[0]+","+d[1]+","+d[2]+","+d[3]+","+d[4]+","+d[5]+","+d[7]+","+d[8]);if(d[8]!="null"){Ext.getCmp("house_number").setValue(d[8])}if(d[3]!="null"){Ext.getCmp("street").setValue(d[3])}if(d[4]!="null"){Ext.getCmp("line2").setValue(d[4])}if(d[2]!="null"){Ext.getCmp("city").setValue(d[2])}if(d[5]!="null"){Ext.getCmp("restaurant_state").setValue(d[5])}if(d[6]!="null"){Ext.getCmp("restaurant_zip").setValue(d[6])}if(d[7]!="null"){Ext.getCmp("country").setValue(d[7])}Ext.getCmp("next").setDisabled(false)}}}]},{xtype:"displayfield",name:"typed_business_evnt_name_err",id:"typed_business_evnt_name_err",fieldLabel:"&nbsp;",labelWidth:60,value:"",labelSeparator:""},{xtype:"container",layout:"column",margin:"20 0 0 0",items:[{xtype:"form",defaultType:"textfield",id:"form",defaults:{inputWidth:225,msgTarget:"none",margin:0,labelAlign:"right",labelWidth:150},style:"padding-left: 20%;float:left;",columnWidth:2/3,items:[{xtype:"hiddenfield",value:"",id:"hidden_field"},{xtype:"component",html:"Optional mobile site URL http://communitylive.co/m/#URLSuffix",style:"text-align:center;margin: 0 0 10px 0;",disabled:true},{fieldLabel:"URL Suffix",emptyText:"(URLsuffix)",name:"custom_url",id:"friendly_url",margin:"5 0 0 0",listeners:{blur:function(e,g,d){Ext.getCmp("custom_url_msg").setValue("<span>&nbsp;</span>");if(this.getValue()){com.faralam.is_friendly_url_available(this.getValue())}}}},{xtype:"hiddenfield",value:"0",id:"hidden_field_for_friendly_url"},{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:"",id:"custom_url_msg",value:""},{fieldLabel:"E-mail",emptyText:"(Enter email address)",name:"res_email_addr",id:"res_email_addr",afterLabelTextTpl:b,allowBlank:false,disabled:true,vtype:"email",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("res_email_addr_err");d.setValue("");if(g){if(k.getValue().length>0){d.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"displayfield",name:"res_email_addr_err",id:"res_email_addr_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Telephone Number",emptyText:"(Enter Telephone Number)",name:"res_tel_number",disabled:true,id:"res_tel_number",afterLabelTextTpl:b,allowBlank:false,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_tel_number_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}},keydown:function(g,h,d){com.faralam.FormatPhone(h,g)}}},{xtype:"displayfield",name:"restaurant_tel_number_err",id:"restaurant_tel_number_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Number",emptyText:"(Enter Number)",name:"house_number",disabled:true,id:"house_number",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_number_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_number_err",id:"restaurant_number_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"Street",emptyText:"(Enter Street)",name:"street",disabled:true,id:"street",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_street_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_street_err",id:"restaurant_street_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"(line 2)",emptyText:"",name:"line2",disabled:true,id:"line2"},{fieldLabel:"City",emptyText:"(Enter City)",name:"city",disabled:true,id:"city",afterLabelTextTpl:b,allowBlank:false,margin:"10 0 0 0",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_city_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_city_err",id:"restaurant_city_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{xtype:"fieldcontainer",layout:"hbox",id:"state_zip",disabled:true,defaultType:"textfield",defaults:{labelAlign:"right",labelWidth:150},items:[{fieldLabel:"State",emptyText:"(Enter State)",width:250,name:"state",afterLabelTextTpl:b,allowBlank:false,id:"restaurant_state",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_state_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{fieldLabel:"Zip",emptyText:"(Enter Zip)",labelWidth:30,width:130,maskRe:/[0-9.]/,minLength:5,maxLength:5,msgTarget:"none",name:"zip",id:"restaurant_zip",afterLabelTextTpl:b,allowBlank:false,listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("restaurant_addr_zip_err");d.setValue("");if(g){if(k.getValue().length>0){if(k.getValue().length!=k.minLength){d.setValue('<span style="color:#CF4C35;">five characters</span>')}}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}}]},{xtype:"container",layout:"hbox",defaultType:"displayfield",defaults:{fieldLabel:"&nbsp;",value:"&nbsp;",labelSeparator:""},items:[{name:"restaurant_state_err",id:"restaurant_state_err",inputWidth:120,labelWidth:150},{name:"restaurant_addr_zip_err",id:"restaurant_addr_zip_err",labelWidth:0}]},{fieldLabel:"Country",emptyText:"(Enter Country)",name:"country",disabled:true,id:"country",afterLabelTextTpl:b,allowBlank:false,listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_country_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_country_err",id:"restaurant_country_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""}]},{xtype:"container",columnWidth:1/3,margin:"0 0 0 -20",defaults:{labelAlign:"right",labelWidth:150},items:[{xtype:"textfield",fieldLabel:"Promo Code",emptyText:"(promoCode)",name:"restaurant_promo_code",id:"restaurant_promo_code",margin:"10 0 0 0"},{xtype:"component",html:"If Event, enter start/end dates",style:"text-align: center;margin-top:40%;"},{xtype:"form",id:"restaurant_event",defaultType:"datefield",margin:"10 0 0 0",defaults:{labelAlign:"right",labelWidth:150},items:[{fieldLabel:"Start Date",emptyText:"(Date)",id:"restaurant_start_date",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_start_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_start_err",id:"restaurant_start_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{fieldLabel:"End Date",emptyText:"(Date)",id:"restaurant_end_date",listeners:{validitychange:function(k,h,g){var d=Ext.getCmp("restaurant_end_err");d.setValue("");if(!h){d.setValue('<span style="color:#CF4C35;">'+k.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"restaurant_end_err",id:"restaurant_end_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""}]}]}]}]}]});a.items=[com.faralam.NameAddressForm];a.callParent()}},0,["restaurant"],["container","component","form","restaurant","box","panel"],{container:true,component:true,form:true,restaurant:true,box:true,panel:true},["widget.restaurant"],0,[community_portal.view,"Restaurant"],0));(Ext.cmd.derive("community_portal.view.StartScreen",Ext.form.Panel,{items:[],autoScroll:true,initComponent:function(){var a=this;com.faralam.StartScreenFirst=new Ext.FormPanel({items:[{xtype:"container",id:"start_screen_first_part",style:"  height: 530px;",layout:{type:"table",columns:1,tableAttrs:{id:"start_screen_first_part_table",cls:"ps-container ps-active-y",style:{margin:"0 auto",height:"530px",overflow:"hidden",display:"block",position:"relative"}},tdAttrs:{style:{padding:"0 0 10px 0"}}},items:[]}]});com.faralam.UserSettingMenu=new Ext.FormPanel({items:[{xtype:"container",id:"user_setting_menu",style:"height: 120px;",layout:{type:"table",columns:1,tableAttrs:{id:"user_setting_menu_table",style:{margin:"0 auto",height:"120px",overflow:"hidden",display:"block",position:"relative"}},tdAttrs:{style:{padding:"0 0 0 0"}}},items:[]}]});com.faralam.StartScreen=new Ext.FormPanel({cls:"light_blue_bg",items:[{xtype:"component",style:"background: none repeat scroll 0 0 #fff;font-weight: bold;padding: 2px 15px;text-align:right;",html:'<a id="info_btn" data-qtip="Coming Soon"></a>',id:"without_img_header_logo"},{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;overflow: visible !important;",id:"with_img_header_logo",items:[{xtype:"button",text:'<span style="color:#fff;font-size: 14px;">Logout</span>',width:80,height:26,style:"margin:5px;cursor:pointer;background:#303030 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.UserLogOut()}},"->",{xtype:"image",width:385,height:30,id:"start_screen_business_name",src:""},"->",'<a href="http://sitelettes.com/embedded_userguide.php" target="_blank"><img id="info_btn" src="'+com.faralam.custom_img_path+'userGuideImage.png" style="width:60px !important; height:26px !important;"></a>',{xtype:"container",id:"user_setting_menu_container",margin:"2 2 2 5",items:[{xtype:"component",html:'<nav><ul><li id="setting"><div id="setting-trigger" onclick="com.faralam.common.showSettings()"><img id="info_btn" src="'+com.faralam.custom_img_path+'settings_tool_icon.png"></div><div id="setting-content"></div></li></ul></nav>'},com.faralam.UserSettingMenu]}]},{xtype:"container",style:"  position: relative;",items:[{xtype:"container",style:"width: 195px;position: absolute;right: 0;top: 585px;",items:[{xtype:"component",html:'<img id="apploom_website" src="'+com.faralam.custom_img_path+'apploom_website.png" width="150">'}]},{xtype:"container",style:"height:720px !important;",layout:"hbox",items:[{xtype:"container",layout:"vbox",style:"height:720px !important;",margin:"15 10 10 50",items:[{xtype:"component",width:320,id:"mobile_url_start",margin:"47 0 0 16",html:"",style:"z-index: 99;"},{xtype:"container",layout:"hbox",width:320,margin:"75 0 0 16",style:"z-index: 99;",items:[{xtype:"component",width:285,id:"mobile_url_end",html:""},{xtype:"component",html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/share_icon.png" style="cursor: pointer;">',width:32,height:32,listeners:{click:{element:"el",fn:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#shareApp").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(18)}}}}]},{xtype:"component",id:"mobile_pic_componemt",style:"margin-top: 24px !important;  top: 13px !important;",html:'<img id="mobile_pic" src="'+com.faralam.custom_img_path+'mobile_pic.png" width="345">'}]},{xtype:"container",margin:"45 10 10 200",items:[com.faralam.StartScreenFirst]}]}]}]});a.items=[com.faralam.StartScreen];a.callParent()}},0,["start_screen"],["container","start_screen","component","form","box","panel"],{container:true,start_screen:true,component:true,form:true,box:true,panel:true},["widget.start_screen"],0,[community_portal.view,"StartScreen"],0));(Ext.cmd.derive("community_portal.view.Settings",Ext.form.Panel,{items:[],initComponent:function(){var r='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>',o,l,k,g,e,d,b;var t=this;Ext.tip.QuickTipManager.init();function a(){if(!o){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var z=this.up("form").getForm().getValues();var A=z.new_user_id;var y=z.password_user_id;com.faralam.ChangeUserID(A,y)}}}]},{xtype:"displayfield",fieldLabel:"Current UserID",labelStyle:"color: #000 !important;",name:"user_id",id:"settings_user_id",value:""},{fieldLabel:"New UserID",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"new_user_id",id:"new_user_id",emptyText:"(enter your New UserID)",name:"new_user_id",fieldStyle:"color:#000 !important;"},{fieldLabel:"Password",labelStyle:"color: #000 !important;",afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter your password)",name:"password_user_id",fieldStyle:"color:#000 !important;",inputType:"password"},{xtype:"component",html:'<span style="color:#000;">Please enter your new UserID and click Submit</span>'}]});o=Ext.widget("window",{title:"Change UserID",id:"win",closeAction:"hide",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"new_user_id",listeners:{close:function(){x.getForm().reset()}}})}o.show();Ext.getCmp("settings_user_id").setValue(Ext.getCmp("settings_user_id_hidden").getValue())}function n(){if(!l){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var z=this.up("form").getForm().getValues();var y=z.new_email;var A=z.password_email;com.faralam.ChangeEmail(y,A)}}}]},{xtype:"displayfield",fieldLabel:"Current Email",labelStyle:"color: #000 !important;",name:"email",id:"settings_email_id",value:""},{fieldLabel:"New Email",afterLabelTextTpl:r,allowBlank:false,labelStyle:"color: #000 !important;",itemId:"new_email",id:"new_email",name:"new_email",emptyText:"(enter New Email)",vtype:"email",fieldStyle:"color:#000 !important;"},{fieldLabel:"Password",labelStyle:"color: #000 !important;",afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter your password)",name:"password_email",fieldStyle:"color:#000 !important;",inputType:"password"},{xtype:"component",html:'<span style="color:#000;">Please enter your new email and click on Submit</span>'}]});l=Ext.widget("window",{title:"Change Email",closeAction:"hide",id:"win1",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"new_email",listeners:{close:function(){x.getForm().reset()}}})}l.show();Ext.getCmp("settings_email_id").setValue(Ext.getCmp("settings_email_hidden").getValue())}function w(){if(!k){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:160,labelStyle:"font-weight:bold"},defaultType:"textfield",defaults:{inputType:"password"},items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var z=this.up("form").getForm().getValues();var y=z.old_password;var A=z.new_password;com.faralam.ChangePassword(y,A)}}}]},{fieldLabel:"Old Password",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"old_password",name:"old_password",fieldStyle:"color:#000 !important;",emptyText:"(Enter your Old Password)",minLength:6},{fieldLabel:"New Password",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,emptyText:"(Enter New Password)",name:"new_password",fieldStyle:"color:#000 !important;",minLength:6,id:"new_password"},{fieldLabel:"Repeat New Password",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,emptyText:"(Enter Repeat New Password)",fieldStyle:"color:#000 !important;",inputWidth:190,minLength:6,validator:function(y){if(Ext.getCmp("new_password").getValue()!=y){return"password does not match."}return true}},{xtype:"component",html:"Please enter your new password and click Submit"}]});k=Ext.widget("window",{title:"Change Password",closeAction:"hide",id:"win2",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"old_password",listeners:{close:function(){x.getForm().reset()}}})}k.show()}function u(){if(!g){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){com.faralam.DeleteAccount()}}}]},{xtype:"component",html:'<span style="color: #000;">Are you sure you want to delete your account?</span><br><span style="color: #CF4C35;">This action can not be un-done.</span>'},{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:""},{fieldLabel:'<span style="color:#000;">Password</span>',afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter Password)",itemId:"password",fieldStyle:"color:#000 !important;",inputType:"password"}]});g=Ext.widget("window",{title:"Delete Account",closeAction:"hide",id:"win3",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"password",listeners:{close:function(){x.getForm().reset()}}})}g.show()}function h(){if(!e){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var y=this.up("form").getForm().getValues();var z=y.new_mobile_number;var A=y.password_mobile_number;com.faralam.ChangeMobileNumber(z,A)}}}]},{xtype:"displayfield",fieldLabel:"Current Mobile Number",labelStyle:"color: #000 !important;",name:"settings_mobile_number",id:"settings_mobile_number",value:""},{fieldLabel:"New Mobile Number",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"new_mobile_number",id:"new_mobile_number",emptyText:"(enter your New Mobile Number)",name:"new_mobile_number",fieldStyle:"color:#000 !important;",inputWidth:200,minLength:10,maxLength:14,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{keydown:function(z,A,y){com.faralam.FormatPhone(A,z)}}},{fieldLabel:"Password",labelStyle:"color: #000 !important;",afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter your password)",name:"password_mobile_number",fieldStyle:"color:#000 !important;",inputType:"password"},{xtype:"component",html:'<span style="color:#000;">Please enter your new mobile number and click on Submit</span>'}]});e=Ext.widget("window",{title:"Change Mobile Number",id:"win4",closeAction:"hide",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"new_user_id",listeners:{close:function(){x.getForm().reset()}}})}e.show();Ext.getCmp("settings_mobile_number").setValue(Ext.getCmp("settings_mobile_number_hidden").getValue())}function m(){if(!d){var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var y=this.up("form").getForm().getValues();var A=y.username_bank_account;var z=y.password_bank_account;com.faralam.common.checkLogin(A,z,"")}}}]},{xtype:"component",width:40,height:40,html:'<img style="padding-top:3px;" id="redLockImage" src="'+com.faralam.custom_img_path+'RedLock.png" height="40" data-qtip="Lock"> <strong>UNLOCK :</strong>'},{xtype:"displayfield",fieldLabel:"Please Verify Your Account",labelStyle:"color: #000 !important; width: 200px !important; font-weight: bold !important;",name:"verify_account",id:"verify_account",value:""},{fieldLabel:"Username",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"username_bank_account",id:"username_bank_account",emptyText:"(enter your Username)",name:"username_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Password",labelStyle:"color: #000 !important;",afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter your password)",name:"password_bank_account",fieldStyle:"color:#000 !important;",inputType:"password",minLength:6}]});d=Ext.widget("window",{title:"Verify Your Account",id:"win5",closeAction:"hide",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"username_bank_account",listeners:{close:function(){x.getForm().reset()}}})}d.show();Ext.getCmp("verify_account").setValue(Ext.getCmp("verify_account_hidden").getValue())}function q(){if(Ext.getCmp("log_paypal")){var y=Ext.getCmp("log_paypal");y.destroy(y,new Object())}var x=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Submit",handler:function(){if(this.up("form").getForm().isValid()){var z=this.up("form").getForm().getValues();var B=z.username_paypal;var A=z.password_paypal;com.faralam.common.checkLogin(B,A,"PAYPAL")}}}]},{xtype:"component",width:40,height:40,html:'<img style="padding-top:3px;" id="redLockImage" src="'+com.faralam.custom_img_path+'RedLock.png" height="40" data-qtip="Lock"> <strong>UNLOCK :</strong>'},{xtype:"displayfield",fieldLabel:"Please Verify Your Account",labelStyle:"color: #000 !important; width: 200px !important; font-weight: bold !important;",name:"verify_account_paypal",id:"verify_account_paypal",value:""},{fieldLabel:"Username",afterLabelTextTpl:r,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"username_paypal",id:"username_paypal",emptyText:"(enter your Username)",name:"username_paypal",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Password",labelStyle:"color: #000 !important;",afterLabelTextTpl:r,allowBlank:false,emptyText:"(enter your password)",name:"password_paypal",fieldStyle:"color:#000 !important;",inputType:"password",minLength:6}]});log_paypal=Ext.widget("window",{title:"Verify Your Account",id:"log_paypal",closeAction:"hide",layout:"fit",resizable:true,modal:true,items:x,defaultFocus:"username_paypal",listeners:{close:function(){x.getForm().reset()}}});log_paypal.show();Ext.getCmp("verify_account_paypal").setValue(Ext.getCmp("verify_account_hidden").getValue())}com.faralam.settings_first_part=new Ext.FormPanel({style:"padding:3% 0;margin: 10% auto 0; width:90% !important;text-align:center;height:280px !important;max-width:950px !important;",cls:"common_bg",items:[{xtype:"component",html:"<span>Click on the button below if you want to change anything. You can do this anytime.</span>",cls:"name_addr_label",style:"margin-bottom: 20px;"},{xtype:"hiddenfield",name:"settings_user_id_hidden",id:"settings_user_id_hidden",value:""},{xtype:"hiddenfield",name:"settings_email_hidden",id:"settings_email_hidden",value:""},{xtype:"hiddenfield",name:"settings_mobile_number_hidden",id:"settings_mobile_number_hidden",value:""},{xtype:"hiddenfield",name:"verify_account_hidden",id:"verify_account_hidden",value:""},{xtype:"container",layout:{type:"hbox",pack:"center"},defaults:{margin:"0 10 0 0"},items:[{xtype:"button",text:'<span style="color:#FFFFFF !important;">Change UserID</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:a},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Change E-Mail</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:n},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Change Password</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:w},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Change Mobile Number</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:h,id:"settings_btn4"},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Bank Account</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:m,id:"settings_btn5"},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Paypal Account</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:q,id:"settings_btn6"},{xtype:"button",text:'<span style="color:#FFFFFF !important;">Delete Account</span>',scale:"small",style:"background:#007AFF !important; border:2px solid #000 !important;",handler:u}]}]});com.faralam.Settings=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",id:"with_img_header_logo_settings",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,height:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#settings").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",html:'<span style="color:#000;font-size:20px; font-weight: bold;">User settings</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.settings_first_part],margin:"0 0 0 0"});t.items=[com.faralam.Settings];t.callParent()}},0,["settings"],["container","settings","component","form","box","panel"],{container:true,settings:true,component:true,form:true,box:true,panel:true},["widget.settings"],0,[community_portal.view,"Settings"],0));(Ext.cmd.derive("MyOnlineEditor",Ext.form.HtmlEditor,{},0,0,["container","component","fieldcontainer","box","htmleditor"],{container:true,component:true,fieldcontainer:true,box:true,htmleditor:true},0,0,[0,"MyOnlineEditor"],0));(Ext.cmd.derive("community_portal.view.Seo",Ext.form.Panel,{id:"seoPanel",items:[],autoScroll:true,style:"background-color:#314f85 !important;",initComponent:function(){var b=this;Ext.override(MyOnlineEditor,{frame:true,draggable:false,initComponent:function(){this.callOverridden()},initEditor:function(){this.callOverridden();var d=this;var e=d.getDoc();Ext.EventManager.on(e,"keypress",d.addTabSpace,d);Ext.EventManager.on(e,"drop",d.handleDropEvent,d)},addTabSpace:function(g,d){if(d.textContent.length==com.faralam.Editor_MaxLength){if(g.getKey()!=8&&g.getKey()!=9&&g.getKey()!=46&&g.getKey()!=35&&g.getKey()!=36&&g.getKey()!=37&&g.getKey()!=38&&g.getKey()!=39&&g.getKey()!=40){g.stopEvent()}}},handleDropEvent:function(d){d.stopEvent()}});var a=Ext.create("MyOnlineEditor",{name:"editor_content",id:"editor_content",layout:"fit",listeners:{change:function(g,d){var h=Ext.util.Format.stripTags(d);Ext.getCmp("gallery_limit").setValue(parseInt(com.faralam.Editor_MaxLength)-parseInt(h.length)+" character(s) left")}}});com.faralam.OtherInfo_first_part=new Ext.FormPanel({style:"background:#314F85 !important;",defaults:{msgTarget:"side"},id:"other_info_first_parts",items:[{xtype:"component",html:'<span style="color:#fff;padding: 0 0 0 20px;font-size: 16px;">Please edit details about your business below. Accurate information will help users to find you easily</span>',cls:"name_addr_label"},{xtype:"container",layout:"hbox",width:900,style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"button",text:'<span style="color:#fff;">About Us</span>',scale:"medium",id:"aboutusTab",margin:"10 0 0 1",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.showSeoTabs("1")}},{xtype:"button",text:'<span style="color:#fff;">Search Optimization</span>',scale:"medium",id:"seoTab",margin:"10 0 0 1",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.showSeoTabs("2")}},{xtype:"button",text:'<span style="color:#fff;">Business Listing</span>',scale:"medium",id:"blTab",margin:"10 0 0 1",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.showSeoTabs("3")}},{xtype:"button",text:'<span style="color:#fff;">Visitor Password</span>',scale:"medium",id:"passwordTab",margin:"10 0 0 1",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.showSeoTabs("4")}}]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",id:"aboutUsContainer",items:[{xtype:"fieldset",title:"About Us",collapsible:false,layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"hbox",items:[{xtype:"container",layout:{type:"hbox",pack:"center"},margin:"5 0 20 30",padding:10,items:[{xtype:"container",id:"edtcmp",items:[a,{xtype:"displayfield",value:"",id:"gallery_limit",margin:"-5 0 0 0"}]}]},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",id:"about_us_btn",margin:"100 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.updateAboutUs(sessionStorage.SA,sessionStorage.SL)}}]}]}]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",id:"seoContainer",items:[{xtype:"fieldset",id:"SearchOptimizationContainer",title:"Search Optimization Details",collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"vbox",id:"other_info_first_part",minHeight:210,minWidth:730,items:[]},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"80 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.updateOtherInfo(sessionStorage.SA,sessionStorage.SL)}}]}]},{xtype:"container",id:"BusinessListingContainer",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"fieldset",title:"Business Listing",collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"vbox",id:"business_listing",items:[{xtype:"container",layout:"hbox",items:[{xtype:"textfield",id:"title_mobile_app",fieldLabel:"Title (Name of the Mobile Web App)",name:"title_mobile_app",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"0 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.setBusinessNameSEO()}}]},{xtype:"container",layout:"hbox",margin:"30 0 0 0",items:[{xtype:"textfield",id:"business_mail",fieldLabel:"Business E-Mail",name:"business_mail",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("business_mail_err");d.setValue("");if(g){if(k.getValue().length>0){d.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"0 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.setBusinessEmailSEO()}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"business_mail_err",id:"business_mail_err",fieldLabel:"&nbsp;",margin:"0 0 0 50",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"textfield",id:"business_telephone",fieldLabel:"Business Telephone",name:"business_telephone",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"0 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.setBusinessTelephoneSEO()}}]},{xtype:"container",layout:"hbox",margin:"30 0 0 0",items:[{xtype:"container",layout:"vbox",margin:"0 0 0 0",items:[{xtype:"textfield",id:"street",fieldLabel:"Street (e.g. 123 Main Street)",name:"street",emptyText:"",msgTarget:"none",margin:"10 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"textfield",id:"address_line2",fieldLabel:"Address Line 2",name:"address_line2",emptyText:"",msgTarget:"none",margin:"10 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"textfield",id:"city",fieldLabel:"City",name:"city",emptyText:"",msgTarget:"none",margin:"10 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"textfield",id:"state",fieldLabel:"State",name:"state",emptyText:"",msgTarget:"none",margin:"10 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"textfield",id:"zip",fieldLabel:"ZIP",name:"zip",emptyText:"",msgTarget:"none",margin:"10 0 0 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}},{xtype:"textfield",id:"country",fieldLabel:"Country",name:"country",emptyText:"",msgTarget:"none",margin:"10 0 10 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}}]},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"80 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.setBusinessAddressSEO()}}]}]}]}]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",id:"passwordContainer",items:[{xtype:"fieldset",title:"Visitor Password",collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"vbox",items:[{xtype:"fieldcontainer",fieldLabel:"Enable Visitor Password",defaultType:"checkboxfield",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"0 0 0 20",labelAlign:"right",labelWidth:230,labelSeparator:"  ",items:[{name:"enable_visitor_password",id:"enable_visitor_password",listeners:{click:{element:"el",fn:function(){var d=Ext.getCmp("enable_visitor_password").getValue();console.log(d);if(d===true){Ext.get("enable_visitor_password-inputEl").removeCls("inactive_checkbox");Ext.get("enable_visitor_password-inputEl").addCls("active_checkbox")}else{Ext.get("enable_visitor_password-inputEl").removeCls("active_checkbox");Ext.get("enable_visitor_password-inputEl").addCls("inactive_checkbox")}}}}}]},{xtype:"textfield",id:"visitor_password",fieldLabel:"Visitor Password",name:"visitor_password",inputType:"password",emptyText:"",msgTarget:"none",margin:"10 0 10 0",labelAlign:"right",labelWidth:250,inputWidth:480,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{}}]},{xtype:"button",text:'<span style="color:#fff;">Submit</span>',scale:"medium",margin:"44 0 0 10",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.setVisitorPasswordSEO()}}]}]}]});com.faralam.OtherInfo=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#gallery").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"other_info_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Edit App Settings</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.OtherInfo_first_part],margin:"0 0 0 0",autoScroll:true});b.items=[com.faralam.OtherInfo];b.callParent()}},0,["seo"],["container","component","form","box","panel","seo"],{container:true,component:true,form:true,box:true,panel:true,seo:true},["widget.seo"],0,[community_portal.view,"Seo"],0));(Ext.cmd.derive("community_portal.view.SelectBusiness",Ext.form.Panel,{style:"overflow:visible;",items:[],initComponent:function(){var a=this;com.faralam.SelectBusiness=new Ext.FormPanel({items:[{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{xtype:"button",text:'<span style="color:#000;">Logout</span>',width:80,height:26,style:"margin:5px;",handler:function(){com.faralam.UserLogOut()}},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"padding:3% 0;margin: 10% auto 0; width:90% !important;text-align:center;height:160px !important;max-width:950px !important;",cls:"common_bg",items:[{xtype:"component",html:"<h2>Select the business you want to manage</h2>"},{xtype:"container",layout:{type:"hbox",pack:"center"},items:[{xtype:"combo",fieldLabel:"Business Name",labelStyle:"font-weight:bold;font-size:14px;",labelAlign:"top",labelSeparator:"",name:"business_name",emptyText:"Select a Business",id:"business_name",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:true,editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(g){var b=[];var e=0;if(g.community.length>0){for(var d=0;d<g.community.length;d++){if(g.community[d].type.enumText=="OWNER"){if(g.community[d].sasls.length>0){Ext.each(g.community[d].sasls,function(h){b.push([]);b[e].push(new Array(1));b[e]["value"]=h.saslName;b[e]["value1"]=h.sa+","+h.sl+","+h.saslName;e=e+1})}}}}g=b;return g}},listeners:{exception:function(e,d,b){com.faralam.common.ErrorHandling(d.responseText)}}}}),listeners:{select:function(b){if(b.getValue()){var d=b.getValue().split(",");sessionStorage.SA=d[0];sessionStorage.SL=d[1];sessionStorage.SASLNAME=d[2];Ext.getCmp("main_tab").down("#login").setDisabled(true);Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(4)}}}}]}]}]});a.items=[com.faralam.SelectBusiness];a.callParent()}},0,["business_select"],["container","component","form","box","panel","business_select"],{container:true,component:true,form:true,box:true,panel:true,business_select:true},["widget.business_select"],0,[community_portal.view,"SelectBusiness"],0));(Ext.cmd.derive("community_portal.view.NewBusinessSuccess",Ext.form.Panel,{items:[],initComponent:function(){var a=this;com.faralam.NewBusinessSuccess=new Ext.FormPanel({items:[{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{xtype:"button",scale:"large",text:'<span style="color:#000;">Logout</span>',width:100,height:32,style:"margin:10px;",handler:function(){com.faralam.UserLogOut()}},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"padding:3% 0;margin: 1% auto 0;text-align:center;max-width:1000px !important;",cls:"common_bg",items:[{xtype:"container",style:"text-align:center;margin-top:10%;",layout:{type:"hbox",pack:"center"},items:[{xtype:"component",html:'<h1 style="color:#00B050;">'+com.faralam.CongratsPageMsg+"</h1>",width:350,style:"text-align:left;"},{xtype:"image",width:59,height:27,src:com.faralam.custom_img_path+"login_dashboard.png",style:"cursor:pointer;",margin:"50 0 0 20",listeners:{click:{element:"el",fn:function(){com.faralam.UserLogOut()}}}}]},{xtype:"container",margin:"50 0 0 0",layout:{type:"hbox",pack:"center"},items:[{xtype:"component",html:"<h3>"+com.faralam.CongratsPageMsgNote+"</h3>",width:392}]}]}]});a.items=[com.faralam.NewBusinessSuccess];a.callParent()}},0,["new_business_success"],["container","component","form","new_business_success","box","panel"],{container:true,component:true,form:true,new_business_success:true,box:true,panel:true},["widget.new_business_success"],0,[community_portal.view,"NewBusinessSuccess"],0));(Ext.cmd.derive("community_portal.view.WriterGrid",Ext.grid.Panel,{itemId:"grid",id:"open_hrs_grid",preventHeader:true,viewConfig:{scrollOffset:40,emptyText:'<div style="text-align:center; color: #999;">No Data Available</div>',deferEmptyText:false},iconCls:"icon-grid",frame:true,height:328,plugins:[Ext.create("Ext.grid.plugin.CellEditing",{clicksToEdit:1,listeners:{beforeedit:function(b,d,a){Ext.getCmp("open_hrs_toggle").setText('<span style="color:#fff;">Save</span>');if(d.record.get("holiday")==true){d.style="background-color: #ff0;";return false}else{return true}},edit:function(b,g,a){if(g.value){if(g.colIdx==1&&g.rowIdx==7){var d=new Date(g.value);g.store.getRange()[g.rowIdx].set("day",Ext.Date.format(d,"M d Y"))}}}}})],viewConfig:{markDirty:false},dockedItems:[{xtype:"toolbar",items:['<span style="color:#666666;font-weight:bold;">Opening Hours</span>',"->",{text:'<span style="color:#000;">Edit</span>',id:"open_hrs_toggle",handler:function(){if(Ext.getCmp("open_hrs_toggle").getText()=='<span style="color:#fff;">Save</span>'){com.faralam.updateShiftTimeSlotPolicies(sessionStorage.SA,sessionStorage.SL)}}}]}],initComponent:function(){this.store={fields:[],data:[]};this.columns=[];this.callParent(arguments)}},0,["writergrid"],["container","component","writergrid","grid","gridpanel","box","panel","tablepanel"],{container:true,component:true,writergrid:true,grid:true,gridpanel:true,box:true,panel:true,tablepanel:true},["widget.writergrid"],0,[community_portal.view,"WriterGrid"],0));(Ext.cmd.derive("community_portal.view.OpenHrs",Ext.form.Panel,{items:[],initComponent:function(){var a=this;com.faralam.OpenHrs_first_part=new Ext.FormPanel({style:"padding:3% 15px;margin: 1% auto 0; width:90% !important;text-align:center;max-width:950px !important;",cls:"common_bg",defaultType:"textfield",defaults:{msgTarget:"side"},id:"open_hrs_first_part",items:[{xtype:"component",html:"<span>OPTIONAL: Provide us your opening hours, holidays so we can indicate when you open the discovery map.</span>",cls:"name_addr_label",style:"margin-bottom: 20px;"},{xtype:"hiddenfield",id:"promotion_date_policy",value:""},{xtype:"hiddenfield",id:"promotion_shift_policy_count",value:""},{xtype:"writergrid"}]});com.faralam.OpenHrs=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,height:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#open_hrs").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 -50",id:"open_hrs_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Opening Hours</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.OpenHrs_first_part],margin:"0 0 0 0",minHeight:650});a.items=[com.faralam.OpenHrs];a.callParent()}},0,["open_hrs"],["container","component","form","open_hrs","box","panel"],{container:true,component:true,form:true,open_hrs:true,box:true,panel:true},["widget.open_hrs"],0,[community_portal.view,"OpenHrs"],0));(Ext.cmd.derive("community_portal.view.Promotion",Ext.form.Panel,{autoScroll:true,items:[],initComponent:function(){var a="";a='<ul class="images" style="text-align:center;height:87px;"><li>No image(s) available</li></ul>';var b="";b='<div id="inactive_promo_parent_container" style="height:88px;text-align:center;padding:5px;background:#252525;">No image(s) available</div>';com.faralam.Promotion_first_part=new Ext.FormPanel({style:"background: #101010 !important;max-height:700px !important;",defaultType:"textfield",defaults:{msgTarget:"none"},id:"promo_sub",items:[{xtype:"container",cls:"common_bg",style:"padding:1% 0;width:100% !important;",layout:"column",items:[{xtype:"container",layout:"vbox",columnWidth:2.5/4,items:[{xtype:"container",layout:"hbox",items:[{xtype:"button",style:"background:#fff !important;",scale:"large",margin:"0 0 0 20",text:'<span style="color:#000;">Refresh</span>',width:100,height:40,handler:function(){com.faralam.RetrievePromoInfo()}},{xtype:"button",scale:"large",margin:"0 0 0 250",text:'<span style="color:#000;">Add New Promotion</span>',cls:"gallery_next",handler:function(){com.faralam.common.AddNewPromotion()}}]},{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px;font-style: italic;">Active Promotions</span>'},{xtype:"panel",id:"slide_panel_promotion",margin:"0 0 0 20",html:a},{xtype:"displayfield",value:'<span class="gallery_txt" style="float:left;margin:15px;font-style: italic;">Approved Promotions</span>',margin:"50 0 0 0"},{xtype:"panel",id:"slide_panel1_promotion",html:b},{xtype:"component",margin:"50 0 100 350",id:"delete_zone_promotion",html:'<span style="color: #fff;margin:0 10px 0 0; font-weight:bold;">Drag and drop to delete</span><img ondrop="com.faralam.drop_promotion(event)" ondragover="com.faralam.allowDrop_promotion(event)" id="drop_element_promotion" src="'+com.faralam.custom_img_path+'trash.png" widht="26" height="26" border="0">'}]},{xtype:"container",layout:"vbox",columnWidth:1/4,items:[{xtype:"container",defaultType:"button",width:180,style:"text-align:center;",margin:"0 0 10 10",id:"promotion_share_btn",disabled:true,items:[{text:'<span style="color:#FFFFFF !important;">Share</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.open_promotion_share_sec()}}]},{xtype:"form",layout:"vbox",padding:"10 10 5 10",style:{border:"1px solid #fff;"},id:"promo_picture_frm",items:[{xtype:"hiddenfield",id:"promoUUID",name:"",value:""},{xtype:"hiddenfield",id:"promo_picture_id",value:""},{xtype:"hiddenfield",id:"promo_share_url",value:""},{xtype:"fieldset",title:"Type",collapsible:false,defaults:{anchor:"100%"},layout:"anchor",items:[{xtype:"textfield",inputWidth:180,id:"promo_show_image_type",name:"",value:"",readOnly:true}]},{xtype:"fieldset",title:"Title",collapsible:false,defaults:{anchor:"100%"},layout:"anchor",style:"margin: 3px 0 0 0;",items:[{xtype:"textfield",inputWidth:180,id:"promo_show_image_title",name:"",value:""}]},{xtype:"image",width:200,height:150,src:"",style:"border: 1px solid #fff;margin: 3px 0 0 0;",id:"promo_show_image"},{xtype:"fieldset",title:"Description",collapsible:false,defaults:{anchor:"100%"},layout:"anchor",style:"margin: 3px 0 0 0;",items:[{xtype:"textareafield",id:"promo_textarea",height:200,name:"",value:""}]},{xtype:"container",defaultType:"button",width:180,hidden:true,id:"promo_meta_edit_btn",style:"text-align:center;",margin:"5 0 0 0",items:[{text:"Save",handler:function(){if(this.up("form").getForm().isValid()){if(Ext.getCmp("promo_show_image").src){com.faralam.SubmitPromotionEdit()}else{com.faralam.registration.showPopup("Error","Please add image before updating")}}}}]}]}]}]}]});com.faralam.Promotion=Ext.create("Ext.Panel",{items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#promotion").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"promotion_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Promotions</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},com.faralam.Promotion_first_part],margin:"0 0 0 0"});this.items=[com.faralam.Promotion];this.callParent()}},0,["promotion"],["container","component","form","box","panel","promotion"],{container:true,component:true,form:true,box:true,panel:true,promotion:true},["widget.promotion"],0,[community_portal.view,"Promotion"],0));(Ext.cmd.derive("community_portal.view.UpdateLogoIcon",Ext.form.Panel,{items:[],initComponent:function(){var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a=this;com.faralam.UpdateLogoIcon=new Ext.FormPanel({id:"UpdateLogoIconform",defaults:{msgTarget:"none",labelAlign:"right",labelWidth:150},margin:"0 0 0 0",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,height:40,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#UpdateLogoIcon").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"UpdateLogoIcon_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">App Icon / Brand Logo</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"padding-top:0.5%;margin:0.5% auto 0; width:80% !important;max-width:900px !important;",layout:{type:"table",columns:2,tableAttrs:{style:{width:"90%"}}},items:[{xtype:"container",layout:{type:"vbox",pack:"center"},items:[{xtype:"container",layout:{type:"vbox",pack:"center"},margin:"30 0 0 0",items:[{xtype:"image",width:180,height:180,id:"gallery_logo_preview",src:com.faralam.custom_img_path+"no-preview.jpg",style:"border: 1px solid #385D89; border-radius:2px;background:#4F81BC;",margin:"0 0 0 160",listeners:{render:function(d){d.el.on({load:function(e,h,g){d.setLoading(true)}})},afterrender:function(d){d.el.on({load:function(e,h,g){d.setLoading(false)}})}}},{xtype:"button",text:'<span style="color:#000;">Update Brand Logo</span>',scale:"large",margin:"20 0 0 163",handler:function(){com.faralam.getCropPicURLs("resources/plugins/croppic/update_logo_icon.html")}}]}]},{xtype:"container",layout:{type:"vbox",pack:"center"},margin:"30 0 0 100",height:550,width:350,items:[{xtype:"container",height:550,width:350,items:[{xtype:"button",text:'<span style="color:#000;">Update Icon Picture</span>',scale:"large",margin:"30 0 0 50",handler:function(){com.faralam.getCropPicURLs("resources/plugins/croppic/update_app_icon.html")}},{xtype:"image",id:"maskBigger",src:com.faralam.custom_img_path+"appIconPreviewMaskBigger.png"},{xtype:"image",id:"gallery_logo_preview_app_icon",src:com.faralam.custom_img_path+"no-preview.jpg",listeners:{render:function(d){d.el.on({load:function(e,h,g){d.setLoading(true)}})},afterrender:function(d){d.el.on({load:function(e,h,g){d.setLoading(false)}})}}}]}]}]}]});a.items=[com.faralam.UpdateLogoIcon];a.callParent()}},0,["UpdateLogoIcon_item"],["container","component","UpdateLogoIcon_item","form","box","panel"],{container:true,component:true,UpdateLogoIcon_item:true,form:true,box:true,panel:true},["widget.UpdateLogoIcon_item"],0,[community_portal.view,"UpdateLogoIcon"],0));(Ext.cmd.derive("community_portal.view.ShareAppByEmail",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.ShareAppByEmail=new Ext.FormPanel({items:[{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{xtype:"button",scale:"large",text:'<span style="color:#fff;">Logout</span>',width:100,height:32,style:"margin:10px;background:#233557 !important; border: medium none !important;box-shadow: none !important;",handler:function(){com.faralam.UserLogOut()}},"->",{xtype:"component",margin:"0 0 0 -50",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Sign Up \u2013 Complete</span>'},"->"]},{xtype:"container",style:"padding:3% 0;margin: 0 auto;text-align:center;max-width:1000px !important;max-height:700px !important;background:#314F85 !important;",cls:"common_bg",items:[{xtype:"container",style:"text-align:center;",layout:{type:"hbox",pack:"center"},items:[{xtype:"component",html:'<h2 style="color:#fff;font-family: arial !important;">Congratulations. Your new mobile web-app is now ready.<br><br>http://apploom.com/m/[urlsuffix]<br><br>You can share your web-app URL below. <span style="color:yellow;">Please verify that the recipients have agreed.</span></h2>',style:"text-align:center;"}]},{xtype:"container",margin:"150 0 0 0",layout:{type:"hbox",pack:"center"},items:[{xtype:"form",defaultType:"textfield",items:[{xtype:"container",width:980,layout:{type:"hbox",pack:"center"},items:[{xtype:"container",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #fff;margin-right: 10px;">E-Mail address</h3>',inputType:"email",name:"share_email",allowBlank:false,emptyText:"",id:"share_email",msgTarget:"none",inputWidth:250,inputHeight:32,margin:"0 0 0 0",labelAlign:"right",labelWidth:175,labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("share_email_err");d.setValue("");if(g){}}}},{xtype:"displayfield",name:"share_email_err",id:"share_email_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{xtype:"fieldcontainer",fieldLabel:'<h3 style="color: #ffff00;margin-right: 10px;">\u201cI certify that the recipient has agreed to receive this E-Mail message\u201d</h3>',defaultType:"checkboxfield",msgTarget:"none",inputWidth:280,inputHeight:32,margin:"0 0 0 20",labelAlign:"right",labelWidth:375,labelSeparator:"  ",items:[{name:"share_email_access_mode",id:"share_email_access_mode",listeners:{click:{element:"el",fn:function(){var d=Ext.getCmp("share_email_access_mode").getValue();console.log(d);if(d===true){Ext.get("share_email_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("share_email_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("share_email_access_mode-inputEl").removeCls("active_checkbox");Ext.get("share_email_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]},{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:""}]},{xtype:"container",items:[{xtype:"button",scale:"large",width:140,height:40,text:'<span style="color: #fff;font-size: 16px;">Send E-Mail</span> ',style:"cursor:pointer;background:#008000 !important;border:3px solid #000 !important;box-shadow:none !important;",margin:"60 10 10 35",listeners:{click:{element:"el",fn:function(){if(a.isValid()){com.faralam.emailValues=a.getValues();com.faralam.shareEmailValue=com.faralam.emailValues.share_email;com.faralam.shareAppByEmail(com.faralam.shareEmailValue)}}},afterRender:function(e,d){this.keyNav=Ext.create("Ext.util.KeyNav",this.el,{enter:function(){if(a.isValid()){com.faralam.emailValues=a.getValues();com.faralam.shareEmailValue=com.faralam.emailValues.share_email;com.faralam.shareAppByEmail(com.faralam.shareEmailValue)}},scope:this})},focus:function(){this.getEl().dom.style.opacity="0.6"},blur:function(){this.getEl().dom.style.opacity="1"}}}]}]}]}]},{xtype:"container",style:"height:150px;"}]}]});a.items=[com.faralam.ShareAppByEmail];a.callParent()}},0,["share_app_by_email_item"],["container","component","form","box","share_app_by_email_item","panel"],{container:true,component:true,form:true,box:true,share_app_by_email_item:true,panel:true},["widget.share_app_by_email_item"],0,[community_portal.view,"ShareAppByEmail"],0));(Ext.cmd.derive("community_portal.view.ShareAppBySMS",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.ShareAppBySMS=new Ext.FormPanel({items:[{xtype:"toolbar",cls:"common_toolbar",style:"background: none repeat scroll 0 0 #fff !important;padding:0 !important;",items:[{xtype:"button",scale:"large",text:'<span style="color:#fff;">Logout</span>',width:100,height:32,style:"margin:10px;background:#233557 !important; border: medium none !important;box-shadow: none !important;",handler:function(){com.faralam.UserLogOut()}},"->",{xtype:"component",margin:"0 0 0 -50",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Sign Up \u2013 Complete</span>'},"->"]},{xtype:"container",style:"padding:3% 0;margin: 0 auto;text-align:center;max-width:1000px !important;max-height:700px !important;background:#314F85 !important;",cls:"common_bg",items:[{xtype:"container",style:"text-align:center;",layout:{type:"hbox",pack:"center"},items:[{xtype:"component",html:'<h2 style="color:#fff;font-family: arial !important;">Congratulations. Your new mobile web-app is now ready.<br><br>http://sitelettes.com/m/[urlsuffix]<br><br>You can share your web-app URL below. <span style="color:yellow;">Please verify that the recipients have agreed.</span></h2>',style:"text-align:center;"}]},{xtype:"container",margin:"150 0 0 0",layout:{type:"hbox",pack:"center"},items:[{xtype:"form",defaultType:"textfield",items:[{xtype:"container",width:980,layout:{type:"hbox",pack:"center"},items:[{xtype:"container",items:[{xtype:"numberfield",fieldLabel:'<h3 style="color: #fff;margin-right: 10px;">Mobile number</h3>',minValue:0,hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,name:"share_sms",allowBlank:false,emptyText:"",id:"share_sms",msgTarget:"none",inputWidth:250,inputHeight:32,margin:"0 0 0 0",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("share_sms_err");d.setValue("");if(g){}}}},{xtype:"displayfield",name:"share_sms_err",id:"share_sms_err",fieldLabel:"&nbsp;",value:"",labelSeparator:""},{xtype:"fieldcontainer",fieldLabel:'<h3 style="color: #ffff00;margin-right: 10px;">\u201cI certify that the recipient has agreed to receive this text message\u201d</h3>',defaultType:"checkboxfield",msgTarget:"none",inputWidth:280,inputHeight:32,margin:"0 0 0 20",labelAlign:"right",labelWidth:375,labelSeparator:"  ",items:[{name:"share_sms_access_mode",id:"share_sms_access_mode",listeners:{click:{element:"el",fn:function(){var d=Ext.getCmp("share_sms_access_mode").getValue();console.log(d);if(d===true){Ext.get("share_sms_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("share_sms_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("share_sms_access_mode-inputEl").removeCls("active_checkbox");Ext.get("share_sms_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]},{xtype:"displayfield",fieldLabel:"&nbsp;",labelSeparator:""}]},{xtype:"container",items:[{xtype:"button",scale:"large",width:140,height:40,text:'<span style="color: #fff;font-size: 16px;">Send SMS</span> ',style:"cursor:pointer;background:#008000 !important;border:3px solid #000 !important;box-shadow:none !important;",margin:"60 10 10 35",listeners:{click:{element:"el",fn:function(){if(a.isValid()){com.faralam.smsValues=a.getValues();com.faralam.shareSMSValue=com.faralam.smsValues.share_sms;com.faralam.shareAppBySMS(com.faralam.shareSMSValue)}}},afterRender:function(e,d){this.keyNav=Ext.create("Ext.util.KeyNav",this.el,{enter:function(){if(a.isValid()){com.faralam.smsValues=a.getValues();com.faralam.shareSMSValue=com.faralam.smsValues.share_sms;com.faralam.shareAppBySMS(com.faralam.shareSMSValue)}},scope:this})},focus:function(){this.getEl().dom.style.opacity="0.6"},blur:function(){this.getEl().dom.style.opacity="1"}}}]}]}]}]},{xtype:"container",style:"height:150px;"}]}]});a.items=[com.faralam.ShareAppBySMS];a.callParent()}},0,["share_app_by_sms_item"],["container","component","form","share_app_by_sms_item","box","panel"],{container:true,component:true,form:true,share_app_by_sms_item:true,box:true,panel:true},["widget.share_app_by_sms_item"],0,[community_portal.view,"ShareAppBySMS"],0));(Ext.cmd.derive("community_portal.view.ShareApp",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';function b(){if(!cardWindow){cardWindow=Ext.widget("window",{title:"Business Card",closeAction:"hide",id:"cardWindow",layout:"fit",resizable:true,modal:true,items:[{xtype:"image",id:"cardImg",minWidth:320,minHeight:180,src:""}],listeners:{close:function(){}}})}cardWindow.show()}com.faralam.ShareApp=new Ext.FormPanel({style:"background:#314F85 !important;",height:700,id:"ShareAppForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#shareApp").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 -50",id:"shareApp_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Share Site URL via Text</span>'},"->"]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"fieldset",title:'<span style="font-style: italic;">Share web-app URL</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<h4 style="color: #fff;">URL to share</h4> ',width:165,style:"text-align: right;"},{xtype:"component",width:450,id:"mobile_url",margin:"4 10 0 10",html:"",style:"text-align:center;"}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"component",width:550,id:"social_networking_label",margin:"0 0 0 85px",html:"Via Social Network",style:"text-align:left;"},{xtype:"component",html:'<a href="#" target="_blank"><img src="'+com.faralam.custom_img_path+'/share_button.png" height="24" width="60"></a>',width:60,height:24,margin:"0 10px 0 0",id:"shareApp_fb",handler:function(){}},{xtype:"component",html:'<a href="#" target="_blank"><img src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" height="24" width="60"></a>',width:60,height:24,id:"shareApp_tweet",handler:function(){}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"share_email",fieldLabel:"Send URL to E-Mail",name:"share_email",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:200,inputWidth:420,labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(l,h,k){var g=Ext.getCmp("share_email_err");g.setValue("");if(h){if(l.getValue().length>0){g.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{g.setValue('<span style="color:#CF4C35;">'+h+"</span>")}}}}},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 10",width:130,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){var g=Ext.getCmp("share_email").getValue();var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;var k=e.test(g);if(k&&g!=""){var h=Ext.getCmp("shareEmailSMS_access_mode").getValue();if(h===true){com.faralam.shareAppByEmail(g);Ext.getCmp("share_email").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid email address.")}}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"share_email_err",id:"share_email_err",fieldLabel:"&nbsp;",margin:"0 0 0 100",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px;">"I certify that the recipient has agreed to receive this Text/E-Mail message"?</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"shareEmailSMS_access_mode",id:"shareEmailSMS_access_mode",listeners:{click:{element:"el",fn:function(){var e=Ext.getCmp("shareEmailSMS_access_mode").getValue();if(e===true){Ext.get("shareEmailSMS_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("shareEmailSMS_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("shareEmailSMS_access_mode-inputEl").removeCls("active_checkbox");Ext.get("shareEmailSMS_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]}]}]}]}]}]});a.items=[com.faralam.ShareApp];a.callParent()}},0,["share_app_item"],["container","component","form","share_app_item","box","panel"],{container:true,component:true,form:true,share_app_item:true,box:true,panel:true},["widget.share_app_item"],0,[community_portal.view,"ShareApp"],0));(Ext.cmd.derive("community_portal.view.Support",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.Support=new Ext.FormPanel({style:"background:#314F85 !important;padding:0 !important;",height:700,id:"SupportSectionForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#SupportSection").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 -50",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Support</span>'},"->"]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"fieldset",title:'<span style="font-style: italic;">Send Support Request</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",width:780,layout:"vbox",items:[{xtype:"textfield",id:"replyEmail",fieldLabel:"Reply-to- E-Mail",inputType:"email",name:"replyEmail",allowBlank:false,emptyText:"",msgTarget:"none",margin:"50 0 0 0",labelAlign:"right",labelWidth:150,inputWidth:520,labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("reply_email_err");d.setValue("");if(g){if(k.getValue().length>0){d.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"displayfield",name:"reply_email_err",id:"reply_email_err",fieldLabel:"&nbsp;",margin:"0 0 0 50",value:"",labelSeparator:""},{xtype:"combo",fieldLabel:"Subject",label:"subject",labelStyle:"color:#fff !important;",labelAlign:"right",labelWidth:150,inputWidth:520,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",name:"subject",emptyText:"Choose Subject",id:"subject",queryMode:"local",displayField:"value",valueField:"value",autoSelect:true,forceSelection:true,editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["value"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(g){var d=[];var e=0;Ext.each(g,function(h){d.push([]);d[e].push(new Array(1));d[e]["value"]=h;e=e+1});g=d;return g}},listeners:{exception:function(g,e,d){com.faralam.common.ErrorHandling(e.responseText)}}}}),listeners:{select:function(){var d=this.getValue().split(",");this.inputEl.dom.style.backgroundColor=d[1];this.inputEl.dom.style.backgroundImage="none";this.inputEl.removeCls("x-form-text");this.inputEl.addCls("text-dynamic")}}},{xtype:"textareafield",id:"describe_problem",fieldLabel:"Describe the problem",name:"describe_problem",allowBlank:false,emptyText:"",msgTarget:"none",margin:"30 0 0 0",labelAlign:"right",labelWidth:150,inputWidth:625,rows:12,labelSeparator:"  ",anchor:"100%",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(k,g,h){var d=Ext.getCmp("describe_problem_err");d.setValue("");if(g){if(k.getValue().length>0){}else{d.setValue('<span style="color:#CF4C35;">'+g+"</span>")}}}}},{xtype:"displayfield",name:"describe_problem_err",id:"describe_problem_err",fieldLabel:"&nbsp;",margin:"0 0 0 50",value:"",labelSeparator:""},{xtype:"button",text:'<span style="color:#fff;">Send</span>',width:130,height:34,margin:"30 0 60 650",style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",listeners:{click:{element:"el",fn:function(){var d=Ext.getCmp("replyEmail").getValue();var g=Ext.getCmp("subject").getValue();var e=Ext.getCmp("describe_problem").getValue();if(!d||d==""){Ext.MessageBox.alert("Information","Please enter a valid reply email.")}if(!g||g==""){Ext.MessageBox.alert("Information","Please enter proper subject.")}if(!e||e==""){Ext.MessageBox.alert("Information","Please enter proper problem describe.")}if(d&&d!=""&&g&&g!=""&&e&&e!=""){com.faralam.supportApp()}else{Ext.MessageBox.alert("Information","Please enter all the fields.")}}},afterRender:function(e,d){this.keyNav=Ext.create("Ext.util.KeyNav",this.el,{enter:function(){},scope:this})},focus:function(){this.getEl().dom.style.opacity="0.6"},blur:function(){this.getEl().dom.style.opacity="1"}}}]}]}]}]});a.items=[com.faralam.Support];a.callParent()}},0,["support_item"],["container","component","form","box","panel","support_item"],{container:true,component:true,form:true,box:true,panel:true,support_item:true},["widget.support_item"],0,[community_portal.view,"Support"],0));(Ext.cmd.derive("community_portal.view.UpdateAppIcon",Ext.form.Panel,{items:[],initComponent:function(){var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a=this;com.faralam.UpdateAppIcon=new Ext.FormPanel({id:"UpdateAppIconForm",style:"padding:0;",margin:"0 0 0 0",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#UpdateAppIcon").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",id:"UpdateAppIcon_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">App Icon / Brand Logo</span>'},"->",'<img id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">']},{xtype:"container",style:"margin:0 auto; max-width:1000px !important;",width:990,layout:{type:"table",pack:"center",columns:1,tableAttrs:{style:{width:"50%"}}},items:[{xtype:"container",style:"margin:0 auto; max-width:1000px !important;",layout:{type:"vbox",pack:"center"},height:550,width:990,items:[{xtype:"container",height:550,width:990,style:"text-align: center;",items:[{xtype:"button",text:'<span style="color:#000;">Update Icon Picture</span>',scale:"large",margin:"30 0 0 0",handler:function(){com.faralam.getCropPicURLs("resources/plugins/croppic/update_app_icon.html")}},{xtype:"image",id:"maskBigger_AppIcon",src:com.faralam.custom_img_path+"appIconPreviewMaskBigger.png"},{xtype:"image",id:"UpdateAppIcon_preview",src:com.faralam.custom_img_path+"no-preview.jpg",listeners:{render:function(d){d.el.on({load:function(e,h,g){d.setLoading(true)}})},afterrender:function(d){d.el.on({load:function(e,h,g){d.setLoading(false)}})}}}]}]}]}]});a.items=[com.faralam.UpdateAppIcon];a.callParent()}},0,["UpdateAppIcon_item"],["container","component","form","UpdateAppIcon_item","box","panel"],{container:true,component:true,form:true,UpdateAppIcon_item:true,box:true,panel:true},["widget.UpdateAppIcon_item"],0,[community_portal.view,"UpdateAppIcon"],0));(Ext.cmd.derive("community_portal.view.OnlineOrder",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.OnlineOrder=new Ext.FormPanel({style:"background:#314F85 !important;",height:700,id:"OnlineOrderForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 -50",id:"OnlineOrder_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Orders</span>'},"->"]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",layout:"column",items:[{xtype:"container",layout:"vbox",style:"max-width:900px !important;",items:[{xtype:"container",layout:"hbox",style:"max-width:900px !important;",items:[{xtype:"button",style:"background:#fff !important;",scale:"large",margin:"0 0 0 20",text:'<span style="color:#000;">Refresh</span>',width:100,height:40,handler:function(){com.faralam.common.retrieveOrders_func()}},{xtype:"button",scale:"large",margin:"0 0 0 550",style:"background:#3459A0 !important;",text:'<span style="color:#000;">Create New Order</span>',cls:"gallery_next",handler:function(){Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(true);Ext.getCmp("main_tab").down("#CreateOrder").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(23)}}]},{xtype:"panel",id:"slide_panel_order",style:"max-width:900px !important;",html:'<table width="900px" height="45px" border="0" bgcolor="#324f85"><tr><td width="90px" align="left" valign="top" class="order_table_header">Number <span class="up-triangle"></span></td><td width="90px" align="left" valign="top" class="order_table_header">Order <span class="up-triangle"></span></td><td width="90px" align="left" valign="top" class="order_table_header"><i style="font-size:13px;">Customer</i><span class="up-triangle"></span></td><td width="198px" align="left" valign="top" class="order_table_header">Items</td><td width="108px" align="left" valign="top" class="order_table_header">Due</td><td width="135px" align="left" valign="top" class="order_table_header">Order Status <span class="up-triangle"></span></td><td width="144px" align="left" valign="top" class="order_table_header">Delivery status <span class="up-triangle"></span></td><td width="135px" align="left" valign="top" class="order_table_header">Notes</td></tr></table>'}]}]}]});a.items=[com.faralam.OnlineOrder];a.callParent()}},0,["OnlineOrder_item"],["container","component","form","box","OnlineOrder_item","panel"],{container:true,component:true,form:true,box:true,OnlineOrder_item:true,panel:true},["widget.OnlineOrder_item"],0,[community_portal.view,"OnlineOrder"],0));(Ext.cmd.derive("community_portal.view.MyAppMembers",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.MyAppMembers=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"MyAppMembersForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#FF3B30 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#MyAppMembers").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"MyAppMembers_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">My Customers</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"panel",id:"slide_panel_members",style:"width:200px !important;",html:'<table width="200px" height="500px" border="0"><tr><td style="color:#000 !important;padding:6px 10px;" width="200px">No Member Found</td></tr></table>'},{xtype:"container",layout:"vbox",style:"width:780px !important;background:#999999 !important;height:600px!important;right: 0 !important;",items:[{xtype:"container",layout:"vbox",style:"height:650px!important;width:780px !important;",items:[{xtype:"button",margin:"30 0 30 500",text:'<span style="color:#fff;">Add New Member</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.MemberRegister()}},{xtype:"button",margin:"30 0 30 500",text:'<span style="color:#fff;">Search</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.MemberSearch()}}]},{xtype:"container",layout:"vbox",style:"height:300px!important;width:780px !important;",items:[{html:'<img width="35" src="'+com.faralam.custom_img_path+'/membership_active.png">',margin:"20 0 0 335"},{xtype:"component",margin:"20 0 100 200",width:400,html:'<span style="color:#000;font-size:16px; font-weight: bold;">(Select a Member to view Full Member Profile)</span>'}]}]}]}]});a.items=[com.faralam.MyAppMembers];a.callParent()}},0,["MyAppMembers_item"],["container","component","form","box","panel","MyAppMembers_item"],{container:true,component:true,form:true,box:true,panel:true,MyAppMembers_item:true},["widget.MyAppMembers_item"],0,[community_portal.view,"MyAppMembers"],0));(Ext.cmd.derive("community_portal.view.MyAppMembersDetails",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.MyAppMembersDetails=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"MyAppMembersDetailsForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#MyAppMembers").setDisabled(false);Ext.getCmp("main_tab").down("#MyAppMembersDetails").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(25)}},{xtype:"component",margin:"0 0 0 10",id:"membersHeaderLeft",html:""},"->",{xtype:"component",margin:"0 0 0 110",id:"membersHeaderRight",html:""},"->"]},{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"panel",id:"slide_panel_membersDetails",style:"width:230px !important;",html:'<table border="0" width="230px"><tbody><tr class="member_profile_panel_tr" style="background-color:#B8B8E6"><td width="230px" style="color:#000 !important;padding: 10px 10px;height: 38px;cursor:pointer"><span onClick="com.faralam.common.getMyCustomerProfile()">Profile</span></td></tr><tr class="member_message_panel_tr"><td width="230px" style="color:#000 !important;padding: 10px 10px;height: 38px;corsor:pointer"><span onClick="com.faralam.common.getMyCustomerMessage()">Messages</span></td></tr></tbody></table>'},{xtype:"panel",id:"member_message_panel",margin:"10 0 50 10",style:"overflow:hidden;width:750px !important;border:2px solid black;min-height:526px !important",html:'<table style="min-height:526px !important" class="MyAppMessages_review_table" id="MyMemberMessagesReviewTable"><tr>\n                                            <th class="border_none font_normal" width="160px">Member</th>\n                                            <th class="border_none font_normal" width="400px">Message</th>\n                                            <td class="border_none font_normal" width="210px"><button type="button" class="msg_reply_btn" mb="" urgent="" un="" com_id="" in_reply_to_com_id="" ts="" sasl="" onclick="com.faralam.common.getConversationBetweenSASLUserNew(this)" id="memberCreatMessageButton">Create Message</button></td>\n\t\t\t\t\t\t\t</tr></table>'},{xtype:"container",layout:"vbox",style:"width:750px !important;right: 0 !important;  border-left: 1px solid #a3aec6 !important;",id:"member_profile_panel",items:[{xtype:"panel",id:"member_rating_panel",margin:"10 0 50 0",style:"width:750px !important;",html:'<table class="member_table" style="width:740px !important;  border-spacing:0 !important; border-top: 2px solid #a3aec6;width:200px;"><tr><td class="text-align-center">Rating </td><td class="text-align-center" style="border-left: 1px solid #a3aec6;border-right: 1px solid #a3aec6;" id="member_rating_star"><fieldset id="demo1" class="rating"><input class="stars" type="radio" id="star5" name="rating" value="5" onclick="com.faralam.getRating(this)" /><label class = "full" for="star5" title="Perfect"></label><input class="stars" type="radio" id="star4" name="rating" value="4" onclick="com.faralam.getRating(this)" /><label class = "full" for="star4" title="Good"></label><input class="stars" type="radio" id="star3" name="rating" value="3" onclick="com.faralam.getRating(this)" /><label class = "full" for="star3" title="Not that Bad"></label><input class="stars" type="radio" id="star2" name="rating" value="2" onclick="com.faralam.getRating(this)" /><label class = "full" for="star2" title="Poor"></label><input class="stars" type="radio" id="star1" name="rating" value="1" onclick="com.faralam.getRating(this)" /><label class = "full" for="star1" title="Very Poor"></label></fieldset></td><td class="text-align-center"><input type="button" value="Save" style="background-color: #ffffff;border: 2px solid #cccccc;border-radius: 8px;cursor: pointer;padding: 2px;width: 100px;" onclick="com.faralam.common.setRating(this)" /></td></tr></table>'},{xtype:"hiddenfield",id:"userrating_value",name:"",value:"0"},{xtype:"panel",id:"member_coment_panel",margin:"30 0 50 0",style:"width:750px !important;",html:""},{xtype:"panel",id:"member_dislike_panel",margin:"10 0 50 0",style:"width:750px !important;",html:""},{xtype:"panel",id:"member_preference_panel",margin:"10 0 50 0",style:"width:750px !important;",html:""}]},{xtype:"container",id:"member_reply_panel",margin:"10 0 50 0",layout:"vbox",height:700,style:"width:750px !important;right: 0 !important;  border-left: 1px solid #a3aec6 !important;",items:[{xtype:"component",id:"member_reply_panel_details",height:586,style:"background:#ccc;width:750px !important;",html:""},{xtype:"container",margin:"1 2 2 2",layout:"hbox",height:60,style:"width:750px !important;top:591px",items:[{xtype:"textfield",width:550,height:45,id:"Mymember_reply_tf",emptyText:"Type your message here",listeners:{specialkey:function(d,g){if(g.getKey()==g.ENTER){com.faralam.common.sendMessageToUserNew()}}}},{xtype:"container",defaultType:"button",width:80,style:"text-align:center;",margin:"12 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Send</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.sendMessageToUserNew()}}]},{xtype:"hiddenfield",id:"MyMemberMessages_mb"},{xtype:"hiddenfield",id:"MyMemberMessages_urgent"},{xtype:"hiddenfield",id:"MyMemberMessages_un"},{xtype:"hiddenfield",id:"MyMemberMessages_ts"},{xtype:"hiddenfield",id:"MyMemberMessages_aid"},{xtype:"hiddenfield",id:"MyMemberMessages_offset",value:null},{xtype:"hiddenfield",id:"MyMemberMessages_communicationId",value:null}]}]}]}]});a.items=[com.faralam.MyAppMembersDetails];a.callParent()}},0,["MyAppMembersDetails_item"],["container","MyAppMembersDetails_item","component","form","box","panel"],{container:true,MyAppMembersDetails_item:true,component:true,form:true,box:true,panel:true},["widget.MyAppMembersDetails_item"],0,[community_portal.view,"MyAppMembersDetails"],0));(Ext.cmd.derive("community_portal.view.PollContest",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.PollContest=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"PollContestForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#006666 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#PollContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"PollContest_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Poll Contest</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"pollMainContainer",style:"width:980px !important;height:648px !important;border:1px solid black",items:[{xtype:"container",layout:"hbox",id:"pollTopbar",style:"width:980px !important;background:transparent !important;",items:[{xtype:"container",defaultType:"button",width:110,style:"text-align:center;",margin:"20 0 0 10",items:[{text:'<span style="color:#007AFF !important;">&lt; Prev</span>',style:"background:#fff !important;border:2px solid #000 !important;",id:"pool_pre_btn",margin:"0 0 0 0",id:"pool_prev_btn",handler:function(){com.faralam.common.retrievePollPortal_func_nxt_prev("PREV")}}]},{xtype:"hiddenfield",id:"pool_is_answer",name:"pool_is_answer",value:"0"},{xtype:"hiddenfield",id:"pool_is_prize",name:"pool_is_prize",value:"0"},{xtype:"hiddenfield",id:"poll_hid_preview_url",name:"poll_hid_preview_url",value:""},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Poll Title",inputWidth:300,margin:"20 0 0 50",name:"",value:"",id:"pollTitle",allowBlank:false},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 30",items:[{text:'<span style="color:#007AFF !important;">Preview</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){var d=Ext.getCmp("poll_hid_preview_url").getValue();com.faralam.common.open_Contest_preview(d)}}]},{xtype:"container",defaultType:"button",width:110,style:"text-align:center;",margin:"20 0 0 10",items:[{text:'<span style="color:#007AFF !important;">Next &gt;</span>',style:"background:#fff !important;border:2px solid #000 !important;",id:"pool_next_btn",margin:"0 0 0 0",handler:function(){com.faralam.common.retrievePollPortal_func_nxt_prev("NEXT")}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 20 0 10",items:[{text:'<span style="color:#fff !important;">Create New Poll</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){Ext.getCmp("main_tab").down("#CreateNewPollContest").setDisabled(false);Ext.getCmp("main_tab").down("#PollContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(31)}}]}]},{xtype:"container",layout:"vbox",id:"pollContainer",margin:"30 10 0 10",style:"width:960px !important;background:#D9ECF4 !important;padding: 10px 10px 15px 15px;border: 3px double brown;border-radius: 8px;",items:[{xtype:"container",layout:"hbox",style:"width:940px !important;",items:[{xtype:"component",width:150,id:"pollcontestStatus",margin:"10 0 0 0",style:"color:#000 !important;",html:""},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Activation Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"pollActivationDate",allowBlank:false},{xtype:"component",width:30,margin:"10 0 0 0",style:"padding-top: 12px;",html:'<div class="poll_gap"></div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Expiration Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"pollExpirationDate"},{xtype:"container",defaultType:"button",width:130,id:"pool_activate_btn",style:"text-align:center;",margin:"10 0 0 10",items:[{text:'<span style="color:#fff !important;">Activate</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.activatePoll()}}]},{xtype:"container",defaultType:"button",id:"pool_terminate_btn",width:130,style:"text-align:center;",margin:"10 0 0 10",items:[{text:'<span style="color:#000 !important;">Terminate</span>',style:"background:#ccc !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.terminatePoll()}}]},{xtype:"container",defaultType:"button",width:130,style:"text-align:center;",margin:"10 0 0 10",id:"pool_share_button",disabled:true,items:[{text:'<span style="color:#007AFF !important;">Share</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.sharePollContest()}}]}]},{xtype:"container",layout:"hbox",margin:"15 0 0 0",id:"pool_box2",style:"width:960px !important;",items:[{xtype:"component",width:960,margin:"0 0 0 0",html:'<div class="poll_heading_area"><div class="poll_heading_question"><div class="poll_question">The Question</div><div class="poll_question_icon"><img onclick="com.faralam.common.pollQuestionPopupSec()" src="'+com.faralam.custom_img_path+'icon_pencil.png" alt="" style="cursor:pointer;"/></div></div><div class="poll_heading_answer"><div class="poll_question">The Answer</div><div class="poll_question_icon" style="margin-right:-4px;"><img onclick="com.faralam.common.pollAnswerPopupSec()" src="'+com.faralam.custom_img_path+'icon_pencil.png" alt="" style="cursor:pointer;"/></div></div><div class="poll_heading_prizes"><div class="poll_question">The Prizes</div><div class="poll_question_icon" style="margin-right:-8px;"><img  onclick="com.faralam.common.pollPrizePopupSec()" src="'+com.faralam.custom_img_path+'icon_pencil.png" alt="" style="cursor:pointer;" /></div></div><div class="clear"></div></div>'}]},{xtype:"container",id:"pool_box3",layout:"hbox",margin:"00 0 0 0",style:"width:960px !important",items:[{xtype:"component",id:"pollQuestions",width:300,margin:"0 0 0 0",html:'<div class="poll_question_data"><div class="poll_profile_image"><img src="" alt=""/></div><div class="poll_profile_data"></div><div class="clear"></div></div>'},{xtype:"component",id:"pollAnswers",width:300,margin:"0 0 0 20",html:'<div class="poll_question_data"><div class="poll_profile_image"><img src="" alt=""/></div><div class="poll_profile_data"></div><div class="clear"></div></div>'},{xtype:"component",id:"pollPrizes",width:300,margin:"0 0 0 20",html:'<div class="poll_question_data"><div class="poll_profile_image"><img src="" alt=""/></div><div class="poll_profile_data"></div><div class="clear"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"20 0 0 0",style:"width:960px !important;",items:[{xtype:"component",width:960,margin:"0 0 0 0",html:'<div class="poll_heading_area"><div class="poll_heading_question"><div class="poll_question">Entries</div><div class="poll_question_icon"></div></div><div class="poll_heading_answer"><div class="poll_question">Winners</div><div class="poll_question_icon"></div></div><div class="poll_heading_prizes"><div class="poll_question" style="padding-left:3px;">Results</div><div class="poll_question_icon"></div></div><div class="clear"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",style:"width:960px !important;",items:[{xtype:"component",id:"pollEntries",width:300,margin:"0 0 0 0",html:'<div id="poll_entries_data"><div class="entrylist"></div></div>'},{xtype:"component",id:"pollWinners",width:300,margin:"0 0 0 20",html:'<div style="border: 1px solid black; width: 292px;"><div style="border: medium none; height: 163px;" id="poll_winners_data"><div class="winner_notification"></div></div><div  style="height: 27px; color: rgb(119, 119, 119); padding-left: 95px; padding-top: 4px;" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" ondragenter="com.faralam.dragEnter_contest(event)" ondragleave="com.faralam.dragLeave_contest(event)" class="poll_drop_zone_normal" id="poll_winner_drop_zone">Drop Entries Here</div></div>'},{xtype:"component",id:"pollResults",width:310,margin:"0 0 0 20",html:'<div id="poll_results_data"></div>'}]}]}]}]});a.items=[com.faralam.PollContest];a.callParent()}},0,["PollContest_item"],["container","component","form","PollContest_item","box","panel"],{container:true,component:true,form:true,PollContest_item:true,box:true,panel:true},["widget.PollContest_item"],0,[community_portal.view,"PollContest"],0));(Ext.cmd.derive("community_portal.view.MyAppMessages",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span class="required" data-qtip="Required">*</span>';com.faralam.MyAppMessages=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"MyAppMessagesForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#MyAppMessages").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},{xtype:"component",margin:"0 0 0 0",id:"MyAppMessages_pageHeader",html:'<span class="MyAppMessages_ac">All Communications</span>'},"->","->"]},{xtype:"container",layout:"hbox",style:"width:1030px !important;",items:[{xtype:"panel",id:"slide_panel_MyAppMessages",style:"max-width:200px !important;",html:""},{xtype:"container",layout:"vbox",style:"width:750px !important;right: 0 !important;  border-left: 1px solid #a3aec6 !important;",items:[{xtype:"panel",id:"MyAppMessages_review_panel",margin:"10 0 50 0",style:"width:780px !important;",html:""},{xtype:"panel",id:"MyAppMessages_message_panel",margin:"10 0 50 10",style:"overflow:hidden;width:715px !important;border:2px solid black;position:relative",html:""},{xtype:"container",id:"MyAppMessages_reply_container",margin:"10 0 50 15",layout:"vbox",height:700,style:"width:750px !important;",items:[{xtype:"component",id:"MyAppMessages_reply_panel",height:586,style:"background:#ccc;width:750px !important;",html:""},{xtype:"container",margin:"1 2 2 2",layout:"hbox",height:60,style:"width:750px !important;",items:[{xtype:"textfield",width:550,height:45,id:"MyAppMessages_reply_tf",emptyText:"Type your message here",listeners:{specialkey:function(d,g){if(g.getKey()==g.ENTER){com.faralam.common.sendMessageToUser()}}}},{xtype:"container",defaultType:"button",width:80,style:"text-align:center;",margin:"12 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Send</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.sendMessageToUser()}}]}]},{xtype:"hiddenfield",id:"MyAppMessages_mb"},{xtype:"hiddenfield",id:"MyAppMessages_urgent"},{xtype:"hiddenfield",id:"MyAppMessages_un"},{xtype:"hiddenfield",id:"MyAppMessages_com_id"},{xtype:"hiddenfield",id:"MyAppMessages_in_reply_to_com_id"},{xtype:"hiddenfield",id:"MyAppMessages_ts"},{xtype:"hiddenfield",id:"MyAppMessages_sasl"},{xtype:"hiddenfield",id:"MyAppMessages_offset",value:null}]}]}]}]});a.items=[com.faralam.MyAppMessages];a.callParent()}},0,["MyAppMessages_item"],["container","component","form","box","MyAppMessages_item","panel"],{container:true,component:true,form:true,box:true,MyAppMessages_item:true,panel:true},["widget.MyAppMessages_item"],0,[community_portal.view,"MyAppMessages"],0));(Ext.cmd.derive("community_portal.view.PollContestPreview",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.PollContestPreview=new Ext.FormPanel({style:"background:#FFFFFF !important;padding-bottom:100px;",height:700,id:"PollContestPreviewForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#006666 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#PollContest").setDisabled(false);Ext.getCmp("main_tab").down("#PollContestPreview").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(29)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Preview Poll</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"pollPreviewMainContainer",style:"  width: 960px !important;padding: 10px;border: 2px solid #000;background-color: #ccc;margin: 10px;",items:[{xtype:"container",layout:"hbox",items:[{xtype:"container",defaultType:"button",width:160,height:30,style:"text-align:center;",margin:"0 20 10 780",items:[{text:'<span style="color:#fff !important;">Active</span>',style:"background:#007AFF !important;border:2px solid #000 !important;padding:1px 10px;",margin:"0 0 0 0",handler:function(){}}]}]},{xtype:"container",layout:"vbox",width:940,style:"border:1px solid blue;padding:10px;",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",width:100,cls:"pollPreviewLable",value:"Poll Title"},{xtype:"displayfield",width:170,cls:"pollPreviewLable",margin:"0 0 0 400",value:"Days Left:  [n/a]"},{xtype:"displayfield",width:100,cls:"pollPreviewLable",margin:"0 0 0 50",value:"Entries:  0"}]},{xtype:"container",layout:"hbox",items:[{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Poll Title",inputWidth:300,margin:"10 0 0 0",name:"",value:"",id:"pollTitlePreview",allowBlank:false},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Activation Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"pollActivationDatePriview",allowBlank:false,format:"Y-m-d\\TH:i:s\\.uP"},{xtype:"component",width:30,margin:"10 0 0 0",style:"padding-top: 12px;",html:'<div class="poll_gap"></div>'},{xtype:"datefield",fieldLabel:"",labelSeparator:"",emptyText:"Expiration Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"pollExpirationDatePriview",allowBlank:false,format:"Y-m-d\\TH:i:s\\.uP"}]}]},{xtype:"container",layout:"hbox",width:940,margin:"20 0 0 0",items:[{xtype:"displayfield",width:200,cls:"pollPreviewLable",value:"Poll Question"},{xtype:"container",layout:"hbox",width:730,height:100,style:"border:1px solid blue;",items:[{xtype:"component",id:"pollQuestionBlockPreview",style:"padding: 10px;",html:'<div class="inner"><img width="80" src="" alt=""><div class="qustion">Poll Question</div></div>'}]}]},{xtype:"container",layout:"hbox",width:940,margin:"20 0 0 0",items:[{xtype:"displayfield",width:200,cls:"pollPreviewLable",value:"Poll Choices"},{xtype:"container",layout:"hbox",width:730,height:142,style:"border:1px solid blue;",items:[{xtype:"component",id:"pollchoicePreview",height:142,html:'<div class="inner"><img width="40" src="" alt=""><div class="quantity">1</div><div class="choice">Choice 1</div></div><div class="inner"><img width="40" src="" alt=""><div class="quantity">2</div><div class="choice">Choice 2</div></div><div class="inner"><img width="40" src="" alt=""><div class="quantity">3</div><div class="choice">Choice 3</div></div>'}]}]},{xtype:"container",layout:"hbox",width:940,margin:"20 0 0 0",items:[{xtype:"displayfield",width:200,cls:"pollPreviewLable",value:"Poll Prizes"},{xtype:"container",layout:"hbox",width:730,height:100,style:"border:1px solid blue;",items:[{xtype:"component",id:"pollprizePreview",html:'<div class="inner"><img width="85" src="" alt=""><div class="prize">Prize 1</div><div class="quantity">1</div></div><div class="inner"><img width="85" src="" alt=""><div class="prize">Prize 1</div><div class="quantity">1</div></div><div class="inner"><img width="85" src="" alt=""><div class="prize">Prize 1</div><div class="quantity">1</div></div>'}]}]}]}]});a.items=[com.faralam.PollContestPreview];a.callParent()}},0,["PollContestPreview_item"],["container","component","form","PollContestPreview_item","box","panel"],{container:true,component:true,form:true,PollContestPreview_item:true,box:true,panel:true},["widget.PollContestPreview_item"],0,[community_portal.view,"PollContestPreview"],0));(Ext.cmd.derive("community_portal.view.PhotoContest",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.PhotoContest=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"PhotoContestForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#92D050 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"PhotoContest_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Photo Contest</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"photoMainContainer",style:"width:980px !important;",items:[{xtype:"container",layout:"hbox",id:"photoTopbar",style:"width:980px !important;background:transparent !important;",items:[{xtype:"container",defaultType:"button",width:110,style:"text-align:center;",margin:"20 0 0 10",items:[{text:'<span style="color:#007AFF !important;">&lt; Prev</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",id:"photo_prev_btn",handler:function(){com.faralam.common.retrievePhotoContestPortal_func_nxt_prev("PREV")}}]},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Photo Title",inputWidth:300,margin:"20 0 0 50",name:"",value:"",id:"photoTitle",allowBlank:false},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 0 0 30",items:[{text:'<span style="color:#007AFF !important;">Preview</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){var d=Ext.getCmp("photo_hid_preview_url").getValue();com.faralam.common.open_Contest_preview(d)}}]},{xtype:"container",defaultType:"button",width:110,style:"text-align:center;",margin:"20 0 0 10",items:[{text:'<span style="color:#007AFF !important;">Next &gt;</span>',style:"background:#fff !important;border:2px solid #000 !important;",id:"photo_next_btn",margin:"0 0 0 0",handler:function(){com.faralam.common.retrievePhotoContestPortal_func_nxt_prev("NEXT")}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 20 0 10",items:[{text:'<span style="color:#fff !important;">Create New Contest</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){Ext.getCmp("main_tab").down("#CreateNewPhotoContest").setDisabled(false);Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(34)}}]}]},{xtype:"container",layout:"vbox",id:"photoContainer",margin:"15 10 0 10",style:"width:960px !important;border:2px solid black;padding: 10px 10px 10px 15px;",items:[{xtype:"container",layout:"hbox",style:"width:940px !important;",items:[{xtype:"component",width:150,id:"photocontestStatus",margin:"10 0 0 0",style:"color:#000 !important;",html:'<p style="font-weight:bold;font-size:16px">status&nbsp;:&nbsp;</p>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Activation Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"photoActivationDate",allowBlank:false},{xtype:"component",width:30,margin:"10 0 0 0",style:"padding-top: 12px;",html:'<div class="photo_gap"></div>'},{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Expiration Date",inputWidth:220,margin:"10 5 0 10",name:"",value:"",id:"photoExpirationDate",allowBlank:false},{xtype:"container",defaultType:"button",width:130,style:"text-align:center;",margin:"10 0 0 10",items:[{text:'<span style="color:#fff !important;">Activate</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",id:"photo_activate_btn",margin:"0 0 0 0",handler:function(){com.faralam.common.activatePhotoContest()}},{text:'<span style="color:#fff !important;">Terminate</span>',style:"background:#a39999 !important;border:2px solid #000 !important;",id:"photo_terminate_btn",margin:"0 0 0 0",handler:function(){com.faralam.common.terminatePhotoContest()}}]},{xtype:"container",defaultType:"button",width:130,style:"text-align:center;",margin:"10 0 0 10",items:[{text:'<span style="color:#007AFF !important;">Share</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",id:"photo_share_btn",handler:function(){com.faralam.common.sharePollContest()}}]}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",style:"width:960px !important",items:[{xtype:"container",layout:"vbox",margin:"10 0 0 0",id:"left_portion",style:"width:650px !important",items:[{xtype:"container",layout:"hbox",margin:"10 0 0 0",style:"width:600px !important;",items:[{xtype:"component",width:600,margin:"0 0 0 0",html:'<div class="photo_heading_area"><div style="float: left; width: 295px;"><p>Contest Details</p></div><div style="float: left; margin-left: 17px; width: 284px; display: inline;"><p style="float: left; width: 250px;">Prizes</p><img style="height: 30px; width: 30px; right: 0px;cursor:pointer" src="'+com.faralam.custom_img_path+'icon_pencil.png" onclick="com.faralam.common.photoPrizePopupSec()"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",style:"width:620px !important;",items:[{xtype:"component",id:"photoContestDetails",width:300,margin:"0 0 0 0",html:'<div class="photo_question_data"><div class="clear"></div></div>'},{xtype:"component",id:"photoPrizes",width:300,margin:"0 0 0 10",html:'<div class="photo_question_data"><div class="photo_profile_image"><img src="" alt=""/></div><div class="photo_profile_data"></div><div class="clear"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",style:"width:960px !important;",items:[{xtype:"component",width:560,id:"entry_head",margin:"0 0 0 0",html:'<div class="photo_heading_area"><div style="width: 100px; margin: 0px;" class="photo_heading_answer"><div class="photo_question">Entries</div></div><div class="photo_heading_answer" style="width: 191px;"><div class="photo_question" style="font-weight:400;">Responses:&nbsp;</div></div><div class="photo_heading_answer" style="width: 191px;"><div class="photo_question" style="font-weight:400;">Days left:&nbsp;</div></div><div class="clear"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",style:"width:560px !important;",items:[{xtype:"component",id:"photoEntries",width:550,margin:"0 0 0 0",html:'<div id="photo_entries_data"></div>'},{xtype:"component",margin:"15 0 0 5",id:"delete_zone_photo_contest",html:'<span></span><img id="delete_zone_photo_entry" src="'+com.faralam.custom_img_path+'dustbin.png" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" width="30" height="30" border="0">'}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",style:"width:960px !important;",items:[{xtype:"component",width:560,margin:"0 0 0 0",html:'<div class="photo_heading_area"><div class="photo_heading_answer"><div class="photo_question">Winners</div><div class="photo_question_icon"></div></div><div class="clear"></div></div>'}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",style:"width:560px !important;",items:[{xtype:"component",id:"photoWinners",width:550,margin:"0 0 0 0",html:'<div id="photo_winners_data"></div>'}]}]},{xtype:"container",layout:"vbox",margin:"55 25 0;",id:"right_portion",style:"width:325px !important;height:470px !important;border:1px solid #000000;",items:[{xtype:"container",defaultType:"button",width:150,style:"text-align:center;",margin:"10 0 0 10",items:[{text:'<span style="color:#007AFF !important;">Message</span>',style:"background:#fff !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){com.faralam.common.msg_sec_open_photo()}}]},{xtype:"hiddenfield",id:"photo_is_select",name:"photo_is_select",value:"0"},{xtype:"hiddenfield",id:"photo_hid_preview_url",name:"photo_hid_preview_url",value:""},{xtype:"component",id:"big_img",margin:"15 15 0 0",html:'<div style="background-color: rgb(255, 255, 255); border: 1px solid black; height: 200px; width: 250px; margin-left: 20px;"></div>'},{xtype:"component",id:"photo_description",margin:"50 15 0 0",html:'<div style="background-color: rgb(255, 255, 255); border: 1px solid black; height: 150px; width: 250px; margin-left: 20px;"></div>'}]}]}]}]}]});a.items=[com.faralam.PhotoContest];a.callParent()}},0,["PhotoContest_item"],["container","component","form","PhotoContest_item","box","panel"],{container:true,component:true,form:true,PhotoContest_item:true,box:true,panel:true},["widget.PhotoContest_item"],0,[community_portal.view,"PhotoContest"],0));(Ext.cmd.derive("community_portal.view.wall",Ext.form.Panel,{items:[],initComponent:function(){var b=this;var d;var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';function a(){if(!d){var g=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",layout:{type:"table",columns:2,tableAttrs:{style:"width: 100%, background-color: #FFFFFF"}},items:[{xtype:"container",layout:{type:"table",columns:1,tableAttrs:{style:{width:"100%"}}},tdAttrs:{style:{width:"75%"}},items:[{xtype:"container",layout:{type:"table",columns:3,tableAttrs:{style:{width:"100%"}}},items:[{tdAttrs:{style:{width:"33%"}},xtype:"container",style:"text-align:left;",items:[{xtype:"container",layout:"hbox",margin:"5 0 0 0",style:"width:420px !important;",items:[{xtype:"container",defaultType:"button",width:180,style:"text-align:center;",margin:"0 0 0 0",items:[{text:'<span style="color:#FFFFFF !important;">Add New Picture</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/wall_crop.html")}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Create</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){var k=Ext.getCmp("blogTitle").getValue();var h=Ext.getCmp("blogBody").getValue();if(k==""){Ext.MessageBox.alert("Information","Please enter the Post Title")}else{if(h==""){Ext.MessageBox.alert("Information","Please enter the Post Description.")}else{if(k!=""&&h!=""){com.faralam.common.createPostFromSASL()}else{Ext.MessageBox.alert("Information","Please enter the Post details")}}}}}]}]},{xtype:"image",width:160,height:150,src:"",margin:"10 0 0 20",style:"background:#E81212;",id:"wall_image"},{xtype:"container",layout:"hbox",margin:"5 0 0 0",style:"width:420px !important; height: 35px !important;",items:[{xtype:"textfield",fieldLabel:"",inputType:"text",name:"blogTitle",placeholder:"Enter Post Title",allowBlank:false,emptyText:"",id:"blogTitle",msgTarget:"none",inputWidth:400,inputHeight:32,margin:"0 0 0 20",labelAlign:"left",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"hbox",margin:"5 0 0 0",style:"width:420px !important; height: 220px !important;",items:[{xtype:"textarea",fieldLabel:"",inputType:"text",name:"blogBody",placeholder:"Enter Post Description",allowBlank:false,emptyText:"",id:"blogBody",msgTarget:"none",inputWidth:400,inputHeight:64,margin:"0 0 0 20",labelAlign:"left",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]}]}]}]}]}]});d=Ext.widget("window",{title:"Create new wall post",id:"createNewWallPost",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:450,height:400,items:g,listeners:{close:function(){Ext.getCmp("blogTitle").setValue("");Ext.getCmp("blogBody").setValue("");Ext.getCmp("wall_image").setSrc("")}}})}d.show()}com.faralam.wall=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"wallForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#6C3900 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#wall").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"wall_pageHeader",html:'<span style="color:#FFF;font-size:16px; font-weight: bold;">Blog</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="wall_info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"wallMainContainer",style:"width:980px !important; height:700px !important;",items:[{xtype:"container",layout:"hbox",style:"width:980px !important;background:transparent !important;",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"20 20 0 800",items:[{text:'<span style="color:#fff !important;">Add New Post</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:a}]}]},{xtype:"container",layout:"hbox",style:"width:980px !important;background:transparent !important;",items:[{xtype:"component",id:"blog_text_com",html:""}]},{xtype:"container",layout:"vbox",style:"width:1024px !important;background:transparent !important; height:1350px !important;",items:[{xtype:"component",html:'<span style="font-weight:bold !important; color: #000000 !important;">Comments</span>',margin:"5 0 5 72"},{xtype:"container",layout:"vbox",style:"width:1024px !important;background:transparent !important; height:1350px !important;",items:[{xtype:"component",id:"blog_comment"}]}]}]}]});b.items=[com.faralam.wall];b.callParent()}},0,["wall_item"],["container","component","wall_item","form","box","panel"],{container:true,component:true,wall_item:true,form:true,box:true,panel:true},["widget.wall_item"],0,[community_portal.view,"wall"],0));(Ext.cmd.derive("community_portal.view.clickToCall",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.clickToCall=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"clickToCallForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#CCCC00 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#clickToCall").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"clickToCall_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Click to Call</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"callMainContainer",style:"width:980px !important; height:700px !important; padding:50px 0 0 100px;",items:[{xtype:"component",width:960,margin:"0 0 0 0",html:'<div class="call_heading_area"><div class="call_heading_question"><div class="call_question">Update Business Telephone</div></div></div>'},{xtype:"container",layout:"hbox",margin:"20 0 0 0",style:"width:960px !important;",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Telephone</h3>',inputType:"text",name:"telephone",allowBlank:false,emptyText:"",id:"telephone",msgTarget:"none",inputWidth:250,inputHeight:32,margin:"0 0 0 0",labelAlign:"right",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Submit</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){var d=Ext.getCmp("telephone").getValue();var e=Ext.getCmp("clicktocall_Enable").getValue();if(d==""){Ext.MessageBox.alert("Information","Please enter the Telepnone No")}else{if(e=="false"){Ext.MessageBox.alert("Information","Please select Enable Button")}else{if(d!=""&&e=="true"){com.faralam.setBusinessTelephone()}else{Ext.MessageBox.alert("Information","Please enter the Telephone No")}}}}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Cancel</span>',style:"background:#5B5B5B !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#clickToCall").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}}]}]},{xtype:"container",layout:"hbox",style:"width:960px !important; margin:0 20px 0 50px;",items:[{xtype:"component",height:30,style:"padding-top: 5px; margin:20px 0 0 0;",html:'<h3 style="color: #000000 ; margin-right: 10px; margin-left:45px;">Enable</h3>'},{xtype:"hiddenfield",id:"clicktocall_Enable",name:"",value:"false"},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;margin: 0px 0px 0px 70px; height: 77px;",html:'<div class="switch_email"><input id="clicktocall_switch_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.clicktocallSwitchCheckbox(this, \'clicktocall_Enable\')" checked="checked"><label for="clicktocall_switch_toggle"></label></div>'}]}]}]});a.items=[com.faralam.clickToCall];a.callParent()}},0,["clickToCall_item"],["container","component","clickToCall_item","form","box","panel"],{container:true,component:true,clickToCall_item:true,form:true,box:true,panel:true},["widget.clickToCall_item"],0,[community_portal.view,"clickToCall"],0));(Ext.cmd.derive("community_portal.view.drivingDirections",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.drivingDirections=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"drivingDirectionsForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#660066 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#drivingDirections").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"drivingDirections_pageHeader",html:'<span style="color:#fff;font-size:16px; font-weight: bold;">Driving Directions</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"drivingMainContainer",style:"width:980px !important; height:700px !important; padding:50px 0 0 30px;",items:[{xtype:"component",width:960,margin:"0 0 0 0",html:'<div class="call_heading_area"><div class="call_heading_question"><div class="call_question">Update Drive Directions address</div></div></div>'},{xtype:"container",layout:"hbox",style:"width:980px !important; margin:30px 0 0 0;",items:[{xtype:"component",margin:"30 20 0 0",html:'<div style="color:#000000 !important; font-size:17px !important; font-weight:bold;">Address</div>'},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">Number</h3>',inputType:"text",name:"drivingNumber",allowBlank:false,emptyText:"",id:"drivingNumber",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"0 20 0 20",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">Street</h3>',inputType:"text",name:"drivingStreet",allowBlank:false,emptyText:"",id:"drivingStreet",msgTarget:"none",inputWidth:300,inputHeight:32,margin:"0 20 0 20",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:'<span style="color:#FFFFFF !important;">Submit</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"17 0 0 0",handler:function(){var e=Ext.getCmp("drivingNumber").getValue;var l=Ext.getCmp("drivingStreet").getValue;var k=Ext.getCmp("drivingStreet2").getValue;var h=Ext.getCmp("drivingCity").getValue;var g=Ext.getCmp("drivingzip").getValue;var d=Ext.getCmp("drivingState").getValue;var n=Ext.getCmp("drivingCountry").getValue;var m=Ext.getCmp("driving_Enable").getValue();if(e==""){Ext.MessageBox.alert("Information","Please enter the Number")}else{if(l==""){Ext.MessageBox.alert("Information","Please enter the Street")}else{if(h==""){Ext.MessageBox.alert("Information","Please enter the City")}else{if(g==""){Ext.MessageBox.alert("Information","Please enter the Zip")}else{if(d==""){Ext.MessageBox.alert("Information","Please enter the State")}else{if(n==""){Ext.MessageBox.alert("Information","Please enter the Country")}else{if(m=="false"){Ext.MessageBox.alert("Information","Please select Enable Button")}else{if(e!=""&&l!=""&&h!=""&&g!=""&&d!=""&&n!=""&&m=="true"){com.faralam.setBusinessAddress()}else{Ext.MessageBox.alert("Information","Sorry! Some Input fields are blank")}}}}}}}}}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:'<span style="color:#FFFFFF !important;">Cancel</span>',style:"background:#5B5B5B !important; border:2px solid #000 !important;",margin:"17 0 0 0",handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#drivingDirections").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}}]}]},{xtype:"container",layout:"hbox",style:"width:980px !important; margin:30px 0 0 0;",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">Street2</h3>',inputType:"text",name:"drivingStreet2",allowBlank:false,emptyText:"",id:"drivingStreet2",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"0 20 0 110",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">City</h3>',inputType:"text",name:"drivingCity",allowBlank:false,emptyText:"",id:"drivingCity",msgTarget:"none",inputWidth:130,inputHeight:32,margin:"0 20 0 20",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"hbox",style:"width:980px !important; margin:30px 0 0 0;",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">ZIP</h3>',inputType:"text",name:"drivingzip",allowBlank:false,emptyText:"",id:"drivingzip",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"0 20 0 110",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">State</h3>',inputType:"text",name:"drivingState",allowBlank:false,emptyText:"",id:"drivingState",msgTarget:"none",inputWidth:130,inputHeight:32,margin:"0 20 0 20",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px; padding:5px 0 !important;">Country</h3>',inputType:"text",name:"drivingCountry",allowBlank:false,emptyText:"",id:"drivingCountry",msgTarget:"none",inputWidth:130,inputHeight:32,margin:"0 20 0 20",labelAlign:"top",labelWidth:175,labelSeparator:"  ",vtype:"test",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"hbox",style:"width:980px !important; margin:30px 0 0 0;",items:[{xtype:"component",height:30,style:"padding-top: 5px; margin:20px 0 0 0;",html:'<h3 style="color: #000000 ; margin-right: 10px; margin-left:45px;">Enable</h3>'},{xtype:"hiddenfield",id:"driving_Enable",name:"",value:"false"},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;margin: 0px 0px 0px 70px; height: 77px;",html:'<div class="switch_email"><input id="drivingdirections_switch_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.drivingdirectionsSwitchCheckbox(this, \'driving_Enable\')" checked="checked"><label for="drivingdirections_switch_toggle"></label></div>'}]}]}]});a.items=[com.faralam.drivingDirections];a.callParent()}},0,["drivingDirections_item"],["container","component","form","box","panel","drivingDirections_item"],{container:true,component:true,form:true,box:true,panel:true,drivingDirections_item:true},["widget.drivingDirections_item"],0,[community_portal.view,"drivingDirections"],0));(Ext.cmd.derive("community_portal.view.orderSiteCards",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.orderSiteCards=new Ext.FormPanel({height:700,id:"orderSiteCardsForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#FF3B30 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#orderSiteCards").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"orderSiteCards_pageHeader",html:'<span style="color:#fff;font-size:16px; font-weight: bold;">Order Site Cards</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{layout:{type:"table",columns:3,id:"orderSiteMainContainer"},defaults:{frame:true,width:200,height:200},items:[{colspan:2,width:760,height:315,style:"border:2px solid #000000 !important; padding:0 40px !important;",items:[{xtype:"image",width:620,height:280,id:"order_site_cards_front",src:""}]},{height:600,rowspan:4,id:"order_cards_button",style:"border:none; background-color:none !important;",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 30",items:[{text:'<span style="color:#FFFFFF !important;">Order Cards</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){}}]}]},{width:760,colspan:2,height:315,style:"border:2px solid #000000 !important; padding:0 40px !important",items:[{xtype:"image",width:620,height:280,id:"order_site_cards_back",src:""}]}]}]});a.items=[com.faralam.orderSiteCards];a.callParent()}},0,["orderSiteCards_item"],["container","component","form","box","panel","orderSiteCards_item"],{container:true,component:true,form:true,box:true,panel:true,orderSiteCards_item:true},["widget.orderSiteCards_item"],0,[community_portal.view,"orderSiteCards"],0));(Ext.cmd.derive("community_portal.view.widget",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.widget=new Ext.FormPanel({style:"",height:700,id:"widgetForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#3399FF !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#widget").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"widget_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Widget Gallery</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"component",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",html:'<h3 style="color:#000000; font-weight:bold;font-size:15">Copy or email embeddable gallery code-snippest</h3>'},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"fieldset",collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"border:2px solid black;margin: -10px 0 0 0; border 2px solid #000000 !important; border-radius:5px;",items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",margin:"30 0 0 0",items:[{xtype:"displayfield",value:'<h4 style="color: #000;">Copy code-snippest to clipboard</h4> ',width:555,style:"text-align: left;"},{xtype:"hidden",id:"hiddenWidgetCopy",value:""},{xtype:"button",text:'<span style="color:#fff;">Copy</span>',scale:"medium",margin:"0 0 0 10",width:130,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.retriveCarouselHTMLJSONBySASL()}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"widget_share_email",fieldLabel:'<h4 style="color: #000 !important;">E-Mail</h4>',name:"widget_share_email",emptyText:"Enter Email Address",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:350,labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important; color:#000 !important;",listeners:{}},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 10",width:130,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){var e=Ext.getCmp("widget_share_email").getValue();var d=Ext.getCmp("widget_Enable").getValue();if(e==""){Ext.MessageBox.alert("Information","Please enter An Email")}else{if(d=="false"){Ext.MessageBox.alert("Information","Please select Agree Button")}else{if(e!=""){com.faralam.sendWidgetGalleryCarouselHTMLBySASL(e)}else{Ext.MessageBox.alert("Information","Sorry! Some Input fields are blank")}}}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"component",height:30,style:"padding-top: 5px; margin:20px 0 0 0;",html:'<h5 style="color: #000000 ; margin-right: 10px;">"I certify that the recipient has agreed to receive this Text/E-Mail message"</h5>'},{xtype:"hiddenfield",id:"widget_Enable",name:"",value:"false"},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;margin: 0px 0px 0px 70px; height: 77px;",html:'<div class="switch_email"><input id="widget_switch_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.widgetSwitchCheckbox(this, \'widget_Enable\')"><label for="widget_switch_toggle"></label></div>'}]}]}]}]}]});a.items=[com.faralam.widget];a.callParent()}},0,["widget_item"],["container","component","form","widget_item","box","panel"],{container:true,component:true,form:true,widget_item:true,box:true,panel:true},["widget.widget_item"],0,[community_portal.view,"widget"],0));(Ext.cmd.derive("community_portal.view.QrCode",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.QrCode=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"QrCodeForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#CC6600 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#QrCode").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"QrCode_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">QR Code Service</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"QrCodeMainContainer",style:"width:980px !important; height:700px !important; padding:10px 10px 0 10px;",items:[{xtype:"component",width:960,margin:"0 0 0 0",id:"loyality_lebel",html:'<div class="call_heading_area"><div class="call_heading_question"><div class="call_question">Label</div></div></div>'},{xtype:"fieldset",title:'<span style="color: #000000;">QR Code Scan</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 0 0 0 0; padding: 10px;",items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:'<span style="color:#FFFFFF !important;">Start Scanning</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"btn_multi_start",margin:"17 0 0 0",handler:function(){if(stype==1){Ext.getCmp("mainQrcodeViewer").update('<div class="qrcode_code_section" style=""><div id="mydiv"></div><div id="result"></div><canvas id="qr-canvas" width="800" height="600"></canvas></div>');$("#btn_one_stop").hide();$("#btn_one_start").show();stype=0}sessionStorage.scan_type="MULTI";load();$("#btn_multi_start").hide();$("#btn_multi_stop").show()}},{text:'<span style="color:#FFFFFF !important;">Stop Scanning</span>',style:"background:#000000 !important; border:2px solid #000 !important;display:none",id:"btn_multi_stop",margin:"17 0 0 0",handler:function(){Ext.getCmp("mainQrcodeViewer").update('<div class="qrcode_code_section" style=""><div id="mydiv"></div><div id="result"></div><canvas id="qr-canvas" width="800" height="600"></canvas></div>');$("#btn_multi_stop").hide();$("#btn_multi_start").show();stype=0}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:'<span style="color:#FFFFFF !important;">One Time Scan</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"btn_one_start",margin:"17 0 0 0",handler:function(){if(stype==1){Ext.getCmp("mainQrcodeViewer").update('<div class="qrcode_code_section" style=""><div id="mydiv"></div><div id="result"></div><canvas id="qr-canvas" width="800" height="600"></canvas></div>');$("#btn_multi_stop").hide();$("#btn_multi_start").show();stype=0}sessionStorage.scan_type="ONE";load();$("#btn_one_start").hide();$("#btn_one_stop").show()}},{text:'<span style="color:#FFFFFF !important;">Stop Scanning</span>',style:"background:#000000 !important; border:2px solid #000 !important;display:none",id:"btn_one_stop",margin:"17 0 0 0",handler:function(){Ext.getCmp("mainQrcodeViewer").update('<div class="qrcode_code_section" style=""><div id="mydiv"></div><div id="result"></div><canvas id="qr-canvas" width="800" height="600"></canvas></div>');$("#btn_one_stop").hide();$("#btn_one_start").show();stype=0}}]},{xtype:"container",layout:"hbox",style:"width:300px !important; margin:5px;",items:[{xtype:"component",height:30,style:"padding-top: 5px; margin:5px 0 0 0;",html:'<h3 style="color: #000000 ; margin-right: 10px; margin-left:30px;line-height:60px">Override forced delay</h3>'},{xtype:"hiddenfield",id:"qrcode_override",name:"",value:"false"},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;margin: 5px; height: 77px;",html:'<div class="switch_email"><input id="qrcode_override_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.clicktocallSwitchCheckbox(this, \'qrcode_override\')"><label for="qrcode_override_toggle"></label></div>'}]}]},{xtype:"container",layout:"vbox",margin:"0 50 0 100",items:[{xtype:"component",html:'<div class="qrcode_code_section" style=""><div id="mydiv"></div><div id="result"></div><canvas id="qr-canvas" width="800" height="600"></canvas></div>',id:"mainQrcodeViewer"},{xtype:"component",margin:"15 0 0 0",id:"qr_out_decode",html:'<div class="qrcode_code_status" id="result_ext" style="">QR Code Reader is not yet running...</div>'}]}]},{xtype:"fieldset",title:'<span style="color: #000000;">Manual Scan</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0; padding: 5px;",items:[{xtype:"container",layout:"hbox",style:"width:200px !important; margin:5px;",items:[{xtype:"component",height:30,style:"padding-top: 5px; margin:5px 0 0 0;",html:'<h3 style="color: #000000 ; margin-right: 10px; margin-left:45px;line-height:60px !important">Override forced delay</h3>'},{xtype:"hiddenfield",id:"qrcode_override_manual",name:"",value:"false"},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;margin: 5px; height: 77px;",html:'<div class="switch_email"><input id="qrcode_override_manual_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.clicktocallSwitchCheckbox(this, \'qrcode_override_manual\')"><label for="qrcode_override_manual_toggle"></label></div>'}]},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Username / Email :</h3>',inputType:"text",name:"username_email",allowBlank:false,emptyText:"",id:"username_email",msgTarget:"none",inputWidth:170,inputHeight:35,margin:"30 0 0 -45",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;color:#000 !important"},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"18 0 0 5",items:[{text:'<span style="color:#FFFFFF !important;">Manual Scan</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"17 0 0 0",handler:function(){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var d=Ext.getCmp("username_email").getValue();if(d.trim()==""){Ext.MessageBox.alert("Information","Please fill up email field.")}else{com.faralam.common.registerUserLoyaltyCheckinUsername(d)}}}]}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:'<span style="color:#FFFFFF !important;">Activity Summery</span>',style:"background:#555555 !important; border:2px solid #000 !important;",margin:"17 0 0 0",handler:function(){Ext.getCmp("main_tab").down("#QrCode").setDisabled(true);Ext.getCmp("main_tab").down("#loyality_summery").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(50)}}]},{xtype:"component",id:"ext_qr_snd",html:'div id="qr_sound"></div>'}]}]});a.items=[com.faralam.QrCode];a.callParent()}},0,["QrCode_item"],["container","component","form","QrCode_item","box","panel"],{container:true,component:true,form:true,QrCode_item:true,box:true,panel:true},["widget.QrCode_item"],0,[community_portal.view,"QrCode"],0));(Ext.cmd.derive("community_portal.view.shareAppByText",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';function b(){if(!cardWindow){cardWindow=Ext.widget("window",{title:"Business Card",closeAction:"hide",id:"cardWindow",layout:"fit",resizable:true,modal:true,items:[{xtype:"image",id:"cardImg",minWidth:320,minHeight:180,src:""}],listeners:{close:function(){}}})}cardWindow.show()}com.faralam.shareAppByText=new Ext.FormPanel({style:"background:#314F85 !important;",height:700,id:"shareAppByTextForm",items:[{xtype:"toolbar",cls:"common_toolbar",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'/backButtonLITE_blue.png">',cls:"tlb_txt_clr",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#shareAppByText").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",margin:"0 0 0 -50",id:"shareAppByText_pageHeader",html:'<span style="color:#000;font-size:20px; font-weight: bold;">Share Site URL via Text</span>'},"->"]},{xtype:"container",style:"padding:1%;margin:1% auto 0;max-width:900px !important;",items:[{xtype:"fieldset",title:'<span style="font-style: italic;">Share Site URL</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin: 3px 0 0 0;",items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<h4 style="color: #fff;">Share Site URL</h4> ',width:165,style:"text-align: right;"},{xtype:"component",width:450,id:"shareSiteByText_url",margin:"4 10 0 10",html:"",style:"text-align:center;"}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"component",width:550,id:"social_networking_label",margin:"0 0 0 85px",html:"Via Social Network",style:"text-align:left;"},{xtype:"component",html:'<a href="#" target="_blank"><img src="'+com.faralam.custom_img_path+'/share_button.png" height="24" width="60"></a>',width:60,height:24,margin:"0 10px 0 0",id:"shareAppByText_fb",handler:function(){}},{xtype:"component",html:'<a href="#" target="_blank"><img src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" height="24" width="60"></a>',width:60,height:24,id:"shareAppByText_tweet",handler:function(){}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"shareAppByText_msg",fieldLabel:"Send Number to Text Msg",name:"shareAppByText_msg",emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"right",labelWidth:200,inputWidth:420,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"button",text:'<span style="color:#fff;">Send Text Msg</span>',scale:"medium",margin:"0 0 0 10",width:130,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){var e=Ext.getCmp("shareAppByText_msg").getValue();var g=isNaN(e);if(g==false&&e!=""&&e.length==10){var h=Ext.getCmp("shareAppByText_access_mode").getValue();if(h===true){com.faralam.shareAppBySMS(e);Ext.getCmp("shareAppByText_msg").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a Valid Phone number.")}}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"shareAppByText_err",id:"shareAppByText_err",fieldLabel:"&nbsp;",margin:"0 0 0 100",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px;">"I certify that the recipient has agreed to receive this Text/E-Mail message"?</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"shareAppByText_access_mode",id:"shareAppByText_access_mode",listeners:{click:{element:"el",fn:function(){var e=Ext.getCmp("shareAppByText_access_mode").getValue();if(e===true){Ext.get("shareAppByText_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("shareAppByText_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("shareAppByText_access_mode-inputEl").removeCls("active_checkbox");Ext.get("shareAppByText_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]}]}]}]}]}]});a.items=[com.faralam.shareAppByText];a.callParent()}},0,["shareAppByText_item"],["container","shareAppByText_item","component","form","box","panel"],{container:true,shareAppByText_item:true,component:true,form:true,box:true,panel:true},["widget.shareAppByText_item"],0,[community_portal.view,"shareAppByText"],0));(Ext.cmd.derive("community_portal.view.themeSelector",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.themeSelector=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"themeSelectorForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#00CCCC !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#themeSelector").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"themeSelector_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Select Theme</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"themeSelectorMainContainer",style:"width:980px !important; height:700px !important; padding:10px 10px 0 40px;",items:[{xtype:"component",width:980,height:700,id:"themeSelectorIframeComponent",margin:"0 0 0 0",html:""}]}]});a.items=[com.faralam.themeSelector];a.callParent()}},0,["themeSelector_item"],["container","component","form","themeSelector_item","box","panel"],{container:true,component:true,form:true,themeSelector_item:true,box:true,panel:true},["widget.themeSelector_item"],0,[community_portal.view,"themeSelector"],0));(Ext.cmd.derive("community_portal.view.videos",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.videos=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"videosForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#FF007F !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#videos").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"videos_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Videos</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"videoMainContainer",style:"width:880px !important; height:700px !important; padding:15px 0 0 100px;",items:[{xtype:"button",margin:"0 0 15 630",text:'<span style="color:#fff;">Add New Video</span>',scale:"medium",width:150,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("main_tab").down("#AddNewVideo").setDisabled(false);Ext.getCmp("main_tab").down("#videos").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(47)}},{xtype:"component",id:"videoActiveContainer",style:"width:780px !important; height: 497px; padding: 5px; border: 2px solid #385D89; overflow: hidden;",html:""}]}]});a.items=[com.faralam.videos];a.callParent()}},0,["videos_item"],["container","component","videos_item","form","box","panel"],{container:true,component:true,videos_item:true,form:true,box:true,panel:true},["widget.videos_item"],0,[community_portal.view,"videos"],0));(Ext.cmd.derive("community_portal.view.createNewEvent",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.createNewEvent=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"createNewEventForm",defaultType:"textfield",defaults:{msgTarget:"none"},items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#990000 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#EventsService").setDisabled(false);Ext.getCmp("main_tab").down("#createNewEvent").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(43)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"createNewEvent_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Create New Event</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"form",layout:"vbox",id:"neweEventMainContainer",style:"width:980px !important;background:#FFFFFF !important;",margin:"10 10 10 10",items:[{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"container",defaultType:"button",width:60,style:"text-align:center;",margin:"20 0 0 5",scale:"medium",items:[{text:'<span style="color:#fff !important;">Create</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){var g=Ext.getCmp("eventname").getValue();var e=Ext.getCmp("eventstdate").getValue();var l=Ext.getCmp("eventsttime").getValue();var d=Ext.getCmp("eventendate").getValue();var k=Ext.getCmp("evententime").getValue();var h=Ext.getCmp("eventtype").getValue();if(g==""||e==""||e==null||l==""||l==null||d==""||d==null||k==""||k==null||h==""||h==null){Ext.MessageBox.alert("Information","Please enter the Required Firlds. ")}else{if(g!=""&&e!=""&&l!=""&&d!=""&&k!=""&&h!=""){com.faralam.common.createSASLEventNewPictureNewMetaDataURL()}else{Ext.MessageBox.alert("Information","Please enter the Required Fields")}}}}]}]},{xtype:"container",layout:"vbox",margin:"20 10 10 30",id:"eventScrollContainer",style:"width:980px !important;height: 550px; overflow:hidden; padding: 10px;",items:[{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Event Name</h3>',inputType:"text",name:"eventname",allowBlank:false,emptyText:"",id:"eventname",msgTarget:"none",inputWidth:600,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"datefield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Date / Time</h3>',inputType:"text",name:"eventstdate",emptyText:"Start Date",allowBlank:false,id:"eventstdate",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",format:"Y-m-d"},{xtype:"timefield",inputType:"text",name:"eventsttime",emptyText:"Start Time",allowBlank:false,id:"eventsttime",inputWidth:100,inputHeight:32,margin:"5 5 5 5",increment:5,style:" border-radius: 3px !important;padding: 5px !important;",format:"H:i A"},{xtype:"datefield",fieldLabel:"",inputType:"text",name:"eventendate",emptyText:"End Date",allowBlank:false,id:"eventendate",msgTarget:"none",inputWidth:100,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",format:"Y-m-d"},{xtype:"timefield",inputType:"text",name:"evententime",emptyText:"End Time",allowBlank:false,id:"evententime",inputWidth:100,inputHeight:32,margin:"5 5 5 5",increment:5,style:" border-radius: 3px !important;padding: 5px !important;",format:"H:i A"},{xtype:"container",layout:"hbox",style:"",items:[{xtype:"hiddenfield",id:"allDay_Enable",name:"allDay_Enable",value:"false"}]}]},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">One - Liner</h3>',inputType:"text",name:"eventoneliner",allowBlank:false,emptyText:"",id:"eventoneliner",msgTarget:"none",inputWidth:600,inputHeight:32,margin:"5 5 5 5",labelAlign:"right",labelWidth:175,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"container",layout:"hbox",style:"width:980px !important;",items:[{xtype:"container",layout:"vbox",style:"width:490px !important;",items:[{xtype:"combo",id:"eventtype",name:"eventtype",margin:"5 5 85 5",labelWidth:175,labelAlign:"right",allowBlank:false,inputWidth:200,inputHeight:32,fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Event Type</h3>',queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,emptyText:"Select Event Type",forceSelection:true,editable:false,allowBlank:true,store:Ext.create("Ext.data.ArrayStore",{fields:["value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(g){var d=[];var e=0;Ext.each(g,function(h){d.push([]);d[e].push(new Array(1));d[e]["value"]=h.displayText;d[e]["value1"]=h.enumText;e=e+1});g=d;return g}}}})}]},{xtype:"container",layout:"vbox",style:"width:490px !important;",items:[{xtype:"container",layout:"hbox",style:"width 490px !important; margin-left:85px !important;",items:[{xtype:"container",defaultType:"button",width:180,style:"text-align:center;",margin:"10 0 0 0",items:[{text:'<span style="color:#FFFFFF !important;">Add New Image</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",margin:"0 0 0 0",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/event_crop.html")}}]},{xtype:"image",width:100,height:100,src:"",margin:"10 0 0 20",style:"background:#007AFF;",id:"event_image"}]}]}]}]}]}],listeners:{afterrender:function(){$("#eventScrollContainer").perfectScrollbar("destroy");$("#eventScrollContainer").perfectScrollbar()}}});a.items=[com.faralam.createNewEvent];a.callParent()}},0,["createNewEvent_item"],["container","component","form","createNewEvent_item","box","panel"],{container:true,component:true,form:true,createNewEvent_item:true,box:true,panel:true},["widget.createNewEvent_item"],0,[community_portal.view,"createNewEvent"],0));(Ext.cmd.derive("community_portal.view.loyality_summery",Ext.form.Panel,{items:[],initComponent:function(){var a=this;var b='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';com.faralam.loyality_summery=new Ext.FormPanel({style:"background:#FFFFFF !important;",height:700,id:"loyality_summeryForm",items:[{xtype:"toolbar",cls:"common_toolbar",style:"background:#CC6600 !important;",items:[{html:'<img id="back_btn" src="'+com.faralam.custom_img_path+'backButtonLITE_ash.png">',cls:"tlb_txt_clr",style:"border: none !important;box-shadow: none !important;",width:40,height:30,handler:function(){Ext.getCmp("main_tab").down("#QrCode").setDisabled(false);Ext.getCmp("main_tab").down("#loyality_summery").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(40)}},"->",{xtype:"component",height:30,style:"padding-top: 5px;",id:"loyality_summery_pageHeader",html:'<span style="color:#000;font-size:16px; font-weight: bold;">Loyality Summery</span>'},"->",{xtype:"component",width:40,height:30,html:'<img style="padding-top:3px;" id="info_btn" src="'+com.faralam.custom_img_path+'infoButtonLITE.png" data-qtip="Coming Soon">'}]},{xtype:"container",layout:"vbox",id:"loyality_summeryMainContainer",style:"width:980px !important; height:700px !important; padding:10px 10px 0 10px;",items:[{xtype:"container",layout:"hbox",style:"margin: 0 0 0 0; padding: 5px;height:380px !important;border:1px solid black",items:[{xtype:"component",width:650,style:"text-align:center;height:370px !important",margin:"0 0 0 10",id:"summery_table",html:'<table border="1" id="loyality_summery_table"><tr><th>Username</th><th>Last Seen</th><th>Status</th></tr></table>'},{xtype:"container",defaultType:"button",width:270,style:"text-align:center;height:200px !important",margin:"0 0 0 10",id:"summery_btn_sec",items:[{text:'<span style="color:#FFFFFF !important;">Message</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"summery_message",margin:"17 0 0 0",handler:function(){var d=Ext.getCmp("user_name_summ").getValue();if(d==""){Ext.MessageBox.alert("Success","Please select an user")}else{sessionStorage.contest_type="LOYALITY";sessionStorage.contest_usrnm=d;Ext.getCmp("main_tab").down("#loyality_summery").setDisabled(true);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(49)}}},{text:'<span style="color:#FFFFFF !important;">Add</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"summery_add_btn",margin:"17 0 0 15",handler:function(){var d=Ext.getCmp("user_name_summ").getValue();if(d==""){Ext.MessageBox.alert("Success","Please select an user")}else{com.faralam.common.registerUserLoyaltyCheckinUsername(d)}}}]}]},{xtype:"fieldset",title:'<span style="color: #000000;">Awarded</span>',collapsible:false,defaults:{anchor:"100%"},layout:"hbox",style:"margin:5px 0 0 0; padding: 5px;height:250px !important",items:[{xtype:"component",width:700,style:"text-align:center;height:230px !important",margin:"0 0 0 10",id:"award_table",html:""},{xtype:"container",defaultType:"button",width:220,style:"text-align:center;",margin:"0 0 0 10",id:"award_summery_btn_sec",items:[{text:'<span style="color:#FFFFFF !important;">Message</span>',style:"background:#007AFF !important; border:2px solid #000 !important;",id:"award_message",margin:"17 0 0 0",handler:function(){var d=Ext.getCmp("user_name_award").getValue();if(d==""){Ext.MessageBox.alert("Success","Please select an user")}else{sessionStorage.contest_type="LOYALITY";sessionStorage.contest_usrnm=d;Ext.getCmp("main_tab").down("#loyality_summery").setDisabled(true);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(49)}}}]},{xtype:"hiddenfield",id:"user_name_summ",name:"",value:""},{xtype:"hiddenfield",id:"user_name_award",name:"",value:""}]}]}]});a.items=[com.faralam.loyality_summery];a.callParent()}},0,["loyality_summery_item"],["container","component","form","loyality_summery_item","box","panel"],{container:true,component:true,form:true,loyality_summery_item:true,box:true,panel:true},["widget.loyality_summery_item"],0,[community_portal.view,"loyality_summery"],0));(Ext.cmd.derive("community_portal.view.Main",Ext.container.Container,{layout:{type:"border"},items:[{region:"center",xtype:"tabpanel",plain:true,activeTab:0,id:"main_tab",defaults:{bodyPadding:10},listeners:{tabchange:function(n,q,a,m){sessionStorage.active_tab=q.itemId;console.log("test"+com);if(q.itemId=="login"){Ext.getCmp("email").reset();Ext.getCmp("password").reset();Ext.getCmp("login_err").reset();Ext.getCmp("email").focus(false,200)}else{if(q.itemId=="sign_up"){Ext.getCmp("signup_secretquestions").getStore().removeAll();Ext.getCmp("signup_secretquestions").getStore().proxy.url=com.faralam.serverURL+"authentication/getSecurityQuestions/";Ext.getCmp("signup_secretquestions").getStore().reload();var h=com.faralam.registration.DrawCaptcha();Ext.getCmp("captchacode").setValue(h)}else{if(q.itemId=="verify"){Ext.getCmp("verify_form").getForm().reset()}else{if(q.itemId=="name_address"){Ext.getCmp("restaurant_business").reset();var e=com.faralam.FirstVisit();if(e){if(e.domain){Ext.getCmp("restaurant_business").hide();Ext.getCmp("restaurant_business").allowBlank=true;Ext.getCmp("gallery_event_err").hide()}else{Ext.getCmp("restaurant_business").show();Ext.getCmp("restaurant_business").allowBlank=false;Ext.getCmp("gallery_event_err").show();Ext.getCmp("restaurant_business").getStore().proxy.url=com.faralam.serverURL+"sasl/getDomainOptions";Ext.getCmp("restaurant_business").getStore().reload()}}else{Ext.getCmp("restaurant_business").show();Ext.getCmp("restaurant_business").allowBlank=false;Ext.getCmp("gallery_event_err").show();Ext.getCmp("restaurant_business").getStore().proxy.url=com.faralam.serverURL+"sasl/getDomainOptions";Ext.getCmp("restaurant_business").getStore().reload()}Ext.getCmp("name_address_form").getForm().reset();Ext.getCmp("restaurant_name").setDisabled(true);Ext.getCmp("state_zip").setDisabled(true)}else{if(q.itemId=="gallery"){var g={message:"uploadTest",messageLocation:"20,31",serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,status:"PROPOSED",isOfficial:"false"};g=JSON.stringify(g);Ext.getCmp("mediametadata").setValue(g);com.faralam.common.retrieveMediaMetaDataBySASL(sessionStorage.SA,sessionStorage.SL);com.faralam.common.retrieveMobileGalleryInfo(sessionStorage.SA,sessionStorage.SL);com.faralam.common.retrieveMemberMediaMetaDataBySASL(sessionStorage.SA,sessionStorage.SL)}else{if(q.itemId=="other_info"){com.faralam.common.retrieveAboutUs(sessionStorage.SA,sessionStorage.SL);com.faralam.retrieveOtherInfo(sessionStorage.SA,sessionStorage.SL);if(sessionStorage.EditAppSettingVisibility=="false"){console.log("main-false");com.faralam.common.getBusinessNameSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessEmailSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessTelephoneSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessAddressSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getVisitorPasswordSEO(sessionStorage.SA,sessionStorage.SL)}else{console.log("main-true")}com.faralam.common.showSeoTabs("1")}else{if(q.itemId=="open_hrs"){var b=[];var o=[];Ext.getCmp("open_hrs_grid").reconfigure(o,b);com.faralam.common.retrieveClassTimeSlotPolicies(sessionStorage.SA,sessionStorage.SL);Ext.getCmp("open_hrs_business_name").setSrc(com.faralam.serverURL+"sasl/retrieveLogoJPGbySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k)}else{if(q.itemId=="CatalogMenu"){com.faralam.common.retrieveCatalogs_func();var d="";com.faralam.common.retrieveCatalog_func(d);com.faralam.common.retrieveGroups_func();com.faralam.common.RetrieveCatalogInfo("","",1)}else{if(q.itemId=="OnlineOrder"){sessionStorage.order_order="";sessionStorage.order_customer="";com.faralam.common.retrieveOrders_func("")}else{if(q.itemId=="CreateOrder"){com.faralam.getSliderPicURLs("CreateItem");Ext.getCmp("member").getStore().removeAll();Ext.getCmp("member").getStore().proxy.url=com.faralam.serverURL+"usersasl/getMemberList?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("member").getStore().reload()}else{if(q.itemId=="EditOnlineOrder"){if(sessionStorage.orderItem){com.faralam.common.editRetrieveOrders_func(sessionStorage.orderItem)}}else{if(q.itemId=="MyAppMembers"){com.faralam.common.getMemberList_func("MyAppMembers")}else{if(q.itemId=="MyAppMembersDetails"){if(sessionStorage.userName){com.faralam.common.getMyCustomerProfile()}}else{if(q.itemId=="wall"){com.faralam.common.retrievePostsOnSASL(0)}else{if(q.itemId=="PhotoContest"){com.faralam.common.retrievePhotoContestPortal()}else{if(q.itemId=="PollContest"){com.faralam.common.retrievePollPortal_func()}else{if(q.itemId=="ContestMessage"){var l=sessionStorage.contest_usrnm;com.faralam.common.getConversationBetweenSASLUser_contest(l)}else{if(q.itemId=="MyAppMessages"){com.faralam.common.getCommunicationsForSASL()}else{if(q.itemId=="createLoyaltyProgram"){com.faralam.common.retrieveLoyaltyProgram();com.faralam.common.retrieveItems()}else{if(q.itemId=="promotion"){com.faralam.RetrievePromoInfo()}else{if(q.itemId=="select_business"){com.faralam.SelectBusiness.getForm().reset();Ext.getCmp("business_name").getStore().proxy.url=com.faralam.serverURL+"usersasl/getUserAndCommunity/?UID="+sessionStorage.UID;Ext.getCmp("business_name").getStore().reload()}else{if(q.itemId=="start_screen"){com.faralam.common.getMobileAppURLStartScreen(sessionStorage.SA,sessionStorage.SL);com.faralam.getServiceConfigurations()}else{if(q.itemId=="shareApp"){com.faralam.common.getMobileAppURL(sessionStorage.SA,sessionStorage.SL)}else{if(q.itemId=="shareAppByText"){com.faralam.common.getMobileAppURLforSMS(sessionStorage.SA,sessionStorage.SL)}else{if(q.itemId=="SupportSection"){if(sessionStorage.SASLNAME){Ext.getCmp("subject").getStore().removeAll();Ext.getCmp("subject").getStore().proxy.url=com.faralam.serverURL+"html/getSupportEmailTopics?&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("subject").getStore().reload()}}else{if(q.itemId=="settings"){if(sessionStorage.SASLNAME){Ext.getCmp("with_img_header_logo_settings").show()}else{Ext.getCmp("with_img_header_logo_settings").hide()}com.faralam.getLoginStatus()}else{if(q.itemId=="business_list"){Ext.getCmp("business_list_business_name").setSrc(com.faralam.serverURL+"sasl/retrieveLogoJPGbySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k)}else{if(q.itemId=="edit_name_address"){com.faralam.RetrieveSaSlInfo();com.faralam.EditNameAddressForm.getForm().reset();Ext.getCmp("edit_restaurant_business_name").setSrc(com.faralam.serverURL+"sasl/retrieveLogoJPGbySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k)}else{if(q.itemId=="UpdateLogoIcon"){if(sessionStorage.SASLNAME){var k=new Date().getTime();Ext.getCmp("gallery_logo_preview").setSrc(com.faralam.serverURL+"sasl/retrieveLogoJPGbySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k);Ext.getCmp("gallery_logo_preview_app_icon").setSrc(com.faralam.serverURL+"sasl/retrieveATC60bySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k)}}else{if(q.itemId=="UpdateAppIcon"){if(sessionStorage.SASLNAME){var k=new Date().getTime();Ext.getCmp("UpdateAppIcon_preview").setSrc(com.faralam.serverURL+"sasl/retrieveATC60bySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+k)}}else{if(q.itemId=="clickToCall"){com.faralam.common.retrieveclickToCall_func()}else{if(q.itemId=="orderSiteCards"){com.faralam.common.getSASLCoBrandedCardPNG()}else{if(q.itemId=="drivingDirections"){com.faralam.common.getBusinessAddress()}else{if(q.itemId=="EventsService"){com.faralam.common.retrieveEventSummary()}else{if(q.itemId=="createNewEvent"){Ext.getCmp("eventtype").getStore().removeAll();Ext.getCmp("eventtype").getStore().proxy.url=com.faralam.serverURL+"reservations/getEventTypes?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("eventtype").getStore().reload()}else{if(q.itemId=="themeSelector"){com.faralam.common.getThemeSelectorIframe()}else{if(q.itemId=="videos"){com.faralam.common.retrieveExternalMedia()}else{if(q.itemId=="AppPreview"){com.faralam.common.getMobileAppURLStartScreen_App(sessionStorage.SA,sessionStorage.SL)}else{if(q.itemId=="HtmlEmailService"){com.faralam.common.newsLetterPopup()}else{if(q.itemId=="QrCode"){com.faralam.common.retrieveLoyaltyProgram()}else{if(q.itemId=="loyality_summery"){com.faralam.common.getLoyaltyReport()}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},beforerender:function(e,a){if(sessionStorage.server_index){com.faralam.registration.setServerURL(sessionStorage.server_index)}e.getTabBar().setVisible(false);var d=com.faralam.FirstVisit();console.log("valmain="+d);var b;if(d){console.log("valserver="+d.server);if(d.server==="localhost:8080"){b="http://"}else{b="https://"}if(d.server){com.faralam.serverURL=b+""+d.server+"/apptsvc/rest/"}else{if(d.demo){com.faralam.serverURL=b+"simfel.com/apptsvc/rest/"}}console.log(com.faralam.serverURL);if(d.ignorehistory){if(d.ignorehistory=="true"){sessionStorage.ignorehistory="true"}else{sessionStorage.ignorehistory="false"}}if(d.code){if(d.code=="resetpassword"){com.faralam.getUserEmail(d.UID)}}else{if(e.getActiveTab().itemId=="login"){if(d.UID){sessionStorage.UID=d.UID}}}}if(sessionStorage.active_tab){Ext.getCmp("main_tab").down("#"+sessionStorage.active_tab).setDisabled(false);Ext.getCmp("main_tab").setActiveTab(sessionStorage.active_tab)}if(sessionStorage.UID){if(e.getActiveTab().itemId!="settings"){if(e.getActiveTab().itemId!="name_address"){com.faralam.getLoginStatus()}if(e.getActiveTab().itemId=="business_list"){com.faralam.getBusinessList()}}}if(typeof com==="undefined"){com={}}if(typeof com.faralam==="undefined"){com.faralam={}}if(typeof com.faralam.registration==="undefined"){com.faralam.registration={}}if(typeof com.faralam.common==="undefined"){com.faralam.common={}}},afterrender:function(a){sessionStorage.active_tab=a.getActiveTab().itemId;Ext.get("main_div").setStyle({height:""});Ext.get("loading").removeCls("loading");Ext.getCmp("email").focus(false,200)}},items:[{title:"Login",itemId:"login",id:"login_tab",bodyBorder:true,defaults:{inputWidth:323,labelAlign:"right",labelWidth:150},listeners:{activate:function(a){if(sessionStorage.active_tab=="sign_up"){Ext.getCmp("main_tab").down("#sign_up").setDisabled(true)}}},items:[{xtype:"login"}]},{title:"SignUp",disabled:true,itemId:"sign_up",id:"sign_up_tab",hidden:true},{cls:"x-plain",title:"Verify",itemId:"verify",id:"verify_tab",layout:"fit",disabled:true,hidden:true},{cls:"x-plain",title:"Restaurant",layout:"fit",itemId:"name_address",disabled:true,id:"name_address",items:[{xtype:"restaurant"}]},{cls:"x-plain",title:"Start Screen",layout:"fit",itemId:"start_screen",disabled:true,id:"start_screen",items:[{xtype:"start_screen"}]},{cls:"x-plain",title:"Mobile-Site",layout:"fit",disabled:true,itemId:"gallery",id:"gallery_tab",items:[{xtype:"gallery"}]},{cls:"x-plain",title:"Other Information",layout:"fit",disabled:true,itemId:"other_info",id:"other_info",items:[{xtype:"seo"}]},{cls:"x-plain",title:"Promotion",layout:"fit",disabled:true,itemId:"promotion",id:"promotion",items:[{xtype:"promotion"}]},{cls:"x-plain",title:"Opening Hours",layout:"fit",disabled:true,itemId:"open_hrs",id:"open_hrs",items:[{xtype:"open_hrs"}]},{cls:"x-plain",title:"Settings",layout:"fit",disabled:true,itemId:"settings",id:"settings",items:[{xtype:"settings"}]},{cls:"x-plain",title:"Success Register",itemId:"success_register",id:"success_register",layout:"fit",disabled:true,hidden:true},{cls:"x-plain",title:"Select Business",itemId:"select_business",id:"select_business",layout:"fit",disabled:true,items:[{xtype:"business_select"}]},{cls:"x-plain",title:"New Business",itemId:"new_business_success",id:"new_business_success",layout:"fit",disabled:true,items:[{xtype:"new_business_success"}]},{cls:"x-plain",title:"Business List",itemId:"business_list",id:"business_list",layout:"fit",disabled:true,items:[{xtype:"business_lists"}]},{cls:"x-plain",title:"Edit SA/SL info",itemId:"edit_name_address",id:"edit_name_address",layout:"fit",disabled:true,items:[{xtype:"edit_restaurant"}]},{cls:"x-plain",title:"UpdateLogoIcon",itemId:"UpdateLogoIcon",id:"UpdateLogoIcon_Service",layout:"fit",disabled:true,items:[{xtype:"UpdateLogoIcon_item"}]},{cls:"x-plain",title:"Share App by Email",itemId:"share_app_by_email",id:"share_app_by_email",layout:"fit",disabled:true,items:[{xtype:"share_app_by_email_item"}]},{cls:"x-plain",title:"Share App by SMS",itemId:"share_app_by_sms",id:"share_app_by_sms",layout:"fit",disabled:true,items:[{xtype:"share_app_by_sms_item"}]},{cls:"x-plain",title:"Share App",itemId:"shareApp",id:"share_app",layout:"fit",disabled:true,items:[{xtype:"share_app_item"}]},{cls:"x-plain",title:"Support",itemId:"SupportSection",id:"support",layout:"fit",disabled:true,items:[{xtype:"support_item"}]},{cls:"x-plain",title:"Update App Icon",itemId:"UpdateAppIcon",id:"updateAppIcon",layout:"fit",disabled:true,items:[{xtype:"UpdateAppIcon_item"}]},{cls:"x-plain",title:"CatalogMenu",itemId:"CatalogMenu",id:"Catalog_Menu",layout:"fit",disabled:true,items:[{xtype:"CatalogMenu_item"}]},{cls:"x-plain",title:"OnlineOrder",itemId:"OnlineOrder",id:"Online_Order",layout:"fit",disabled:true,items:[{xtype:"OnlineOrder_item"}]},{cls:"x-plain",title:"CreateOrder",itemId:"CreateOrder",id:"Create_Order",layout:"fit",disabled:true,items:[{xtype:"CreateOrder_item"}]},{cls:"x-plain",title:"EditOnlineOrder",itemId:"EditOnlineOrder",id:"EditOnline_Order",layout:"fit",disabled:true,items:[{xtype:"EditOnlineOrder_item"}]},{cls:"x-plain",title:"MyAppMembers",itemId:"MyAppMembers",id:"MyApp_Members",layout:"fit",disabled:true,items:[{xtype:"MyAppMembers_item"}]},{cls:"x-plain",title:"MyAppMembersDetails",itemId:"MyAppMembersDetails",id:"MyApp_MembersDetails",layout:"fit",disabled:true,items:[{xtype:"MyAppMembersDetails_item"}]},{cls:"x-plain",title:"AdAlertService",itemId:"AdAlertService",id:"AdAlert_Service",layout:"fit",disabled:true,items:[{xtype:"AdAlertService_item"}]},{cls:"x-plain",title:"HtmlEmailService",itemId:"HtmlEmailService",id:"HtmlEmail_Service",layout:"fit",disabled:true,items:[{xtype:"HtmlEmailService_item"}]},{cls:"x-pain",title:"PollContest",itemId:"PollContest",id:"PollContest_Service",layout:"fit",disabled:true,items:[{xtype:"PollContest_item"}]},{cls:"x-plain",title:"MyAppMessages",itemId:"MyAppMessages",id:"MyApp_Messages",layout:"fit",disabled:true,items:[{xtype:"MyAppMessages_item"}]},{cls:"x-pain",title:"CreateNewPollContest",itemId:"CreateNewPollContest",id:"CreateNewPollContest_Service",layout:"fit",disabled:true,items:[{xtype:"CreateNewPollContest_item"}]},{cls:"x-pain",title:"PollContestPreview",itemId:"PollContestPreview",id:"PollContestPreview_Service",layout:"fit",disabled:true,items:[{xtype:"PollContestPreview_item"}]},{cls:"x-pain",title:"PhotoContest",itemId:"PhotoContest",id:"PhotoContest_Service",layout:"fit",disabled:true,items:[{xtype:"PhotoContest_item"}]},{cls:"x-pain",title:"CreateNewPhotoContest",itemId:"CreateNewPhotoContest",id:"CreateNewPhotoContest_Service",layout:"fit",disabled:true,items:[{xtype:"CreateNewPhotoContest_item"}]},{cls:"x-pain",title:"wall",itemId:"wall",id:"wall_Service",layout:"fit",disabled:true,items:[{xtype:"wall_item"}]},{cls:"x-pain",title:"clickToCall",itemId:"clickToCall",id:"clickToCall_Service",layout:"fit",disabled:true,items:[{xtype:"clickToCall_item"}]},{cls:"x-pain",title:"drivingDirections",itemId:"drivingDirections",id:"drivingDirections_Service",layout:"fit",disabled:true,items:[{xtype:"drivingDirections_item"}]},{cls:"x-pain",title:"orderSiteCards",itemId:"orderSiteCards",id:"orderSiteCards_Service",layout:"fit",disabled:true,items:[{xtype:"orderSiteCards_item"}]},{cls:"x-pain",title:"widget",itemId:"widget",id:"widget_Service",layout:"fit",disabled:true,items:[{xtype:"widget_item"}]},{cls:"x-pain",title:"QrCode",itemId:"QrCode",id:"QrCode_Service",layout:"fit",disabled:true,items:[{xtype:"QrCode_item"}]},{cls:"x-pain",title:"createLoyaltyProgram",itemId:"createLoyaltyProgram",id:"createLoyaltyProgram_Service",layout:"fit",disabled:true,items:[{xtype:"createLoyaltyProgram_item"}]},{cls:"x-pain",title:"shareAppByText",itemId:"shareAppByText",id:"shareAppByText_Service",layout:"fit",disabled:true,items:[{xtype:"shareAppByText_item"}]},{cls:"x-pain",title:"EventsService",itemId:"EventsService",id:"EventsService_Service",layout:"fit",disabled:true,items:[{xtype:"EventsService_item"}]},{cls:"x-pain",title:"themeSelector",itemId:"themeSelector",id:"themeSelector_Service",layout:"fit",disabled:true,items:[{xtype:"themeSelector_item"}]},{cls:"x-pain",title:"videos",itemId:"videos",id:"videos_Service",layout:"fit",disabled:true,items:[{xtype:"videos_item"}]},{cls:"x-pain",title:"createNewEvent",itemId:"createNewEvent",id:"createNewEvent_Service",layout:"fit",disabled:true,items:[{xtype:"createNewEvent_item"}]},{cls:"x-pain",title:"AddNewVideo",itemId:"AddNewVideo",id:"AddNewVideo_Service",layout:"fit",disabled:true,items:[{xtype:"AddNewVideo_item"}]},{cls:"x-pain",title:"AppPreview",itemId:"AppPreview",id:"AppPreview_Service",layout:"fit",disabled:true,items:[{xtype:"AppPreview_item"}]},{cls:"x-pain",title:"ContestMessage",itemId:"ContestMessage",id:"ContestMessage_Service",layout:"fit",disabled:true,items:[{xtype:"ContestMessage_item"}]},{cls:"x-pain",title:"loyality_summery",itemId:"loyality_summery",id:"loyality_summery_Service",layout:"fit",disabled:true,items:[{xtype:"loyality_summery_item"}]}]}]},0,["app-main"],["container","component","app-main","box"],{container:true,component:true,"app-main":true,box:true},["widget.app-main"],0,[community_portal.view,"Main"],0));(Ext.cmd.derive("community_portal.view.Viewport",Ext.container.Viewport,{layout:{type:"fit"},items:[{xtype:"app-main"}]},0,0,["container","component","viewport","box"],{container:true,component:true,viewport:true,box:true},0,0,[community_portal.view,"Viewport"],0));!function(e,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?d(e,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return d(b)}:d(e)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.1",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date()},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+-new Date(),v=a.document,w=0,x=0,y=gb(),z=gb(),A=gb(),B=function(a,b){return a===b&&(l=!0),0},C="undefined",D=1<<31,E={}.hasOwnProperty,F=[],G=F.pop,H=F.push,I=F.push,J=F.slice,K=F.indexOf||function(a){for(var b=0,c=this.length;c>b;b++){if(this[b]===a){return b}}return -1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=N.replace("w","w#"),P="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",Q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",R=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),S=new RegExp("^"+M+"*,"+M+"*"),T=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),V=new RegExp(Q),W=new RegExp("^"+O+"$"),X={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{I.apply(F=J.call(v.childNodes),v.childNodes),F[v.childNodes.length].nodeType}catch(eb){I={apply:F.length?function(a,b){H.apply(a,J.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],!a||"string"!=typeof a){return d}if(1!==(k=b.nodeType)&&9!==k){return[]}if(p&&!e){if(f=_.exec(a)){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return I.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName&&b.getElementsByClassName){return I.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=9===k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+qb(o[l])}w=ab.test(a)&&ob(b.parentNode)||b,x=o.join(",")}if(x){try{return I.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function gb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function hb(a){return a[u]=!0,a}function ib(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function jb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function kb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||D)-(~a.sourceIndex||D);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function lb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function nb(a){return hb(function(b){return b=+b,hb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function ob(a){return a&&typeof a.getElementsByTagName!==C&&a}c=fb.support={},f=fb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fb.setDocument=function(a){var b,e=a?a.ownerDocument||a:v,g=e.defaultView;return e!==n&&9===e.nodeType&&e.documentElement?(n=e,o=e.documentElement,p=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){m()},!1):g.attachEvent&&g.attachEvent("onunload",function(){m()})),c.attributes=ib(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ib(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(e.getElementsByClassName)&&ib(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=ib(function(a){return o.appendChild(a).id=u,!e.getElementsByName||!e.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==C&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c=typeof a.getAttributeNode!==C&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==C?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==C&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(e.querySelectorAll))&&(ib(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&q.push("[*^$]="+M+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+M+"*(?:value|"+L+")"),a.querySelectorAll(":checked").length||q.push(":checked")}),ib(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+M+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ib(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",Q)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===v&&t(v,a)?-1:b===e||b.ownerDocument===v&&t(v,b)?1:k?K.call(k,a)-K.call(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(!f||!g){return a===e?-1:b===e?1:f?-1:g?1:k?K.call(k,a)-K.call(k,b):0}if(f===g){return kb(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?kb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},e):n},fb.matches=function(a,b){return fb(a,null,null,b)},fb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fb(b,n,null,[a]).length>0},fb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&E.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fb.selectors={cacheLength:50,createPseudo:hb,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+M+")"+a+"("+M+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==C&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?hb(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=K.call(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:hb(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?hb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:hb(function(a){return function(b){return fb(a,b).length>0}}),contains:hb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:hb(function(a){return W.test(a||"")||fb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:nb(function(){return[0]}),last:nb(function(a,b){return[b-1]}),eq:nb(function(a,b,c){return[0>c?c+b:c]}),even:nb(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:nb(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:nb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:nb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=lb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=mb(b)}function pb(){}pb.prototype=d.filters=d.pseudos,d.setFilters=new pb(),g=fb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fb.error(a):z(a,i).slice(0)};function qb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function rb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function sb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function tb(a,b,c){for(var d=0,e=b.length;e>d;d++){fb(a,b[d],c)}return c}function ub(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function vb(a,b,c,d,e,f){return d&&!d[u]&&(d=vb(d)),e&&!e[u]&&(e=vb(e,f)),hb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||tb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ub(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ub(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?K.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ub(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):I.apply(g,r)}})}function wb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=rb(function(a){return a===b},h,!0),l=rb(function(a){return K.call(b,a)>-1},h,!0),m=[function(a,c,d){return !g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>i;i++){if(c=d.relative[a[i].type]){m=[rb(sb(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return vb(i>1&&sb(m),i>1&&qb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&wb(a.slice(i,e)),f>e&&wb(a=a.slice(e)),f>e&&qb(a))}m.push(c)}}return sb(m)}function xb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=G.call(i))}}s=ub(s)}I.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&fb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?hb(f):f}return h=fb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wb(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xb(e,d)),f.selector=a}return f},i=fb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&ob(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qb(j),!a){return I.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&ob(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ib(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ib(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||jb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ib(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||jb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ib(function(a){return null==a.getAttribute("disabled")})||jb(L,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return !0}function bb(){return !1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event(),c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=bb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g){d[g]&&Bb(e,d[g])}}if(b){if(c){for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++){Ab(e,d[g])}}else{Ab(a,f)}}return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++]){ob.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0}if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++){d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--){if(b=Tb[e]+c,b in a){return b}}return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jc(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++){if(d=dc[f].call(j,a,k,j.opts)){return d}}return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)}},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser(),c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t){return v}h=k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vc(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vc(c,a[c],b,e)}}return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.ActiveXObject&&m(a).on("unload",function(){for(var a in Xc){Xc[a](void 0,!0)}}),k.cors=!!Yc&&"withCredentials" in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest()}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd){return bd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});if(typeof com==="undefined"){com={}}if(typeof com.faralam==="undefined"){com.faralam={}}if(typeof com.faralam.registration==="undefined"){com.faralam.registration={}}if(typeof com.faralam.common==="undefined"){com.faralam.common={}}com.faralam.base_url=window.location.protocol+"//"+window.location.host+window.location.pathname;com.faralam.serverURL="";com.faralam.serverURL=sessionStorage.accessMode;com.faralam.fire_count=0;com.faralam.newsletterMembers=[];com.faralam.Editor_MaxLength=1000;com.faralam.custom_img_path=com.faralam.base_url+"/resources/Image/";com.faralam.CongratsPageMsg="The new business has been submitted. You must login again to continue";com.faralam.CongratsPageMsgNote="NOTE: Your new business still needs to be approved. Once approved it will be live on the Community System. However, you can already start to edit, add photos etc.";com.faralam.plugin_path=com.faralam.base_url+"/resources/plugins/";com.faralam.common.sendAjaxRequest=function(d,g,h,b,a,k,e){if(k!="slider"){com.faralam.loginMask=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait ..."});com.faralam.loginMask.show()}if(e){com.faralam.content_type=e}else{com.faralam.content_type="application/json; charset=UTF-8"}Ext.Ajax.request({url:d,method:g,headers:{"Content-Type":com.faralam.content_type},params:h,success:function(l,q,m){if(k!="slider"){com.faralam.loginMask.hide()}if(l.responseText){try{var n=Ext.decode(l.responseText)}catch(o){var n=l.responseText}}else{var n=l.responseText}b(n,q,m)},failure:function(l,n,m){if(k!="slider"){com.faralam.loginMask.hide()}com.faralam.common.ErrorHandling(l.responseText);a(h,n,l)}})};com.faralam.common.ErrorHandling=function(e,g,d){if(e){var a=e.replace(/\n/g,"");var b=Ext.decode(a);if(b.error!=null){switch(b.error.type){case"unabletocomplyexception":com.faralam.registration.showPopup(b.error.type,b.error.message,g,d);break;case"panicexception":com.faralam.registration.showPopup(b.error.type,b.error.message,g,d);break;default:com.faralam.registration.showPopup("Error","There has been an error",g,d);break}}else{com.faralam.registration.showPopup("Error","There has been an error",g,d)}}else{com.faralam.registration.showPopup("Error","Server is not responding/Network not Available",g,d)}};com.faralam.registration.showPopup=function(d,b,e,a){Ext.MessageBox.alert(d,b)};com.faralam.getLoginStatus=function(){com.faralam.getLoginStatusURL=com.faralam.serverURL+"authentication/getRegistrationStatus?";var d=com.faralam.getLoginStatusURL+encodeURI("UID="+sessionStorage.UID);var e="";var b=function(h,k,g){if(sessionStorage.themeDemo==1){e="demo"}if(sessionStorage.UID){if(sessionStorage.active_tab=="settings"){Ext.getCmp("settings_user_id_hidden").setValue(h.userName);Ext.getCmp("settings_email_hidden").setValue(h.email);Ext.getCmp("settings_mobile_number_hidden").setValue(h.phoneNumber);Ext.getCmp("main_tab").down("#gallery").setDisabled(false);Ext.getCmp("main_tab").down("#other_info").setDisabled(false);Ext.getCmp("main_tab").down("#promotion").setDisabled(false);Ext.getCmp("main_tab").down("#open_hrs").setDisabled(false);Ext.getCmp("main_tab").down("#settings").setDisabled(false)}else{if(sessionStorage.active_tab=="name_address"){if(h.isOwner){Ext.getCmp("main_tab").down("#gallery").setDisabled(false);Ext.getCmp("main_tab").down("#other_info").setDisabled(false);Ext.getCmp("main_tab").down("#open_hrs").setDisabled(false);Ext.getCmp("main_tab").down("#settings").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(4);Ext.getCmp("main_tab").down("#name_address").setDisabled(true)}}else{if(h.isOwner){Ext.getCmp("main_tab").down("#gallery").setDisabled(false);Ext.getCmp("main_tab").down("#other_info").setDisabled(false);Ext.getCmp("main_tab").down("#promotion").setDisabled(false);Ext.getCmp("main_tab").down("#open_hrs").setDisabled(false);Ext.getCmp("main_tab").down("#settings").setDisabled(false);if(sessionStorage.active_tab=="login"){com.faralam.getBusinessStatus(e)}}else{Ext.getCmp("main_tab").down("#login").setDisabled(true);Ext.getCmp("main_tab").down("#name_address").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(3)}}}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(d,"GET",{},b,a)};com.faralam.evaluateEmailMobileVerificationStatus=function(a){};com.faralam.UserLogOut=function(){com.faralam.UserLogOutURL=com.faralam.serverURL+"authentication/logout?";var d=com.faralam.UserLogOutURL+encodeURI("UID="+sessionStorage.UID);var e=sessionStorage.ignorehistory=="true"?"http://sitelettes.com":"http://sitelettes.com/business";console.log(sessionStorage.ignorehistory);console.log(e);var b=function(k,l,h){Ext.Msg.show({title:"Success",buttons:Ext.MessageBox.OK,msg:"Your session has ended. Please press the Manage Site to relogin.",fn:function(m){if(m=="ok"){Ext.Ajax.request({url:e,callback:function(){window.top.location.href=e}})}}});Ext.getCmp("main_tab").down("#login").setTitle("Login");for(var g=0;g<Ext.getCmp("main_tab").items.length;g++){if(Ext.getCmp("main_tab").down("#"+Ext.getCmp("main_tab").items.items[g].itemId).isDisabled()){Ext.getCmp("main_tab").down("#"+Ext.getCmp("main_tab").items.items[g].itemId).setDisabled(true)}}sessionStorage.clear()};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(d,"GET",{},b,a)};com.faralam.FirstVisit=function(){var a=$.url().param();if(Object.keys(a).length>0){return a}else{return false}};Array.prototype.AllValuesSame=function(){if(this.length>0){for(var a=0;a<this.length;a++){if(this[a]==this[0]&&this[a]==true){return true}else{return false}}}return true};com.faralam.getFieldValues=function(e,g,a){try{var d=e.getStore().find(g,e.getValue());return e.getStore().getAt(d).get(a)}catch(b){return"error"}};com.faralam.FormatPhone=function(h,n){evt=h||window.event;var o=evt.which||evt.keyCode;var b=new Array(8,27,13,9);var g=b.length;var a=false;var m="";for(d=0;d<g;d++){m=b[d].toString();if(m.indexOf(o)>=0){a=true}}if(a){return true}s=n.value;if(s.charAt(0)=="+"){h.stopEvent()}filteredValues="\"`!@#$%^&*()_+|~-=QWERT YUIOP{}ASDFGHJKL:ZXCVBNM<>?qwertyuiop[]asdfghjkl;zxcvbnm,./\\'";var d;var l="";for(d=0;d<s.length;d++){var k=s.charAt(d);if((filteredValues.indexOf(k)==-1)&(l.length<13)){if(l.length==0){l+="("}if(l.length==4){l+=")"}if(l.length==5){l+="-"}if(l.length==9){l+="-"}l+=k}}n.setValue(l);return false};com.faralam.getBusinessList=function(){com.faralam.get_user_community=com.faralam.serverURL+"usersasl/getUserAndCommunity";com.faralam.get_user_community=com.faralam.get_user_community+"?"+encodeURI("UID="+sessionStorage.UID);var b=function(l,d,q){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#business_list").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(13);if(l.community[0].sasls.length>0){var e=new Array();var m=new Array();var n=new Array();e.push({header:"Business Name",dataIndex:"name",width:165,align:"center",sortable:false},{header:"Description",dataIndex:"description",width:165,align:"center",sortable:false},{dataIndex:"sa",hidden:true},{dataIndex:"sl",hidden:true},{menuDisabled:true,sortable:false,xtype:"actioncolumn",width:50,align:"right",items:[{icon:com.faralam.custom_img_path+"edit.png",tooltip:"Edit",handler:function(r,u,k){var t=r.getStore().getAt(u);sessionStorage.EDITEDSA=t.get("sa");sessionStorage.EDITEDSL=t.get("sl");Ext.getCmp("main_tab").down("#business_list").setDisabled(true);Ext.getCmp("main_tab").down("#edit_name_address").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(14)}}]});m.push({name:"name"},{name:"description"},{name:"sa"},{name:"sl"});for(var g=0;g<l.community[0].sasls.length;g++){var h={};h.name=l.community[0].sasls[g].saslName;h.description=l.community[0].sasls[g].saslName;h.sa=l.community[0].sasls[g].sa;h.sl=l.community[0].sasls[g].sl;n.push(h)}var o=Ext.create("Ext.data.Store",{fields:m,data:n});Ext.getCmp("business_list_grid").reconfigure(o,e)}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.get_user_community,"GET",{},b,a)};com.faralam.ShowResetPassword=function(g,b){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:160,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{fieldLabel:"New Password",afterLabelTextTpl:e,labelStyle:"color: #000 !important;",allowBlank:false,emptyText:"(enter New Password)",name:"new_password",fieldStyle:"color:#000 !important;",id:"reset_new_password",inputType:"password"},{fieldLabel:"Re-enter Password",afterLabelTextTpl:e,labelStyle:"color: #000 !important;",allowBlank:false,emptyText:"(reenter Password)",fieldStyle:"color:#000 !important;",inputWidth:190,inputType:"password",validator:function(h){if(Ext.getCmp("reset_new_password").getValue()!=h){return"password does not match."}return true}},{xtype:"toolbar",items:[{text:"OK",handler:function(){if(this.up("form").getForm().isValid()){var h=this.up("form").getForm().getValues();var k=h.new_password;com.faralam.ResetPassword(k,g,b)}}},"->",{text:"Cancel",handler:function(){d.close()}}]}]});d=Ext.widget("window",{title:"Reset Password",closeAction:"hide",id:"win_reset_password",layout:"fit",resizable:true,modal:true,items:a,defaultFocus:"old_password",listeners:{close:function(){a.getForm().reset()}}});d.show()};com.faralam.ResetPassword=function(h,g,d){com.faralam.reset_password=com.faralam.serverURL+"authentication/resetPassword";var e={uid:g,password:h,email:d};e=JSON.stringify(e);var b=function(l,m,k){Ext.MessageBox.alert("Success","You have reset the password successfully.",function(){Ext.getCmp("win_reset_password").close()})};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.reset_password,"POST",e,b,a)};com.faralam.getUserEmail=function(d){com.faralam.get_user_email=com.faralam.serverURL+"authentication/getRegistrationStatus?";com.faralam.get_user_email=com.faralam.get_user_email+encodeURI("UID="+d);var b=function(g,h,e){com.faralam.ShowResetPassword(d,g.email)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.get_user_email,"GET",{},b,a)};com.faralam.getCropPicURLs=function(d){com.faralam.get_crop_pic_urls=com.faralam.serverURL+"html/getCroppicURLs?";var b=function(g,h,e){sessionStorage.uploadURL=g.uploadURL;sessionStorage.cropURL=g.cropURL;Ext.Ajax.request({url:d,method:"GET",success:function(l,m,k){modal.open({content:l.responseText})}})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.get_crop_pic_urls,"GET",{},b,a)};com.faralam.getImgStatus=function(a){var b="";if(a=="PROPOSED"){b=com.faralam.custom_img_path+"PROPOSED.png"}else{if(a=="REJECTED"){b=com.faralam.custom_img_path+"REJECTED.png"}else{if(a=="APPROVED"){b=com.faralam.custom_img_path+"APPROVED.png"}}}return b};com.faralam.common.getMobileAppURL=function(e,d){com.faralam.get_mobile_app_url=com.faralam.serverURL+"sasl/getMobileAppURL";com.faralam.get_mobile_app_url=com.faralam.get_mobile_app_url+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(h,k,g){Ext.getCmp("mobile_url").update("");if(h){html='<span style="color:#fff;font-family: arial !important;font-size: 14px;">'+h.mobileURL+"</span>";Ext.getCmp("mobile_url").update(html);html='<a href="https://www.facebook.com/sharer.php?u='+h.mobileURL+'" target="_blank"><img src="'+com.faralam.custom_img_path+'/share_button.png" height="24" width="60"></a>';Ext.getCmp("shareApp_fb").update(html);html='<a href="https://twitter.com/share?url='+h.mobileURL+'" target="_blank"><img src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" height="24" width="60"></a>';Ext.getCmp("shareApp_tweet").update(html)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_mobile_app_url,"GET",{},b,a)};com.faralam.common.getMobileAppURLforSMS=function(e,d){com.faralam.get_mobile_app_url=com.faralam.serverURL+"sasl/getMobileAppURL";com.faralam.get_mobile_app_url=com.faralam.get_mobile_app_url+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(h,k,g){Ext.getCmp("mobile_url").update("");if(h){html='<span style="color:#fff;font-family: arial !important;font-size: 14px;">'+h.mobileURL+"</span>";Ext.getCmp("shareSiteByText_url").update(html);html='<a href="https://www.facebook.com/sharer.php?u='+h.mobileURL+'" target="_blank"><img src="'+com.faralam.custom_img_path+'/share_button.png" height="24" width="60"></a>';Ext.getCmp("shareAppByText_fb").update(html);html='<a href="https://twitter.com/share?url='+h.mobileURL+'" target="_blank"><img src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" height="24" width="60"></a>';Ext.getCmp("shareAppByText_tweet").update(html)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_mobile_app_url,"GET",{},b,a)};com.faralam.common.getMobileAppURLStartScreen=function(e,d){com.faralam.get_mobile_app_url_start=com.faralam.serverURL+"sasl/getMobileAppURL";com.faralam.get_mobile_app_url_start=com.faralam.get_mobile_app_url_start+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var h="";var g="";var b=function(m,n,k){var l=m.mobileURL.split("?");if(l.length>1){g="&desktopiframe=true"}else{g="?desktopiframe=true"}Ext.getCmp("mobile_url_start").update("");Ext.getCmp("mobile_url_end").update("");if(m){urlhtml='<div style="  background: #CCCCCC; height: 25px; width: 320px; display: table-cell;vertical-align: middle;text-align: center;"><p style="color:#000;font-family: arial !important;font-size: 12px;">'+m.mobileURL+"</p></div>";html='<iframe src="'+m.mobileURL+g+'" frameborder="0" height="472px" width="320px" style="margin-top: 22px;"></iframe>';Ext.getCmp("mobile_url_start").update(html);Ext.getCmp("mobile_url_end").update(urlhtml)}};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.get_mobile_app_url_start,"GET",{},b,a)};com.faralam.getServiceConfigurations=function(d){var e=new Date().getTime();if(sessionStorage.SASLNAME){Ext.getCmp("with_img_header_logo").show();Ext.getCmp("without_img_header_logo").hide();Ext.getCmp("start_screen_business_name").setSrc(com.faralam.serverURL+"sasl/retrieveLogoJPGbySASL?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ver="+e)}else{Ext.getCmp("with_img_header_logo").hide();Ext.getCmp("without_img_header_logo").show()}com.faralam.get_server_config=com.faralam.serverURL+"sasl/getServiceConfigurations?";com.faralam.get_server_config=com.faralam.get_server_config+encodeURI("serviceLocationId="+sessionStorage.SL+"&serviceAccommodatorId="+sessionStorage.SA+"&UID="+sessionStorage.UID);var b=function(o,k,y){Ext.getCmp("user_setting_menu").removeAll();Ext.getCmp("start_screen_first_part").removeAll();var u=[];var z=[];var m=["mediaservice","promotionService","userSASLService","messagingService","onlineOrder","openingHours","saslMetadata","saslLogoIcon","saslAppIcon","emailService","smsService","servicestatus","catalog","pollingContestService","photoContestService","wallService","adAlertService","htmlEmailService","widgetService","orderSiteCardsService","drivingDirectionsService","clickToCallService","qrCodeScanService","themeSelectionService","loyaltyService","eventsService","videoService","customerCare","userSettings","saslPreview"];for(var q=0;q<m.length;q++){if(o[""+m[q]+""]){if(o[""+m[q]+""].masterEnabled){var l="";l=m[q];if(l=="servicestatus"){var n=o[""+m[q]+""].configurationEnum.color;var h=n.replace("R:","");var t=h.replace("G:","");var x=t.replace("B:","");u.push({xtype:"container",layout:"hbox",cls:"start_screen_hover",id:l,scope:this,style:"cursor:pointer;border-top: 5px solid rgb("+x+") !important; background: #2D2D39 !important;",listeners:{click:{element:"el",fn:function(){com.faralam.StartScreenNavigate(this.id)}}},items:[{xtype:"image",width:35,height:35,src:o[""+m[q]+""].buttonURL},{xtype:"hiddenfield",id:l+"_pageHeader",name:"",value:o[""+m[q]+""].displayText},{xtype:"combo",fieldLabel:'<p style="margin: -1px;color: #fff;font-size: 15px;font-weight: bold;">'+o[""+m[q]+""].displayText+"</p>",labelStyle:"color:#fff !important;",labelSeparator:"",labelAlign:"top",name:"start_screen_combo",emptyText:"No Wait",id:"start_screen_combo",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:false,width:230,margin:"0 0 0 15",editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["id","value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",root:"serviceStatusOption",getData:function(A){var g=[];var r=0;Ext.each(A.serviceStatusOption,function(B){g.push([]);g[r].push(new Array(1));g[r]["id"]=B.enumText+","+B.color+","+B.id;g[r]["value"]=B.displayText;g[r]["value1"]=B.enumText+","+B.color+","+B.id;r=r+1});A=g;console.log("New test form AQB - "+A);return A}},listeners:{exception:function(A,r,g){com.faralam.common.ErrorHandling(r.responseText)}}}}),listeners:{select:function(){var g=this.getValue().split(",");this.inputEl.dom.style.backgroundColor=g[1];this.inputEl.dom.style.backgroundImage="none";this.inputEl.removeCls("x-form-text");this.inputEl.addCls("text-dynamic");com.faralam.common.updateServiceStatus(g[2])}}}]})}else{if(l=="saslMetadata"){sessionStorage.EditAppSettingVisibility=o[""+m[q]+""].domain.isPrivate}if(l=="customerCare"||l=="userSettings"){z.push({xtype:"container",layout:"hbox",cls:"menu_screen_hover",style:"cursor:pointer;background: #CCC !important;",id:l,scope:this,listeners:{click:{element:"el",fn:function(){com.faralam.StartScreenNavigate(this.id)}}},items:[{xtype:"component",html:'<p style="margin: 0;padding: 5px 5px 5px 15px;color: #fff;font-size: 15px;font-weight: bold;">'+l+"</p>"}]})}else{if(l!=""||l!=null){var n=o[""+m[q]+""].configurationEnum.color;var h=n.replace("R:","");var t=h.replace("G:","");var x=t.replace("B:","");u.push({xtype:"container",layout:"hbox",cls:"start_screen_hover",style:"cursor:pointer;border-top: 5px solid rgb("+x+") !important; background: #2D2D39 !important;",id:l,scope:this,listeners:{click:{element:"el",fn:function(){com.faralam.StartScreenNavigate(this.id)}}},items:[{xtype:"image",width:35,height:35,src:o[""+m[q]+""].buttonURL},{xtype:"hiddenfield",id:l+"_pageHeader",name:"",value:o[""+m[q]+""].displayText},{xtype:"component",width:240,html:'<p style="margin: 0;padding: 5px 5px 5px 15px;color: #fff;font-size: 15px;font-weight: bold;">'+o[""+m[q]+""].displayText+"</p>"}]})}}}}}var l="";l=m[q];if(l=="customerCare"||l=="userSettings"||l=="version"){var w="";if(l=="customerCare"){w="Support"}else{if(l=="userSettings"){w="Settings"}}z.push({xtype:"container",layout:"hbox",cls:"menu_screen_hover",style:"cursor:pointer;background: #FFFFFF !important; border-top:1px solid #565656;",id:l,scope:this,listeners:{click:{element:"el",fn:function(){com.faralam.StartScreenNavigate(this.id)}}},items:[{xtype:"component",html:'<p style="margin: 0;padding: 5px 5px 5px 15px;color: #000;font-size: 15px;font-weight: bold;">'+w+"</p>"}]})}}Ext.getCmp("user_setting_menu").add(z);$("#user_setting_menu").css("opacity","0");Ext.getCmp("start_screen_first_part").add(u);if(m.indexOf("servicestatus")){if(Ext.getCmp("start_screen_combo")){Ext.getCmp("start_screen_combo").getStore().removeAll();Ext.getCmp("start_screen_combo").getStore().proxy.url=com.faralam.serverURL+"liveupdate/getServiceStatusOptions?&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("start_screen_combo").getStore().reload();console.log(Ext.getCmp("start_screen_combo").getStore());Ext.getCmp("start_screen_combo").setDisabled(false);com.faralam.common.getStatusSelected()}}$("#start_screen_first_part_table").perfectScrollbar("destroy");$("#start_screen_first_part_table").perfectScrollbar()};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_server_config,"GET",{},b,a)};com.faralam.common.getStatusSelected=function(){com.faralam.getStatusSelected=com.faralam.serverURL+"liveupdate/getStatus";com.faralam.getStatusSelected=com.faralam.getStatusSelected+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(e,g,d){console.log(e);if(e){Ext.getCmp("start_screen_combo").setValue(e.servicestatus.text);Ext.getCmp("start_screen_combo").inputEl.dom.style.backgroundColor=e.servicestatus.color;Ext.getCmp("start_screen_combo").inputEl.dom.style.backgroundImage="none";Ext.getCmp("start_screen_combo").inputEl.removeCls("x-form-text");Ext.getCmp("start_screen_combo").inputEl.addCls("text-dynamic")}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.getStatusSelected,"GET",{},b,a)};com.faralam.StartScreenNavigate=function(a){try{var b=Ext.getCmp(a+"_pageHeader").getValue()}catch(d){var b="Settings"}if(a=="mediaservice"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#gallery").setDisabled(false);Ext.getCmp("gallery_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(5)}}else{if(a=="promotionService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#promotion").setDisabled(false);Ext.getCmp("promotion_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(7)}}else{if(a=="openingHours"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#open_hrs").setDisabled(false);Ext.getCmp("open_hrs_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(8)}}else{if(a=="addEditSASL"){if(sessionStorage.SA&&sessionStorage.SL){com.faralam.getBusinessList()}else{Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#name_address").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(3)}}else{if(a=="saslMetadata"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#other_info").setDisabled(false);Ext.getCmp("other_info_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(6)}}else{if(a=="userSettings"){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#settings").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(9)}else{if(a=="saslLogoIcon"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#UpdateLogoIcon").setDisabled(false);Ext.getCmp("UpdateLogoIcon_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(15)}}else{if(a=="smsService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#shareAppByText").setDisabled(false);Ext.getCmp("shareAppByText_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(42)}}else{if(a=="emailService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#shareApp").setDisabled(false);Ext.getCmp("shareApp_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(18)}}else{if(a=="customerCare"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#SupportSection").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(19)}}else{if(a=="saslAppIcon"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#UpdateAppIcon").setDisabled(false);Ext.getCmp("UpdateAppIcon_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(20)}}else{if(a=="catalog"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#CatalogMenu").setDisabled(false);Ext.getCmp("CatalogMenu_pageHeader").update('<span style="color:#E5FFFF;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(21)}}else{if(a=="onlineOrder"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(false);Ext.getCmp("OnlineOrder_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(22)}}else{if(a=="userSASLService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#MyAppMembers").setDisabled(false);Ext.getCmp("MyAppMembers_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(25)}}else{if(a=="adAlertService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#AdAlertService").setDisabled(false);Ext.getCmp("AdAlertService_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(27)}}else{if(a=="htmlEmailService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#HtmlEmailService").setDisabled(false);Ext.getCmp("HtmlEmailService_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(28)}}else{if(a=="pollingContestService"){if(sessionStorage.SASLNAME){sessionStorage.nxt_prev_id="";Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#PollContest").setDisabled(false);Ext.getCmp("PollContest_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(29)}}else{if(a=="messagingService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#MyAppMessages").setDisabled(false);Ext.getCmp("MyAppMessages_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(30)}}else{if(a=="photoContestService"){if(sessionStorage.SASLNAME){sessionStorage.photo_nxt_prev_id="";Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(false);Ext.getCmp("PhotoContest_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(33)}}else{if(a=="wallService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#wall").setDisabled(false);Ext.getCmp("wall_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(35)}}else{if(a=="clickToCallService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#clickToCall").setDisabled(false);Ext.getCmp("clickToCall_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(36)}}else{if(a=="drivingDirectionsService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#drivingDirections").setDisabled(false);Ext.getCmp("drivingDirections_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(37)}}else{if(a=="orderSiteCardsService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#orderSiteCards").setDisabled(false);Ext.getCmp("orderSiteCards_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(38)}}else{if(a=="widgetService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#widget").setDisabled(false);Ext.getCmp("widget_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(39)}}else{if(a=="qrCodeScanService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#QrCode").setDisabled(false);Ext.getCmp("QrCode_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(40)}}else{if(a=="themeSelectionService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#themeSelector").setDisabled(false);Ext.getCmp("QrCode_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(44)}}else{if(a=="loyaltyService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#createLoyaltyProgram").setDisabled(false);Ext.getCmp("createLoyaltyProgram_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(41)}}else{if(a=="eventsService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#EventsService").setDisabled(false);Ext.getCmp("EventsService_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(43)}}else{if(a=="videoService"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#videos").setDisabled(false);Ext.getCmp("videos_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(45)}}else{if(a=="saslPreview"){if(sessionStorage.SASLNAME){Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").down("#AppPreview").setDisabled(false);Ext.getCmp("AppPreview_pageHeader").update('<span style="color:#000;font-size:20px; font-weight: bold;">'+JSON.stringify(b).replace(/"/g,"")+"</span>");Ext.getCmp("main_tab").setActiveTab(48)}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}};com.faralam.registration.login=function(h,e,d){var g={userid:h,password:e};g=JSON.stringify(g);console.log(h+"<>"+d+"<>"+e);if(d=="demo"){sessionStorage.accessMode="https://simfel.com/apptsvc/rest/"}else{sessionStorage.accessMode="http://communitylive.ws/apptsvc/rest/"}com.faralam.serverURL=sessionStorage.accessMode;var b=function(l,m,k){sessionStorage.UID=l.uid;if(l.isOwner){com.faralam.getBusinessStatus(d)}else{Ext.getCmp("main_tab").down("#login").setDisabled(true);Ext.getCmp("main_tab").down("#name_address").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(3)}};var a=function(k,m,l){};com.faralam.loginWithUserNameURL=com.faralam.serverURL+"authentication/login/";com.faralam.common.sendAjaxRequest(com.faralam.loginWithUserNameURL,"POST",g,b,a)};com.faralam.getBusinessStatus=function(d){com.faralam.get_business_status=com.faralam.serverURL+"usersasl/getUserAndCommunity";com.faralam.get_business_status_msg=com.faralam.get_business_status+"?"+encodeURI("UID="+sessionStorage.UID);console.log(d);var b=function(g,h,e){if(g.community[0].sasls.length>1){if(d=="demo"){sessionStorage.themeDemo=1}else{sessionStorage.themeDemo=0}Ext.getCmp("main_tab").down("#select_business").setDisabled(false);Ext.getCmp("main_tab").down("#login").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(11)}else{if(d=="demo"){sessionStorage.themeDemo=1}else{sessionStorage.themeDemo=0}sessionStorage.SA=g.community[0].sasls[0].sa;sessionStorage.SL=g.community[0].sasls[0].sl;sessionStorage.SASLNAME=g.community[0].sasls[0].saslName;Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#login").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.get_business_status_msg,"GET",{},b,a)};com.faralam.SendEmailForResetPassword=function(e){com.faralam.send_email_for_reset_password=com.faralam.serverURL+"authentication/sendEmailForResetPassword";var d={email:e};d=JSON.stringify(d);var b=function(h,k,g){Ext.MessageBox.alert("Success","A Temporary password sent to your mail box, please verify.",function(){Ext.getCmp("win_frwrd").close()})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.send_email_for_reset_password,"POST",d,b,a)};com.faralam.common.checkLogin=function(h,d,g){com.faralam.checkLogin=com.faralam.serverURL+"authentication/login";var e={userid:h,password:d};e=JSON.stringify(e);var b=function(l,m,k){if(g=="PAYPAL"){Ext.getCmp("log_paypal").close();com.faralam.common.open_Paypal_modal()}else{Ext.getCmp("win5").close();com.faralam.common.ChangeBankDetailsLoginNew()}};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.checkLogin,"POST",e,b,a)};com.faralam.common.open_Paypal_modal=function(){var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';if(Ext.getCmp("win_paypal")){var b=Ext.getCmp("win_paypal");b.destroy(b,new Object())}var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Update",handler:function(){var h=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var g=Ext.getCmp("accountholder_paypal").getValue();var e=Ext.getCmp("paypal_acc_holder_email").getValue();if(g.trim()==""){Ext.MessageBox.alert("Error","Please Enter Account Holders Name.")}else{if(e==""){Ext.MessageBox.alert("Error","Please Enter Account Holders Email.")}else{if(!h.test(e)){Ext.MessageBox.alert("Error","Please enter a valid email.")}else{com.faralam.common.createFundSourcePaypal(g,e)}}}}}]},{xtype:"component",width:40,height:40,html:'<img style="padding-top:3px;" id="redLockImage" src="'+com.faralam.custom_img_path+'greenLock.png" height="40" data-qtip="Unlock">'},{xtype:"displayfield",fieldLabel:"Paypal Account",labelStyle:"color: #000 !important; width: 200px !important; font-weight: bold !important;",name:"bank_account",id:"bank_account",value:""},{fieldLabel:"Account Holder",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"accountholder_paypal",id:"accountholder_paypal",name:"accountholder_paypal",fieldStyle:"color:#000 !important;",inputWidth:200,inputeight:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Email",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"paypal_acc_holder_email",id:"paypal_acc_holder_email",name:"paypal_acc_holder_email",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true}]});win_paypal=Ext.widget("window",{title:"Pay Pal account ",id:"win_paypal",closeAction:"destroy",layout:"fit",resizable:true,modal:true,items:a,defaultFocus:"accountholder_paypal",listeners:{close:function(){a.getForm().reset()}}});win_paypal.show()};com.faralam.common.ChangeBankDetailsLoginNew=function(){var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';if(Ext.getCmp("win6")){var b=Ext.getCmp("win6");b.destroy(b,new Object())}var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"toolbar",items:["->",{text:"Update",handler:function(){com.faralam.common.createFundSource()}}]},{xtype:"component",width:40,height:40,html:'<img style="padding-top:3px;" id="redLockImage" src="'+com.faralam.custom_img_path+'greenLock.png" height="40" data-qtip="Unlock">'},{xtype:"displayfield",fieldLabel:"Address",labelStyle:"color: #000 !important; width: 200px !important; font-weight: bold !important;",name:"bank_account",id:"bank_account",value:""},{fieldLabel:"Number",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_number",id:"address_number",name:"address_number",fieldStyle:"color:#000 !important;",inputWidth:200,inputeight:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Street",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_Street",id:"address_Street",name:"address_Street",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Street(line2)",labelStyle:"color: #000 !important;",allowBlank:true,itemId:"address_Street2",id:"address_Street2",name:"address_Street2",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"City",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_City",id:"address_City",name:"address_City",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"State",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_State",id:"address_State",name:"address_State",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Zip/Postal code",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_Zip",id:"address_Zip",name:"address_Zip",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Country",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"address_Country",id:"address_Country",name:"address_Country",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{xtype:"displayfield",fieldLabel:"Back Account",labelStyle:"color: #000 !important; width: 200px !important; font-weight: bold !important;",name:"bank_account",id:"bank_account",value:""},{fieldLabel:"Account Holder",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"accountholder_bank_account",id:"accountholder_bank_account",emptyText:"(Enter Account Holder Name)",name:"accountholder_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Bank Name",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"bankname_bank_account",id:"bankname_bank_account",emptyText:"(Enter Bank Name)",name:"bankname_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Account Number",afterLabelTextTpl:d,labelStyle:"color: #000 !important;",allowBlank:false,itemId:"accountnumber_bank_account",id:"accountnumber_bank_account",emptyText:"(Enter Account Number)",name:"accountnumber_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true,maskRe:/[0-9.]/},{fieldLabel:"Bank routing",labelStyle:"color: #000 !important;",allowBlank:false,itemId:"bank_routing",id:"bank_routing",emptyText:"(Enter Bank routing)",name:"bank_routing",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"IBAN",labelStyle:"color: #000 !important;",allowBlank:false,itemId:"iban_bank_account",id:"iban_bank_account",emptyText:"(Enter IBAN Number)",name:"iban_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"BIC",labelStyle:"color: #000 !important;",allowBlank:false,itemId:"BIC_bank_account",id:"BIC_bank_account",name:"BIC_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"SWIFT",labelStyle:"color: #000 !important;",allowBlank:false,itemId:"SWIFT_bank_account",id:"SWIFT_bank_account",name:"SWIFT_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Other Number",labelStyle:"color: #000 !important;",allowBlank:true,itemId:"othertnumber_bank_account",id:"othertnumber_bank_account",emptyText:"(Enter Other Number)",name:"othertnumber_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true},{fieldLabel:"Branch City",labelStyle:"color: #000 !important;",allowBlank:true,itemId:"branchcity_bank_account",id:"branchcity_bank_account",emptyText:"(Enter Branch City)",name:"branchcity_bank_account",fieldStyle:"color:#000 !important;",inputWidth:200,maxLength:30,enableKeyEvents:true}]});win6=Ext.widget("window",{title:"Bank Account",id:"win6",closeAction:"hide",layout:"fit",resizable:true,modal:true,width:500,items:a,defaultFocus:"accountholder_bank_account",listeners:{close:function(){a.getForm().reset()}}});win6.show()};com.faralam.common.createFundSource=function(B,t){com.faralam.createFundSource=com.faralam.serverURL+"retail/createFundSource";com.faralam.createFundSource=com.faralam.createFundSource+"?"+encodeURI("UID="+sessionStorage.UID);var e=Ext.getCmp("accountholder_bank_account").getValue();var o=Ext.getCmp("address_Street").getValue();var h=Ext.getCmp("address_Street2").getValue();var l=Ext.getCmp("address_City").getValue();var g=Ext.getCmp("address_State").getValue();var z=Ext.getCmp("address_Zip").getValue();var n=Ext.getCmp("address_Country").getValue();var x=Ext.getCmp("accountholder_bank_account").getValue();var u=Ext.getCmp("bankname_bank_account").getValue();var m=Ext.getCmp("accountnumber_bank_account").getValue();var b=Ext.getCmp("bank_routing").getValue();var q=Ext.getCmp("iban_bank_account").getValue();var y=Ext.getCmp("BIC_bank_account").getValue();var r=Ext.getCmp("SWIFT_bank_account").getValue();var d=Ext.getCmp("othertnumber_bank_account").getValue();var k=Ext.getCmp("branchcity_bank_account").getValue();var A={number:e,street:o,city:l,state:g,zip:z,country:n,firstName:"",lastName:"",name:"",email:"",accountNumber:m,bankNumber:"",bankName:u,serviceCompany:"",creditCardNumber:"",expirationMonth:"",expirationYear:"",cvc:"",telephone:"",type:"BANK_US",status:"PENDING",newAddress:true,iban:q,bic:y,swift:r,routing:b,comments:""};A=JSON.stringify(A);console.log(A);console.log("url="+com.faralam.createFundSource);var w=function(D,E,C){};var a=function(C,E,D){};com.faralam.common.sendAjaxRequest(com.faralam.createFundSource,"POST",A,w,a)};com.faralam.common.createFundSourcePaypal=function(e,d){com.faralam.createFundSourcePaypal=com.faralam.serverURL+"retail/createFundSourcePaypal";com.faralam.createFundSourcePaypal=com.faralam.createFundSourcePaypal+"?"+encodeURI("UID="+sessionStorage.UID);var g={email:d,name:e,type:"EMAIL_PAYPAL"};g=JSON.stringify(g);console.log(g);var b=function(k,l,h){Ext.MessageBox.alert("Success",k.explanation)};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.createFundSourcePaypal,"POST",g,b,a)};com.faralam.UpdateSaSlInfo=function(e){com.faralam.update_sasl_info=com.faralam.serverURL+"sasl/updateSASLInfo";com.faralam.update_sasl_info=com.faralam.update_sasl_info+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.EDITEDSA+"&serviceLocationId="+sessionStorage.EDITEDSL);com.faralam.formValues=e;street2=com.faralam.formValues.line2;zip=com.faralam.formValues.zip;street=com.faralam.formValues.street;state=com.faralam.formValues.state;number=com.faralam.formValues.house_number;res_email=com.faralam.formValues.res_email_addr;tel_number=com.faralam.formValues.res_tel_number;country=com.faralam.formValues.country;city=com.faralam.formValues.city;custom_url=com.faralam.formValues.custom_url;var d={name:Ext.getCmp("edit_hidden_business_entry").getValue(),friendlyURL:custom_url,businessPhoneNumber:tel_number,businessEmail:res_email,promoCode:Ext.getCmp("edit_restaurant_promo_code").getValue(),address:{city:city,country:country,county:"",number:number,postalCode:"",province:"",state:state,street:street,street2:street2,timeZone:null,zip:zip},contact:{emailMain:res_email,firstName:null,lastName:null,telephoneMain:null,telephoneMobile:tel_number,telephoneAux:null},contactInfo:null,themeColor:null};d=JSON.stringify(d);var b=function(h,k,g){if(h.success){com.faralam.registration.showPopup("Status",h.explanation)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.update_sasl_info,"POST",d,b,a)};com.faralam.RetrieveSaSlInfo=function(){com.faralam.retrieve_sasl_info=com.faralam.serverURL+"sasl/retrieveSASLInfo";com.faralam.retrieve_sasl_info=com.faralam.retrieve_sasl_info+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.EDITEDSA+"&serviceLocationId="+sessionStorage.EDITEDSL);var b=function(e,g,d){Ext.getCmp("edit_friendly_url").setValue(e.friendlyURL);Ext.getCmp("edit_res_email_addr").setValue(e.businessEmail);Ext.getCmp("edit_res_tel_number").setValue(e.businessPhoneNumber);Ext.getCmp("edit_hidden_field_for_friendly_url").setValue("0");Ext.getCmp("edit_house_number").setValue(e.address.number);Ext.getCmp("edit_street").setValue(e.address.street);Ext.getCmp("edit_line2").setValue(e.address.street2);Ext.getCmp("edit_city").setValue(e.address.city);Ext.getCmp("edit_restaurant_state").setValue(e.address.state);Ext.getCmp("edit_restaurant_zip").setValue(e.address.zip);Ext.getCmp("edit_country").setValue(e.address.country);Ext.getCmp("edit_restaurant_promo_code").setValue();Ext.getCmp("edit_hidden_business_entry").setValue(e.name);Ext.getCmp("edit_hidden_restaurant_business").setValue(e.domain.enumText)};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_sasl_info,"GET",{},b,a)};com.faralam.claimOwnership=function(d,e){com.faralam.restaurantClaimURL=com.faralam.serverURL+"sasl/cloneAndClaimOwnership";com.faralam.restaurantClaimURL=com.faralam.restaurantClaimURL+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+d+"&serviceLocationId="+e+"&friendlyURL="+Ext.getCmp("friendly_url").getValue()+"&promoCode="+Ext.getCmp("restaurant_promo_code").getValue());var b=function(h,k,g){Ext.getCmp("main_tab").down("#new_business_success").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(12);Ext.getCmp("main_tab").down("#name_address").setDisabled(true)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.restaurantClaimURL,"POST",{},b,a)};com.faralam.createAndClaimOwnership=function(){com.faralam.formValues=Ext.getCmp("form").getValues();street2=com.faralam.formValues.line2;zip=com.faralam.formValues.zip;street=com.faralam.formValues.street;state=com.faralam.formValues.state;number=com.faralam.formValues.house_number;res_email=com.faralam.formValues.res_email_addr;tel_number=com.faralam.formValues.res_tel_number;country=com.faralam.formValues.country;city=com.faralam.formValues.city;custom_url=com.faralam.formValues.custom_url;var e=com.faralam.FirstVisit();if(e){if(e.domain){com.faralam.restaurantClaimURL=com.faralam.serverURL+e.domain+"/createAndClaimOwnership"}else{com.faralam.restaurantClaimURL=com.faralam.serverURL+"sasl/createAndClaimOwnership"}}else{com.faralam.restaurantClaimURL=com.faralam.serverURL+"sasl/createAndClaimOwnership"}com.faralam.restaurantClaimURL=com.faralam.restaurantClaimURL+"?"+encodeURI("UID="+sessionStorage.UID);var d={name:Ext.getCmp("business_entry").getValue(),domain:Ext.getCmp("restaurant_business").getValue(),friendlyURL:custom_url,businessPhoneNumber:tel_number,businessEmail:res_email,promoCode:Ext.getCmp("restaurant_promo_code").getValue(),address:{city:city,country:country,county:"",number:number,postalCode:"",province:"",state:state,street:street,street2:street2,timeZone:null,zip:zip},contact:{emailMain:res_email,firstName:null,lastName:null,telephoneMain:tel_number,telephoneMobile:null,telephoneAux:null},contactInfo:null,themeColor:null};d=JSON.stringify(d);var b=function(h,k,g){Ext.getCmp("main_tab").down("#new_business_success").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(12);Ext.getCmp("main_tab").down("#name_address").setDisabled(true)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.restaurantClaimURL,"POST",d,b,a)};Ext.apply(Ext.form.VTypes,{GalleryfileUploadAppIcon:function(d,b){var e=/^.*\.(gif|png|jpg|jpeg)$/i;var a=Ext.getCmp("from_computer_gallery_app_icon").getEl().down("input[type=file]").dom.files[0];if(!e.test(d)){Ext.getCmp("from_computer_gallery_app_icon").vtypeText="Image must be in .gif,.png,.jpg,.jpeg format";return false}else{if(a.size>1024*1024){Ext.getCmp("from_computer_gallery_app_icon").vtypeText="Maximun size for image 1MB";return false}else{return true}}}});Ext.apply(Ext.form.VTypes,{GalleryfileUpload:function(d,b){var e=/^.*\.(gif|png|jpg|jpeg)$/i;var a=Ext.getCmp("from_computer_gallery").getEl().down("input[type=file]").dom.files[0];if(!e.test(d)){Ext.getCmp("from_computer_gallery").vtypeText="Image must be in .gif,.png,.jpg,.jpeg format";return false}else{if(a.size>1024*1024){Ext.getCmp("from_computer_gallery").vtypeText="Maximun size for image 1MB";return false}else{return true}}}});Ext.apply(Ext.form.VTypes,{fileGalleryUploadByURLAppIcon:function(b,a){var d=/^.*\.(gif|png|jpg|jpeg)$/i;if(!d.test(b)){Ext.getCmp("image_url_gallery_app_icon").vtypeText="Must be in .gif,.png,.jpg,.jpeg format";return false}else{return true}}});Ext.apply(Ext.form.VTypes,{fileGalleryUploadByURL:function(b,a){var d=/^.*\.(gif|png|jpg|jpeg)$/i;if(!d.test(b)){Ext.getCmp("image_url_gallery").vtypeText="Must be in .gif,.png,.jpg,.jpeg format";return false}else{return true}}});com.faralam.common.activateMedia=function(g,e,d,h){com.faralam.activate_media=com.faralam.serverURL+"media/activateMediaByIdAfterId";com.faralam.activate_media=com.faralam.activate_media+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+g+"&serviceLocationId="+e+"&id="+d+"&insertAfterId="+h);var k="[]";var b=function(m,n,l){Ext.MessageBox.alert("Success","The selected image activated successfully",function(){com.faralam.common.retrieveMediaMetaDataBySASL(g,e);com.faralam.common.retrieveMobileGalleryInfo(g,e);com.faralam.common.retrieveMemberMediaMetaDataBySASL(g,e)})};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.activate_media,"PUT",k,b,a)};com.faralam.common.deActivateMedia=function(g,e,d){com.faralam.deactivate_media=com.faralam.serverURL+"media/deActivateMediaById";com.faralam.deactivate_media=com.faralam.deactivate_media+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+g+"&serviceLocationId="+e+"&id="+d);var h="[]";var b=function(l,m,k){Ext.MessageBox.alert("Success","The selected image deactivated successfully",function(){com.faralam.common.retrieveMediaMetaDataBySASL(g,e);com.faralam.common.retrieveMobileGalleryInfo(g,e);com.faralam.common.retrieveMemberMediaMetaDataBySASL(g,e)})};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.deactivate_media,"PUT",h,b,a)};com.faralam.common.retrieveMobileGalleryInfo=function(e,d){com.faralam.retrieve_mobile_info=com.faralam.serverURL+"media/retrieveMediaMetaDataBySASL";com.faralam.retrieve_mobile_info=com.faralam.retrieve_mobile_info+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d+"&status=ACTIVE");var b=function(l,g,t){var o="";if(l.length>0){var n=new Date().getTime();for(var m=0;m<l.length;m++){var u=""+encodeURI(l[m].message)+"";var r=""+encodeURI(l[m].title)+"";var k=l[m].id+"~"+r+"~"+u+"~"+l[m].url;var h=l[m].id+","+l[m].serviceAccommodatorId+","+l[m].serviceLocationId+","+l[m].type;var q=l[m].index+","+l[m].serviceAccommodatorId+","+l[m].serviceLocationId;o+='<li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)"><img total_count = "'+l.length+'" img_id = "'+l[m].id+'" selector = "'+l[m].index+'" data-value = "'+q+'" params="'+h+'" param="'+k+'" id="gallery_drag_zone_active" class="before_dragging" ondragend="com.faralam.dragEnd(event)" ondragstart="com.faralam.dragStart(event)" onclick="com.faralam.showGalleryImage(this)" src='+l[m].thumbURL+"&ver="+n+' style="margin:1px 3px;"></li>'}Ext.getCmp("gallery_show_image_title").setValue(l[0].title);Ext.getCmp("gallery_show_image").setSrc(l[0].url+"&ver="+n);Ext.getCmp("gallery_textarea").setValue(l[0].message);Ext.getCmp("gallery_picture_id").setValue(l[0].id)}else{o='<li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="mobile_gallery"></li>';Ext.getCmp("gallery_save_pic_txt").setDisabled(true)}o='<ul class="wrapper" ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="mobile_gallery">'+o+"</ul>";Ext.getCmp("mobile_gallery").update(o);$("ul#mobile_gallery").perfectScrollbar({suppressScrollX:true})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_mobile_info,"GET",{},b,a,"slider")};com.faralam.common.retrieveMediaMetaDataBySASL=function(e,d){com.faralam.retrieveMediaMetaDataBySASL=com.faralam.serverURL+"media/retrieveMediaMetaDataBySASL";com.faralam.retrieveMediaMetaDataBySASL=com.faralam.retrieveMediaMetaDataBySASL+"?"+encodeURI("serviceAccommodatorId="+e+"&serviceLocationId="+d+"&mediaType=GALLERY_OWNER&status=ALL");var b=function(m,k,w){var o="";if(m.length>0){for(var n=0;n<m.length;n++){if(m[n].status!="ACTIVE"){var r=new Date().getTime();var l=m[n].index+","+e+","+d;var h=m[n].id+","+e+","+d;var g="";g=com.faralam.getImgStatus(m[n].status);var x=""+encodeURI(m[n].message)+"";var t=""+encodeURI(m[n].title)+"";var q=m[n].id+"~"+t+"~"+x+"~"+m[n].url;var u=m[n].id+","+m[n].serviceAccommodatorId+","+m[n].serviceLocationId+","+m[n].type;o+='<li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)"><img width="53" height="40" data-qtip='+m[n].status+" param="+h+" params="+l+" param_owner="+u+" params_owner="+q+' id="gallery_drag_zone_owner" onclick="com.faralam.showGalleryImage(this)" class="before_dragging" ondragend="com.faralam.dragEnd(event)" ondragstart="com.faralam.dragStart(event)" src='+m[n].thumbURL+"&ver="+r+'><div class="gallery_overlay"><span><img src="'+g+'" alt="" /></span></div></li>'}}if(o){o='<ul style="position:relative;" ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="deactivate_zone" class="images">'+o+"</ul>"}else{o='<ul ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="deactivate_zone" class="images" style="text-align:center;height:60px;"><li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="deactivate_zone">No image(s) available</li></ul>'}}else{o='<ul ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="deactivate_zone" class="images" style="text-align:center;height:60px;"><li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" id="deactivate_zone">No image(s) available</li></ul>'}Ext.getCmp("slide_panel").update(o);$("ul#deactivate_zone").perfectScrollbar("destroy");$("ul#deactivate_zone").perfectScrollbar()};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveMediaMetaDataBySASL,"GET",{},b,a,"slider")};com.faralam.getRating=function(a){Ext.getCmp("userrating_value").setValue(a.getAttribute("value"))};com.faralam.common.setRating=function(g){var d=Ext.getCmp("userrating_value").getValue();if(d!=0){com.faralam.setRating=com.faralam.serverURL+"usersasl/setRating";com.faralam.setRating=com.faralam.setRating+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&ratingInt="+d+"&userName="+sessionStorage.userName);console.log(d);var b=function(e,k,h){if(e.success){Ext.MessageBox.alert("Success","Rating Submitted successfully.")}};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.setRating,"PUT",{},b,a)}else{Ext.MessageBox.alert("Error","Please Rate First.")}};com.faralam.common.retrieveMemberMediaMetaDataBySASL=function(e,d){com.faralam.retrieveMediaMetaDataBySASL=com.faralam.serverURL+"media/retrieveMediaMetaDataBySASL";com.faralam.retrieveMediaMetaDataBySASL=com.faralam.retrieveMediaMetaDataBySASL+"?"+encodeURI("serviceAccommodatorId="+e+"&serviceLocationId="+d+"&mediaType=GALLERY_MEMBER&status=ALL");var b=function(m,k,t){var o="";if(m.length>0){for(var n=0;n<m.length;n++){if(m[n].status!="ACTIVE"){var q=new Date().getTime();var l=m[n].index+","+e+","+d;var h=m[n].id+","+e+","+d;var g="";g=com.faralam.getImgStatus(m[n].status);var u=""+encodeURI(m[n].message)+"";var r=""+encodeURI(m[n].title)+"";var x=m[n].id+"~"+r+"~"+u+"~"+m[n].url;var w=m[n].id+","+m[n].serviceAccommodatorId+","+m[n].serviceLocationId+","+m[n].type;o+='<li ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)"><img width="53" height="40" data-qtip='+m[n].status+" param="+h+" params="+l+" param_member="+w+" params_member="+x+' id="gallery_drag_zone_member" onclick="com.faralam.showGalleryImage(this)" class="before_dragging" ondragend="com.faralam.dragEnd(event)" ondragstart="com.faralam.dragStart(event)" src='+m[n].thumbURL+"&ver="+q+'><div class="gallery_overlay"><span><img src="'+g+'" alt="" /></span></div></li>'}}if(o){o='<ul ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" style="position:relative;" class="images" id="member_scroll">'+o+"</ul>"}else{o='<ul ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" class="images" style="text-align:center;height:60px;" id="member_scroll"><li>No image(s) available</li></ul>'}}else{o='<ul ondrop="com.faralam.drop(event)" ondragover="com.faralam.allowDrop(event)" class="images" style="text-align:center;height:60px;" id="member_scroll"><li>No image(s) available</li></ul>'}Ext.getCmp("slide_panel1").update(o);$("ul#member_scroll").perfectScrollbar("destroy");$("ul#member_scroll").perfectScrollbar()};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveMediaMetaDataBySASL,"GET",{},b,a,"slider")};com.faralam.common.RemoveGalleryImage=function(e,b,a,d,g){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete the selected image?",function(l){if(l=="yes"){com.faralam.remove_image=com.faralam.serverURL+"media/retireMediaById";com.faralam.remove_image=com.faralam.remove_image+"?"+encodeURI("UID="+sessionStorage.UID+"&id="+g+"&serviceAccommodatorId="+b+"&serviceLocationId="+a);var k=function(n,o,m){Ext.MessageBox.alert("Success","The selected image deleted successfully",function(){com.faralam.common.retrieveMediaMetaDataBySASL(b,a);com.faralam.common.retrieveMobileGalleryInfo(b,a);com.faralam.common.retrieveMemberMediaMetaDataBySASL(b,a)})};var h=function(m,o,n){};com.faralam.common.sendAjaxRequest(com.faralam.remove_image,"DELETE",{},k,h)}})};com.faralam.common.updateAboutUs=function(e,d){com.faralam.updateAboutUs=com.faralam.serverURL+"sasl/updateAboutUsHTML";com.faralam.updateAboutUs=com.faralam.updateAboutUs+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d);datam=Ext.getCmp("editor_content").getValue();var b=function(h,k,g){if(h.success){Ext.MessageBox.alert("Success","Saved successfully.",function(){com.faralam.common.retrieveAboutUs(e,d)})}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.updateAboutUs,"PUT",datam,b,a,false,"text/plain")};com.faralam.common.retrieveAboutUs=function(e,d){com.faralam.retrieveAboutUs=com.faralam.serverURL+"sasl/retrieveAboutUsHTML";com.faralam.retrieveAboutUs=com.faralam.retrieveAboutUs+"?"+encodeURI("serviceAccommodatorId="+e+"&serviceLocationId="+d);var b=function(h,l,g){Ext.getCmp("editor_content").setValue("");if(!h){console.log("pass1");Ext.getCmp("gallery_limit").setValue(com.faralam.Editor_MaxLength+" character(s) left")}else{console.log("pass2");Ext.getCmp("editor_content").setValue(h);var k=Ext.util.Format.stripTags(h);Ext.getCmp("gallery_limit").setValue(parseInt(com.faralam.Editor_MaxLength)-parseInt(k.length)+" character(s) left");console.log("pass3")}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveAboutUs,"GET",{},b,a)};com.faralam.allowDrop=function(a){a.preventDefault()};com.faralam.dragStart=function(a){if(a.target.id=="gallery_drag_zone_active"||a.target.id=="gallery_drag_zone_owner"||a.target.id=="gallery_drag_zone_member"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("img_params",a.target.getAttribute("params"));a.dataTransfer.setData("img_param",a.target.getAttribute("param"));a.dataTransfer.setData("data_value",a.target.getAttribute("data-value"));a.target.className="after_dragging";com.faralam.fire_count=0}};com.faralam.ChangeGalleryImageOrder=function(a,b,k,d,l,g,e){var b;if(d==1){b="0"}else{if(k>d){var m=$("ul").find("[selector='"+d+"']").parent().prev().children();b=$(m).attr("img_id")}else{if(k<d){if(k==d-1){b=b}else{if(d==e){b=b}else{var m=$("ul").find("[selector='"+d+"']").parent().prev().children();b=$(m).attr("img_id")}}}}}com.faralam.change_gallery_image_order=com.faralam.serverURL+"media/positionIdAfterId";com.faralam.change_gallery_image_order=com.faralam.change_gallery_image_order+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+l+"&serviceLocationId="+g+"&id="+a+"&insertAfterId="+b);var n=function(q,r,o){com.faralam.common.retrieveMobileGalleryInfo(sessionStorage.SA,sessionStorage.SL)};var h=function(o,r,q){};com.faralam.common.sendAjaxRequest(com.faralam.change_gallery_image_order,"PUT",{},n,h)};com.faralam.drop=function(h){h.preventDefault();var b=h.dataTransfer.getData("Text");if(h.target.id=="drop_element"){if(b=="gallery_drag_zone_owner"||b=="gallery_drag_zone_member"){var k=h.dataTransfer.getData("img_params").split(",");var g=h.dataTransfer.getData("img_param").split(",");com.faralam.common.RemoveGalleryImage(k[0],k[1],k[2],b,g[0])}else{if(b=="gallery_drag_zone_active"){var k=h.dataTransfer.getData("data_value").split(",");var g=h.dataTransfer.getData("img_param").split("~");com.faralam.common.RemoveGalleryImage(k[0],k[1],k[2],b,g[0])}}}else{if(h.target.id=="deactivate_zone"){if(b=="gallery_drag_zone_active"){var k=h.dataTransfer.getData("img_params").split(",");if(k[3]=="GALLERY_OWNER"){com.faralam.common.deActivateMedia(k[1],k[2],k[0])}else{com.faralam.registration.showPopup("Status","You can not drop image to this section as it is Member image.")}}}else{if(h.target.id=="member_scroll"){if(b=="gallery_drag_zone_active"){var k=h.dataTransfer.getData("img_params").split(",");if(k[3]=="GALLERY_MEMBER"){com.faralam.common.deActivateMedia(k[1],k[2],k[0])}else{com.faralam.registration.showPopup("Status","You can not drop image to this section as it is Owner Image.")}}}else{if(h.target.id=="mobile_gallery"){if(b=="gallery_drag_zone_owner"){var m=h.dataTransfer.getData("img_param").split(",");if($(h.target).attr("img_id")){var l=$(h.target).attr("img_id")}else{if($("ul#mobile_gallery li").first().html()){var l=$("ul#mobile_gallery li").last().children().attr("param").split("~")[0]}else{var l=0}}com.faralam.common.activateMedia(m[1],m[2],m[0],l)}else{if(b=="gallery_drag_zone_member"){var m=h.dataTransfer.getData("img_param").split(",");if($("ul#mobile_gallery li").first().html()){var l=$("ul#mobile_gallery li").last().children().attr("param").split("~")[0]}else{var l=0}com.faralam.common.activateMedia(m[1],m[2],m[0],l)}}}else{if(h.target.id=="gallery_drag_zone_active"&&com.faralam.fire_count==0){if(b=="gallery_drag_zone_owner"){var m=h.dataTransfer.getData("img_param").split(",");var l;if($(h.target).attr("selector")==1){l=0}else{l=$(h.target).parent().prev().children().attr("img_id")}com.faralam.common.activateMedia(m[1],m[2],m[0],l)}else{if(b=="gallery_drag_zone_member"){var m=h.dataTransfer.getData("img_param").split(",");var l;if($(h.target).attr("selector")==1){l=0}else{l=$(h.target).parent().prev().children().attr("img_id")}com.faralam.common.activateMedia(m[1],m[2],m[0],l)}else{var k=h.dataTransfer.getData("img_params").split(",");var m=h.target.getAttribute("params").split(",");var a=h.dataTransfer.getData("data_value").split(",");var e=h.target.getAttribute("data-value").split(",");var d=h.target.getAttribute("total_count").split(",");if(k[0]!=m[0]){com.faralam.ChangeGalleryImageOrder(k[0],m[0],a[0],e[0],m[1],m[2],d)}}}com.faralam.fire_count++}}}}}};com.faralam.dragEnd=function(a){a.target.className="before_dragging"};com.faralam.showGalleryImage=function(a){if(a.getAttribute("param")){var b=a.getAttribute("param").split("~")}if(a.getAttribute("params_owner")){var b=a.getAttribute("params_owner").split("~")}if(a.getAttribute("params_member")){var b=a.getAttribute("params_member").split("~")}Ext.getCmp("gallery_show_image_title").setValue(decodeURI(b[1]));Ext.getCmp("gallery_show_image").setSrc(b[3]);Ext.getCmp("gallery_textarea").setValue(decodeURI(b[2]));Ext.getCmp("gallery_picture_id").setValue(b[0])};com.faralam.common.setGalleryTitle=function(h,e,d,g){com.faralam.update_media_title=com.faralam.serverURL+"media/updateMediaTitle";com.faralam.update_media_title=com.faralam.update_media_title+"?"+encodeURI("id="+h+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d);var b=function(l,m,k){if(l){com.faralam.common.retrieveMobileGalleryInfo(e,d);com.faralam.common.retrieveMediaMetaDataBySASL(e,d);com.faralam.common.retrieveMemberMediaMetaDataBySASL(e,d)}};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.update_media_title,"PUT",g,b,a)};com.faralam.common.setGalleryMessage=function(h,e,d,g){com.faralam.update_media_message=com.faralam.serverURL+"media/updateMediaMessage";com.faralam.update_media_message=com.faralam.update_media_message+"?"+encodeURI("id="+h+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d);var b=function(l,m,k){if(l){com.faralam.common.retrieveMobileGalleryInfo(e,d);com.faralam.common.retrieveMediaMetaDataBySASL(e,d);com.faralam.common.retrieveMemberMediaMetaDataBySASL(e,d)}};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.update_media_message,"PUT",g,b,a)};com.faralam.retrieveOtherInfo=function(e,d){com.faralam.retrieveSASLMetaDataPortal=com.faralam.serverURL+"sasl/retrieveSASLMetaDataPortal";com.faralam.retrieveSASLMetaDataPortal=com.faralam.retrieveSASLMetaDataPortal+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d);var b=function(w,n,A){if(Ext.getCmp("other_info_first_part").items.length>0){Ext.getCmp("other_info_first_part").removeAll()}var z=250;if(w.multiValueOptions){if(w.multiValueOptions.length>0){var h=new Ext.Container({layout:{type:"table",columns:1},items:[]});for(var x=0;x<w.multiValueOptions.length;x++){var B="";B=Ext.create("Ext.data.Store",{fields:["key","value"],data:[]});for(var q=0;q<w.multiValueOptions[x].options.length;q++){var m="";m={key:w.multiValueOptions[x].options[q].id,value:w.multiValueOptions[x].options[q].displayText};B.add(m)}if(w.multiValueOptions[x].visible){var t=new Ext.form.ComboBox({fieldLabel:w.multiValueOptions[x].key.displayText,name:"combo_"+w.multiValueOptions[x].key.id,id:"combo_"+w.multiValueOptions[x].key.id,labelAlign:"right",labelWidth:z,labelSeparator:"  ",queryMode:"local",store:B,displayField:"value",valueField:"key",autoSelect:true,forceSelection:false,editable:false,inputWidth:480,value:""})}else{var t=new Ext.form.ComboBox({fieldLabel:w.multiValueOptions[x].key.displayText,name:"combo_"+w.multiValueOptions[x].key.id,id:"combo_"+w.multiValueOptions[x].key.id,labelAlign:"right",labelWidth:z,labelSeparator:"  ",queryMode:"local",store:B,hidden:true,displayField:"value",valueField:"key",autoSelect:true,forceSelection:false,editable:false,inputWidth:480,value:""})}t.setValue(w.multiValueOptions[x].value.displayText);h.add(t)}Ext.getCmp("other_info_first_part").add(h)}}if(w.booleanValueOptions){if(w.booleanValueOptions.length>0){var l=new Ext.Container({layout:{type:"table",columns:1},items:[]});for(var x=0;x<w.booleanValueOptions.length;x++){if(w.booleanValueOptions[x].visible){var o="";o=new Ext.form.FieldContainer({items:[{xtype:"radiogroup",fieldLabel:w.booleanValueOptions[x].key.displayText,id:"other_info_radio_"+x,labelAlign:"right",labelWidth:z,width:695,items:[]}]})}else{var o="";o=new Ext.form.FieldContainer({items:[{xtype:"radiogroup",fieldLabel:w.booleanValueOptions[x].key.displayText,id:"other_info_radio_"+x,labelAlign:"right",labelWidth:z,hidden:true,width:695,items:[]}]})}for(var r=0;r<w.booleanValueOptions[x].options.length;r++){var u="";if(w.booleanValueOptions[x].options[r]){u={boxLabel:"Yes",name:"radio_"+w.booleanValueOptions[x].key.id,inputValue:w.booleanValueOptions[x].options[r],checked:false}}else{u={boxLabel:"No",name:"radio_"+w.booleanValueOptions[x].key.id,inputValue:w.booleanValueOptions[x].options[r],checked:false}}Ext.getCmp("other_info_radio_"+x).add(u)}if(w.booleanValueOptions[x].value){Ext.getCmp("other_info_radio_"+x).items.items[0].setValue(true)}else{Ext.getCmp("other_info_radio_"+x).items.items[1].setValue(true)}l.add(o)}Ext.getCmp("other_info_first_part").add(l)}}if(w.namedValueOptions){if(w.namedValueOptions.length>0){var g=new Ext.Container({layout:{type:"table",columns:1},items:[]});for(var x=0;x<w.namedValueOptions.length;x++){if(w.namedValueOptions[x].visible){var y="";y=new Ext.form.TextField({id:"text_"+w.namedValueOptions[x].key.id,fieldLabel:w.namedValueOptions[x].key.displayText,name:"text_"+w.namedValueOptions[x].key.id,labelAlign:"right",labelWidth:z,labelSeparator:"  ",inputWidth:480,value:w.namedValueOptions[x].value})}else{var y="";y=new Ext.form.TextField({id:"text_"+idata.namedValueOptions[x].key.id,fieldLabel:w.namedValueOptions[x].key.displayText,name:"text_"+w.namedValueOptions[x].key.id,labelAlign:"right",labelWidth:z,labelSeparator:"  ",hidden:true,inputWidth:480,value:w.namedValueOptions[x].value})}g.add(y)}Ext.getCmp("other_info_first_part").add(g)}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveSASLMetaDataPortal,"GET",{},b,a)};com.faralam.updateOtherInfo=function(u,k){com.faralam.updateSASLMetaData=com.faralam.serverURL+"sasl/updateSASLMetaData";com.faralam.updateSASLMetaData=com.faralam.updateSASLMetaData+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+u+"&serviceLocationId="+k);var y=Ext.getCmp("other_info_first_parts").getForm().getValues();var b=Object.keys(y);var g=[];var o=[];var m=[];for(var q=0;q<b.length;q++){if(b[q].search("combo_")!=-1){var e=b[q].split("_");g.push(y[b[q]]+"_"+e[1])}if(b[q].search("radio_")!=-1){o.push(y[b[q]])}if(b[q].search("text_")!=-1){m.push(y[b[q]])}}var a=[];if(g.length>0){for(var l=0;l<g.length;l++){var d;var e=g[l].split("_");if(!isNaN(e[0])){d=e[0]}else{if(com.faralam.getFieldValues(Ext.getCmp("combo_"+e[1]),"value","key")!="error"){d=com.faralam.getFieldValues(Ext.getCmp("combo_"+e[1]),"value","key")}}a.push({value:d,key:e[1]})}}var h=[];if(g.length>0){for(var l=0;l<o.length;l++){h.push({value:o[l],key:l})}}var r=[];if(m.length>0){for(var l=0;l<m.length;l++){r.push({value:m[l],key:l})}}var w={multiValueSelections:a,booleanValueSelections:h,nameValueSelections:r};datam=JSON.stringify(w);var x=function(z,A,n){com.faralam.registration.showPopup("Success","Successfully Updated")};var t=function(n,A,z){};com.faralam.common.sendAjaxRequest(com.faralam.updateSASLMetaData,"PUT",datam,x,t)};com.faralam.common.showSeoTabs=function(a){Ext.getCmp("aboutUsContainer").hide();Ext.getCmp("seoContainer").hide();Ext.getCmp("BusinessListingContainer").hide();Ext.getCmp("passwordContainer").hide();Ext.getCmp("aboutusTab").setText('<span style="color:#fff;">About Us</span>');Ext.getCmp("seoTab").setText('<span style="color:#fff;">Search Optimization</span>');Ext.getCmp("blTab").setText('<span style="color:#fff;">Business Listing</span>');Ext.getCmp("passwordTab").setText('<span style="color:#fff;">Visitor Password</span>');a=parseInt(a);if(a==1){Ext.getCmp("aboutusTab").setText('<span style="color:#FFFF00;">About Us</span>');Ext.getCmp("aboutUsContainer").show();com.faralam.common.retrieveAboutUs(sessionStorage.SA,sessionStorage.SL)}else{if(a==2){console.log("seo_on");Ext.getCmp("seoTab").setText('<span style="color:#FFFF00;">Search Optimization</span>');Ext.getCmp("seoContainer").show();Ext.getCmp("seoContainer").getEl().slideIn("l",{stopAnimation:true,duration:200})}else{if(a==3){Ext.getCmp("blTab").setText('<span style="color:#FFFF00;">Business Listing</span>');Ext.getCmp("BusinessListingContainer").show();Ext.getCmp("BusinessListingContainer").getEl().slideIn("l",{stopAnimation:true,duration:200});com.faralam.common.getBusinessNameSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessEmailSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessTelephoneSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getBusinessAddressSEO(sessionStorage.SA,sessionStorage.SL);com.faralam.common.getVisitorPasswordSEO(sessionStorage.SA,sessionStorage.SL)}else{if(a==4){Ext.getCmp("passwordTab").setText('<span style="color:#FFFF00;">Visitor Password</span>');Ext.getCmp("passwordContainer").show();Ext.getCmp("passwordContainer").getEl().slideIn("l",{stopAnimation:true,duration:200})}}}}};com.faralam.common.getBusinessNameSEO=function(e,d){com.faralam.get_business_name=com.faralam.serverURL+"sasl/getBusinessName";com.faralam.get_business_name=com.faralam.get_business_name+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("title_mobile_app").setValue(h.businessName)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_business_name,"GET",{},b,a)};com.faralam.common.getBusinessEmailSEO=function(e,d){com.faralam.get_business_email=com.faralam.serverURL+"sasl/getBusinessEmail";com.faralam.get_business_email=com.faralam.get_business_email+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("business_mail").setValue(h.businessEmail)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_business_email,"GET",{},b,a)};com.faralam.common.getBusinessTelephoneSEO=function(e,d){com.faralam.get_business_telephone=com.faralam.serverURL+"sasl/getBusinessTelephone";com.faralam.get_business_telephone=com.faralam.get_business_telephone+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("business_telephone").setValue(h.businessTelephone)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_business_telephone,"GET",{},b,a)};com.faralam.setBusinessNameSEO=function(e,d){com.faralam.set_business_name=com.faralam.serverURL+"sasl/setBusinessName";com.faralam.set_business_name=com.faralam.set_business_name+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g={businessName:Ext.getCmp("title_mobile_app").getValue()};g=JSON.stringify(g);var b=function(h,l,k){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.set_business_name,"PUT",g,b,a)};com.faralam.setBusinessEmailSEO=function(e,d){com.faralam.set_business_email=com.faralam.serverURL+"sasl/setBusinessEmail";com.faralam.set_business_email=com.faralam.set_business_email+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g={businessEmail:Ext.getCmp("business_mail").getValue()};g=JSON.stringify(g);var b=function(h,l,k){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.set_business_email,"PUT",g,b,a)};com.faralam.setBusinessTelephoneSEO=function(e,d){com.faralam.set_business_telephone=com.faralam.serverURL+"sasl/setBusinessTelephone";com.faralam.set_business_telephone=com.faralam.set_business_telephone+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g={businessTelephone:Ext.getCmp("business_telephone").getValue()};g=JSON.stringify(g);var b=function(h,l,k){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.set_business_telephone,"PUT",g,b,a)};com.faralam.common.getBusinessAddressSEO=function(e,d){com.faralam.get_business_address=com.faralam.serverURL+"sasl/getBusinessAddress";com.faralam.get_business_address=com.faralam.get_business_address+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("street").setValue(h.street);Ext.getCmp("address_line2").setValue(h.street2);Ext.getCmp("city").setValue(h.city);Ext.getCmp("state").setValue(h.state);Ext.getCmp("zip").setValue(h.zip);Ext.getCmp("country").setValue(h.country)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_business_address,"GET",{},b,a)};com.faralam.setBusinessAddress=function(){com.faralam.set_business_address=com.faralam.serverURL+"sasl/setBusinessAddress";com.faralam.set_business_address=com.faralam.set_business_address+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={number:Ext.getCmp("drivingNumber").getValue(),street:Ext.getCmp("drivingStreet").getValue(),street2:Ext.getCmp("drivingStreet2").getValue(),state:Ext.getCmp("drivingState").getValue(),zip:Ext.getCmp("drivingzip").getValue(),city:Ext.getCmp("drivingCity").getValue(),country:Ext.getCmp("drivingCountry").getValue()};d=JSON.stringify(d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.set_business_address,"PUT",d,b,a)};com.faralam.setBusinessAddressSEO=function(e,d){com.faralam.set_business_address=com.faralam.serverURL+"sasl/setBusinessAddress";com.faralam.set_business_address=com.faralam.set_business_address+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g={street:Ext.getCmp("street").getValue(),street2:Ext.getCmp("address_line2").getValue(),city:Ext.getCmp("city").getValue(),state:Ext.getCmp("state").getValue(),zip:Ext.getCmp("zip").getValue(),country:Ext.getCmp("country").getValue()};g=JSON.stringify(g);var b=function(h,l,k){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.set_business_address,"PUT",g,b,a)};com.faralam.common.getVisitorPasswordSEO=function(e,d){com.faralam.get_visitor_password=com.faralam.serverURL+"sasl/getVisitorPassword";com.faralam.get_visitor_password=com.faralam.get_visitor_password+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("visitor_password").setValue(h.membersPassword);if(h.membersOnlyMedia==true){Ext.get("enable_visitor_password-inputEl").removeCls("inactive_checkbox");Ext.get("enable_visitor_password-inputEl").addCls("active_checkbox")}else{Ext.get("enable_visitor_password-inputEl").removeCls("active_checkbox");Ext.get("enable_visitor_password-inputEl").addCls("inactive_checkbox")}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_visitor_password,"GET",{},b,a)};com.faralam.setVisitorPasswordSEO=function(e,d){com.faralam.set_visitor_password=com.faralam.serverURL+"sasl/setVisitorPassword";com.faralam.set_visitor_password=com.faralam.set_visitor_password+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g={membersPassword:Ext.getCmp("visitor_password").getValue(),membersOnlyMedia:Ext.getCmp("enable_visitor_password").getValue()};g=JSON.stringify(g);var b=function(h,l,k){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Submitted successfully.")}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.set_visitor_password,"PUT",g,b,a)};com.faralam.UpdatePromotionMetaData=function(l,e,d,g){com.faralam.update_promotion_meta_data=com.faralam.serverURL+"promotions/updatePromotionSATierMetaData";com.faralam.update_promotion_meta_data=com.faralam.update_promotion_meta_data+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d+"&promoUUID="+l);if(Ext.getCmp("promo_valid_days"+g).getValue().valid_day instanceof Array){var h=Ext.getCmp("promo_valid_days"+g).getValue().valid_day}else{var h=[Ext.getCmp("promo_valid_days"+g).getValue().valid_day]}k={promoPictureId:"1",messageText:Ext.getCmp("promo_add_text"+g).getValue(),timeRestricted:"true",keywords:"",promotionStatus:"PROPOSED",promotionType:Ext.getCmp("promo_type"+g).getValue(),promotionCode:Ext.getCmp("promo_code"+g).getValue(),promoPictureServiceAccommodatorId:"3",promotionSASLName:Ext.getCmp("promo_identifier"+g).getValue(),displayText:Ext.getCmp("promo_add_text"+g).getValue(),pictStatus:"APPROVED",serviceAccommodatorId:e,serviceLocationId:d,tierId:"1",levelType:"DEFAULT",floorId:"1",promoUUID:l,roleType:"DEFAULT",messageLocation:{y:"20",x:"20"},classTimeSlotPolicyEntry:{reservationType:"PSEUDO",timeRange:{isExpired:"false",expirationDate:expirationDate,openingDays:[h],openingHours:{startClock:{minute:startclock_min,hour:startclock_hr},endClock:{minute:endclock,hour:endclock_hr}},activationDate:activationDate},maxHeadCountPerSeat:"3",timeSlotType:"FIXED_60MIN_INTERVALS",maxSeatCount:"40"}};var k=JSON.stringify(k);var b=function(n,o,m){};var a=function(m,o,n){};com.faralam.common.sendAjaxRequest(com.faralam.update_promotion_meta_data,"POST",k,b,a)};com.faralam.retrievePromotion=function(e,d){com.faralam.get_promotion=com.faralam.serverURL+"promotions/retrievePromotionSATierPromoUUIDs";com.faralam.get_promotion=com.faralam.get_promotion+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+d);var b=function(l,n,k){for(var h=1;h<com.faralam.Promotion_first_part.items.items.length;h++){if(com.faralam.Promotion_first_part.items.items[1]){com.faralam.Promotion_first_part.remove(com.faralam.Promotion_first_part.items.items[1],true);com.faralam.Promotion_first_part.doLayout()}}if(l.promoCount>0){for(var h=0;h<l.promoCount;h++){var g=[];var m='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';g.push({xtype:"form",layout:{type:"table",columns:2,tableAttrs:{style:{width:"100%"}}},id:"promotion_parent_container"+h,items:[{xtype:"container",layout:{type:"table",columns:1,tableAttrs:{style:{width:"100%"}}},tdAttrs:{style:{width:"75%"}},items:[{xtype:"container",layout:{type:"table",columns:3,tableAttrs:{style:{width:"100%"}}},items:[{xtype:"fieldset",title:"Pick a Photo",collapsible:false,style:"text-align:center;",items:[{xtype:"image",padding:"10 10 10 10",width:100,height:100,margin:"0 0 5 0",src:"",id:"thumb_img"+h,style:"border: 2px solid #00a234;"}]},{xtype:"filefield",tdAttrs:{style:{width:"33%"}},style:"margin:0 auto;",buttonText:"Upload New Picture",buttonOnly:true,scope:this,id:"promo_upload"+h,listeners:{change:function(w,u,t){if(u){var q=this.id.slice(-1);var r=this.getEl().down("input[type=file]").dom.files[0];var o=new FileReader();o.onload=(function(x){return function(y){Ext.getCmp("thumb_img"+q).setSrc(y.target.result);Ext.getCmp("big_img"+q).setSrc(y.target.result)}})(r);o.readAsDataURL(r)}},afterrender:function(o){o.fileInputEl.set({accept:"image/*"})}}},{xtype:"fieldset",title:"Add Text",collapsible:false,tdAttrs:{style:{width:"33%"}},items:[{xtype:"textarea",style:{width:"100%"},id:"promo_add_text"+h}]}]},{xtype:"fieldset",title:"Details",collapsible:false,items:[{xtype:"container",layout:{type:"table",columns:2,tableAttrs:{style:{width:"100%"}}},items:[{tdAttrs:{style:{width:"20%"}},xtype:"image",padding:"10 10 10 10",width:150,height:200,id:"big_img"+h,src:"",style:"border: 2px solid #00a234; margin: 0 10px 0 0;"},{tdAttrs:{style:{width:"80%"}},xtype:"container",layout:{type:"table",columns:2,tableAttrs:{style:{width:"100%"}}},items:[{xtype:"fieldset",title:"Identifier",collapsible:false,colspan:2,layout:"hbox",items:[{xtype:"container",layout:"hbox",margin:"0 0 10 0",items:[{xtype:"textfield",fieldLabel:"Name",emptyText:"(Promo name)",id:"promo_identifier"+h,labelAlign:"right",labelWidth:50},{xtype:"container",layout:"vbox",defaults:{labelAlign:"right",labelWidth:50},items:[{xtype:"combo",fieldLabel:"Type",name:"promo_type"+h,id:"promo_type"+h,queryMode:"local",displayField:"value",valueField:"value",autoSelect:true,forceSelection:true,editable:false,allowBlank:false,afterLabelTextTpl:m,store:Ext.create("Ext.data.ArrayStore",{fields:["value"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(r){var o=[];var q=0;Ext.each(r,function(t){o.push([]);o[q].push(new Array(1));o[q]["value"]=t.enumText;q=q+1});r=o;return r}}}}),listeners:{validitychange:function(u,t,r){var q=u.id.slice(-1);var o=Ext.getCmp("promotion_type_err"+q);o.setValue("");if(!t){o.setValue('<span style="color:#CF4C35;">'+u.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"promotion_type_err"+h,id:"promotion_type_err"+h,fieldLabel:"&nbsp;",value:"",labelSeparator:""}]}]}]},{xtype:"fieldset",title:'Valid Days<span style="color: #FF0000;">*</span>',collapsible:false,items:[{xtype:"checkboxgroup",margin:"10 0 0 0",cls:"x-check-group-alt",id:"promo_valid_days"+h,allowBlank:false,items:[{name:"valid_day",inputValue:"SUN"},{name:"valid_day",inputValue:"MON"},{name:"valid_day",inputValue:"TUE"},{name:"valid_day",inputValue:"WED"},{name:"valid_day",inputValue:"THU"},{name:"valid_day",inputValue:"FRI"},{name:"valid_day",inputValue:"SAT"}],listeners:{validitychange:function(r,t,q){var o=this.id.slice(-1);Ext.getCmp("promotion_valid_days_err"+o).setValue("");if(!t){Ext.getCmp("promotion_valid_days_err"+o).setValue('<span style="color:#CF4C35;">'+r.getErrors()+"</span>")}}}},{xtype:"displayfield",name:"promotion_valid_days_err",id:"promotion_valid_days_err"+h,labelWidth:5,fieldLabel:"&nbsp;",value:"",labelSeparator:""}]}]}]}]}]},{xtype:"hiddenfield",value:"",id:"promouuid"+h},{xtype:"container",layout:"vbox",tdAttrs:{style:{width:"25%","vertical-align":"top","padding-top":"55px"}},items:[{xtype:"container",layout:"hbox",items:[{xtype:"button",text:"Cancel",id:"promotion_cancel"+h,margin:"0 10 0 10",handler:function(){var o=this.id.slice(-1);Ext.getCmp("thumb_img"+o).setSrc();Ext.getCmp("big_img"+o).setSrc();Ext.getCmp("promotion_parent_container"+o).getForm().reset()}},{xtype:"button",text:"Update",id:"promotion_update"+h,handler:function(){if(Ext.getCmp("promotion_parent_container"+h).getForm().isValid()){com.faralam.UpdatePromotionMetaData(Ext.getCmp("promouuid"+h).getValue(),sessionStorage.SA,sessionStorage.SL,h)}}}]},{xtype:"container",html:"<span style=\"color:#fff;\">Optionally, you can create a promotion that will highlight your location on the map.<br><br>Upload a picture or choose from one of the pictures in your gallery.<br><br>Choose a text message for your promotion.<br><br>Choose a 'name' for your promotion and a type.<br><br>The type of Promotion will determine the type of marker shown.</span>",cls:"zip_notify",style:"height: auto;margin-left:10px;margin-top:68px;"}]}]});com.faralam.Promotion_first_part.add(g);com.faralam.Promotion_first_part.doLayout();Ext.getCmp("promo_type"+h).setValue("");Ext.getCmp("promo_type"+h).getStore().removeAll();Ext.getCmp("promo_type"+h).getStore().proxy.url=com.faralam.serverURL+"promotions/getPromotionTypes";Ext.getCmp("promo_type"+h).getStore().reload();Ext.getCmp("thumb_img"+h).setSrc();Ext.getCmp("big_img"+h).setSrc();com.faralam.retrieve_promotion_metadata(l.promoUUIDList[h],h)}}else{}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_promotion,"GET",{},b,a)};com.faralam.retrieve_promotion_metadata=function(e,d){com.faralam.get_promotion_metadata=com.faralam.serverURL+"promotions/getPromotionMetaDataPortalByPromoUUID";com.faralam.get_promotion_metadata=com.faralam.get_promotion_metadata+"?"+encodeURI("UID="+sessionStorage.UID+"&promoUUID="+e);var b=function(k,l,h){var g=k;Ext.getCmp("promo_add_text"+d).setValue(g.displayText);Ext.getCmp("promo_identifier"+d).setValue(g.promotionSASLName);Ext.getCmp("promo_type"+d).setValue(g.promotionType.enumText);Ext.getCmp("promo_valid_days"+d).setValue({valid_day:g.classTimeSlotPolicyEntry.timeRange.openingDays});Ext.getCmp("thumb_img"+d).setSrc(com.faralam.serverURL+"promotions/retrievePictureJPGByPromoUUID?promoUUID="+e);Ext.getCmp("big_img"+d).setSrc(com.faralam.serverURL+"promotions/retrievePictureJPGByPromoUUID?promoUUID="+e);Ext.getCmp("promouuid"+d).setValue(e)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_promotion_metadata,"GET",{},b,a)};com.faralam.PromotionSubmit=function(l,g){com.faralam.loginMask=new Ext.LoadMask(Ext.getBody(),{msg:"Please wait ..."});com.faralam.loginMask.show();if(Ext.getCmp("promo_valid_days").getValue().valid_day instanceof Array){var k=Ext.getCmp("promo_valid_days").getValue().valid_day}else{var k=[Ext.getCmp("promo_valid_days").getValue().valid_day]}var n=new XMLHttpRequest(),a="POST",b=com.faralam.serverURL+"promotions/createWNewPictureNewMetaData?UID="+sessionStorage.UID;var h={classTimeSlotPolicyEntry:{reservationType:"PSEUDO",timeSlotType:"FIXED_60MIN_INTERVALS",maxSeatCount:40,maxHeadCountPerSeat:3,timeRange:{openingDays:k}},promotionSASLName:Ext.getCmp("promo_identifier").getValue(),displayText:Ext.getCmp("promo_add_text").getValue(),displayLocation:{x:0,y:0},promotionType:Ext.getCmp("promo_type").getValue(),serviceAccommodatorId:l,serviceLocationId:g};h=JSON.stringify(h);var e=new FormData();e.append("promotionsaslmetadata",h);var d=Ext.getCmp("promo_upload").getEl().down("input[type=file]").dom.files[0];if(d){e.append(d.name,d)}var m=function(o){if(o.target.readyState==4){com.faralam.loginMask.hide();if(o.target.status==200){com.faralam.registration.showPopup("Success","Updated successfully.")}else{com.faralam.common.ErrorHandling(o.target.responseText);return false}}};n.open(a,b,true);n.onload=m;n.send(e)};com.faralam.RetrievePromoInfo=function(){com.faralam.retrieve_promo_info=com.faralam.serverURL+"promotions/retrievePromotionSATiersMetaDataBySASL";com.faralam.retrieve_promo_info=com.faralam.retrieve_promo_info+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&status=ALL");var b=function(o,l,x){var t="";var w="";var h="";var y="";var g="";var e="";var k=";";var r=new Array();var u=0;if(o.length>0){for(var q=0;q<o.length;q++){if(o[q].promotionStatus=="ACTIVE"){var m=1;if(m==1){h=o[q].promotionType.enumText;y=o[q].promotionSASLName;g=o[q].url;e=o[q].messageText;first_promo_UUID=o[q].promoUUID;k=o[q].shareURL;m++}var n=o[q].promoPictureId+","+o[q].serviceAccommodatorId+","+o[q].promotionType.enumText+","+o[q].promotionSASLName+","+o[q].messageText+","+o[q].promoUUID;var d="";d=com.faralam.custom_img_path+"ACTIVE.png";t+='<li><img id="promotion_drag_zone_active" class="before_dragging" ondragend="com.faralam.dragEnd_promotion(event)" ondragstart="com.faralam.dragStart_promotion(event)" onclick="com.faralam.SetPromoImageDesc(this)" status="ACTIVE" shareUrl="'+o[q].shareURL+'"  width="70" height="80" data-qtip='+o[q].promotionStatus+" params="+n+' src="'+o[q].url+'" promoUUID="'+o[q].promoUUID+'" promoId="'+o[q].promoPictureId+'" promoType="'+o[q].promotionType.enumText+'" promoTitle="'+o[q].promotionSASLName+'" imgUrl="'+o[q].url+'" promoDesc="'+o[q].messageText+'" ><div class="gallery_overlay"><span><img src="'+d+'" alt="" ondrop="com.faralam.drop_promotion(event)" ondragover="com.faralam.allowDrop_promotion(event)" /></span></div></li>'}else{if(o[q].promotionStatus=="PROPOSED"||o[q].promotionStatus=="APPROVED"){var d="";d=com.faralam.getImgStatus(o[q].promotionStatus);w+='<div id="inactive_promo_parent"><div id="inactive_promo_parent_first"><div id="inactive_promo_parent_img"><img id="promotion_drag_zone_inactive" class="before_dragging" ondragend="com.faralam.dragEnd_promotion(event)" ondragstart="com.faralam.dragStart_promotion(event)" onclick="com.faralam.SetPromoImageDesc(this)" status="'+o[q].promotionStatus+'" shareUrl="'+o[q].shareURL+'" promoId="'+o[q].promoPictureId+'" promoType="'+o[q].promotionType.enumText+'" promoTitle="'+o[q].promotionSASLName+'" imgUrl="'+o[q].url+'" promoDesc="'+o[q].messageText+'" promoUUID="'+o[q].promoUUID+'" src="'+o[q].url+'" width="60" height="80" data-qtip='+o[q].promotionStatus+'></div><div class="gallery_overlay1"><span><img src="'+d+'" alt="" /></span></div><div class="img_details_wrap"><p>'+o[q].promotionType.enumText+"</p><p>"+o[q].promotionSASLName+"</p><p>"+o[q].messageText+'</p></div><button id="'+o[q].promoUUID+'" class="promo_edit_btn" onclick="com.faralam.SetPromoImageDescEdit(this)" promoUUID="'+o[q].promoUUID+'" promoId="'+o[q].promoPictureId+'" promoType="'+o[q].promotionType.enumText+'" promoTitle="'+o[q].promotionSASLName+'" imgUrl="'+o[q].url+'" promoDesc="'+o[q].messageText+'" >Edit</button><button id="'+o[q].promoUUID+'" onclick="com.faralam.activate_promo(this);">Activate</button></div></div>';u++}}}if(h){Ext.getCmp("promo_show_image_type").setValue(h)}if(y){Ext.getCmp("promo_show_image_title").setValue(y)}if(g){Ext.getCmp("promo_show_image").setSrc(g)}if(e){Ext.getCmp("promo_textarea").setValue(e)}if(k){Ext.getCmp("promo_share_url").setValue(k);Ext.getCmp("promotion_share_btn").setDisabled(false)}if(first_promo_UUID){Ext.getCmp("promoUUID").setValue(first_promo_UUID)}if(t){t='<ul class="images">'+t+"</ul>"}else{t='<ul class="images" style="text-align:center;height:87px;"><li>No image(s) available</li></ul>'}if(w){w='<div id="inactive_promo_parent_container" style="max-height:266px;">'+w+"</div>";if(u==3){r={suppressScrollX:true,suppressScrollY:true}}}else{w='<div id="inactive_promo_parent_container" style="height:88px;text-align:center;padding:5px;background:#252525;">No image(s) available</div>';r={suppressScrollX:true,suppressScrollY:true}}}else{Ext.getCmp("promo_show_image").setSrc("");t='<ul class="images" style="text-align:center;height:87px;"><li>No image(s) available</li></ul>';w='<div id="inactive_promo_parent_container" style="height:88px;text-align:center;padding:5px;background:#252525;">No image(s) available</div>';r={suppressScrollX:true,suppressScrollY:true}}Ext.getCmp("slide_panel_promotion").update(t);Ext.getCmp("slide_panel1_promotion").update(w);$("div#slide_panel_promotion-innerCt").perfectScrollbar("destroy");$("div#slide_panel_promotion-innerCt").perfectScrollbar();$("div#inactive_promo_parent_container").perfectScrollbar("destroy");$("div#inactive_promo_parent_container").perfectScrollbar(r)};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_promo_info,"GET",{},b,a)};com.faralam.common.set_promo_image=function(d){var b=d.getAttribute("src");Ext.getCmp("promo_big_img").setSrc(b);var a=d.getAttribute("pid");var g=d.getAttribute("p_sa");Ext.getCmp("hid_promo_picture_id").setValue(a);Ext.getCmp("promo_picture_SA").setValue(g);Ext.getCmp("save_type").setValue("SAVED")};com.faralam.common.retrievePromoPictureMetadataBySA=function(){com.faralam.retrievePromoPictureMetadataBySA=com.faralam.serverURL+"promotions/retrievePromoPictureMetadataBySA";com.faralam.retrievePromoPictureMetadataBySA=com.faralam.retrievePromoPictureMetadataBySA+"?"+encodeURI("count=10&keyword=&serviceAccommodatorId="+sessionStorage.SA+"&startIndex=0&status=ALL");var b=function(d,k,h){console.log(d);var g='<div id="promo_sel_image_div">';if(d.length>0){for(var e=0;e<d.length;e++){g+='<img onClick="com.faralam.common.set_promo_image(this)" pid="'+d[e].promoPictureId+'" p_sa="'+d[e].serviceAccommodatorId+'" src="'+d[e].url+'" >'}g+="</div>"}console.log("html="+g);Ext.getCmp("promo_sel_image_sec").update(g);$("promo_sel_image_div").perfectScrollbar("destroy");$("promo_sel_image_div").perfectScrollbar()};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePromoPictureMetadataBySA,"GET",{},b,a)};com.faralam.SubmitPromotion=function(){com.faralam.submit_promotion=com.faralam.serverURL+"promotions/createWNewPictureURLNewMetaData";com.faralam.submit_promotion=com.faralam.submit_promotion+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={displayText:Ext.getCmp("promo_msg").getValue(),promotionType:Ext.getCmp("promo_type").getValue(),promotionSASLName:Ext.getCmp("promo_title").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,url:Ext.getCmp("promo_big_img").src};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Promotion Updated successfully.",function(){Ext.getCmp("promotion_modal").close();com.faralam.RetrievePromoInfo()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.submit_promotion,"POST",d,b,a)};com.faralam.common.createWRecyledPictureNewMetaData=function(){com.faralam.createWRecyledPictureNewMetaData=com.faralam.serverURL+"promotions/createWRecyledPictureNewMetaData";com.faralam.createWRecyledPictureNewMetaData=com.faralam.createWRecyledPictureNewMetaData+"?"+encodeURI("UID="+sessionStorage.UID);var d={promotionSASLName:Ext.getCmp("promo_title").getValue(),displayText:Ext.getCmp("promo_msg").getValue(),promotionType:Ext.getCmp("promo_type").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,displayLocation:{x:20,y:20},promoPictureId:Ext.getCmp("hid_promo_picture_id").getValue(),promoPictureServiceAccommodatorId:Ext.getCmp("promo_picture_SA").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Promotion Added successfully.",function(){com.faralam.RetrievePromoInfo();Ext.getCmp("promotion_modal").close()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.createWRecyledPictureNewMetaData,"POST",d,b,a)};com.faralam.SubmitPromotionEdit=function(){com.faralam.submit_promotion=com.faralam.serverURL+"promotions/updateWSamePictureModifiedMetaData";com.faralam.submit_promotion=com.faralam.submit_promotion+"?"+encodeURI("promoUUID="+Ext.getCmp("promoUUID").getValue()+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={displayLocation:{x:0,y:0},promotionSASLName:Ext.getCmp("promo_show_image_title").getValue(),displayText:Ext.getCmp("promo_textarea").getValue(),promotionType:Ext.getCmp("promo_show_image_type").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Promotion Updated successfully.",function(){com.faralam.RetrievePromoInfo()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.submit_promotion,"POST",d,b,a)};com.faralam.activate_promo=function(d){d.innerHTML="Processing...";com.faralam.activate_promo_sa_tier=com.faralam.serverURL+"promotions/activatePromotionSATier";com.faralam.activate_promo_sa_tier=com.faralam.activate_promo_sa_tier+"?"+encodeURI("promoUUID="+d.id+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(g,h,e){if(g.success){com.faralam.RetrievePromoInfo()}};var a=function(e,h,g){d.innerHTML="Activate"};com.faralam.common.sendAjaxRequest(com.faralam.activate_promo_sa_tier,"PUT",{},b,a)};com.faralam.SetPromoImageDesc=function(b){var a=b.getAttribute("status");var d=b.getAttribute("shareUrl");if(a=="ACTIVE"){Ext.getCmp("promotion_share_btn").setDisabled(false)}else{Ext.getCmp("promotion_share_btn").setDisabled(true)}Ext.getCmp("promo_share_url").setValue(d);Ext.getCmp("promoUUID").setValue(b.getAttribute("promoUUID"));Ext.getCmp("promo_picture_id").setValue(b.getAttribute("promoId"));Ext.getCmp("promo_show_image_type").setValue(b.getAttribute("promoType"));Ext.getCmp("promo_show_image_title").setValue(b.getAttribute("promoTitle"));Ext.getCmp("promo_show_image").setSrc(b.getAttribute("imgUrl"));Ext.getCmp("promo_textarea").setValue(b.getAttribute("promoDesc"));Ext.getCmp("promo_meta_edit_btn").hide()};com.faralam.SetPromoImageDescEdit=function(a){Ext.getCmp("promoUUID").setValue(a.getAttribute("promoUUID"));Ext.getCmp("promo_picture_id").setValue(a.getAttribute("promoId"));Ext.getCmp("promo_show_image_type").setValue(a.getAttribute("promoType"));Ext.getCmp("promo_show_image_title").setValue(a.getAttribute("promoTitle"));Ext.getCmp("promo_show_image").setSrc(a.getAttribute("imgUrl"));Ext.getCmp("promo_textarea").setValue(a.getAttribute("promoDesc"));Ext.getCmp("promo_meta_edit_btn").show()};com.faralam.ResetPromoImageDesc=function(a){Ext.getCmp("promoUUID").setValue("");Ext.getCmp("promo_picture_id").setValue("");Ext.getCmp("promo_show_image_type").setValue("");Ext.getCmp("promo_show_image_title").setValue("");Ext.getCmp("promo_show_image").setSrc("");Ext.getCmp("promo_textarea").setValue("");Ext.getCmp("promo_meta_edit_btn").hide()};com.faralam.common.RemovePromotionImage=function(a){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete the selected image?",function(g){if(g=="yes"){com.faralam.remove_image_promotion=com.faralam.serverURL+"promotions/deActivatePromotionSATier";com.faralam.remove_image_promotion=com.faralam.remove_image_promotion+"?"+encodeURI("promoUUID="+a+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d=function(h,k,e){Ext.MessageBox.alert("Success","The selected image deleted successfully",function(){com.faralam.ResetPromoImageDesc();com.faralam.RetrievePromoInfo()})};var b=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.remove_image_promotion,"PUT",{},d,b)}})};com.faralam.drop_promotion=function(d){d.preventDefault();var a=d.dataTransfer.getData("Text");if(d.target.id=="drop_element_promotion"){if(a=="promotion_drag_zone_active"||a=="promotion_drag_zone_inactive"){var b=d.dataTransfer.getData("promoUUID");com.faralam.common.RemovePromotionImage(b)}}};com.faralam.allowDrop_promotion=function(a){a.preventDefault()};com.faralam.dragStart_promotion=function(a){if(a.target.id=="promotion_drag_zone_active"||a.target.id=="promotion_drag_zone_inactive"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("promoUUID",a.target.getAttribute("promoUUID"));a.target.className="after_dragging";com.faralam.fire_count=0}};com.faralam.dragEnd_promotion=function(a){a.target.className="before_dragging"};com.faralam.common.open_promotion_share_sec=function(){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b=Ext.getCmp("promo_share_url").getValue();var a=Ext.getCmp("promoUUID").getValue();var g;if(Ext.getCmp("sharepromotion_modal")){var e=Ext.getCmp("sharepromotion_modal");e.destroy(e,new Object())}if(!g){var d=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},style:"background: #324F85 !important; width:850px !important;",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:1,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:850px !important;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",style:"width:850px !important;",items:[{xtype:"container",margin:"0 0 0 0",layout:"hbox",style:"width:850px !important;",items:[{xtype:"displayfield",value:'<h4 style="color: #fff;">Share URL</h4> ',width:200,style:"text-align: left;"},{xtype:"component",width:600,id:"mobile_url_promotion",margin:"0 0 0 0",html:'<span style="color:#fff;font-family: arial !important;font-size: 14px;">'+b+"</span>",style:"text-align:left;"}]},{xtype:"component",height:40,width:845,margin:"10 0 10 0",html:'<table><tr><td style="width:180px;"><h4 style="color: #fff; width:135px;">Via Social Network</h4></td><td><a href="https://twitter.com/share?url='+encodeURIComponent(b)+'" target="_blank"><img id="tweet_btn_PollContest" src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" width="90" height="28" style="float: left; margin-left:20px;"></a></td><td><a href="https://www.facebook.com/sharer.php?u='+encodeURIComponent(b)+'" target="_blank"><img id="fb_btn_PollContest" src="'+com.faralam.custom_img_path+'/share_button.png" width="90" height="30" style="margin-left:30px;"></a></td></tr></table>'},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,id:"share_sms_promotion",fieldLabel:"Send URL to Mobile",name:"share_sms",allowBlank:true,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter mobile number",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",minValue:0,minLength:10,maxLength:14,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{keydown:function(l,m,k){}}},{xtype:"button",text:'<span style="color:#fff;">Send Text Msg</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("share_sms_promotion").getValue();if(k&&k!=""){var l=Ext.getCmp("shareEmailSMS_access_mode").getValue();if(l===true){com.faralam.common.sendPromoURLToMobileviaSMS(k,a)}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid mobile no.")}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"share_email_promotion",fieldLabel:"Send URL to E-Mail",name:"share_email_promotion",allowBlank:true,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter email address",labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;"},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("share_email_promotion").getValue();if(k&&k!=""){var l=Ext.getCmp("shareEmailSMS_access_mode").getValue();if(l===true){com.faralam.common.sendPromoURLToEmail(k,a)}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid email address.")}}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"share_email_err",id:"share_email_err_PollContest",fieldLabel:"&nbsp;",margin:"0 0 0 10",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px; text-align:center !important">"I certify that the recipient has agreed to receive this Text/E-Mail message"</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"shareEmailSMS_access_mode",id:"shareEmailSMS_access_mode",listeners:{click:{element:"el",fn:function(){var k=Ext.getCmp("shareEmailSMS_access_mode").getValue();if(k===true){Ext.get("shareEmailSMS_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("shareEmailSMS_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("shareEmailSMS_access_mode-inputEl").removeCls("active_checkbox");Ext.get("shareEmailSMS_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]}]}]}]}]});g=Ext.widget("window",{id:"sharepromotion_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:850,style:"background: #324F85 !important; border: 3px solid #000 !important;",items:d,listeners:{close:function(){d.getForm().reset(true)},show:function(){}}})}g.show()};com.faralam.common.sendPromoURLToMobileviaSMS=function(e,d){var g=com.faralam.serverURL;g+="html/sendPromoURLToMobileviaSMS?"+encodeURI("UID="+sessionStorage.UID+"&promoUUID="+d+"&toTelephoneNumber="+e+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(k,l,h){Ext.MessageBox.alert("Success","Send successfully.",function(){Ext.getCmp("share_sms_promotion").setValue("")})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(g,"GET",{},b,a)};com.faralam.common.sendPromoURLToEmail=function(g,d){var h=com.faralam.serverURL;h+="html/sendPromoURLToEmail?"+encodeURI("UID="+sessionStorage.UID+"&promoUUID="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&toEmail="+g);console.log(h);var b=function(l,m,k){Ext.MessageBox.alert("Success","Send successfully.",function(){Ext.getCmp("share_email_promotion").setValue("")})};var a=function(k,m,l){};var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!e.test(g)){Ext.MessageBox.alert("Information","Please enter a valid email.")}else{com.faralam.common.sendAjaxRequest(h,"GET",{},b,a)}};com.faralam.common.AddNewPromotion=function(){var d;var g='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';if(Ext.getCmp("promotion_modal")){var b="";var e=Ext.getCmp("promotion_modal");e.destroy(e,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"common_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",layout:{type:"table",columns:2,tableAttrs:{style:{width:"100%"}}},items:[{xtype:"container",layout:"vbox",width:620,height:500,items:[{xtype:"button",scale:"medium",text:"Upload New Picture",tdAttrs:{style:{width:"30%",background:"#2E4E87"}},style:"margin:0 auto;",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/promo_crop.html")}},{xtype:"container",width:600,height:150,style:"border:1px solid white;margin-top:10px",id:"promo_sel_image_sec",html:""},{xtype:"container",width:600,height:250,style:"border:none;margin-top:10px;padding: 41px 0 0 89px;",id:"",html:'<h3 style="color:#fff">To Add a New Promotion</h3><ol type="1" style="width:500px;color:#fff;font-family: Comic Sans MS;font-size: 15px;"><li>Select an existing picture or upload a new picture.</li><li>Add a title.</li><li>Add some description.</li><li>Choose type.</li><li>Click submit.</li></ol>'},{xtype:"hiddenfield",id:"hid_promo_picture_id",value:""},{xtype:"hiddenfield",id:"promo_picture_SA",value:""},{xtype:"hiddenfield",id:"save_type",value:""}]},{xtype:"container",style:"height: 428px;width:280px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",padding:"5 10 5 10",style:{border:"1px solid #fff;"},items:[{xtype:"textfield",emptyText:"(Title)",inputWidth:240,margin:"10 0 0 0",name:"",value:"",id:"promo_title",allowBlank:false},{xtype:"combo",fieldLabel:"",name:"promo_type",id:"promo_type",inputWidth:240,queryMode:"local",emptyText:"Select promo type",displayField:"value",valueField:"value1",autoSelect:true,margin:"10 0 0 0",forceSelection:true,editable:false,allowBlank:false,afterLabelTextTpl:g,store:Ext.create("Ext.data.ArrayStore",{fields:["value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(l){var h=[];var k=0;Ext.each(l,function(m){h.push([]);h[k].push(new Array(1));h[k]["value"]=m.displayText;h[k]["value1"]=m.enumText;k=k+1});l=h;return l}}}})},{xtype:"image",width:240,height:190,src:"",style:"border: 1px solid #fff;margin: 3px 0 0 0;",id:"promo_big_img"},{xtype:"textareafield",emptyText:"(Description)",name:"",margin:"2px 0 0 0",value:"",width:240,height:130,id:"promo_msg",allowBlank:false},{xtype:"container",defaultType:"button",width:280,style:"text-align:center;",margin:"5 0 0 0",items:[{text:'<span style="color:#000 !important;">Cancel</span>',style:"background:#ccc !important; border:2px solid #000 !important;",margin:"5 0 0 10",handler:function(){a.getForm().reset(true);Ext.getCmp("promotion_modal").close()}},{text:'<span style="color:#000 !important;">Submit</span>',style:"background:#374B86 !important; border:2px solid #000 !important;",id:"summery_message",margin:"5 0 0 10",handler:function(){var n=Ext.getCmp("promo_title").getValue();var h=Ext.getCmp("promo_type").getValue();var m=Ext.getCmp("promo_big_img").src;var l=Ext.getCmp("promo_msg").getValue();if(n.trim()==""){Ext.MessageBox.alert("Error","please Add title")}else{if(!h||h==null){Ext.MessageBox.alert("Error","Please choose type")}else{if(m==""){Ext.MessageBox.alert("Error","Please add image before saving")}else{if(l==""){Ext.MessageBox.alert("Error","Please add message")}else{var k=Ext.getCmp("save_type").getValue();if(k=="SAVED"){com.faralam.common.createWRecyledPictureNewMetaData()}if(k=="NEW"){com.faralam.SubmitPromotion()}}}}}}}]}]}]}]}]});d=Ext.widget("window",{title:"Add Promotion",id:"promotion_modal",closeAction:"destroy",layout:"fit",resizable:false,modal:true,width:980,height:550,items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){com.faralam.common.retrievePromoPictureMetadataBySA()}}});Ext.getCmp("promo_type").setValue("");Ext.getCmp("promo_type").getStore().removeAll();Ext.getCmp("promo_type").getStore().proxy.url=com.faralam.serverURL+"promotions/getPromotionTypes";Ext.getCmp("promo_type").getStore().reload()}d.show()};com.faralam.HourMinute=function(e){var g=e.split(" ");var a=g[0].split(":");var d,b;if(g[1]=="PM"){if(parseInt(a[0])<12){d=parseInt(a[0])+12}else{d=a[0]}b=a[1]}else{if(g[1]=="AM"){d=a[0];b=a[1]}}return d+","+b};com.faralam.updateShiftTimeSlotPolicies=function(e,J){var w=1;var N=1;com.faralam.updateClassTimeSlotPolicies=com.faralam.serverURL+"reservations/updateShiftTimeSlotPolicies";com.faralam.updateClassTimeSlotPolicies=com.faralam.updateClassTimeSlotPolicies+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+e+"&serviceLocationId="+J+"&floorId="+w+"&tierId="+N);var g=Ext.getCmp("open_hrs_grid").getStore().data;day_data={};var q=1;var b=new Array();var d=["sun","mon","tue","wed","thu","fri","sat"];var I=["sunday","monday","tuesday","wednesday","thusday","friday","saturday"];for(var G=0;G<Ext.getCmp("promotion_shift_policy_count").getValue();G++){var r=""+G+"";val="open"+r;val1="close"+r;week_data={};var z=false;for(var F=0;F<d.length;F++){if(z==false){if(g.items[F].data.holiday){var t=-2;var P=-2}else{var t=-1;P=-1}if(g.items[F].data[""+val+""]&&g.items[F].data[""+val1+""]){var D=g.items[F].data[""+val+""].replace(":",",").replace(" ",",");var h=D.split(",");if(h.length<3){z=true;Ext.MessageBox.alert("Error","Please Enter in valid format"+I[F]);break}if(isNaN(h[0])||isNaN(h[1])){z=true;Ext.MessageBox.alert("Error","The Value of Hour and munite are should be numeric on start time on "+I[F]);break}if(parseInt(h[0])<0||parseInt(h[1])<0){z=true;Ext.MessageBox.alert("Error","Hours and seconds of start time can not be negative on "+I[F]);break}console.log("start="+h[2]);if(h[2]!="AM"&&h[2]!="PM"){z=true;Ext.MessageBox.alert("Error","Please enter either AM or PM on start time of "+I[F]);break}var u=g.items[F].data[""+val1+""].replace(":",",").replace(" ",",");u=u.trim();var u=u.split(",");if(u.length<3){z=true;Ext.MessageBox.alert("Error","Please Enter in valid format"+I[F]);break}if(isNaN(u[0])||isNaN(u[1])){z=true;Ext.MessageBox.alert("Error","The Value of Hour and munite are should be numeric on end time on "+I[F]);break}if(parseInt(u[0])<0||parseInt(u[1])<0){z=true;Ext.MessageBox.alert("Error","Hours and seconds of end time can not be negative on "+I[F]);break}console.log("end="+u[2]);if(u[2]!="AM"&&u[2]!="PM"){z=true;Ext.MessageBox.alert("Error","Please enter either AM or PM on endtime of "+I[F]);break}var B=com.faralam.HourMinute(g.items[F].data[""+val+""]).split(",");var O=parseInt(B[0]);var K=parseInt(B[1]);var C=com.faralam.HourMinute(g.items[F].data[""+val1+""]).split(",");var A=parseInt(C[0]);var y=parseInt(C[1]);var l=parseFloat(O+"."+K);var k=parseFloat(A+"."+y);if(O<0||O>23||K<0||K>59){z=true;Ext.MessageBox.alert("Error","Invalid opening time format on "+I[F]);break}else{if(A<0||A>23||y<0||y>59){z=true;Ext.MessageBox.alert("Error","Invalid closing time format on "+I[F]);break}else{if(l>=k){z=true;Ext.MessageBox.alert("Error","Opening time can not be greater or equal than  closing time on "+I[F]);break}}}day_data[d[F]]={reservationType:"PSEUDO",forEditorShiftId:G+1,timeRange:{isExpired:false,openingDays:[d[F].toUpperCase()],expirationDate:null,temporalPriority:"DAY",openingHours:{startClock:{minute:K,hour:O},endClock:{minute:y,hour:A}},activationDate:null},maxHeadCountPerSeat:t,timeSlotType:"FIXED_60MIN_INTERVALS",maxSeatCount:P,forEditorDayId:d[F].toUpperCase()}}else{day_data[d[F]]=null}}}week_data.weekDayPolicies=day_data;week_data.shiftId=q;b.push(week_data);q++}if(g.items.length>7){for(var G=0;G<Ext.getCmp("promotion_shift_policy_count").getValue();G++){var r=""+G+"";val="open"+r;val1="close"+r;if(g.items[7].data[""+val+""]&&g.items[7].data[""+val1+""]){var B=com.faralam.HourMinute(g.items[7].data[""+val+""]).split(",");var O=B[0];var K=B[1];var C=com.faralam.HourMinute(g.items[7].data[""+val1+""]).split(",");var A=C[0];var y=C[1];var o=new Date(g.items[7].data.day);x={forEditorShiftId:1,forEditorDayId:null,reservationType:"PSEUDO",timeSlotType:"FIXED_60MIN_INTERVALS",maxSeatCount:10,maxHeadCountPerSeat:4,timeRange:{activationDate:Ext.Date.format(o,"Y-m-d"),expirationDate:Ext.Date.format(o,"Y-m-d"),openingHours:{startClock:{hour:O,minute:K},endClock:{hour:A,minute:y}},openingDays:["SUN","MON","TUE","WED","THU","FRI","SAT"],isExpired:false,temporalPriority:"DATE"}}}}if(x){var x=[x]}else{var x=null}}else{var x=null}datam={};datam.datePolicies=x;datam.shiftPolicies=b;data=JSON.stringify(datam);var E=function(n,R,m){if(n.success){Ext.MessageBox.alert("Success","Updated successfully.",function(){com.faralam.common.retrieveClassTimeSlotPolicies(e,J);Ext.getCmp("open_hrs_toggle").setText('<span style="color:#fff;">Edit</span>')})}};var a=function(m,R,n){};if(z==false){com.faralam.common.sendAjaxRequest(com.faralam.updateClassTimeSlotPolicies,"PUT",data,E,a)}};com.faralam.common.retrieveClassTimeSlotPolicies=function(g,e){var h=1;var d=1;com.faralam.retrieveClassTimeSlotPolicies=com.faralam.serverURL+"sasl/retrieveShiftTimeSlotPolicies";com.faralam.retrieveClassTimeSlotPolicies=com.faralam.retrieveClassTimeSlotPolicies+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+g+"&serviceLocationId="+e+"&floorId="+h+"&tierId="+d);var b=function(N,t,D){Ext.getCmp("promotion_shift_policy_count").setValue(N.shiftPolicies.length);Ext.getCmp("open_hrs_toggle").setText('<span style="color:#fff;">Edit</span>');if(Object.keys(N.shiftPolicies).length>0){var r=new Array();var B=new Array();var l=new Array();var q=["sun","mon","tue","wed","thu","fri","sat"];r.push({menuDisabled:true,xtype:"actioncolumn",sortable:false,width:50,items:[{getClass:function(m,R,T,U,n,k){if(T.get("day")){var S=""+T.get("day")+"";if(q.indexOf(S.toLowerCase())==-1){return"sell-col"}else{return""}}else{return""}},getTip:function(k,m,R){if(R.get("day")){var n=""+R.get("day")+"";if(q.indexOf(n.toLowerCase())==-1){return"Delete"}else{return""}}else{return""}},handler:function(m,n,k){m.getStore().remove(m.getStore().getRange()[7]);com.faralam.common.getUserAndCommunity(sessionStorage.active_tab,"edit")}}]},{header:"Day",dataIndex:"day",width:165,align:"center",sortable:false,getEditor:function(n){var k=new Ext.create("Ext.grid.CellEditor",{field:Ext.create("Ext.form.DateField",{format:"M d Y",style:"background-color: #000 !important;"})});if(n.get("day")){var m=""+n.get("day")+"";if(q.indexOf(m.toLowerCase())==-1){return k}}else{return k}}},{header:"Holiday",xtype:"checkcolumn",dataIndex:"holiday",width:165,align:"center",sortable:false,listeners:{checkchange:function(n,R,m,k){if(Ext.getCmp("open_hrs_toggle").getText()=='<span style="color:#fff;">Edit</span>'){Ext.getCmp("open_hrs_toggle").setText('<span style="color:#fff;">Save</span>')}},beforecheckchange:function(n,R,m,k){if(R==7){return false}}}});B.push({name:"day"},{name:"holiday"});for(var I=0;I<Object.keys(N.shiftPolicies).length;I++){r.push({header:N.shiftPolicies[I].shiftId+" Shift",columns:[{header:"Open",dataIndex:"open"+I,align:"center",renderer:function(T,n,m,U,S,R,k){if(m.get("holiday")==true){n.tdAttr='style="background-color:#9CA19E;color:#9CA19E;"'}return T},field:{type:"textfield",style:"background-color: #000 !important;"}},{header:"Close",dataIndex:"close"+I,align:"center",renderer:function(T,n,m,U,S,R,k){if(m.get("holiday")==true){n.tdAttr='style="background-color:#9CA19E;color:#9CA19E;"'}return T},field:{type:"textfield",style:"background-color: #000 !important;"}}]});B.push({name:"open"+I},{name:"close"+I})}for(var F=0;F<q.length;F++){var y={};y.day=q[F].toUpperCase();var O=[];for(var I=0;I<Object.keys(N.shiftPolicies).length;I++){if(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""]){if(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].maxSeatCount=="-2"&&N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].maxHeadCountPerSeat=="-2"){O.push(true)}else{O.push(false)}C=com.faralam.TimeSlot(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].timeRange.openingHours.startClock.hour).split(",");min=com.faralam.MinuteSlot(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].timeRange.openingHours.startClock.minute);y["open"+I]=C[0]+":"+min+" "+C[1];C=com.faralam.TimeSlot(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].timeRange.openingHours.endClock.hour).split(",");min=com.faralam.MinuteSlot(N.shiftPolicies[I].weekDayPolicies[""+q[F]+""].timeRange.openingHours.endClock.minute);y["close"+I]=C[0]+":"+min+" "+C[1]}else{O.push(false);y["open"+I]="";y["close"+I]=""}}if(O.AllValuesSame()){y.holiday=true}else{y.holiday=false}l.push(y)}if(N.datePolicies){Ext.getCmp("promotion_date_policy").setValue("1");if(N.datePolicies.length>0){var z=new Date(N.datePolicies[0].timeRange.activationDate);var C=N.datePolicies[0].timeRange.activationDate.split("-");var E=N.datePolicies[0].timeRange.expirationDate.split("-");var o=E[2]-C[2];for(var F=0;F<o+1;F++){var x=N.datePolicies[0].timeRange.activationDate.split("-");var J=parseInt(x[2])+F;J=("0"+J).slice(-2);var u=("0"+(z.getMonth())).slice(-2);var A=""+z.getFullYear()+"";var K=A+"-"+u+"-"+J;var G=new Date(K);var y={};for(var I=0;I<Object.keys(N.datePolicies).length;I++){C=com.faralam.TimeSlot(N.datePolicies[I].timeRange.openingHours.startClock.hour).split(",");min=com.faralam.MinuteSlot(N.datePolicies[I].timeRange.openingHours.startClock.minute);y["open"+I]=C[0]+":"+min+" "+C[1];C=com.faralam.TimeSlot(N.datePolicies[I].timeRange.openingHours.endClock.hour).split(",");min=com.faralam.MinuteSlot(N.datePolicies[I].timeRange.openingHours.endClock.minute);y["close"+I]=C[0]+":"+min+" "+C[1];y.day=Ext.Date.format(G,"M d Y");l.push(y)}}}else{Ext.getCmp("promotion_date_policy").setValue("0");var P=1;for(var F=0;F<P;F++){var y={};for(var I=0;I<Object.keys(N.shiftPolicies).length;I++){y["open"+I]="";y["close"+I]="";y.day=""}l.push(y)}}}else{Ext.getCmp("promotion_date_policy").setValue("0");var P=1;for(var F=0;F<P;F++){var y={};for(var I=0;I<Object.keys(N.shiftPolicies).length;I++){y["open"+I]="";y["close"+I]="";y.day=""}l.push(y)}}var w=Ext.create("Ext.data.Store",{fields:B,data:l});Ext.getCmp("open_hrs_grid").reconfigure(w,r)}else{Ext.getCmp("open_hrs_toggle").setDisabled(true)}};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveClassTimeSlotPolicies,"GET",{},b,a)};com.faralam.TimeSlot=function(b){var a,d;if(parseInt(b)>12){a=parseInt(b)-12;d="PM"}else{if(parseInt(b)==0){a="12";d="AM"}else{a=b;d="AM"}}var e=""+a+"";if(e.length==1){a="0"+a}return a+","+d};com.faralam.MinuteSlot=function(a){if(a==0){a="00"}else{var b=""+a+"";if(b.length==1){a="0"+a}}return a};com.faralam.ChangeUserID=function(e,d){com.faralam.change_user_id=com.faralam.serverURL+"authentication/changeUserId";com.faralam.change_user_id=com.faralam.change_user_id+"?"+encodeURI("UID="+sessionStorage.UID+"&newUserId="+e+"&password="+d);var b=function(h,k,g){Ext.MessageBox.alert("Success","You have successfully changed your UserId",function(){Ext.getCmp("win").close()});Ext.getCmp("settings_user_id").setValue(h.userName);Ext.getCmp("settings_user_id_hidden").setValue(h.userName)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.change_user_id,"PUT",{},b,a)};com.faralam.ChangeEmail=function(e,d){com.faralam.change_email=com.faralam.serverURL+"authentication/changeEmail";com.faralam.change_email=com.faralam.change_email+"?"+encodeURI("UID="+sessionStorage.UID+"&newEmail="+e+"&password="+d);var b=function(h,k,g){Ext.MessageBox.alert("Success","You have successfully changed your Email",function(){Ext.getCmp("win1").close()});Ext.getCmp("settings_email_id").setValue(h.email);Ext.getCmp("settings_email_hidden").setValue(h.email)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.change_email,"PUT",{},b,a)};com.faralam.ChangePassword=function(d,e){com.faralam.change_password=com.faralam.serverURL+"authentication/changePassword";com.faralam.change_password=com.faralam.change_password+"?"+encodeURI("UID="+sessionStorage.UID+"&oldPassword="+d+"&newPassword="+e);var b=function(h,k,g){Ext.MessageBox.alert("Success","You have successfully changed your Password",function(){if(Ext.getCmp("win2")){Ext.getCmp("win2").close()}})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.change_password,"PUT",{},b,a)};com.faralam.is_friendly_url_available=function(d,e){if(e=="edit"){Ext.getCmp("edit_custom_url_msg").setValue("<span>&nbsp;</span>")}else{Ext.getCmp("custom_url_msg").setValue("<span>&nbsp;</span>")}com.faralam.friendly_url=com.faralam.serverURL+"sasl/isFriendlyURLAvailable/";com.faralam.friendly_url=com.faralam.friendly_url+"?"+encodeURI("friendlyURL="+d);var b=function(h,k,g){if(h.success){if(e=="edit"){Ext.getCmp("edit_custom_url_msg").setValue('<span style="color:green;">Friendly URL Available</span>');Ext.getCmp("edit_hidden_field_for_friendly_url").setValue("0")}else{Ext.getCmp("custom_url_msg").setValue('<span style="color:green;">Friendly URL Available</span>');Ext.getCmp("hidden_field_for_friendly_url").setValue("0")}}else{if(e=="edit"){Ext.getCmp("edit_custom_url_msg").setValue('<span style="color:#CF4C35;">Friendly URL already exists</span>');Ext.getCmp("edit_hidden_field_for_friendly_url").setValue("1")}else{Ext.getCmp("custom_url_msg").setValue('<span style="color:#CF4C35;">Friendly URL already exists</span>');Ext.getCmp("hidden_field_for_friendly_url").setValue("1")}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.friendly_url,"GET",{},b,a)};com.faralam.ChangeMobileNumber=function(e,d){com.faralam.change_mobile_number=com.faralam.serverURL+"authentication/changePhonenumber";com.faralam.change_mobile_number=com.faralam.change_mobile_number+"?"+encodeURI("UID="+sessionStorage.UID+"&newPhonenumber="+e+"&password="+d);var b=function(h,k,g){Ext.MessageBox.alert("Success","You have successfully changed your mobile number",function(){Ext.getCmp("win4").close()});Ext.getCmp("settings_mobile_number").setValue(h.phoneNumber);Ext.getCmp("settings_mobile_number_hidden").setValue(h.phoneNumber)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.change_mobile_number,"PUT",{},b,a)};com.faralam.DeleteAccount=function(){com.faralam.delete_account=com.faralam.serverURL+"authentication/deleteAccount";com.faralam.delete_account=com.faralam.delete_account+"?"+encodeURI("UID="+sessionStorage.UID);var b=function(e,g,d){Ext.MessageBox.alert("Success","You have successfully deleted your account",function(){Ext.getCmp("win3").close();com.faralam.UserLogOut()})};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.delete_account,"PUT",{},b,a)};com.faralam.shareAppByEmail=function(d){com.faralam.activate_shareAppByEmail=com.faralam.serverURL+"html/sendAppURLForSASLToEmail";com.faralam.activate_shareAppByEmail=com.faralam.activate_shareAppByEmail+"?"+encodeURI("UID="+sessionStorage.UID+"&toEmail="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(g,h,e){if(g.success){if(g.success){Ext.MessageBox.alert("Success","Send successfully.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_shareAppByEmail,"GET",{},b,a)};com.faralam.shareAppBySMS=function(d){com.faralam.activate_shareAppBySMS=com.faralam.serverURL+"html/sendAppURLForSASLToMobileviaSMS";com.faralam.activate_shareAppBySMS=com.faralam.activate_shareAppBySMS+"?"+encodeURI("UID="+sessionStorage.UID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(g,h,e){if(g.success){if(g.success==true){Ext.MessageBox.alert("Success","Send successfully.")}if(g.success==false){Ext.MessageBox.alert("Error",g.explanation)}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_shareAppBySMS,"GET",{},b,a)};com.faralam.shareAppURL=function(){com.faralam.activate_shareAppURL=com.faralam.serverURL+"html/sendSupportEmail";com.faralam.activate_shareAppURL=com.faralam.activate_shareAppURL+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var d={topic:"Technical Related Questions",description:Ext.getCmp("describe_problem").getValue(),subject:Ext.getCmp("subject").getValue(),replyToEmail:Ext.getCmp("replyEmail").getValue()};d=JSON.stringify(d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Support Request Send successfully.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_shareAppURL,"POST",d,b,a)};com.faralam.common.copyCarouselHTML=function(e,d){com.faralam.get_CarouselHTML_code=com.faralam.serverURL+"html/retriveCarouselHTMLBySASL";com.faralam.get_CarouselHTML_code=com.faralam.get_CarouselHTML_code+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(h,k,g){if(h){Ext.getCmp("hiddenHtmlCode").setValue(h)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_CarouselHTML_code,"GET",{},b,a)};com.faralam.sendEmailHTMLApp=function(){com.faralam.activate_sendEmailHTMLApp=com.faralam.serverURL+"html/sendEmailHTMLBySASL";com.faralam.activate_sendEmailHTMLApp=com.faralam.activate_sendEmailHTMLApp+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var d={emailSubject:Ext.getCmp("hiddenHtmlCode").getValue(),emailTo:Ext.getCmp("send_gallery_email").getValue()};d=JSON.stringify(d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Send successfully.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_sendEmailHTMLApp,"POST",d,b,a)};com.faralam.common.getBrandedCard=function(b,a){Ext.getCmp("cardImg").setSrc(com.faralam.serverURL+"html/getSASLCoBrandedCardJPG?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&emailTo="+Ext.getCmp("send_gallery_email").getValue())};com.faralam.supportApp=function(){com.faralam.activate_supportApp=com.faralam.serverURL+"html/sendSupportEmail";com.faralam.activate_supportApp=com.faralam.activate_supportApp+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var d={description:Ext.getCmp("describe_problem").getValue(),subject:Ext.getCmp("subject").getValue(),replyToEmail:Ext.getCmp("replyEmail").getValue()};d=JSON.stringify(d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Support Request Send successfully.");Ext.getCmp("main_tab").down("#start_screen").setDisabled(false);Ext.getCmp("main_tab").down("#SupportSection").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(4)}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_supportApp,"POST",d,b,a)};com.faralam.common.updateServiceStatus=function(d){com.faralam.activate_updateServiceStatus=com.faralam.serverURL+"liveupdate/updateServiceStatus";com.faralam.activate_updateServiceStatus=com.faralam.activate_updateServiceStatus+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&statusID="+d);var b=function(e,h,g){if(e.success){}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.activate_updateServiceStatus,"PUT",{},b,a)};com.faralam.retrieve_catalog_metadata=function(e,d){com.faralam.get_catalog_metadata=com.faralam.serverURL+"promotions/getPromotionMetaDataPortalByPromoUUID";com.faralam.get_catalog_metadata=com.faralam.get_catalog_metadata+"?"+encodeURI("UID="+sessionStorage.UID+"&promoUUID="+e);var b=function(k,l,h){var g=k;Ext.getCmp("promo_add_text"+d).setValue(g.displayText);Ext.getCmp("promo_identifier"+d).setValue(g.promotionSASLName);Ext.getCmp("promo_type"+d).setValue(g.promotionType.enumText);Ext.getCmp("promo_valid_days"+d).setValue({valid_day:g.classTimeSlotPolicyEntry.timeRange.openingDays});Ext.getCmp("thumb_img"+d).setSrc(com.faralam.serverURL+"promotions/retrievePictureJPGByPromoUUID?promoUUID="+e);Ext.getCmp("big_img"+d).setSrc(com.faralam.serverURL+"promotions/retrievePictureJPGByPromoUUID?promoUUID="+e);Ext.getCmp("promouuid"+d).setValue(e)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_catalog_metadata,"GET",{},b,a)};com.faralam.common.retrieveCatalog_func=function(d){com.faralam.retrieveCatalog_func=com.faralam.serverURL+"retail/retrieveCatalog";com.faralam.retrieveCatalog_func=com.faralam.retrieveCatalog_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&catalogId="+d);var b=function(h,n,m){var l="";var e=new Array();if(h.groups.length>0){for(var k=0;k<h.groups.length;k++){l+='<li class="catalog_li groups_in_catalog_menu_li_set" id="groupsincatalog_list_'+k+'" style="background-color:#f6f6ff;border:1px solid #ffffdc; width: 98%;margin-left: 1%;border-radius:3px"><img grincat="groupsincatalog_list_'+k+'" id="groupList_catalog_drag_zone_active" class="before_dragging" ondragend="com.faralam.dragEnd_catalog(event)" ondragstart="com.faralam.dragStart_catalog(event)" onclick="com.faralam.SetCalatogGroupDescEdit(this)" groupId="'+h.groups[k].groupId+'" style="height: 30px;left: 0;opacity: 0;position: absolute;top: 0;width: 200px;" src="'+com.faralam.custom_img_path+'trans_img.jpg"><span style="color:#000 !important;width:99%;height:30px;">'+h.groups[k].groupDisplayText+'</span><img class="edit_catalog_icon" onclick="com.faralam.SetCalatogGroupDescEditWindow(this)" groupId="'+h.groups[k].groupId+'" groupDisplayText="'+h.groups[k].groupDisplayText+'" description="'+h.groups[k].description+'" src="'+com.faralam.custom_img_path+'icon_pencil.png" width="25" height="26" border="0"><img class="move_catalog_icon" catalogId="'+h.catalogId+'" groupId="'+h.groups[k].groupId+'" ondragend="com.faralam.dragEnd_catalog(event)" id="groupList_catalog_drag_zone_move_active" ondragstart="com.faralam.dragStart_catalog(event)" onclick="com.faralam.SetCalatogGroupMove(this)" src="'+com.faralam.custom_img_path+'icon_move.png" width="25" height="26" border="0" style="cursor:move;z-index:999;height: 26px;position: absolute;right: 10px;top: 2px;width: 25px;border:none;"></li><li class="catalog_li" style="height: 8px;padding: 0;"><img id="groupList_catalog_drag_zone_middlebar_active" class="before_dragging" ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" groupId="'+h.groups[k].groupId+'" style="height: 8px;left: 0;position: absolute;top: 0;width: 270px;border:none;" src="'+com.faralam.custom_img_path+'trans_img.jpg"></li>'}}if(l){l='<div id="group_list_parent_container" style="max-height: 120px;"><ul style="text-align:left;height:120px;margin-top: 5px;">'+l+'</ul></div><div class="drop_here_div_middle_panel">Drop group here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_Group_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_middle_panel"></div>';if(count==3){e={suppressScrollX:true,suppressScrollY:true}}}else{l='<div id="group_list_parent_container" style="max-height: 120px;"><ul style="text-align:center;height:120px;"><li class="catalog_li">No group(s) available</li></ul></div><div class="drop_here_div_middle_panel">Drop group here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_Group_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_middle_panel"></div>';e={suppressScrollX:true,suppressScrollY:true}}var g='<ul style="text-align:left;height: 250px;"><li class="catalog_li">No item(s) available</li></ul><div class="drop_here_div_right_panel">Drop item here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_itemGroup_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_right_panel"></div>';Ext.getCmp("catalog_group_panel").update(l);Ext.getCmp("catalog_itemGroup_panel").update(g);$("div#group_list_parent_container").perfectScrollbar("destroy");$("div#group_list_parent_container").perfectScrollbar(e)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveCatalog_func,"GET",{},b,a)};com.faralam.common.retrieveCatalogs_func=function(){com.faralam.retrieveCatalogs_func=com.faralam.serverURL+"retail/retrieveCatalogs";com.faralam.retrieveCatalogs_func=com.faralam.retrieveCatalogs_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(e,l,k){var h="";var d=new Array();if(e.length>0){for(var g=0;g<e.length;g++){h+='<li class="catalog_li menu_list_li_set_bg" id="menu_li_'+g+'" style="background-color:#f6f6ff;border:1px solid #ffffdc; width: 98%;margin-left: 1%;border-radius:3px"><img mnid="menu_li_'+g+'" id="catalog_drag_zone_active" class="before_dragging catalog_drag_zone_active_overlay" onclick="com.faralam.SetCatalogDescEdit(this)" catalogId="'+e[g].catalogId+'" displayText="'+e[g].displayText+'" style="height: 30px;left: 0;opacity: 0;position: absolute;top: 0;width: 220px;" src="'+com.faralam.custom_img_path+'trans_img.jpg"><span style="color:#000 !important;width:100%;height:30px;">'+e[g].displayText+'</span><img class="edit_catalog_icon_panel1" onclick="com.faralam.common.EditCatalog(this)" catalogId="'+e[g].catalogId+'" displayText="'+e[g].displayText+'" description="'+e[g].description+'" src="'+com.faralam.custom_img_path+'icon_pencil.png" width="26" height="26" border="0"><img src="'+com.faralam.custom_img_path+'icon_move.png" width="26" id="menu_rearrange" ondragstart="com.faralam.dragStart_catalog(event)" ondragend="com.faralam.dragEnd_catalog(event)" catalogId="'+e[g].catalogId+'" displayText="'+e[g].displayText+'" height="26" border="0" style="right: 41px;top: 2px;position: absolute;cursor:move;z-index:999" ></li><li style="height:20px"><div catalogId="'+e[g].catalogId+'"  ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="menu_drop_zone" style="height:100%; width:100%"></div></li>'}}if(h){h='<ul id="catalog_list_parent_container" style="text-align:left;max-height: 150px;height: 150px;margin-top: 5px;">'+h+"</ul>";if(count==5){d={suppressScrollX:true,suppressScrollY:true}}}else{h='<ul id="catalog_list_parent_container" style="text-align:center;height: 150px;"><li class="catalog_li">No catalog(s) available</li></ul>';d={suppressScrollX:true,suppressScrollY:true}}Ext.getCmp("catalog_single_panel").update(h);$("div#catalog_single_panel-innerCt").perfectScrollbar("destroy");$("div#catalog_single_panel-innerCt").perfectScrollbar(d)};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveCatalogs_func,"GET",{},b,a)};com.faralam.common.retrieveGroup_func=function(d){com.faralam.retrieveGroup_func=com.faralam.serverURL+"retail/retrieveGroup";com.faralam.retrieveGroup_func=com.faralam.retrieveGroup_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&groupId="+d);var b=function(g,o,m){var k="";var e=new Array();var l="";if(g.unSubgroupedItems.length>0){for(var h=0;h<g.unSubgroupedItems.length;h++){if(g.highlightedItem!=null){if(g.highlightedItem.itemId==g.unSubgroupedItems[h].itemId){l='checked="checked"'}}var n='<img class="move_catalog_icon" draggable="true" itemId="'+g.unSubgroupedItems[h].itemId+'" itemVersion="'+g.unSubgroupedItems[h].itemVersion+'" priceId="'+g.unSubgroupedItems[h].priceId+'" ondragend="com.faralam.dragEnd_catalog(event)" id="groupedItemList_catalog_drag_zone_move_active" ondragstart="com.faralam.dragStart_catalog(event)" onclick="com.faralam.SetGroupItemMove(this)" src="'+com.faralam.custom_img_path+'icon_move.png" width="25" height="26" border="0" style="height: 26px;position: absolute;right: 10px;top: 2px;width: 25px;border:none;cursor:move">';k+='<li class="catalog_li item_in_group_li_set" id="group_wise_item_li'+h+'" style="background-color:#f6f6ff;border:1px solid #ffffdc; width: 98%;margin-left: 1%;border-radius:3px"><div class="switch_email" style="padding:0px !important; float:left;"><input id="dish_of_the_day'+h+'" class="cmn-toggle cmn-toggle-rounds" type="checkbox" '+l+' onclick="com.faralam.common.setGroupItemType(this)" itemId = "'+g.unSubgroupedItems[h].itemId+'" itemVersion = "'+g.unSubgroupedItems[h].itemVersion+'" priceId = "'+g.unSubgroupedItems[h].priceId+'" groupId = "'+g.groupId+'"><label for="dish_of_the_day'+h+'"></label></div><img id="groupedItemList_catalog_drag_zone_active" class="before_dragging" ondragend="com.faralam.dragEnd_catalog(event)" ondragstart="com.faralam.dragStart_catalog(event)" itmgrli=group_wise_item_li'+h+' onclick="com.faralam.common.set_Bg_In_Item(this)" itemId="'+g.unSubgroupedItems[h].itemId+'" style="height: 30px;left: 50px;opacity: 0;position: absolute;top: 0;width: 160px;" src="'+com.faralam.custom_img_path+'trans_img.jpg"><span style="color:#000 !important;width:100%;height:30px; margin-left:5px;">'+g.unSubgroupedItems[h].itemName+"</span>"+n+'</li><li class="catalog_li" style="height: 8px;padding: 0;"><img id="groupedItemList_catalog_drag_zone_middlebar_active" class="before_dragging" ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" itemId="'+g.unSubgroupedItems[h].itemId+'" itemVersion="'+g.unSubgroupedItems[h].itemVersion+'" priceId="'+g.unSubgroupedItems[h].priceId+'" style="height: 8px;left: 0;position: absolute;top: 0;width: 270px;border:none;" src="'+com.faralam.custom_img_path+'trans_img.jpg"></li>';l=""}}if(k){k='<div id="groupedItemList_parent_container" style="max-height: 250px;"><ul style="text-align:left;height: 250px;margin-top: 5px;">'+k+'</ul></div><div class="drop_here_div_right_panel">Drop item here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_itemGroup_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_right_panel"></div>';if(count==5){e={suppressScrollX:true,suppressScrollY:true}}}else{k='<div id="groupedItemList_parent_container" style="max-height: 250px;"><ul style="text-align:center;height: 250px;"><li class="catalog_li">No item(s) available</li></ul></div><div class="drop_here_div_right_panel">Drop item here<img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="catalog_itemGroup_panel_Section" src="'+com.faralam.custom_img_path+'trans_img.jpg" class="drop_here_img_right_panel"></div>';e={suppressScrollX:true,suppressScrollY:true}}Ext.getCmp("catalog_itemGroup_panel").update(k);$("div#groupedItemList_parent_container").perfectScrollbar("destroy");$("div#groupedItemList_parent_container").perfectScrollbar(e)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveGroup_func,"GET",{},b,a)};com.faralam.common.set_Bg_In_Item=function(b){var a=b.getAttribute("itmgrli");$(".item_in_group_li_set").css({background:"#f6f6ff",border:"1px solid #ffffdc"});$("#"+a).css({background:"#bbbbbb",border:"1px solid #666"})};com.faralam.common.retrieveGroups_func=function(){com.faralam.retrieveGroups_func=com.faralam.serverURL+"retail/retrieveGroups";com.faralam.retrieveGroups_func=com.faralam.retrieveGroups_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(d,l,k){var h="";if(d.length>0){for(var g=0;g<d.length;g++){var e='<img id="all_group_move_icon"  ondragstart="com.faralam.dragStart_catalog(event)" ondragend="com.faralam.dragEnd_catalog(event)" src="'+com.faralam.custom_img_path+'icon_move.png" data-qtip='+d[g].status.enumText+' GroupId="'+d[g].groupId+'" style="position:absolute;right:1px;cursor:move;z-index:999">';h+='<li style="border:2px solid black;border-radious:5px"><img id="allGroup_catalog_drag_zone_active" class="before_dragging" ondragend="com.faralam.dragEnd_catalog(event)" ondragstart="com.faralam.dragStart_catalog(event)" onclick="com.faralam.SetAllItemDescEdit(this)" width="90" height="110" data-qtip='+d[g].status.enumText+' GroupId="'+d[g].groupId+'" src="'+com.faralam.custom_img_path+'trans_img.jpg">'+e+'<span style="line-height:80px;font-size:14px;font-weight:bold">'+d[g].groupDisplayText+"</span></li>"}}if(h){h='<ul id="all_groups_scroll" class="images" style="white-space: nowrap;height:94px;overflow:hidden">'+h+"</ul>"}else{h='<ul class="images" style="text-align:center;height:87px;"><li>No group(s) available</li></ul>'}Ext.getCmp("slide_panel1_catalog").update(h);$("#all_groups_scroll").perfectScrollbar("destroy");$("#all_groups_scroll").perfectScrollbar()};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveGroups_func,"GET",{},b,a)};com.faralam.common.RetrieveCatalogInfo=function(h,d,e){if(parseInt(e)<0){e=0}else{e=parseInt(e)}console.log("pre"+e);var g="nextId&previousId&";d=parseInt(d);if(d==0){g="nextId="+h+"&previousId=0&"}if(d==1){g="nextId=0&previousId="+h+"&"}com.faralam.retrieve_catalog_info=com.faralam.serverURL+"retail/retrieveItems";com.faralam.retrieve_catalog_info=com.faralam.retrieve_catalog_info+"?"+encodeURI("count=7&itemType=ALL&"+g+"UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&status=ALL");var b=function(m,t,K){var E="";var D="";currency="";groupId="";itemId="";itemName="";itemStatus="";itemTag="";itemType="";itemVersion="";longDescription="";mediaURLs="";price="";priceId="";shortDescription="";subGroupId="";uUID="";var l=new Array();var z=0;var w="";var S="";if(m.items.length>0){var T=0;var C=0;var n=0;for(var O=0;O<m.items.length;O++){if(m.items[O].itemStatus.enumText=="ACTIVE"){n++}}console.log("length="+m.items.length);for(var R=0;R<m.items.length;R++){if(m.items[R].itemStatus.enumText=="ACTIVE"){C++;T++;var o=1;if(o==1){currency=m.items[R].currency;groupId=m.items[R].groupId;itemId=m.items[R].itemId;itemName=m.items[R].itemName;itemStatus=m.items[R].itemStatus.enumText;itemTag=m.items[R].itemTag;itemType=m.items[R].itemType;itemVersion=m.items[R].itemVersion;longDescription=m.items[R].longDescription;mediaURLs=m.items[R].mediaURLs[0];price=m.items[R].price;priceId=m.items[R].priceId;shortDescription=m.items[R].shortDescription;subGroupId=m.items[R].subGroupId;uUID=m.items[R].uUID;o++}w=m.items[R].itemId+","+m.items[R].uUID;S="";S=com.faralam.custom_img_path+"ACTIVE.png";var N="";$.each(m.items[R].attributes,function(k,U){N=N+" "+k+"="+U});var q="";q='<img src="'+com.faralam.custom_img_path+'icon_pencil.png" onclick="com.faralam.common.CATALOGS_EDIT_ITEMS(this)" itemId="'+m.items[R].itemId+'" itemVersion='+m.items[R].itemVersion+" priceId="+m.items[R].priceId+' price="'+m.items[R].price+'" shortDescription="'+m.items[R].shortDescription+'" longDescription="'+m.items[R].longDescription+'" itemName="'+m.items[R].itemName+'" itemTag="'+m.items[R].itemTag+'" '+N+' imgUrl="'+m.items[R].mediaURLs[0]+'" style="position:absolute;left:92px;top:2;z-index:9999;cursor:pointer;left:0">';var y='<img src="'+com.faralam.custom_img_path+'icon_move.png" data-qtip='+m.items[R].itemStatus.enumText+" params="+w+' src="'+m.items[R].mediaURLs[0]+'" itemName="'+m.items[R].itemName+'" longDescription="'+m.items[R].longDescription+'" itemVersion="'+m.items[R].itemVersion+'" price="'+m.items[R].price+'" priceId="'+m.items[R].priceId+'" itemId="'+m.items[R].itemId+'" itemTag="'+m.items[R].itemTag+'" imgUrl="'+m.items[R].mediaURLs[0]+'" shortDescription="'+m.items[R].shortDescription+'" ondragstart="com.faralam.dragStart_catalog(event)" ondragend="com.faralam.dragEnd_catalog(event)" id="all_item_rearrange_icon"  style="position:absolute;z-index:99;top:2;border:none;right:0;cursor:move" >';E+='<li  style="border:2px solid black"><img id="mainItems_catalog_drag_zone_active" class="before_dragging" onclick="com.faralam.SetAllItemDescEdit(this)" width="110" height="100" data-qtip='+m.items[R].itemStatus.enumText+" params="+w+' src="'+m.items[R].mediaURLs[0]+'" itemName="'+m.items[R].itemName+'" longDescription="'+m.items[R].longDescription+'" itemVersion="'+m.items[R].itemVersion+'" price="'+m.items[R].price+'" priceId="'+m.items[R].priceId+'" itemId="'+m.items[R].itemId+'" itemTag="'+m.items[R].itemTag+'" imgUrl="'+m.items[R].mediaURLs[0]+'" shortDescription="'+m.items[R].shortDescription+'" >'+q+y+'<div class="gallery_overlay" style="width:110px;overflow:hidden;line-height: 20px;"><center><span style="font-size:12px">'+itemName+"</span></center></div></li><li></li>"}else{if(m.items[R].itemStatus.enumText=="PROPOSED"||m.items[R].itemStatus.enumText=="APPROVED"){S="";S=com.faralam.getImgStatus(m.items[R].itemStatus.enumText);z++}}}}var u="";var r="";var J='disabled="disabled"';var x='disabled="disabled"';var G=m.lastIdInWindow;var I=m.firstIdInWindow;u='<input type="image" title="No items left" src="'+com.faralam.custom_img_path+'Back.png" style="display: inline-block; width: 50px; height: 51px; margin: 35px 0px 0px 10px;cursor:context-menu;opacity:0.3">';r='<input type="image" title="No items left" src="'+com.faralam.custom_img_path+'Forward.png" style="display: inline-block; width: 50px; height: 51px; margin: 35px 0px 0px 3px;cursor:context-menu;opacity:0.3">';if(m.hasPrevious){J="";var P="";P=parseInt(e)-7;var B=(parseInt(e-1))+" Items Left.";u='<input type="image" src="'+com.faralam.custom_img_path+'Back.png" id="prv_btn" '+J+' style="display: inline-block; width: 50px; height: 51px; margin: 35px 0px 0px 10px;" onClick="com.faralam.common.RetrieveCatalogInfo('+I+","+0+","+P+')" >'}if(m.hasNext){x="";var P="";P=parseInt(e)+7;var A=n-P;var B=(A+1)+" Items Left.";r='<input type="image" src="'+com.faralam.custom_img_path+'Forward.png" id="prv_btn" '+x+' style="display: inline-block; width: 50px; height: 51px; margin: 35px 0px 0px 3px;" onClick="com.faralam.common.RetrieveCatalogInfo('+G+","+1+","+P+')" >'}var F=" ";Ext.getCmp("previous_btn").update(u);Ext.getCmp("next_btn").update(r);if(E){E='<ul class="images" style="margin-bottom: 4px;padding-left: 5px;">'+E+"</ul>"}else{E='<ul class="images" style="text-align:center;height:87px;"><li>No image(s) available</li></ul>'}Ext.getCmp("slide_panel_catalog").update(E);$("div#slide_panel_catalog-innerCt").perfectScrollbar("destroy");$("div#slide_panel_catalog-innerCt").perfectScrollbar()};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_catalog_info,"GET",{},b,a)};com.faralam.common.enablecheck=function(b,a){if(b!=""){console.log(a);Ext.getCmp(a).setValue($(b).is(":checked"));console.log(Ext.getCmp(a).getValue())}};com.faralam.common.AddNewItem=function(){var e;var h='<table style="border:2px solid black;margin:5px; heiht:auto !important; min-height:163px" width="95%"  cellspacing="10px" id="add_catalogs_attributes"><tr>';var d=[];if(Ext.getCmp("item_modal")){var l="";var k=Ext.getCmp("item_modal");k.destroy(k,new Object())}if(!e){com.faralam.getItemAttributeMap=com.faralam.serverURL+"retail/getItemAttributeMap";com.faralam.getItemAttributeMap=com.faralam.getItemAttributeMap+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(m,r,o){var q=0;var n="";$.each(m,function(t,w){var u='"add_'+t+'"';d.push({xtype:"hiddenfield",id:"add_"+t,name:"add_"+t,value:w});n=n+t+"*";h=h+"<td>"+t+'</td><td><div class="switch_email" style="padding:0px !important; float:left;"><input id="'+t+'" class="cmn-toggle cmn-toggle-rounds" onclick="com.faralam.common.enablecheck(this,\'add_'+t+'\')" type="checkbox"><label for="'+t+'"></label></div></td>';q++;if(q%2==0){h=h+"</tr><tr>"}});h=h+"</tr></table>";console.log("log1="+n);Ext.getCmp("ratio_switch_component").update(h);Ext.getCmp("hid_all_attr_val").setValue(n);Ext.getCmp("hid_feild_container").add(d);$("#ratio_switch_component").perfectScrollbar("destroy");$("#ratio_switch_component").perfectScrollbar()};var a=function(m,o,n){};com.faralam.common.sendAjaxRequest(com.faralam.getItemAttributeMap,"GET",{},b,a);var g=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"common_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",layout:"hbox",width:980,items:[{xtype:"container",layout:{type:"table",columns:1,tableAttrs:{style:{width:"100%"}}},tdAttrs:{style:{width:"75%"}},items:[{xtype:"container",items:[{xtype:"form",layout:"vbox",padding:"10 10 5 10",style:{width:"550px;"},items:[{xtype:"container",id:"hid_feild_container",width:180,items:[]},{xtype:"hiddenfield",id:"hid_all_attr_val",name:"hid_all_attr_val",value:""},,{xtype:"container",defaultType:"button",width:180,style:"text-align:center;margin: 20px 0 0 365px; position: absolute;right: 0 !important;top: 20px;z-index: 9;left: initial !important;",items:[{text:"Cancel",handler:function(){g.getForm().reset(true);Ext.getCmp("item_modal").close()}},{text:"Create",margin:"0 0 0 10",handler:function(){if(g.getForm().isValid()){com.faralam.SubmitCatalog()}}}]},{tdAttrs:{style:{width:"550px;"}},xtype:"fieldset",title:'<span style="font-style: italic;font-weight: bold;font-size: 16px;">Item Details</span>',collapsible:false,style:"text-align:left;",items:[{xtype:"textfield",fieldLabel:"Name",labelSeparator:"",emptyText:"(Name of the item)",inputWidth:350,margin:"4 0 2 0",name:"",value:"",id:"item_title",allowBlank:false},{xtype:"textfield",fieldLabel:"Summary",labelSeparator:"",emptyText:"(Summary)",inputWidth:350,margin:"4 0 2 0",name:"",value:"",id:"item_summary",allowBlank:false},{xtype:"textareafield",fieldLabel:"Description",labelSeparator:"",emptyText:"(Description)",inputWidth:350,margin:"4 0 2 0",name:"",value:"",width:350,height:45,id:"catalog_msg",allowBlank:false},{xtype:"container",layout:"hbox",style:"display:inline",width:506,items:[{xtype:"textfield",fieldLabel:"Price",labelSeparator:"",emptyText:"(Price)",inputWidth:180,margin:"4 0 2 0",name:"",value:"",id:"item_price",allowBlank:false},{xtype:"combo",id:"currency",name:"currency",editable:true,margin:"4 0 2 10",labelWidth:0,labelAlign:"top",allowBlank:false,emptyText:"Choose Currency",inputWidth:160,inputHeight:32,value:"",fieldLabel:"",mode:"remote",value:"USD",displayField:"displayText",valueField:"enumText",store:Ext.create("Ext.data.Store",{fields:["enumText","displayText"],data:[{enumText:"USD",displayText:"USD"}],autoLoad:true})}]},{xtype:"image",width:350,height:135,src:"",style:"border: 1px solid #fff;margin: 3px 0 0 0;",id:"catalog_big_img",hidden:true}]}]},{xtype:"button",scale:"small",text:"Add New Picture",style:"margin: 0 auto; position: absolute;right: 10px;bottom: 138px;z-index: 9;",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/catalog_crop.html")}},{tdAttrs:{style:{width:"550px;"}},xtype:"fieldset",title:'<span style="font-style: italic;font-weight: bold;font-size: 16px;">Item Pictures</span>',collapsible:false,style:"text-align:center;",items:[{xtype:"component",style:"float:left !important",margin:"93 30 0 5",id:"delete_zone_item_add",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_item_add" src="'+com.faralam.custom_img_path+'dustbin.png" width="26" height="26" border="0">'},{xtype:"image",padding:"5 5 5 5",width:120,height:120,margin:"0 0 5 0",src:"",id:"thumb_img",style:"border: 1px solid #00a234;"}]}]}]},{xtype:"container",width:300,margin:"0 0 0 50",style:"width:300px;",layout:"vbox",style:"border:2px solid #33ccff;padding:5px;",items:[{xtype:"component",id:"big_pic",html:'<div style="border-radius:3px;background-color:#ff9900 !important;width:290px;height: 200px;"></div>'},{xtype:"component",html:'<div style="width:290px;height: 50px;"><h4 style="line-height:50px;color:#fff;margin-left:100px; font-size:16px">Attributes</h4></div>'},{xtype:"component",id:"ratio_switch_component",style:"background-color: #ff9900 !important;width:278px ! important;min-height: 173px;height:auto !important; margin:5px; border:2px solid black;border-radius:3px",html:""}]}]}]});e=Ext.widget("window",{title:"Add Item",id:"item_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:980,items:g,listeners:{close:function(){Ext.getCmp("catalog_big_img").setSrc("");Ext.getCmp("thumb_img").setSrc("");g.getForm().reset(true)}}})}e.show()};com.faralam.common.CATALOGS_EDIT_ITEMS=function(d){var k;var a="";var m='<table style="border:2px solid black;margin:5px" width="95%" height="94%" cellspacing="10px" id="catalogs_attributes"><tr>';var g=[];com.faralam.getItemAttributeMap=com.faralam.serverURL+"retail/getItemAttributeMap";com.faralam.getItemAttributeMap=com.faralam.getItemAttributeMap+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var n=function(e,t,q){var r=0;var o="";$.each(e,function(u,x){var w='"add_'+u+'"';o=o+u+"*";if(d.getAttribute(""+u+"")=="true"){m=m+"<td>"+u+'</td><td><div class="switch_email" style="padding:0px !important; float:left;"><input id="'+u+'" class="cmn-toggle cmn-toggle-rounds" onclick="com.faralam.common.enablecheck(this,\'hid_'+u+'\')" checked="checked" type="checkbox"><label for="'+u+'"></label></div></td>';g.push({xtype:"hiddenfield",id:"hid_"+u,name:"hid_"+u,value:true})}else{m=m+"<td>"+u+'</td><td><div class="switch_email" style="padding:0px !important; float:left;"><input id="'+u+'" class="cmn-toggle cmn-toggle-rounds" onclick="com.faralam.common.enablecheck(this,\'hid_'+u+'\')" type="checkbox"><label for="'+u+'"></label></div></td>';g.push({xtype:"hiddenfield",id:"hid_"+u,name:"hid_"+u,value:false})}r++;if(r%2==0){m=m+"</tr><tr>"}});m=m+"</tr></table>";m='<div id="ratio_switch_div" style="background-color: #ff9900 !important;width:278px;height: 173px; margin:5px; border:2px solid black;border-radius:3px;overflow:hidden">'+m+"</div>";console.log("log1="+o);Ext.getCmp("ratio_grp").update(m);Ext.getCmp("hid_all_attr_val_edit").setValue(o);Ext.getCmp("hid_feild_container_edit").add(g);$("#ratio_switch_div").perfectScrollbar("destroy");$("#ratio_switch_div").perfectScrollbar()};var h=function(e,q,o){};com.faralam.common.sendAjaxRequest(com.faralam.getItemAttributeMap,"GET",{},n,h);if(Ext.getCmp("edit_item_modal")){var l=Ext.getCmp("edit_item_modal");l.destroy(l,new Object())}if(Ext.getCmp("item_modal")){var b="";var l=Ext.getCmp("item_modal");l.destroy(l,new Object())}if(!k){var k=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"common_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:150,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",layout:"hbox",width:980,items:[{xtype:"container",layout:{type:"table",columns:1,tableAttrs:{style:{width:"100%"}}},tdAttrs:{style:{width:"75%"}},items:[{xtype:"container",items:[{xtype:"form",layout:"vbox",padding:"10 10 5 10",style:{width:"550px;"},items:[{xtype:"hiddenfield",id:"hid_itemId",name:"hid_itemId",value:d.getAttribute("itemId")},{xtype:"hiddenfield",id:"hid_itemVersion",name:"hid_itemVersion",value:d.getAttribute("itemVersion")},{xtype:"hiddenfield",id:"hid_priceId",name:"hid_priceId",value:d.getAttribute("priceId")},{xtype:"hiddenfield",id:"hid_itemTag",name:"hid_itemTag",value:d.getAttribute("itemTag")},{xtype:"hiddenfield",id:"hid_all_attr_val_edit",name:"hid_all_attr_val_edit",value:""},{xtype:"container",id:"hid_feild_container_edit",width:180,items:[]},{xtype:"container",defaultType:"button",width:180,style:"text-align:center;margin: 20px 0 0 365px; position: absolute;right: 0 !important;top: 20px;z-index: 9;left: initial !important;",items:[{text:"Cancel",handler:function(){Ext.getCmp("edit_item_modal").close()}},{text:"Update",margin:"0 0 0 10",handler:function(){if(k.getForm().isValid()){com.faralam.common.updateItem()}}}]},{tdAttrs:{style:{width:"550px;"}},xtype:"fieldset",title:'<span style="font-style: italic;font-weight: bold;font-size: 16px;">Item Details</span>',collapsible:false,style:"text-align:left;",items:[{xtype:"textfield",fieldLabel:"Name",labelSeparator:"",emptyText:"(Name of the item)",inputWidth:350,margin:"4 0 2 0",name:"",value:d.getAttribute("itemName"),id:"edit_item_title",allowBlank:false},{xtype:"textfield",fieldLabel:"Summary",labelSeparator:"",emptyText:"(Summary)",inputWidth:350,margin:"4 0 2 0",name:"",value:d.getAttribute("shortDescription"),id:"edit_item_summary",allowBlank:false},{xtype:"textareafield",fieldLabel:"Description",labelSeparator:"",emptyText:"(Description)",inputWidth:350,margin:"4 0 2 0",name:"",value:d.getAttribute("longDescription"),width:350,height:45,id:"edit_catalog_msg",allowBlank:false},{xtype:"container",layout:"hbox",style:"display:inline",width:500,items:[{xtype:"textfield",fieldLabel:"Price",labelSeparator:"",emptyText:"(Price)",inputWidth:180,margin:"4 0 2 0",name:"",value:d.getAttribute("price"),id:"edit_item_price",allowBlank:false},{xtype:"combo",id:"edit_currency",name:"currency",editable:true,margin:"4 0 2 20",labelWidth:0,labelAlign:"top",allowBlank:false,emptyText:"Choose Currency",inputWidth:150,inputHeight:32,value:"USD",fieldLabel:"",mode:"remote",displayField:"displayText",valueField:"enumText",store:Ext.create("Ext.data.Store",{fields:["enumText","displayText"],data:[{enumText:"USD",displayText:"USD"}],autoLoad:true})}]},{xtype:"image",width:350,height:135,src:"",style:"border: 1px solid #fff;margin: 3px 0 0 0;",id:"edit_catalog_big_img",hidden:true}]}]},{xtype:"button",scale:"small",text:"Add New Picture",style:"margin: 0 auto; position: absolute;right: 10px;bottom: 138px;z-index: 9;",handler:function(){$("#modal").css({"z-index":"19002"})}},{tdAttrs:{style:{width:"550px;"}},xtype:"fieldset",title:'<span style="font-style: italic;font-weight: bold;font-size: 16px;">Item Pictures</span>',collapsible:false,style:"text-align:center;",items:[{xtype:"component",style:"float:left !important",margin:"93 30 0 5",id:"edit_delete_zone_item_add",html:'<span></span><img ondrop="com.faralam.drop_catalog(event)" ondragover="com.faralam.allowDrop_catalog(event)" id="delete_zone_item_add" src="'+com.faralam.custom_img_path+'trash.png" width="26" height="26" border="0">'},{xtype:"image",padding:"5 5 5 5",width:120,height:120,margin:"0 0 5 0",src:d.getAttribute("imgUrl"),id:"edit_thumb_img",style:"border: 1px solid #00a234;"}]}]}]},{xtype:"container",width:300,margin:"0 0 0 50",style:"width:300px;",layout:"vbox",style:"border:2px solid #33ccff;padding:5px;",items:[{xtype:"component",html:'<div style="border-radius:3px;background-color:#ff9900 !important;width:290px;height: 200px;"><img style="margin: 5px; border: 2px solid black; width: 280px; border-radius: 5px; height: 190px;" src="'+d.getAttribute("imgUrl")+'" ></div>'},{xtype:"component",html:'<div style="width:290px;height: 50px;"><h4 style="line-height:50px;color:#fff;margin-left:85px; font-size:16px">Attributes</h4></div>'},{xtype:"component",id:"ratio_grp",html:'<div id="ratio_switch_div" style="background-color: #ff9900 !important;width:278px;height: 173px; margin:5px; border:2px solid black;border-radius:3px;overflow:hidden"></div>'}]}]}]});b=Ext.widget("window",{title:"Edit Item",id:"edit_item_modal",closeAction:"destroy",layout:"fit",resizable:false,modal:true,width:980,items:k,listeners:{close:function(){Ext.getCmp("edit_catalog_big_img").setSrc("");Ext.getCmp("edit_thumb_img").setSrc("")}}})}b.show()};com.faralam.common.updateItem=function(){var q=Ext.getCmp("edit_item_title").getValue();var b=Ext.getCmp("edit_item_summary").getValue();var k=Ext.getCmp("edit_catalog_msg").getValue();var h=Ext.getCmp("edit_item_price").getValue();if(q.trim()==""){Ext.MessageBox.alert("Information","Please enter item name.")}else{if(b.trim()==""){Ext.MessageBox.alert("Information","Please enter summery.")}else{if(k.trim()==""){Ext.MessageBox.alert("Information","Please enter description.")}else{if(h.trim()==""){Ext.MessageBox.alert("Information","Please enter Price.")}else{var m=Ext.getCmp("hid_all_attr_val_edit").getValue();console.log(m);var d=m.split("*");var n="{";for(var g=0;g<d.length;g++){if(d[g].trim()!=""){var a=Ext.getCmp("hid_"+d[g]).getValue();n=n+'"'+d[g]+'":'+a+","}}n=n.substring(0,n.length-1);n=n+"}";var e={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,item:{itemId:Ext.getCmp("hid_itemId").getValue(),itemVersion:Ext.getCmp("hid_itemVersion").getValue(),priceId:Ext.getCmp("hid_priceId").getValue()},price:h,shortDescription:b,longDescription:k,itemName:q,itemTag:Ext.getCmp("hid_itemTag").getValue(),attributes:JSON.parse(n)};e=JSON.stringify(e);console.log(e);com.faralam.updateItem=com.faralam.serverURL+"retail/updateItem";com.faralam.updateItem=com.faralam.updateItem+"?"+encodeURI("UID="+sessionStorage.UID);var o=function(r,u,t){Ext.MessageBox.alert("Success","Item updated successfully.",function(){Ext.getCmp("edit_item_modal").close();com.faralam.common.RetrieveCatalogInfo("","",1)})};var l=function(r,u,t){};com.faralam.common.sendAjaxRequest(com.faralam.updateItem,"PUT",e,o,l)}}}}};com.faralam.common.addCatalog=function(){var e=Ext.getCmp("catalog_id").getValue();var d="";var k="POST";var h="updated";if(e==""){h="created";com.faralam.addCatalog=com.faralam.serverURL+"retail/createCatalog";d=Ext.getCmp("catalog_title").getValue();var g={timeRange:{isExpired:"false",expirationDate:"2013-01-05T23:00:00Z",openingDays:["THU"],openingHours:{startClock:{minute:"0",hour:"0"},endClock:{minute:"59",hour:"23"}},activationDate:"2013-09-25T16:37:03Z"},displayText:Ext.getCmp("catalog_title").getValue(),description:Ext.getCmp("catalog_description").getValue(),catalogId:d,serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL}}else{com.faralam.addCatalog=com.faralam.serverURL+"retail/updateCatalog";k="PUT";d=Ext.getCmp("catalog_id").getValue();var g={timeRange:null,displayText:Ext.getCmp("catalog_title").getValue(),description:Ext.getCmp("catalog_description").getValue(),catalogId:d,serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL}}com.faralam.addCatalog=com.faralam.addCatalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);g=JSON.stringify(g);var b=function(l,n,m){Ext.MessageBox.alert("Success","Catalog "+h+" successfully.",function(){Ext.getCmp("catalog_modal").close();com.faralam.common.retrieveCatalogs_func()})};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.addCatalog,k,g,b,a)};com.faralam.common.addGroupCatalog=function(l){var g=Ext.getCmp("catalog_group").getValue(),g=g.toUpperCase();var e=Ext.getCmp("group_id").getValue();var d="groupDisplayText";var k={};var h="Group added successfully.";if(e==""){com.faralam.addGroupCatalog=com.faralam.serverURL+"retail/createGroup";var k={groupId:g,groupDisplayText:Ext.getCmp("catalog_group").getValue(),description:Ext.getCmp("catalog_group_description").getValue(),catalogId:l,serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL}}else{com.faralam.addGroupCatalog=com.faralam.serverURL+"retail/updateGroup";h="Group updated successfully.";var k={groupId:Ext.getCmp("hid_group_id").getValue(),displayText:Ext.getCmp("catalog_group").getValue(),description:Ext.getCmp("catalog_group_description").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL}}com.faralam.addGroupCatalog=com.faralam.addGroupCatalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);k=JSON.stringify(k);var b=function(m,o,n){Ext.MessageBox.alert("Success",h,function(){Ext.getCmp("catalog_group_modal").close();var q=Ext.getCmp("catalogId").getValue();if(q!=""){com.faralam.common.retrieveCatalog_func(q)}com.faralam.common.retrieveGroups_func()})};var a=function(m,o,n){};if(e==""){com.faralam.common.sendAjaxRequest(com.faralam.addGroupCatalog,"POST",k,b,a)}else{com.faralam.common.sendAjaxRequest(com.faralam.addGroupCatalog,"PUT",k,b,a)}};com.faralam.SubmitCatalog=function(){com.faralam.submit_catalog=com.faralam.serverURL+"retail/createWNewPictureURLNewMetaData";com.faralam.submit_catalog=com.faralam.submit_catalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var a=null;if(Ext.getCmp("catalog_big_img").src){a=Ext.getCmp("catalog_big_img").src}var k=Ext.getCmp("hid_all_attr_val").getValue();console.log(k);var d=k.split("*");var l="{";for(var g=0;g<d.length;g++){if(d[g].trim()!=""){var b=Ext.getCmp("add_"+d[g]).getValue();l=l+'"'+d[g]+'":'+b+","}}l=l.substring(0,l.length-1);l=l+"}";var e={itemName:Ext.getCmp("item_title").getValue(),itemType:1,inventoryNotSold:3,serviceAccommodatorId:sessionStorage.SA,mediaType:"GALLERY_OWNER",url:a,serviceLocationId:sessionStorage.SL,currency:"USD",message:"Media Message1",inventoryInWarehouse:10,title:Ext.getCmp("item_title").getValue(),price:Ext.getCmp("item_price").getValue(),shortDescription:Ext.getCmp("item_summary").getValue(),longDescription:Ext.getCmp("catalog_msg").getValue(),group:0,itemTag:"Tag1, Tag2",attributes:JSON.parse(l)};e=JSON.stringify(e);console.log(e);var m=function(n,q,o){Ext.MessageBox.alert("Success","Item Created successfully.",function(){Ext.getCmp("item_modal").close();com.faralam.common.RetrieveCatalogInfo("","",1)})};var h=function(n,q,o){};com.faralam.common.sendAjaxRequest(com.faralam.submit_catalog,"POST",e,m,h)};com.faralam.SubmitCatalogEdit=function(){com.faralam.submit_catalog=com.faralam.serverURL+"retail/createWNewPictureURLNewMetaData";com.faralam.submit_catalog=com.faralam.submit_catalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={itemName:Ext.getCmp("catalog_show_image_title").getValue(),itemType:1,inventoryNotSold:3,serviceAccommodatorId:sessionStorage.SA,mediaType:"GALLERY_OWNER",url:Ext.getCmp("catalog_big_img").src,serviceLocationId:sessionStorage.SL,currency:"USD",message:"Media Message1",inventoryInWarehouse:10,title:Ext.getCmp("catalog_show_image_title").getValue(),price:Ext.getCmp("catalog_price").getValue(),shortDescription:Ext.getCmp("catalog_textarea").getValue(),longDescription:Ext.getCmp("catalog_textarea").getValue(),group:0,itemTag:"Tag1, Tag2"};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Catalog updated successfully.",function(){com.faralam.RetrieveCatalogInfo()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.submit_catalog,"POST",d,b,a)};com.faralam.SetCatalogDescEdit=function(d){var g=d.getAttribute("catalogId");var b=d.getAttribute("displayText");var a=d.getAttribute("mnid");$(".menu_list_li_set_bg").css({background:"#f6f6ff",border:"1px solid #ffffdc"});$("#"+a).css({background:"#bbbbbb",border:"1px solid #666"});if(g=="[default]"){g=""}com.faralam.common.retrieveCatalog_func(g);Ext.getCmp("catalogId").setValue(d.getAttribute("catalogId"));Ext.getCmp("catalogName").setValue(d.getAttribute("displayText"));$(this).parent().addClass("active").siblings().removeClass("active")};com.faralam.common.SetCatalogDescEditWindow=function(b){var d=b.getAttribute("catalogId");var a=b.getAttribute("displayText")};com.faralam.common.EditCatalog=function(h){var k='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("catalog_modal")){var g=Ext.getCmp("catalog_modal");g.destroy(g,new Object())}if(!d){var a="Add";if(h){a="Update"}var b=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"common_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",padding:"10 10 5 10",style:{border:"1px solid #fff;"},items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"catalog_id",name:"",value:""},{xtype:"textfield",fieldLabel:"Name",labelSeparator:"",emptyText:"(Name of the Catalog)",inputWidth:180,margin:"0 0 0 0",name:"",value:"",id:"catalog_title",allowBlank:false},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:"Cancel",handler:function(){b.getForm().reset(true)}},{text:a,margin:"0 0 0 10",handler:function(){if(b.getForm().isValid()){com.faralam.common.addCatalog()}}}]}]},{xtype:"textfield",fieldLabel:"Description",labelSeparator:"",emptyText:"(Description of the Catalog)",inputWidth:180,margin:"20 0 0 0",name:"",value:"",id:"catalog_description",allowBlank:false}]}]}]});d=Ext.widget("window",{title:"Add Catalog",id:"catalog_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:680,items:b,listeners:{close:function(){b.getForm().reset(true)},show:function(){if(h!=""){Ext.getCmp("catalog_id").setValue(h.getAttribute("catalogId"));Ext.getCmp("catalog_title").setValue(h.getAttribute("displayText"));Ext.getCmp("catalog_description").setValue(h.getAttribute("description"))}}}})}d.show()};com.faralam.SetCalatogGroupDescEditWindow=function(g){var h="edit_group";var l=Ext.getCmp("catalogId").getValue();var d=Ext.getCmp("catalogName").getValue();var a=g.getAttribute("groupId");var k=g.getAttribute("groupDisplayText");var b=g.getAttribute("description");com.faralam.common.EditCatalogGroup(h,l,d,a,k,b)};com.faralam.SetCalatogGroupDescEdit=function(d){var b=d.getAttribute("groupId");var a=d.getAttribute("grincat");$(".groups_in_catalog_menu_li_set").css({background:"#f6f6ff",border:"1px solid #ffffdc"});$("#"+a).css({background:"#bbbbbb",border:"1px solid #666"});com.faralam.common.retrieveGroup_func(b);Ext.getCmp("groupId").setValue(d.getAttribute("groupId"))};com.faralam.common.EditCatalogGroup=function(h,d,l,e,n,o){console.log(e);var a;var k='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d=Ext.getCmp("catalogId").getValue();var g="Add";if(h=="add_group"){d=null}else{if(h=="add_group_within_catalog"){if(d==""){Ext.MessageBox.alert("Error","Please select a catalog")}}else{if(h=="edit_group"){g="Update";if(d==""){Ext.MessageBox.alert("Error","Please select a catalog")}}else{}}}if(Ext.getCmp("catalog_group_modal")){var m=Ext.getCmp("catalog_group_modal");m.destroy(m,new Object())}if(!a){var b=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"common_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:580px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",padding:"10 10 5 10",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"catalog_id_within_group",name:"",value:""},{xtype:"hiddenfield",id:"group_id",name:"",value:""},{xtype:"hiddenfield",id:"hid_group_id",name:"",value:e},{xtype:"textfield",fieldLabel:"Name",labelSeparator:"",emptyText:"(Name of the Catalog Group)",inputWidth:180,margin:"0 0 0 0",name:"",value:"",id:"catalog_group",allowBlank:false},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 10",items:[{text:"Cancel",handler:function(){b.getForm().reset(true)}},{text:g,margin:"0 0 0 10",handler:function(){if(b.getForm().isValid()){com.faralam.common.addGroupCatalog(d)}}}]}]},{xtype:"textfield",fieldLabel:"Description",labelSeparator:"",emptyText:"(Description of the Catalog Group)",inputWidth:330,margin:"20 0 0 0",name:"",value:"",id:"catalog_group_description",allowBlank:false}]}]}]});a=Ext.widget("window",{title:"Add New Group",id:"catalog_group_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:480,items:b,listeners:{close:function(){b.getForm().reset(true)},show:function(){Ext.getCmp("catalog_id_within_group").setValue(d);Ext.getCmp("group_id").setValue(e);Ext.getCmp("catalog_group").setValue(n);Ext.getCmp("catalog_group_description").setValue(o)}}})}a.show()};com.faralam.SetAllItemDescEdit=function(b){var a=b.getAttribute("groupId")};com.faralam.common.RemoveCatalog=function(a){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete the selected catalog?",function(g){if(g=="yes"){com.faralam.deleteCatalog=com.faralam.serverURL+"retail/deleteCatalog";com.faralam.deleteCatalog=com.faralam.deleteCatalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&catalogId="+a);var d=function(e,k,h){Ext.MessageBox.alert("Success","The selected catalog deleted successfully",function(){com.faralam.common.retrieveCatalogs_func()})};var b=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.deleteCatalog,"DELETE",{},d,b)}})};com.faralam.common.RemoveCatalogGroup=function(a){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete the selected group?",function(g){if(g=="yes"){var h=Ext.getCmp("catalogId").getValue();com.faralam.deleteCatalogGroup=com.faralam.serverURL+"retail/deleteGroup";com.faralam.deleteCatalogGroup=com.faralam.deleteCatalogGroup+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&catalogId="+h+"&groupId="+a);var d=function(e,l,k){Ext.MessageBox.alert("Success","The selected group deleted successfully",function(){if(h!=""){com.faralam.common.retrieveCatalog_func(h)}com.faralam.common.retrieveGroups_func()})};var b=function(e,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.deleteCatalogGroup,"DELETE",{},d,b)}})};com.faralam.common.addItemAfterItemToGroup=function(g){var d=Ext.getCmp("groupId").getValue();if(d!=""){com.faralam.addItemAfterItemToGroup=com.faralam.serverURL+"retail/addItemAfterItemToGroup";com.faralam.addItemAfterItemToGroup=com.faralam.addItemAfterItemToGroup+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var e={groupId:d,item:{itemVersion:1,priceId:1,itemId:g},insertAfterItem:{itemVersion:1,priceId:1,itemId:1},serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL};e=JSON.stringify(e);var b=function(h,l,k){Ext.MessageBox.alert("Success","Item added to group successfully.",function(){com.faralam.common.retrieveGroup_func(d)})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.addItemAfterItemToGroup,"PUT",e,b,a)}else{Ext.MessageBox.alert("Error","Please select a group")}};com.faralam.common.addGroupAfterGroupToCatalog=function(d){var g=Ext.getCmp("catalogId").getValue();if(g!=""){com.faralam.addGroupAfterGroupToCatalog=com.faralam.serverURL+"retail/addGroupAfterGroupToCatalog";com.faralam.addGroupAfterGroupToCatalog=com.faralam.addGroupAfterGroupToCatalog+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var e={groupId:d,insertAfterGroupId:"",catalogId:g,serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL};e=JSON.stringify(e);var b=function(h,l,k){Ext.MessageBox.alert("Success","Group added to catalog successfully.",function(){com.faralam.common.retrieveCatalog_func(g)})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.addGroupAfterGroupToCatalog,"PUT",e,b,a)}else{Ext.MessageBox.alert("Error","Please select a catalog")}};com.faralam.common.positionGroupByIdAfterId=function(d,g){var h=Ext.getCmp("catalogId").getValue();com.faralam.positionGroupByIdAfterId=com.faralam.serverURL+"retail/positionGroupByIdAfterId";com.faralam.positionGroupByIdAfterId=com.faralam.positionGroupByIdAfterId+"?"+encodeURI("UID="+sessionStorage.UID);console.log("attribute:"+h);var e={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,catalogId:h,groupId:d,insertAfterGroupId:g};e=JSON.stringify(e);console.log(e);var b=function(k,m,l){com.faralam.common.retrieveCatalog_func(h)};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.positionGroupByIdAfterId,"PUT",e,b,a)};com.faralam.common.positionItemByIdAfterId=function(e){var d=Ext.getCmp("groupId").getValue();com.faralam.positionItemByIdAfterId=com.faralam.serverURL+"retail/positionItemByIdAfterId";com.faralam.positionItemByIdAfterId=com.faralam.positionItemByIdAfterId+"?"+encodeURI("UID="+sessionStorage.UID);e=JSON.stringify(e);var b=function(g,k,h){com.faralam.common.retrieveGroup_func(d)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.positionItemByIdAfterId,"PUT",e,b,a)};com.faralam.SetCalatogGroupMove=function(b){var a=b.getAttribute("groupId")};com.faralam.SetGroupItemMove=function(a){var b=a.getAttribute("itemId")};com.faralam.drop_catalog=function(d){d.preventDefault();var a=d.dataTransfer.getData("Text");if(d.target.id=="delete_zone_catalog"){if(a=="menu_rearrange"){var k=d.dataTransfer.getData("catalogId");com.faralam.common.RemoveCatalog(k)}}if(d.target.id=="delete_zone_catalogInGroup"){if(a=="groupList_catalog_drag_zone_move_active"){var b=d.dataTransfer.getData("groupId");com.faralam.common.RemoveCatalogGroup(b)}}if(d.target.id=="catalog_itemGroup_panel_Section"){if(a=="all_item_rearrange_icon"){var h=d.dataTransfer.getData("itemId");com.faralam.common.addItemAfterItemToGroup(h)}}if(d.target.id=="delete_zone_catalogGroupItem_img"){if(a=="all_item_rearrange_icon"){Ext.MessageBox.confirm("Confirm","Do you really want to delete this item?",function(n){if(n=="yes"){var o=d.dataTransfer.getData("itemId");var l=d.dataTransfer.getData("itemVersion");var m=d.dataTransfer.getData("priceId");com.faralam.common.retirePriceSASLItem(o,l,m)}})}}if(d.target.id=="catalog_Group_panel_Section"){if(a=="all_group_move_icon"){var b=d.dataTransfer.getData("groupId");com.faralam.common.addGroupAfterGroupToCatalog(b)}}if(d.target.id=="delete_zone_group"){if(a=="all_group_move_icon"){var b=d.dataTransfer.getData("groupId");com.faralam.common.RemoveCatalogGroup(b)}}if(d.target.id=="groupList_catalog_drag_zone_middlebar_active"){if(a=="groupList_catalog_drag_zone_move_active"){var b=d.dataTransfer.getData("groupId");console.log("groupid"+b);var g=d.target.getAttribute("groupId");console.log("insertafter"+g);com.faralam.common.positionGroupByIdAfterId(b,g)}}if(d.target.id=="groupedItemList_catalog_drag_zone_middlebar_active"){if(a=="groupedItemList_catalog_drag_zone_move_active"){var h=d.dataTransfer.getData("itemId");var g=d.target.getAttribute("itemId");var e={groupId:Ext.getCmp("groupId").getValue(),item:{itemVersion:d.dataTransfer.getData("itemVersion"),priceId:d.dataTransfer.getData("priceId"),itemId:d.dataTransfer.getData("itemId")},insertAfterItem:{itemVersion:d.target.getAttribute("itemVersion"),priceId:d.target.getAttribute("priceId"),itemId:d.target.getAttribute("itemId")},serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL};com.faralam.common.positionItemByIdAfterId(e)}}if(d.target.id=="delete_zone_catalogGroupItem_img"){if(a=="groupedItemList_catalog_drag_zone_move_active"){Ext.MessageBox.confirm("Confirm","Are you sure you want to remove the selected item?",function(m){if(m=="yes"){var l={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,groupId:Ext.getCmp("groupId").getValue(),item:{itemVersion:d.dataTransfer.getData("itemVersion"),priceId:d.dataTransfer.getData("priceId"),itemId:d.dataTransfer.getData("itemId")}};com.faralam.common.removeItemFromGroup(l)}})}}if(d.target.id=="menu_drop_zone"){if(a=="menu_rearrange"){var k=d.dataTransfer.getData("catalogId");var g=d.target.getAttribute("catalogId");com.faralam.common.positionCatalogByIdAfterId(k,g)}}};com.faralam.allowDrop_catalog=function(a){console.log("prevent");a.preventDefault()};com.faralam.dragStart_catalog=function(a){if(a.target.id=="catalog_drag_zone_active"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("catalogId",a.target.getAttribute("catalogId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="groupList_catalog_drag_zone_active"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("groupId",a.target.getAttribute("groupId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="groupList_catalog_drag_zone_move_active"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("groupId",a.target.getAttribute("groupId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="groupedItemList_catalog_drag_zone_move_active"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("itemId",a.target.getAttribute("itemId"));a.dataTransfer.setData("itemVersion",a.target.getAttribute("itemVersion"));a.dataTransfer.setData("priceId",a.target.getAttribute("priceId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="all_item_rearrange_icon"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("itemId",a.target.getAttribute("itemId"));a.dataTransfer.setData("itemVersion",a.target.getAttribute("itemVersion"));a.dataTransfer.setData("priceId",a.target.getAttribute("priceId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="all_group_move_icon"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("groupId",a.target.getAttribute("groupId"));a.target.className="after_dragging";com.faralam.fire_count=0}if(a.target.id=="menu_rearrange"){console.log("start"+a.target.id);a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("catalogId",a.target.getAttribute("catalogId"));a.target.className="after_dragging";com.faralam.fire_count=0}};com.faralam.dragEnd_catalog=function(a){console.log("end");a.target.className="before_dragging"};com.faralam.common.removeItemFromGroup=function(e){var d=Ext.getCmp("groupId").getValue();console.log(d);com.faralam.removeItemFromGroup=com.faralam.serverURL+"retail/removeItemFromGroup?";com.faralam.removeItemFromGroup=com.faralam.removeItemFromGroup+encodeURI("UID="+sessionStorage.UID);e=JSON.stringify(e);var b=function(g,k,h){com.faralam.common.retrieveGroup_func(d)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.removeItemFromGroup,"PUT",e,b,a)};com.faralam.common.positionCatalogByIdAfterId=function(k,h){com.faralam.positionCatalogByIdAfterId=com.faralam.serverURL+"retail/positionCatalogByIdAfterId?";com.faralam.positionCatalogByIdAfterId=com.faralam.positionCatalogByIdAfterId+encodeURI("UID="+sessionStorage.UID);var e=encodeURI(sessionStorage.SA);var d=encodeURI(sessionStorage.SL);var g={serviceAccommodatorId:e,serviceLocationId:d,catalogId:k,insertAfterCatalogId:h};g=JSON.stringify(g);var b=function(l,n,m){com.faralam.common.retrieveCatalogs_func()};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.positionCatalogByIdAfterId,"PUT",g,b,a)};com.faralam.common.retirePriceSASLItem=function(g,d,e){com.faralam.retirePriceSASLItem=com.faralam.serverURL+"retail/retirePriceSASLItem";com.faralam.retirePriceSASLItem=com.faralam.retirePriceSASLItem+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID)+"&itemId="+g+"&itemVersion="+d+"&priceId="+e;console.log(com.faralam.retirePriceSASLItem);var b=function(h,l,k){com.faralam.common.RetrieveCatalogInfo("","",1)};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.retirePriceSASLItem,"DELETE",{},b,a)};var order_fl=0;com.faralam.common.rearrangr_by_num=function(){var a=[];$("#order_sum_tab tr").each(function(d,e){var h=$(e).attr("id");var g=h.split("_");key=parseInt(g[1]);a[key]='<tr id="'+h+'">'+$(e).html()+"</tr>"});str="";if(order_fl==0){for(var b=a.length;b>=0;b--){if(a[b]!=""){str+=a[b]}}order_fl=1}else{if(order_fl==1){for(var b=0;b<a.length;b++){if(a[b]!=""){str+=a[b]}}order_fl=0}}$("#order_sum_tab").html("");$("#order_sum_tab").html(str)};com.faralam.common.updateOrderStatus_new=function(h){var l=h.getAttribute("orderUUID");com.faralam.updateOrderStatus=com.faralam.serverURL+"retail/updateOrderStatus";com.faralam.updateOrderStatus=com.faralam.updateOrderStatus+"?"+encodeURI("UID="+sessionStorage.UID);var k=new Date();var g={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,orderUUID:l,orderStatus:"IN_PROCESS",hour:k.getHours(),minute:k.getMinutes(),day:k.getDate(),month:parseInt(k.getMonth()+1),year:k.getFullYear()};g=JSON.stringify(g);console.log(g);var b=function(d,m,e){com.faralam.common.retrieveOrders_func("")};var a=function(d,m,e){};com.faralam.common.sendAjaxRequest(com.faralam.updateOrderStatus,"PUT",g,b,a)};com.faralam.common.retrieveOrders_func=function(e){var d=e;if(e.trim()!=""){d="&sortby="+e}com.faralam.retrieveOrders_func=com.faralam.serverURL+"retail/retrieveOrdersBySASL";com.faralam.retrieveOrders_func=com.faralam.retrieveOrders_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+d);var b=function(l,h,z){var q="";var r=new Array();var A=com.faralam.custom_img_path+"icon_pencil.png";var u=1;var x="order_table_row_odd";if(l.length>0){for(var n=0;n<l.length;n++){if(u%2==0){x="order_table_row_even"}else{x="order_table_row_odd"}var w="";var t=0;for(var m=0;m<l[n].items.length;m++){w+="<li>"+l[n].items[m].item.itemName+"</li>";var y=l[n].items[m].item.price;var k=l[n].items[m].quantity;var g=y*k;t+=parseFloat(g)}t=parseFloat(t);t=parseFloat(Math.round(t*100)/100).toFixed(2);var B="";if(l[n].orderStatus.enumText=="PROPOSED"){B='<img src="'+com.faralam.custom_img_path+'green_star.png" style="height:22px;width:25px;float:left"><input orderUUID="'+l[n].orderUUID+'" onClick="com.faralam.common.updateOrderStatus_new(this)" type="button" style="padding: 2px 9px; background-color: rgb(52, 89, 160); border: 2px solid black; border-radius: 5px; margin-right: 3px; color: rgb(255, 255, 255); font-weight: 600;cursor:pointer" value="ACK">'}q+='<tr id="orrw_'+l[n].localId+'"><td width="110px" class="'+x+'">'+B+l[n].localId+'</td><td width="90px" class="'+x+'">'+l[n].orderRecordLocator+'</td><td width="90px" class="'+x+'">'+l[n].userName+'</td><td width="198px" class="'+x+'"><div style="float:left;text-align:left;padding-left: 30px;"><ul class="order_table_row_ul">'+w+'</ul></div><div style="float:right;"><img style="cursor:pointer" src="'+A+'" width="25" height="26" onclick="com.faralam.common.ShowOnlineOrderList(this)" order="'+l[n].orderRecordLocator+'" customer="'+l[n].userName+'" localId="'+l[n].localId+'" orderUUID="'+l[n].orderUUID+'"/></div></td><td width="108px" class="'+x+'">$ '+t+'</td><td width="125px" class="'+x+'"><div style="float:left; padding-left: 10px;">'+l[n].orderStatus.displayText+'</div><div style="float:right;"><img style="cursor:pointer" src="'+A+'" width="25" height="26" onclick="com.faralam.common.EditOrderStatus(this)" orderId="'+l[n].orderId+'" orderUUID="'+l[n].orderUUID+'" orderRecordLocator="'+l[n].orderRecordLocator+'" userName="'+l[n].userName+'" comment="'+l[n].comment+'" /></div></td><td width="134px" class="'+x+'"><div style="float:left; padding-left: 10px;">'+l[n].deliveryStatus.displayText+'</div><div style="float:right;"><img style="cursor:pointer" src="'+A+'" width="25" height="26" onclick="com.faralam.common.EditOrderDeliveryStatus(this)" deliveryContactName="'+l[n].deliveryContactName+'" orderRecordLocator="'+l[n].orderRecordLocator+'" orderId="'+l[n].orderId+'" orderUUID="'+l[n].orderUUID+'"\tuserName="'+l[n].userName+'" comment="'+l[n].comment+'"  /></div></td><td width="135px" class="'+x+'"><div style="float:left;padding-left:10px;">'+l[n].comment+'</div><div style="float:right;"><img style="cursor:pointer" src="'+A+'" width="25" height="26" onclick="com.faralam.common.EditNote(this)" orderUUID="'+l[n].orderUUID+'" orderRecordLocator="'+l[n].orderRecordLocator+'" comment="'+l[n].comment+'" /></div></td></tr>';u++}}var o='<table width="900px" height="45px" border="0" bgcolor="#324f85"><tr><td width="110px" align="left" valign="top" class="order_table_header">Number <span class="up-triangle" onClick="com.faralam.common.rearrangr_by_num()"></span></td><td width="110px" align="left" valign="top" class="order_table_header">Order <span class="up-triangle" onClick="com.faralam.common.retrieveOrders_func(\'SORT_BY_ORDER\')"></span></td><td width="100px" align="left" valign="top" class="order_table_header"><i style="font-size:13px;">Customer</i><span class="up-triangle" onClick="com.faralam.common.retrieveOrders_func(\'SORT_BY_USER_NAME\')"></span></td><td width="215px" align="left" valign="top" class="order_table_header">Items</td><td width="108px" align="left" valign="top" class="order_table_header">Due</td><td width="135px" align="left" valign="top" class="order_table_header">Order Status <span class="up-triangle" onClick="com.faralam.common.retrieveOrders_func(\'SORT_BY_ORDER_STATUS\')"></span></td><td width="144px" align="left" valign="top" class="order_table_header">Delivery status <span class="up-triangle" onClick="com.faralam.common.retrieveOrders_func(\'SORT_BY_DELIVERY_STATUS\')"></span></td><td width="135px" align="left" valign="top" class="order_table_header">Notes</td></tr></table>';if(q){q=o+'<table id="order_sum_tab" width="900px" style="border: 1px solid white;border-collapse: collapse;height:12px;">'+q+"</table>"}else{q=""}Ext.getCmp("slide_panel_order").update(q)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveOrders_func,"GET",{},b,a)};com.faralam.common.editRetrieveOrders_func=function(d){com.faralam.editRetrieveOrders_func=com.faralam.serverURL+"retail/retrieveOrdersBySASL";com.faralam.editRetrieveOrders_func=com.faralam.editRetrieveOrders_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(k,g,x){var o="";var q=new Array();var y=com.faralam.custom_img_path+"icon_pencil.png";var u=1;var w="order_table_row_odd";if(k.length>0){for(var m=0;m<k.length;m++){if(k[m].localId==d){for(var l=0;l<k[m].items.length;l++){if(u%2==0){w="order_table_row_even"}else{w="order_table_row_odd"}var t=k[m].items[l].item.price;var h=k[m].items[l].quantity;var e=t*h;var r="";if(k[m].items[l].comment!=null){r=k[m].items[l].comment}e=parseFloat(Math.round(e*100)/100).toFixed(2);o+='<tr><td width="224px" class="'+w+'">'+k[m].items[l].item.itemName+'</td><td width="112px" class="'+w+'"><div style="float:left; padding-left: 10px;">$ '+k[m].items[l].item.price+'</div><div style="float:right;"><img src="'+y+'" width="25" height="26" onclick="com.faralam.common.populateOrderItem(this)" itemVersion="'+k[m].items[l].item.itemVersion+'" priceId="'+k[m].items[l].item.priceId+'" itemId="'+k[m].items[l].item.itemId+'" quantity="'+k[m].items[l].quantity+'" orderItemId="'+k[m].items[l].orderItemId+'"  /></div></td><td width="112px" class="'+w+'">'+k[m].items[l].quantity+'</td><td width="224px" class="'+w+'">$ '+e+'</td><td width="224px" class="'+w+'"><div style="float:left; padding-left: 10px;">'+r+'</div><div style="float:right;"><img src="'+y+'" width="25" height="26"  /></div></td></tr>';u++}}}}var n='<table width="900px" height="45px" border="0" bgcolor="#994813"><tr><td width="224px" align="left" valign="top" class="order_table_header">Item</td><td width="112px" align="left" valign="top" class="order_table_header">Price</td><td width="112px" align="left" valign="top" class="order_table_header">Qty</td><td width="224px" align="left" valign="top" class="order_table_header">Total</td><td width="224px" align="left" valign="top" class="order_table_header">Comment</td></table>';if(o){o=n+'<table width="900px" style="border: 1px solid white;border-collapse: collapse;height:12px;">'+o+"</table>"}else{o=""}Ext.getCmp("edit_slide_panel_order").update(o);Ext.getCmp("order_com").update('<p style="color:#fff !important;font-weight:bold;line-height:32px">Order:&nbsp'+sessionStorage.order_order+" </p>");Ext.getCmp("customer_com").update('<p style="color:#fff !important;font-weight:bold;line-height:32px">Customer:&nbsp'+sessionStorage.order_customer+" </p>");Ext.getCmp("count_com").update('<p style="color:#fff !important;font-weight:bold;line-height:32px">Item Count:&nbsp'+parseInt(u-1)+" </p>")};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.editRetrieveOrders_func,"GET",{},b,a)};com.faralam.common.populateOrderItem=function(h){var a=h.getAttribute("itemVersion");var b=h.getAttribute("priceId");var k=h.getAttribute("itemId");var g=h.getAttribute("quantity");var d=h.getAttribute("orderItemId");com.faralam.common.itemPopupSec("UpdateItem",a,b,k,g,d)};com.faralam.common.ShowOnlineOrderList=function(a){sessionStorage.orderItem=a.getAttribute("localId");sessionStorage.orderUUID=a.getAttribute("orderUUID");sessionStorage.order_order=a.getAttribute("order");sessionStorage.order_customer=a.getAttribute("customer");Ext.getCmp("main_tab").down("#OnlineOrder").setDisabled(true);Ext.getCmp("main_tab").down("#EditOnlineOrder").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(24);com.faralam.common.editRetrieveOrders_func(sessionStorage.orderItem)};com.faralam.getSliderPicURLs=function(d,e){com.faralam.retrieve_item_info=com.faralam.serverURL+"retail/retrieveItems";com.faralam.retrieve_item_info=com.faralam.retrieve_item_info+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&status=ALL");var b=function(k,h,r){var g="";var t="";var m="";var q="";var n=0;if(k.items.length>0){t='<div id="slider'+d+'"><a class="buttons next" href="#"></a><a class="buttons prev" href="#"></a><div class="viewport"><ul class="overview" id="overview_slider">';for(var l=0;l<k.items.length;l++){if(k.items[l].itemId==e){n=l-1}var o=l+1;m+='<li id="item-'+o+'" itemName="'+k.items[l].itemName+'" price="'+k.items[l].price+'" itemVersion="'+k.items[l].itemVersion+'" priceId="'+k.items[l].priceId+'" itemId="'+k.items[l].itemId+'"><img src="'+k.items[l].mediaURLs[0]+'" width="170" height="87" /><div style="width:170px;"><span class="item_name">'+k.items[l].itemName+'</span><span class="item_price">$ '+k.items[l].price+"</span></div></li>"}q="</ul></div></div>"}g=t+m+q;Ext.getCmp("pic_panel"+d).update(g);if(d=="CreateItem"){$("#sliderCreateItem").tinycarousel({axis:"y"})}else{if(d=="AddItem"){$("#sliderAddItem").tinycarousel({axis:"y"})}else{if(d=="UpdateItem"){$("#sliderUpdateItem").tinycarousel({start:n,axis:"y"})}}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_item_info,"GET",{},b,a)};com.faralam.common.SubmitUserOrder=function(){com.faralam.SubmitUserOrder=com.faralam.serverURL+"retail/createUserOrder";com.faralam.SubmitUserOrder=com.faralam.SubmitUserOrder+"?"+encodeURI("UID="+sessionStorage.UID);var d="";$("#order_item_table tr").each(function(m,n){var k=$(n).attr("priceid");var q=$(n).attr("itemid");var l=$(n).attr("itemversion");var o=$(n).attr("quantity");d+='{"serviceAccommodatorId" : "'+sessionStorage.SA+'","serviceLocationId"  : "'+sessionStorage.SL+'","priceId" : '+k+',"itemId" : '+q+',"itemVersion" :'+l+',"quantity" :'+o+"},"});d=d.substring(0,d.length-1);var e="["+d+"]";var h=JSON.parse(e);var g={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,userName:"",deliveryContactName:Ext.getCmp("custName").getValue(),deliveryPhone:Ext.getCmp("custTelephone").getValue(),deliveryEmail:Ext.getCmp("custEmail").getValue(),adhoc:Ext.getCmp("adhoc_enable").getValue(),firstName:Ext.getCmp("custName").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,deliveryAddress:{street:"",city:"",state:"",zip:""},items:h};g=JSON.stringify(g);console.log(g);var b=function(k,m,l){Ext.MessageBox.alert("Success","Order added successfully.",function(){Ext.getCmp("CreateOrderForm").getForm().reset(true);$("#order_item_table").html()})};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.SubmitUserOrder,"POST",g,b,a)};com.faralam.common.EditNote=function(g){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a;if(Ext.getCmp("editNote_modal")){var d=Ext.getCmp("editNote_modal");d.destroy(d,new Object())}if(!a){var b=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"order_UUID",name:"",value:""},{xtype:"displayfield",id:"order_no",value:"",width:300},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Submit</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 10",handler:function(){if(b.getForm().isValid()){com.faralam.common.updateOrderComment()}}}]}]},{xtype:"textareafield",fieldLabel:"Notes",labelSeparator:"",emptyText:"",inputWidth:400,height:150,margin:"20 0 0 0",name:"",value:"",id:"note_description",allowBlank:false}]}]}]});a=Ext.widget("window",{title:"Edit Note",id:"editNote_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:b,listeners:{close:function(){b.getForm().reset(true)},show:function(){if(g!=""){Ext.getCmp("order_UUID").setValue(g.getAttribute("orderUUID"));Ext.getCmp("order_no").setValue("Order - "+g.getAttribute("orderRecordLocator"));Ext.getCmp("note_description").setValue(g.getAttribute("comment"))}}}})}a.show()};com.faralam.common.updateOrderComment=function(){com.faralam.updateOrderComment=com.faralam.serverURL+"retail/updateOrderComment";com.faralam.updateOrderComment=com.faralam.updateOrderComment+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={orderUUID:Ext.getCmp("order_UUID").getValue(),comment:Ext.getCmp("note_description").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Notes updated successfully.",function(){Ext.getCmp("editNote_modal").close();com.faralam.common.retrieveOrders_func("")})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.updateOrderComment,"PUT",d,b,a)};com.faralam.common.EditOrderDeliveryStatus=function(g){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a;if(Ext.getCmp("editOrderDeliveryStatus_modal")){var d=Ext.getCmp("editOrderDeliveryStatus_modal");d.destroy(d,new Object())}if(!a){var b=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"deliveryStatus_order_UUID",name:"",value:""},{xtype:"hiddenfield",id:"deliveryStatus_day",name:"",value:""},{xtype:"hiddenfield",id:"deliveryStatus_month",name:"",value:""},{xtype:"hiddenfield",id:"deliveryStatus_year",name:"",value:""},{xtype:"hiddenfield",id:"deliveryStatus_deliveryContactName",name:"",value:""},{xtype:"hiddenfield",id:"deliveryStatus_orderId",name:"",value:""},{xtype:"displayfield",id:"delivery_order_no",value:"",margin:"0 5 0 5",width:130},{xtype:"displayfield",id:"delivery_userName",value:"",margin:"0 5 0 5",width:130},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Submit</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 10",handler:function(){com.faralam.common.updateOrderDeliveryStatus()}}]}]},{xtype:"combo",fieldLabel:"Status",labelSeparator:"",name:"deliveryStatus",emptyText:"",id:"deliveryStatus",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:false,width:485,margin:"20 0 0 0",editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["id","value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(l){var e=[];var k=0;Ext.each(l,function(m){e.push([]);e[k].push(new Array(1));e[k]["id"]=m.enumText;e[k]["value"]=m.displayText;e[k]["value1"]=m.enumText;k=k+1});l=e;return l}},listeners:{exception:function(l,k,e){com.faralam.common.ErrorHandling(k.responseText)}}}})},{xtype:"timefield",fieldLabel:"Est. Time",labelSeparator:"",emptyText:"",inputWidth:400,margin:"20 0 0 0",format:"H:i",minValue:"00:05",maxValue:"23:55",increment:5,name:"",value:"",id:"orderDeliveryStatus_time",allowBlank:false},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;width: 80px;margin-right: 5px;">Contact</span>'},{xtype:"container",layout:"vbox",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Telephone</span>'},{xtype:"textfield",id:"custTelephoneEdit",fieldLabel:"",name:"custTelephoneEdit",allowBlank:false,emptyText:"Telephone",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:200,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"vbox",margin:"0 0 0 5",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Email</span>'},{xtype:"textfield",id:"custEmailEdit",fieldLabel:"",name:"custEmailEdit",allowBlank:false,emptyText:"Email",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:200,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",vtype:"email",vtypeText:"Email format is not valid",listeners:{errorchange:function(n,l,m){var k=Ext.getCmp("custEmailEdit_err");k.setValue("");if(l){if(n.getValue().length>0){k.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{k.setValue('<span style="color:#CF4C35;">'+l+"</span>")}}}}},{xtype:"displayfield",name:"custEmailEdit_err",id:"custEmailEdit_err",fieldLabel:"&nbsp;",margin:"3 0 0 0",value:"",labelSeparator:""}]}]},{xtype:"textfield",fieldLabel:"Notes",labelSeparator:"",emptyText:"",inputWidth:400,margin:"20 0 0 0",name:"",value:"",id:"orderDeliveryStatus_note_description",allowBlank:true},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;width: 80px;margin-right: 5px;">Address</span>'},{xtype:"container",layout:"vbox",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">Street</span>'},{xtype:"textfield",id:"custStreetEdit",fieldLabel:"",name:"custStreetEdit",allowBlank:false,emptyText:"Street",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:130,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"vbox",margin:"0 0 0 5",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">ZIP</span>'},{xtype:"textfield",id:"custZIPEdit",fieldLabel:"",name:"custZIPEdit",allowBlank:false,emptyText:"ZIP",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:130,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]},{xtype:"container",layout:"vbox",margin:"0 0 0 5",items:[{xtype:"displayfield",value:'<span style="float:left;color:#fff;">State</span>'},{xtype:"textfield",id:"custStateEdit",fieldLabel:"",name:"custStateEdit",allowBlank:false,emptyText:"State",msgTarget:"none",margin:"3 0 0 0",labelWidth:1,inputWidth:130,labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;"}]}]}]}]}]});a=Ext.widget("window",{title:"Update Delivery Status",id:"editOrderDeliveryStatus_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:b,listeners:{close:function(){b.getForm().reset(true)},show:function(){if(g!=""){Ext.getCmp("deliveryStatus_order_UUID").setValue(g.getAttribute("orderUUID"));Ext.getCmp("deliveryStatus_orderId").setValue(g.getAttribute("orderId"));Ext.getCmp("deliveryStatus_deliveryContactName").setValue(g.getAttribute("deliveryContactName"));Ext.getCmp("delivery_order_no").setValue("Order: "+g.getAttribute("orderRecordLocator"));Ext.getCmp("delivery_userName").setValue("Customer: "+g.getAttribute("userName"));Ext.getCmp("orderDeliveryStatus_note_description").setValue(g.getAttribute("comment"));Ext.getCmp("deliveryStatus").getStore().removeAll();Ext.getCmp("deliveryStatus").getStore().proxy.url=com.faralam.serverURL+"retail/getOrderDeliveryStatusOptions?&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("deliveryStatus").getStore().reload();com.faralam.common.retrieveOrderDeliveryStatus(g.getAttribute("orderUUID"))}}}})}a.show()};com.faralam.common.updateOrderDeliveryStatus=function(){com.faralam.updateOrderDeliveryStatus=com.faralam.serverURL+"retail/updateOrderDeliveryStatus";com.faralam.updateOrderDeliveryStatus=com.faralam.updateOrderDeliveryStatus+"?"+encodeURI("UID="+sessionStorage.UID);var h=Ext.getCmp("orderDeliveryStatus_time");var g=h.getValue();var d=Ext.Date.format(g,"H:i");var k=d.split(":");var e={deliveryMonth:Ext.getCmp("deliveryStatus_month").getValue(),deliveryYear:Ext.getCmp("deliveryStatus_year").getValue(),deliveryContactName:Ext.getCmp("deliveryStatus_deliveryContactName").getValue(),orderUUID:Ext.getCmp("deliveryStatus_order_UUID").getValue(),deliveryHour:parseInt(k[0]),deliveryDay:Ext.getCmp("deliveryStatus_day").getValue(),deliveryPhone:Ext.getCmp("custTelephoneEdit").getValue(),deliveryEmail:Ext.getCmp("custEmailEdit").getValue(),comment:Ext.getCmp("orderDeliveryStatus_note_description").getValue(),deliveryMinute:parseInt(k[1]),deliveryStatus:Ext.getCmp("deliveryStatus").getValue(),deliveryAddress:{street2:"",zip:Ext.getCmp("custZIPEdit").getValue(),postalCode:"",county:"",street:Ext.getCmp("custStreetEdit").getValue(),state:Ext.getCmp("custStateEdit").getValue(),province:"",timeZone:"",number:"",country:"",city:""},orderId:Ext.getCmp("deliveryStatus_orderId").getValue()};e=JSON.stringify(e);var b=function(l,n,m){Ext.MessageBox.alert("Success","Order delivery status updated successfully.",function(){Ext.getCmp("editOrderDeliveryStatus_modal").close();com.faralam.common.retrieveOrders_func("")})};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.updateOrderDeliveryStatus,"PUT",e,b,a)};com.faralam.common.retrieveOrderDeliveryStatus=function(d){com.faralam.retrieveOrderDeliveryStatus=com.faralam.serverURL+"retail/retrieveOrderDeliveryStatus";com.faralam.retrieveOrderDeliveryStatus=com.faralam.retrieveOrderDeliveryStatus+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&orderUUID="+d);var b=function(g,h,e){if(g){Ext.getCmp("deliveryStatus").setValue(g.deliveryStatus.enumText);Ext.getCmp("orderDeliveryStatus_time").setValue(g.deliveryHour+":"+g.deliveryMinute);Ext.getCmp("deliveryStatus_day").setValue(g.deliveryDay);Ext.getCmp("deliveryStatus_month").setValue(g.deliveryMonth);Ext.getCmp("deliveryStatus_year").setValue(g.deliveryYear);Ext.getCmp("custTelephoneEdit").setValue(g.deliveryPhone);Ext.getCmp("custEmailEdit").setValue(g.deliveryEmail);Ext.getCmp("custStreetEdit").setValue(g.deliveryAddress.street);Ext.getCmp("custZIPEdit").setValue(g.deliveryAddress.zip);Ext.getCmp("custStateEdit").setValue(g.deliveryAddress.state)}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveOrderDeliveryStatus,"GET",{},b,a)};com.faralam.common.EditOrderStatus=function(g){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a;if(Ext.getCmp("editOrderStatus_modal")){var b=Ext.getCmp("editOrderStatus_modal");b.destroy(b,new Object())}if(!a){var d=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"orderStatus_order_UUID",name:"",value:""},{xtype:"hiddenfield",id:"orderStatus_day",name:"",value:""},{xtype:"hiddenfield",id:"orderStatus_month",name:"",value:""},{xtype:"hiddenfield",id:"orderStatus_year",name:"",value:""},{xtype:"displayfield",id:"orderStatus_order_no",value:"",margin:"0 5 0 5",width:120},{xtype:"displayfield",id:"orderStatus_userName",value:"",margin:"0 5 0 5",width:120},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Submit</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"0 0 0 10",handler:function(){if(d.getForm().isValid()){com.faralam.common.updateOrderStatus()}}}]}]},{xtype:"combo",fieldLabel:"Status",labelSeparator:"",name:"orderStatus",emptyText:"",id:"orderStatus",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:false,width:485,margin:"20 0 0 0",editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["id","value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(l){var e=[];var k=0;Ext.each(l,function(m){e.push([]);e[k].push(new Array(1));e[k]["id"]=m.enumText+","+m.color+","+m.id;e[k]["value"]=m.displayText;e[k]["value1"]=m.enumText;k=k+1});l=e;return l}},listeners:{exception:function(l,k,e){com.faralam.common.ErrorHandling(k.responseText)}}}})},{xtype:"timefield",fieldLabel:"Est. Time",labelSeparator:"",emptyText:"",inputWidth:400,margin:"20 0 0 0",format:"H:i",minValue:"00:05",maxValue:"23:55",increment:5,name:"",value:"",id:"orderStatus_time",allowBlank:false},{xtype:"textfield",fieldLabel:"Notes",labelSeparator:"",emptyText:"",inputWidth:400,margin:"20 0 0 0",name:"",value:"",id:"orderStatus_note_description",allowBlank:false}]}]}]});a=Ext.widget("window",{title:"Update Order Status",id:"editOrderStatus_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:d,listeners:{close:function(){d.getForm().reset(true)},show:function(){if(g!=""){Ext.getCmp("orderStatus_order_UUID").setValue(g.getAttribute("orderUUID"));Ext.getCmp("orderStatus_order_no").setValue("Order: "+g.getAttribute("orderRecordLocator"));Ext.getCmp("orderStatus_userName").setValue("Customer: "+g.getAttribute("userName"));Ext.getCmp("orderStatus_note_description").setValue(g.getAttribute("comment"));Ext.getCmp("orderStatus").getStore().removeAll();Ext.getCmp("orderStatus").getStore().proxy.url=com.faralam.serverURL+"retail/getOrderStatusOptions?&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("orderStatus").getStore().reload();com.faralam.common.retrieveOrderStatus(g.getAttribute("orderUUID"))}}}})}a.show()};com.faralam.common.updateOrderStatus=function(){com.faralam.updateOrderStatus=com.faralam.serverURL+"retail/updateOrderStatus";com.faralam.updateOrderStatus=com.faralam.updateOrderStatus+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var h=Ext.getCmp("orderStatus_time");var g=h.getValue();var d=Ext.Date.format(g,"H:i");var k=d.split(":");var e={minute:parseInt(k[1]),orderUUID:Ext.getCmp("orderStatus_order_UUID").getValue(),month:Ext.getCmp("orderStatus_month").getValue(),year:Ext.getCmp("orderStatus_year").getValue(),day:Ext.getCmp("orderStatus_day").getValue(),hour:parseInt(k[0]),notes:Ext.getCmp("orderStatus_note_description").getValue(),orderStatus:Ext.getCmp("orderStatus").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL};e=JSON.stringify(e);var b=function(l,n,m){Ext.MessageBox.alert("Success","Order status updated successfully.",function(){Ext.getCmp("editOrderStatus_modal").close();com.faralam.common.retrieveOrders_func("")})};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.updateOrderStatus,"PUT",e,b,a)};com.faralam.common.retrieveOrderStatus=function(d){com.faralam.retrieveOrderStatus=com.faralam.serverURL+"retail/retrieveOrderStatus";com.faralam.retrieveOrderStatus=com.faralam.retrieveOrderStatus+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&orderUUID="+d);var b=function(g,h,e){if(g){Ext.getCmp("orderStatus").setValue(g.orderStatus.enumText);Ext.getCmp("orderStatus_time").setValue(g.hour+":"+g.minute);Ext.getCmp("orderStatus_day").setValue(g.day);Ext.getCmp("orderStatus_month").setValue(g.month);Ext.getCmp("orderStatus_year").setValue(g.year)}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveOrderStatus,"GET",{},b,a)};com.faralam.common.itemPopupSec=function(e,h,q,n,g,l){var m='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;var k;var b;if(e=="UpdateItem"){k="orderItemCount2";b="Update"}else{if(e=="AddItem"){k="orderItemCount";b="Add"}}if(Ext.getCmp("itemPopupSec_modal")){var o=Ext.getCmp("itemPopupSec_modal");o.destroy(o,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:540px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"hbox",items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"panel",style:"max-width:256px !important;",id:"pic_panel"+e,html:""}]}]},{xtype:"container",layout:"vbox",id:"addItemRightContainer",style:"width:300px;padding-left:20px;padding-bottom: 40px;margin-top:127px;",items:[{xtype:"button",scale:"small",cls:"add_catalog_button",height:26,width:26,style:"margin-top:20px;",handler:function(){var r=Ext.getCmp(""+k+"").getValue();Ext.getCmp(""+k+"").setValue(r+1)}},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"numberfield",id:k,fieldLabel:"",name:"orderItemCount",allowBlank:false,msgTarget:"none",labelWidth:1,inputWidth:30,labelSeparator:"  ",hideTrigger:true,minValue:1,value:1,readOnly:true,style:" background:#fff !important;border:none !important;box-shadow:none !important;color:#000 !important;"},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">'+b+"</span>",style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:110,margin:"0 0 0 40",handler:function(){var y=parseInt($(".overview")[0].style.top,10);y=Math.abs(y);y=Math.round(y);var w=(y/127)+2;var z=$("#overview_slider li:nth-child("+w+")")[0].attributes[1].nodeValue;var x=$("#overview_slider li:nth-child("+w+")")[0].attributes[2].nodeValue;var r=$("#overview_slider li:nth-child("+w+")")[0].attributes[3].nodeValue;var t=$("#overview_slider li:nth-child("+w+")")[0].attributes[4].nodeValue;var A=$("#overview_slider li:nth-child("+w+")")[0].attributes[5].nodeValue;Ext.getCmp("item_add_itemVersion").setValue(r);Ext.getCmp("item_add_priceId").setValue(t);Ext.getCmp("item_add_itemId").setValue(A);Ext.getCmp("item_add_orderItemId").setValue(l);var u=Ext.getCmp(""+k+"").getValue();if(a.getForm().isValid()){if(e=="UpdateItem"){com.faralam.common.updateItemQuantityInOrder()}else{if(e=="AddItem"){com.faralam.common.addItemToOrder()}}}}}]},{xtype:"hiddenfield",id:"item_add_itemVersion",value:""},{xtype:"hiddenfield",id:"item_add_priceId",value:""},{xtype:"hiddenfield",id:"item_add_itemId",value:""},{xtype:"hiddenfield",id:"item_add_orderItemId",value:""},{xtype:"button",scale:"small",margin:"10 0 0 0",cls:"delete_catalog_button",height:26,width:26,handler:function(){var r=Ext.getCmp(""+k+"").getValue();if(r>1){Ext.getCmp(""+k+"").setValue(r-1)}}},{xtype:"displayfield",style:"  background: #fff;width: 90px;top: -6px !important;",value:'<span style="position:absolute !important;  padding: 0 20px;float:right;right:0;color:#000;font-style: italic;font-weight: bold;font-size:12px;">Quantity</span>'},{xtype:"displayfield",value:'<span style="float:right;right:0;color:#000;font-size:12px;">Items will be removed from order</span>'},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Delete</span>',style:" border-radius: 5px !important;cursor:pointer;background:#FF0000 !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:110,margin:"0 0 0 40",handler:function(){var y=parseInt($(".overview")[0].style.top,10);y=Math.abs(y);y=Math.round(y);var w=(y/127)+2;var z=$("#overview_slider li:nth-child("+w+")")[0].attributes[1].nodeValue;var x=$("#overview_slider li:nth-child("+w+")")[0].attributes[2].nodeValue;var r=$("#overview_slider li:nth-child("+w+")")[0].attributes[3].nodeValue;var t=$("#overview_slider li:nth-child("+w+")")[0].attributes[4].nodeValue;var A=$("#overview_slider li:nth-child("+w+")")[0].attributes[5].nodeValue;Ext.getCmp("item_add_itemVersion").setValue(r);Ext.getCmp("item_add_priceId").setValue(t);Ext.getCmp("item_add_itemId").setValue(A);Ext.getCmp("item_add_orderItemId").setValue(l);var u=Ext.getCmp(""+k+"").getValue();com.faralam.common.removeItemFromOrder()}}]}]}]}]});d=Ext.widget("window",{title:'<span style="float:left;color:#000;font-style: italic;font-weight: bold;font-size:16px;padding-left: 30px;">Add Item to Order</span>',id:"itemPopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:580,cls:"white_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){com.faralam.getSliderPicURLs(e,n);if(e=="UpdateItem"){Ext.getCmp(""+k+"").setValue(g)}}}})}d.show()};com.faralam.common.addItemToOrder=function(){com.faralam.addItemToOrder=com.faralam.serverURL+"retail/addItemToOrder";com.faralam.addItemToOrder=com.faralam.addItemToOrder+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={priceItem:{itemVersion:Ext.getCmp("item_add_itemVersion").getValue(),priceId:Ext.getCmp("item_add_priceId").getValue(),itemId:Ext.getCmp("item_add_itemId").getValue()},orderUUID:sessionStorage.orderUUID,quantity:Ext.getCmp("orderItemCount").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Item added successfully.",function(){Ext.getCmp("itemPopupSec_modal").close();if(sessionStorage.orderItem){com.faralam.common.editRetrieveOrders_func(sessionStorage.orderItem)}})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.addItemToOrder,"PUT",d,b,a)};com.faralam.common.updateItemQuantityInOrder=function(){com.faralam.updateItemQuantityInOrder=com.faralam.serverURL+"retail/updateItemQuantityInOrder";com.faralam.updateItemQuantityInOrder=com.faralam.updateItemQuantityInOrder+"?"+encodeURI("UID="+sessionStorage.UID);var d={itemVersion:Ext.getCmp("item_add_itemVersion").getValue(),orderUUID:sessionStorage.orderUUID,orderItemId:Ext.getCmp("item_add_orderItemId").getValue(),quantity:Ext.getCmp("orderItemCount2").getValue(),priceId:Ext.getCmp("item_add_priceId").getValue(),itemId:Ext.getCmp("item_add_itemId").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Item updated successfully.",function(){Ext.getCmp("itemPopupSec_modal").close();if(sessionStorage.orderItem){com.faralam.common.editRetrieveOrders_func(sessionStorage.orderItem)}})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.updateItemQuantityInOrder,"PUT",d,b,a)};com.faralam.common.removeItemFromOrder=function(){com.faralam.removeItemFromOrder=com.faralam.serverURL+"retail/removeItemFromOrder";com.faralam.removeItemFromOrder=com.faralam.removeItemFromOrder+"?"+encodeURI("UID="+sessionStorage.UID);var d={itemVersion:Ext.getCmp("item_add_itemVersion").getValue(),orderUUID:sessionStorage.orderUUID,orderItemId:Ext.getCmp("item_add_orderItemId").getValue(),quantity:Ext.getCmp("orderItemCount2").getValue(),priceId:Ext.getCmp("item_add_priceId").getValue(),itemId:Ext.getCmp("item_add_itemId").getValue()};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Item deleted successfully.",function(){Ext.getCmp("itemPopupSec_modal").close();if(sessionStorage.orderItem){com.faralam.common.editRetrieveOrders_func(sessionStorage.orderItem)}})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.removeItemFromOrder,"PUT",d,b,a)};com.faralam.common.cancelOrder=function(){com.faralam.cancelOrder=com.faralam.serverURL+"retail/cancelOrder";com.faralam.cancelOrder=com.faralam.cancelOrder+"?"+encodeURI("UID="+sessionStorage.UID+"&orderUUID="+sessionStorage.orderUUID);var b=function(d,g,e){Ext.MessageBox.alert("Success","Entire order deleted successfully.")};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.cancelOrder,"DELETE",{},b,a)};com.faralam.common.removePlacedItem=function(a){var b=a.parentNode.parentNode;document.getElementById("order_item_table").deleteRow(b.rowIndex);$("#order_item_table").perfectScrollbar("destroy");$("#order_item_table").perfectScrollbar()};sessionStorage.setings_open=0;com.faralam.common.showSettings=function(){if($("#user_setting_menu").css("opacity")==0){$("#user_setting_menu").css("opacity","1")}else{$("#user_setting_menu").css("opacity","0")}};com.faralam.common.getMemberList_func=function(d){com.faralam.getMemberList_func=com.faralam.serverURL+"usersasl/getMemberList";com.faralam.getMemberList_func=com.faralam.getMemberList_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(e,l,k){var h="";if(e.length>0){for(var g=0;g<e.length;g++){if(d=="MyAppMembers"){h+='<tr><td style="color:#000 !important;padding: 10px 10px;height: 38px;" width="200px"><span onclick="com.faralam.common.ShowMemberInfo(this)" email="'+e[g].email+'" mobile="'+e[g].mobileNumber+'" userName="'+e[g].userName+'" style="cursor:pointer;">'+e[g].userName+"</span></td></tr>"}else{if(d=="HtmlEmailService"){h+='<tr><td style="padding: 0  5px;height: 38px;" width="200px"><input type="checkbox" class="check_style" name="member" value="1"><span style="color: #fff !important;padding-left: 5px;font-size: 16px;">'+e[g].userName+"</span></td></tr>"}else{if(d=="NewsletterService"){if(e[g].isEmailAvailable==true){h+='<tr><td style="padding: 0  5px;height: 38px;border-bottom: 1px solid #bbb;" width="190px"><input type="checkbox" class="check_style" name="member" value="'+e[g].userName+'" id="newsletterMemberId['+g+']" onclick="com.faralam.common.setNewsletterMembers(this)"><span style="color: #000 !important;padding-left: 5px;font-size: 14px;">'+e[g].userName+"</span></td></tr>"}else{h+='<tr><td title="Email is not available of this user" style="padding: 0  5px;height: 38px;opacity:0.5;border-bottom: 1px solid #bbb;" width="190px"><input type="checkbox" disabled class="check_style" name="member" value="'+e[g].userName+'" id="newsletterMemberId['+g+']" onclick="com.faralam.common.setNewsletterMembers(this)"><span style="color: #000 !important;padding-left: 5px;font-size: 14px;">'+e[g].userName+"</span></td></tr>"}}}}}}if(d=="MyAppMembers"){h='<table border="0" id="MyAppMembers_memberList_table">'+h+"</table>";Ext.getCmp("slide_panel_members").update(h);$("#MyAppMembers_memberList_table").perfectScrollbar("destroy");$("#MyAppMembers_memberList_table").perfectScrollbar()}else{if(d=="HtmlEmailService"){h='<table border="0" id="HtmlEmailService_memberList_table">'+h+"</table>";Ext.getCmp("slide_panel_HtmlEmailService").update(h);$("#HtmlEmailService_memberList_table").perfectScrollbar("destroy");$("#HtmlEmailService_memberList_table").perfectScrollbar()}else{if(d=="NewsletterService"){h='<table border="0" style="height: 400px !important;overflow:hidden;" id="NewsletterService_memberList_table"><tr><td style="padding: 0  5px;height: 38px; text-align:center;" width="200px"><h3 style="color:#FFFFFF; border-bottom: 2px solid #fff;font-size:18px;">Members</h3></td></tr>'+h+"</table>";Ext.getCmp("slide_panel_NewsletterService").update(h);$("#NewsletterService_memberList_table").perfectScrollbar("destroy");$("#NewsletterService_memberList_table").perfectScrollbar()}}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getMemberList_func,"GET",{},b,a)};com.faralam.common.ShowMemberInfo=function(b){var a=b.getAttribute("userName");userEmail=b.getAttribute("email");userMobileNo=b.getAttribute("mobile");sessionStorage.userName=a;sessionStorage.userEmail=userEmail;sessionStorage.userMobileNo=userMobileNo;Ext.getCmp("main_tab").down("#MyAppMembers").setDisabled(true);Ext.getCmp("main_tab").down("#MyAppMembersDetails").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(26)};com.faralam.common.customeDateFormat=function(e,g){e=e.substring(0,e.length-4);var b={month:"long",day:"numeric",year:"numeric"};var d;var a=new Date(e);d=a.toLocaleDateString("en-US",b);return d};com.faralam.common.deleteNote=function(a){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete this Item?",function(g){if(g=="yes"){var e=a.getAttribute("noteid");console.log(e);com.faralam.deleteNote=com.faralam.serverURL+"usersasl/deleteNote";com.faralam.deleteNote=com.faralam.deleteNote+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&noteId="+e+"&userName="+sessionStorage.userName);var d=function(h,l,k){if(h.success){Ext.MessageBox.alert("Success","Delete successfully.");com.faralam.common.getMember_func(sessionStorage.userName)}};var b=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.deleteNote,"DELETE",{},d,b)}})};com.faralam.common.getMember_func=function(d){console.log(d);Ext.getCmp("membersHeaderLeft").update("");Ext.getCmp("membersHeaderRight").update("");Ext.getCmp("member_rating_panel").update("");Ext.getCmp("member_coment_panel").update("");Ext.getCmp("member_dislike_panel").update("");Ext.getCmp("member_preference_panel").update("");com.faralam.getMember_func=com.faralam.serverURL+"usersasl/getMember";com.faralam.getMember_func=com.faralam.getMember_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&userName="+d);var b=function(m,e,y){var z='<span style="color:#000;font-size:16px; font-weight: bold;padding-top:3px;">'+sessionStorage.userName+"</span>";var u='<span style="color:#000;font-size:16px; font-weight: bold;padding-top:3px;">Profile of '+sessionStorage.userName+"</span>";Ext.getCmp("membersHeaderLeft").update(z);Ext.getCmp("membersHeaderRight").update(u);document.getElementById("memberCreatMessageButton").setAttribute("un",sessionStorage.userName);var l=m.rating;var k=new Array();for(o=0;o<5;o++){k[o]="";if((o+1)==l){k[o]="checked='checked'"}}var w='<table class="member_table" style="width:740px !important;  border-spacing:0 !important; border-top: 2px solid #a3aec6;width:200px;"><tr><td colspan="2" class="text-align-center" style="border-left: 1px solid #a3aec6;border-right: 1px solid #a3aec6;" id="member_rating_star"><fieldset id="demo1" class="rating"><span style="line-height:35px;margin-right: 20px" >Rating  </span><input class="stars" type="radio" id="star5" name="rating" value="5" onclick="com.faralam.getRating(this)" '+k[4]+' /><label class = "full" for="star5" title="Perfect">&#9733;</label><input class="stars" type="radio" id="star4" name="rating" value="4" onclick="com.faralam.getRating(this)"  '+k[3]+'/><label class = "full" for="star4" title="Good">&#9733;</label><input class="stars" type="radio" id="star3" name="rating" value="3" onclick="com.faralam.getRating(this)"  '+k[2]+'/><label class = "full" for="star3" title="Not that Bad">&#9733;</label><input class="stars" type="radio" id="star2" name="rating" value="2" onclick="com.faralam.getRating(this)"  '+k[1]+'/><label class = "full" for="star2" title="Poor">&#9733;</label><input class="stars" type="radio" id="star1" name="rating" value="1" onclick="com.faralam.getRating(this)"  '+k[0]+'/><label class = "full" for="star1" title="Very Poor">&#9733;</label></fieldset><input type="button" value="Save" style="background-color: #ffffff;border: 2px solid #cccccc;border-radius: 8px;cursor: pointer;padding: 2px;width: 100px;margin: 5px -70px 0;" onclick="com.faralam.common.setRating(this)" /></td><td class="text-align-center"><input type="button" value="Send Personalized App" style="background-color: #006FC0;border: 2px solid #000;border-radius: 8px;cursor: pointer;padding: 4px;width: 200px;margin:  0 -55px 0 -35px;;font-weight:bold;color:#fff" onclick="com.faralam.common.OpenSendPersonalizedApp()" /></td></tr></table>';Ext.getCmp("member_rating_panel").update(w);var r='<table class="member_table" cellspacing="0" style="width:740px !important;"><tr><td class="border_none">Comments</td><td class="border_none">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="border_none"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_add.png" alt"" onclick="com.faralam.common.MemberComment(this)" userName="'+sessionStorage.userName+'"/></td></tr></table>';var q="";if(m.comments.length>0){for(var o=0;o<m.comments.length;o++){var x=com.faralam.common.customeDateFormat(m.comments[o].lastUpdated);q+='<tr><td class="border_none font_normal" style="text-align: left; !important;width:200px;">'+x+'</td><td class="border_none font_normal" style="width:500px;">'+m.comments[o].noteBody+'</td><td class="border_none font_normal" style="width:50px;"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_delete.png" alt"" noteid="'+m.comments[o].noteId+'" onclick="com.faralam.common.deleteNote(this)"/></td></tr>'}}else{q+='<tr><td class="border_none font_normal" style="width:740px; text-align: center !important;" colspan="3">No Comments Found</td></tr>'}var h=r+'<table class="member_table" id="memberComment_table" cellspacing="0" style="width:740px !important;">'+q+"</table>";Ext.getCmp("member_coment_panel").update(h);$("#memberComment_table").perfectScrollbar("destroy");$("#memberComment_table").perfectScrollbar();var g='<table class="member_table" cellspacing="0" style="width:740px !important;"><tr><td class="border_none">Dislike</td><td class="border_none">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="border_none"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_add.png" alt"" onclick="com.faralam.common.MemberDislike(this)" userName="'+sessionStorage.userName+'"/></td></tr></table>';var q="";if(m.dislikes.length>0){for(var o=0;o<m.dislikes.length;o++){var x=com.faralam.common.customeDateFormat(m.dislikes[o].lastUpdated);q+='<tr><td class="border_none font_normal" style="text-align: left; !important;width:200px;">'+x+'</td><td class="border_none font_normal" style="width:500px;">'+m.dislikes[o].noteBody+'</td><td class="border_none font_normal" style="width:50px;"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_delete.png" alt"" noteid="'+m.dislikes[o].noteId+'" onclick="com.faralam.common.deleteNote(this)"/></td></tr>'}}else{q+='<tr><td class="border_none font_normal" style="width:740px; text-align: center !important;" colspan="3">No Dislikes Found</td></tr>'}var t=g+'<table class="member_table" id="memberDislike_table" cellspacing="0" style="width:740px !important;">'+q+"</table>";Ext.getCmp("member_dislike_panel").update(t);$("#memberDislike_table").perfectScrollbar("destroy");$("#memberDislike_table").perfectScrollbar();var n='<table class="member_table" cellspacing="0" style="width:740px !important;"><tr><td class="border_none">Preference</td><td class="border_none">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="border_none"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_add.png" alt"" onclick="com.faralam.common.MemberPreference(this)" userName="'+sessionStorage.userName+'"/></td></tr>';var q="";if(m.preferences.length>0){for(var o=0;o<m.preferences.length;o++){var x=com.faralam.common.customeDateFormat(m.preferences[o].lastUpdated);q+='<tr><td class="border_none font_normal" style="text-align: left; !important;width:200px;">'+x+'</td><td class="border_none font_normal" style="width:500px;">'+m.preferences[o].noteBody+'</td><td class="border_none font_normal" style="width:50px;"><img style="float: right;margin-right: 8px;" width="20" src="'+com.faralam.custom_img_path+'member_delete.png" alt"" noteid="'+m.preferences[o].noteId+'" onclick="com.faralam.common.deleteNote(this)"/></td></tr>'}}else{q+='<tr><td class="border_none font_normal" style="width:740px;text-align: center !important;" colspan="3">No Preferences Found</td></tr>'}var A=n+'<table class="member_table" id="memberPreference_table" cellspacing="0" style="width:740px !important;">'+q+"</table>";Ext.getCmp("member_preference_panel").update(A);$("#memberPreference_table").perfectScrollbar("destroy");$("#memberPreference_table").perfectScrollbar();Ext.getCmp("member_reply_panel").hide()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getMember_func,"GET",{},b,a)};com.faralam.common.MemberComment=function(g){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("MemberComment_modal")){var b=Ext.getCmp("MemberComment_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"addMemberComment_userName",name:"",value:""},{xtype:"textfield",fieldLabel:"Comment",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_comment",allowBlank:false}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Send</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 356",handler:function(){if(a.getForm().isValid()){com.faralam.common.addMemberComment()}}}]}]}]}]});d=Ext.widget("window",{title:"Add Comment",id:"MemberComment_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){if(g!=""){Ext.getCmp("addMemberComment_userName").setValue(g.getAttribute("userName"))}}}})}d.show()};com.faralam.common.addMemberComment=function(){var e=Ext.getCmp("member_comment").getValue();var d=Ext.getCmp("addMemberComment_userName").getValue();com.faralam.addMemberComment=com.faralam.serverURL+"usersasl/addComment";com.faralam.addMemberComment=com.faralam.addMemberComment+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&comment="+e+"&userName="+d);var b=function(g,k,h){Ext.MessageBox.alert("Success","Comment added successfully.",function(){Ext.getCmp("MemberComment_modal").close();com.faralam.common.getMember_func(d)})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.addMemberComment,"POST",{},b,a)};com.faralam.common.MemberDislike=function(g){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("MemberDislike_modal")){var b=Ext.getCmp("MemberDislike_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"addMemberDislike_userName",name:"",value:""},{xtype:"textfield",fieldLabel:"Dislike",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_dislike",allowBlank:false}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Send</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 356",handler:function(){if(a.getForm().isValid()){com.faralam.common.addMemberDislike()}}}]}]}]}]});d=Ext.widget("window",{title:"Add Dislike",id:"MemberDislike_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){if(g!=""){Ext.getCmp("addMemberDislike_userName").setValue(g.getAttribute("userName"))}}}})}d.show()};com.faralam.common.addMemberDislike=function(){var d=Ext.getCmp("member_dislike").getValue();var e=Ext.getCmp("addMemberDislike_userName").getValue();com.faralam.addMemberDislike=com.faralam.serverURL+"usersasl/addDislike";com.faralam.addMemberDislike=com.faralam.addMemberDislike+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&dislike="+d+"&userName="+e);var b=function(g,k,h){Ext.MessageBox.alert("Success","Dislike added successfully.",function(){Ext.getCmp("MemberDislike_modal").close();com.faralam.common.getMember_func(e)})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.addMemberDislike,"POST",{},b,a)};com.faralam.common.MemberPreference=function(d){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var g;if(Ext.getCmp("MemberPreference_modal")){var b=Ext.getCmp("MemberPreference_modal");b.destroy(b,new Object())}if(!g){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"hiddenfield",id:"addMemberPreference_userName",name:"",value:""},{xtype:"textfield",fieldLabel:"Preference",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_preference",allowBlank:false}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Send</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 356",handler:function(){if(a.getForm().isValid()){com.faralam.common.addMemberPreference()}}}]}]}]}]});g=Ext.widget("window",{title:"Add Preference",id:"MemberPreference_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){if(d!=""){Ext.getCmp("addMemberPreference_userName").setValue(d.getAttribute("userName"))}}}})}g.show()};com.faralam.common.addMemberPreference=function(){var d=Ext.getCmp("member_preference").getValue();var e=Ext.getCmp("addMemberPreference_userName").getValue();com.faralam.addMemberPreference=com.faralam.serverURL+"usersasl/addPreference";com.faralam.addMemberPreference=com.faralam.addMemberPreference+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&preference="+d+"&userName="+e);var b=function(g,k,h){Ext.MessageBox.alert("Success","Preference added successfully.",function(){Ext.getCmp("MemberPreference_modal").close();com.faralam.common.getMember_func(e)})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.addMemberPreference,"POST",{},b,a)};com.faralam.common.MemberRegister=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;if(Ext.getCmp("MemberRegister_modal")){var d=Ext.getCmp("MemberRegister_modal");d.destroy(d,new Object())}if(!b){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"textfield",fieldLabel:"Name (Public)",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_firstName",allowBlank:false},{xtype:"textfield",fieldLabel:"Email",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_email",allowBlank:false},{xtype:"textfield",fieldLabel:"Mobile Phone",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_mobile",allowBlank:false}]},{xtype:"container",layout:"hbox",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Save</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 56",handler:function(){var h=Ext.getCmp("member_firstName").getValue();var k=Ext.getCmp("member_email").getValue();var g=Ext.getCmp("member_mobile").getValue();if(h==""){Ext.MessageBox.alert("Information","Please enter member's Name.")}else{if(k==""&&g==""){Ext.MessageBox.alert("Information","Please enter either member's Email or member's Mobile Number.")}else{if(h!=""&&(k!=""||g!="")){com.faralam.common.registerAdhocMember()}else{Ext.MessageBox.alert("Information","Please enter Required fields.")}}}}}]},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Cancel</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 150 10 56",handler:function(){b.hide()}}]}]}]}]});b=Ext.widget("window",{title:"Add Member",id:"MemberRegister_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){}}})}b.show()};com.faralam.common.registerAdhocMember=function(){var e=Ext.getCmp("member_firstName").getValue();var h=Ext.getCmp("member_email").getValue();var d=Ext.getCmp("member_mobile").getValue();var g="";com.faralam.registerAdhocMember=com.faralam.serverURL+"usersasl/registerAdhocMember";com.faralam.registerAdhocMember=com.faralam.registerAdhocMember+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&firstName="+e+"&mobile="+d+"&promoCode="+g+"&email="+h);var b=function(k,m,l){Ext.MessageBox.alert("Success","Member added successfully.",function(){Ext.getCmp("MemberRegister_modal").close();com.faralam.common.getMemberList_func("MyAppMembers")})};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.registerAdhocMember,"POST",{},b,a)};com.faralam.common.MemberSearch=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;if(Ext.getCmp("MemberSearch_modal")){var d=Ext.getCmp("MemberSearch_modal");d.destroy(d,new Object())}if(!b){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"blue_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"textfield",fieldLabel:"Search for Member",labelSeparator:"",emptyText:"",inputWidth:380,margin:"10 0 0 10",name:"",value:"",id:"member_fragment",allowBlank:false}]},{xtype:"container",layout:"hbox",items:[{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 70",items:[{text:'<span style="color:#fff !important;">Search</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 356",handler:function(){if(a.getForm().isValid()){com.faralam.common.searchForMembers()}}}]}]}]}]});b=Ext.widget("window",{title:"Search Member",id:"MemberSearch_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){}}})}b.show()};com.faralam.common.searchForMembers=function(){var d=Ext.getCmp("member_fragment").getValue();com.faralam.searchForMembers=com.faralam.serverURL+"usersasl/searchForMembers";com.faralam.searchForMembers=com.faralam.searchForMembers+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&fragment="+d);var b=function(e,k,h){console.log(e.memberList);var g="";if(e.memberList!={}){$.each(e.memberList,function(m,n){console.log("pp=="+m);var o="";var l="";$.each(n,function(r,q){if(r=="mobileNumber"){o=q}if(r=="email"){l=q}});g+='<tr><td style="color:#000 !important;padding: 10px 10px;height: 38px;" width="200px"><span onclick="com.faralam.common.ShowMemberInfo(this)" email="'+l+'" mobile="'+o+'" userName="'+m+'" style="cursor:pointer;">'+m+"</span></td></tr>"})}if(g!=""){g='<table width="200px" border="0" id="MyAppMembers_memberList_table">'+g+"</table>"}else{g='<table width="200px" border="0" id="MyAppMembers_memberList_table"><tr><td style="color:#000 !important;padding: 10px 10px;height: 38px;" width="200px"><span>No match found</span></td></tr></table>'}Ext.getCmp("slide_panel_members").update(g);$("#MyAppMembers_memberList_table").perfectScrollbar("destroy");$("#MyAppMembers_memberList_table").perfectScrollbar();Ext.getCmp("MemberSearch_modal").close()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.searchForMembers,"GET",{},b,a)};com.faralam.common.OpenSendPersonalizedApp=function(){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("SendPersonalizedApp_modal")){var g=Ext.getCmp("SendPersonalizedApp_modal");g.destroy(g,new Object())}if(!d){var b=sessionStorage.userEmail;var a=sessionStorage.userMobileNo;if(b=="null"){b=""}if(a=="null"){a=""}var e=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},style:"background: #324F85 !important; width:850px !important;",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:1,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:850px !important;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",style:"width:850px !important;",items:[{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"SendPersonalizedApp_email",fieldLabel:"Send to E-Mail",name:"SendPersonalizedApp_email",allowBlank:false,value:b,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter email address",labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(n,l,m){var k=Ext.getCmp("SendPersonalizedApp_email_err");k.setValue("");if(l){if(n.getValue().length>0){k.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{k.setValue('<span style="color:#CF4C35;">'+l+"</span>")}}}}},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("SendPersonalizedApp_email").getValue();var l=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var m=Ext.getCmp("SendPersonalizedApp_access_mode").getValue();if(m===true){if(k.trim()==""){Ext.MessageBox.alert("Information","Please fill up email field.")}else{if(!l.test(k)){Ext.MessageBox.alert("Information","Please enter a valid email.")}else{com.faralam.common.sendAppURLForSASLToEmailNew(k)}}}else{Ext.MessageBox.alert("Information","Please agree with us to receive an message or email .")}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,id:"SendPersonalizedApp_mobile_share_sms",fieldLabel:"Send to Mobile",name:"SendPersonalizedApp_sms",allowBlank:false,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter mobile number",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",minValue:0,minLength:10,maxLength:14,value:a,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{keydown:function(l,m,k){}}},{xtype:"button",text:'<span style="color:#fff;">Send Text Msg</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("SendPersonalizedApp_mobile_share_sms").getValue();var l=Ext.getCmp("SendPersonalizedApp_access_mode").getValue();if(l===true){if(k.trim()==""){Ext.MessageBox.alert("Information","Please enter mobile number .")}else{if(k.length<10||isNaN(k)){Ext.MessageBox.alert("Information","Please enter a valid mobile number.")}else{com.faralam.common.sendAppURLForSASLToMobileviaSMSNew(k)}}}else{Ext.MessageBox.alert("Information","Please agree with us to receive an message or email .")}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px; text-align:center !important">"I certify that the recipient has agreed to receive this Text/E-Mail message"</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",value:true,labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"SendPersonalizedApp_access_mode",id:"SendPersonalizedApp_access_mode",listeners:{click:{element:"el",fn:function(){var k=Ext.getCmp("SendPersonalizedApp_access_mode").getValue();console.log(k);if(k===true){Ext.get("SendPersonalizedApp_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("SendPersonalizedApp_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("SendPersonalizedApp_access_mode-inputEl").removeCls("active_checkbox");Ext.get("SendPersonalizedApp_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"share_email_err",id:"SendPersonalizedApp_email_err",fieldLabel:"&nbsp;",margin:"0 0 0 10",value:"",labelSeparator:""}]}]}]}]});d=Ext.widget("window",{id:"SendPersonalizedApp_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:850,x:70,y:130,style:"background: #324F85 !important; border: 3px solid #000 !important;",items:e,listeners:{close:function(){e.getForm().reset(true)},show:function(){}}})}d.show()};com.faralam.common.sendAppURLForSASLToMobileviaSMSNew=function(d){com.faralam.sendAppURLForSASLToMobileviaSMSNew=com.faralam.serverURL+"html/sendAppURLForSASLToMobileviaSMS";com.faralam.sendAppURLForSASLToMobileviaSMSNew=com.faralam.sendAppURLForSASLToMobileviaSMSNew+"?"+encodeURI("UID="+sessionStorage.UID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&username="+sessionStorage.userName);var b=function(g,h,e){Ext.MessageBox.alert("Success",g.explanation,function(){Ext.getCmp("SendPersonalizedApp_mobile_share_sms").setValue("");Ext.getCmp("SendPersonalizedApp_modal").close()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.sendAppURLForSASLToMobileviaSMSNew,"GET",{},b,a)};com.faralam.common.sendAppURLForSASLToEmailNew=function(d){com.faralam.sendAppURLForSASLToEmailNew=com.faralam.serverURL+"html/sendAppURLForSASLToEmail";com.faralam.sendAppURLForSASLToEmailNew=com.faralam.sendAppURLForSASLToEmailNew+"?"+encodeURI("UID="+sessionStorage.UID+"&toEmail="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&username="+sessionStorage.userName);var b=function(g,h,e){Ext.MessageBox.alert("Success",g.explanation,function(){Ext.getCmp("SendPersonalizedApp_email").setRawValue("");Ext.getCmp("SendPersonalizedApp_modal").close()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.sendAppURLForSASLToEmailNew,"GET",{},b,a)};com.faralam.common.getCommunicationsForSASL_fromfn=function(d){com.faralam.getCommunicationsForSASL_fromfn=com.faralam.serverURL+"communication/getCommunicationsForSASL";com.faralam.getCommunicationsForSASL_fromfn=com.faralam.getCommunicationsForSASL_fromfn+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(g,m,l){console.log(g);var e=g.reviews.length;var h=g.messages.length;var k='<table class="MyAppMessages_left_table" cellspacing="0" width="200px" height="45px" border="0"><tr class="MyAppMessagesBgReview"><td width="230px"><span onclick="com.faralam.common.getMyAppMessagesReviews()">Reviews</span></td><td>'+e+'</td></tr><tr class="MyAppMessagesBgMessage"><td width="230px"><span onclick="com.faralam.common.getMyAppMessagesMessages()">Messages</span></td><td>'+h+'</td></tr></table><img id="my_app_messages_bg" width="200" height="700" src="'+com.faralam.custom_img_path+'my_app_messages_bg.png">';Ext.getCmp("slide_panel_MyAppMessages").update(k);com.faralam.common.getConversationBetweenSASLUser_fromfn(d)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getCommunicationsForSASL_fromfn,"GET",{},b,a)};com.faralam.common.getCommunicationsForSASL_message=function(){com.faralam.getCommunicationsForSASL_message=com.faralam.serverURL+"communication/getCommunicationsForSASL";com.faralam.getCommunicationsForSASL_message=com.faralam.getCommunicationsForSASL_message+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(e,l,k){Ext.getCmp("MyAppMessages_message_panel").show();var h="";if(e.messages.length>0){for(j=0;j<e.messages.length;j++){h+='<tr>\n                                <td width="17%">'+e.messages[j].userName+'</td>\n\t\t\t\t\t\t\t\t<td width="60%">'+e.messages[j].messageBody+'</td>\n\t\t\t\t\t\t\t\t<td width="23%"><button type="button" class="msg_reply_button" onclick="com.faralam.common.getConversationBetweenSASLUser(this)" mb="'+e.messages[j].messageBody+'" urgent="'+e.messages[j].urgent+'" un="'+e.messages[j].userName+'" com_id="'+e.messages[j].communicationId+'" in_reply_to_com_id="'+e.messages[j].inReplyToCommunicationId+'" ts="'+e.messages[j].timeStamp+'" sasl="'+e.messages[j].saslName+'" c_off_id="'+e.messages[j].offset+'">Reply</button></td>\n\t\t\t\t\t\t\t</tr>'}}var d='<table class="MyAppMessages_message_table" style="width:710px !important" >\n\t\t\t\t\t\t\t<tr style="font-size: 16px;">\n\t\t\t\t\t\t\t\t<th width="17%">Member</th>\n\t\t\t\t\t\t\t\t<th width="60%">Message</th>\n\t\t\t\t\t\t\t\t<th width="23%"></th>\n\t\t\t\t\t\t\t</tr>';var g=d+h+"</table>";Ext.getCmp("MyAppMessages_message_panel").update(g);$("#MyAppMessages_message_panel").perfectScrollbar("destroy");$("#MyAppMessages_message_panel").perfectScrollbar()};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.getCommunicationsForSASL_message,"GET",{},b,a)};com.faralam.common.getCommunicationsForSASL=function(d){if(d==true){Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").hide()}com.faralam.getCommunicationsForSASL=com.faralam.serverURL+"communication/getCommunicationsForSASL";com.faralam.getCommunicationsForSASL=com.faralam.getCommunicationsForSASL+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(r,l,u){console.log(r);var w=r.reviews.length;var o=r.messages.length;var g='<table class="MyAppMessages_left_table" cellspacing="0" width="200px" height="45px" border="0"><tr class="MyAppMessagesBgReview"><td width="230px"><span onclick="com.faralam.common.getMyAppMessagesReviews()">Reviews</span></td><td>'+w+'</td></tr><tr class="MyAppMessagesBgMessage"><td width="230px"><span onclick="com.faralam.common.getMyAppMessagesMessages()">Messages</span></td><td>'+o+'</td></tr></table><img id="my_app_messages_bg" width="200" height="700" src="'+com.faralam.custom_img_path+'my_app_messages_bg.png">';Ext.getCmp("slide_panel_MyAppMessages").update(g);var x="";var h="";if(r.reviews.length>0){for(i=0;i<r.reviews.length;i++){h="";for(var k=0;k<10;k+=2){if(r.reviews[i].rating-k==1){h+='<span class="cmntyex-icon ui-icon-cmntyex_half_star"></span>'}else{if(r.reviews[i].rating-k>1){h+='<span class="cmntyex-icon ui-icon-cmntyex_star"></span>'}else{h+='<span class="cmntyex-icon ui-icon-cmntyex_grey_star"></span>'}}}x+='<tr>\n                                                                <td class="border_none font_normal" width="160px">'+h+'</td>\n\t\t\t\t\t\t\t\t<td class="border_none font_normal over_wrap" width="340px">'+r.reviews[i].text_excerpt+'</td>\n\t\t\t\t\t\t\t\t<td class="border_none font_normal" width="100px">'+r.reviews[i].userName+'</td>\n\t\t\t\t\t\t\t\t<td class="border_none font_normal" width="160px"><button type="button" class="msg_reply_btn" style="margin:2px" onclick="com.faralam.common.takeReviewOffline(this)" urgent="'+r.reviews[i].urgent+'" un="'+r.reviews[i].userName+'" com_id="'+r.reviews[i].communicationId+'" in_reply_to_com_id="'+r.reviews[i].inReplyToCommunicationId+'" ts="'+r.reviews[i].timeStamp+'" sasl="'+r.reviews[i].saslName+'" r_off_id="'+r.reviews[i].offset+'" >Take Offline</button></td>\n\t\t\t\t\t\t\t</tr>'}}var q="";var m='<tr><td width="160px" class="border_none font_normal"><h3>Rating</h3></td><td width="340px" class="border_none font_normal"><h3>Feedback</b></td><td width="100px" class="border_none font_normal"><h3>Member</b></td><td width="160px" class="border_none font_normal">&nbsp;</td></tr><tr>';var e=q+'</table><table class="MyAppMessages_review_table" id="MyAppMessagesReviewTable" style="height:auto">'+m+x+"</table>";e='<div id="MyAppMessages_review_div" style="overflow:hidden;height:530px;width:760px !important ;margin-left:10px;border:2px solid black;possition:relative">'+e+"</div>";Ext.getCmp("MyAppMessages_review_panel").update(e);Ext.getCmp("MyAppMessages_review_panel").show();Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").hide();$("#MyAppMessages_review_div").perfectScrollbar("destroy");$("#MyAppMessages_review_div").perfectScrollbar();var z="";if(r.messages.length>0){for(j=0;j<r.messages.length;j++){z+='<tr>\n                                <td width="17%">'+r.messages[j].userName+'</td>\n\t\t\t\t\t\t\t\t<td width="60%">'+r.messages[j].messageBody+'</td>\n\t\t\t\t\t\t\t\t<td width="23%"><button type="button" class="msg_reply_button" onclick="com.faralam.common.getConversationBetweenSASLUser(this)" mb="'+r.messages[j].messageBody+'" urgent="'+r.messages[j].urgent+'" un="'+r.messages[j].userName+'" com_id="'+r.messages[j].communicationId+'" in_reply_to_com_id="'+r.messages[j].inReplyToCommunicationId+'" ts="'+r.messages[j].timeStamp+'" sasl="'+r.messages[j].saslName+'" c_off_id="'+r.messages[j].offset+'">Reply</button></td>\n\t\t\t\t\t\t\t</tr>'}}var y='<table class="MyAppMessages_message_table" style="width:710px !important" >\n\t\t\t\t\t\t\t<tr style="font-size: 16px;">\n\t\t\t\t\t\t\t\t<th width="17%">Member</th>\n\t\t\t\t\t\t\t\t<th width="60%">Message</th>\n\t\t\t\t\t\t\t\t<th width="23%"></th>\n\t\t\t\t\t\t\t</tr>';var t=y+z+"</table>";Ext.getCmp("MyAppMessages_message_panel").update(t);$("#MyAppMessages_message_panel").perfectScrollbar("destroy");$("#MyAppMessages_message_panel").perfectScrollbar()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getCommunicationsForSASL,"GET",{},b,a)};com.faralam.common.getMyCustomerProfile=function(){Ext.getCmp("member_profile_panel").show();Ext.getCmp("member_message_panel").hide();Ext.getCmp("member_reply_panel").hide();Ext.getCmp("member_profile_panel").getEl().slideIn("l",{stopAnimation:true,duration:200});$(".member_profile_panel_tr").css("background","#B8B8E6");$(".member_message_panel_tr").css("background","#FFFFFF");com.faralam.common.getMember_func(sessionStorage.userName)};com.faralam.common.getMyCustomerMessage=function(){Ext.getCmp("member_message_panel").show();Ext.getCmp("member_profile_panel").hide();Ext.getCmp("member_reply_panel").hide();Ext.getCmp("member_message_panel").getEl().slideIn("l",{stopAnimation:true,duration:200});$(".member_message_panel_tr").css("background","#B8B8E6");$(".member_profile_panel_tr").css("background","#FFFFFF");com.faralam.common.getConversationBetweenSASLUserNew2(sessionStorage.userName)};com.faralam.common.getMyAppMessagesReviews=function(){Ext.getCmp("MyAppMessages_review_panel").show();Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").hide();com.faralam.common.getCommunicationsForSASL(true);$(".MyAppMessagesBgReview").css("background","#B8B8E6");$(".MyAppMessagesBgMessage").css("background","#FFFFFF")};com.faralam.common.getMyAppMessagesMessages=function(){Ext.getCmp("MyAppMessages_review_panel").hide();Ext.getCmp("MyAppMessages_message_panel").show();$("#MyAppMessages_message_panel").perfectScrollbar("destroy");$("#MyAppMessages_message_panel").perfectScrollbar();Ext.getCmp("MyAppMessages_reply_container").hide();Ext.getCmp("MyAppMessages_message_panel").getEl().slideIn("l",{stopAnimation:true,duration:200});com.faralam.common.getCommunicationsForSASL_message();$(".MyAppMessagesBgMessage").css("background","#B8B8E6");$(".MyAppMessagesBgReview").css("background","#FFFFFF")};com.faralam.common.getMyAppMessagesReply=function(a){Ext.getCmp("MyAppMessages_review_panel").hide();Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").show();Ext.getCmp("MyAppMessages_reply_container").getEl().slideIn("r",{stopAnimation:true,duration:200});$(".MyAppMessagesBgMessage").css("background","#B8B8E6");$(".MyAppMessagesBgReview").css("background","#FFFFFF");Ext.getCmp("MyAppMessages_mb").setValue(a.getAttribute("mb"));Ext.getCmp("MyAppMessages_urgent").setValue(a.getAttribute("urgent"));Ext.getCmp("MyAppMessages_un").setValue(a.getAttribute("un"));Ext.getCmp("MyAppMessages_com_id").setValue(a.getAttribute("com_id"));Ext.getCmp("MyAppMessages_in_reply_to_com_id").setValue(a.getAttribute("in_reply_to_com_id"));Ext.getCmp("MyAppMessages_ts").setValue(a.getAttribute("ts"));Ext.getCmp("MyAppMessages_sasl").setValue(a.getAttribute("sasl"))};com.faralam.common.sendMessageToUser=function(){console.log("one");com.faralam.sendMessageToUser=com.faralam.serverURL+"communication/sendMessageToUser";com.faralam.sendMessageToUser=com.faralam.sendMessageToUser+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d=Ext.getCmp("MyAppMessages_offset").getValue();var e=Ext.getCmp("MyAppMessages_com_id").getValue();if(d=="null"){d=null}if(e=="null"){e=null}var g={messageBody:Ext.getCmp("MyAppMessages_reply_tf").getValue(),fromServiceLocationId:sessionStorage.SL,urgent:Ext.getCmp("MyAppMessages_urgent").getValue(),userName:Ext.getCmp("MyAppMessages_un").getValue(),communicationId:e,fromServiceAccommodatorId:sessionStorage.SA,inReplyToCommunicationId:d,authorId:sessionStorage.UID};g=JSON.stringify(g);var b=function(k,m,l){Ext.getCmp("MyAppMessages_reply_tf").setValue("");var h=Ext.getCmp("MyAppMessages_un").getValue();com.faralam.common.getConversationBetweenSASLUser_fromfn(h)};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.sendMessageToUser,"POST",g,b,a)};com.faralam.common.sendMessageToUserNew=function(){console.log("two");com.faralam.sendMessageToUser=com.faralam.serverURL+"communication/sendMessageToUser";com.faralam.sendMessageToUser=com.faralam.sendMessageToUser+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var g=Ext.getCmp("MyMemberMessages_offset").getValue();var d=Ext.getCmp("MyMemberMessages_communicationId").getValue();if(g=="null"){g=null}if(d=="null"){d=null}var e={messageBody:Ext.getCmp("Mymember_reply_tf").getValue(),fromServiceLocationId:sessionStorage.SL,urgent:"false",userName:sessionStorage.userName,communicationId:d,fromServiceAccommodatorId:sessionStorage.SA,inReplyToCommunicationId:g,authorId:sessionStorage.UID};e=JSON.stringify(e);console.log("data="+e);console.log("url="+com.faralam.sendMessageToUser);var b=function(h,l,k){Ext.getCmp("Mymember_reply_tf").setValue("");com.faralam.common.getConversationBetweenSASLUserNew3(sessionStorage.userName,"");reply=""};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.sendMessageToUser,"POST",e,b,a)};com.faralam.common.sendMessageToUserNew2=function(g){console.log("three");com.faralam.sendMessageToUser=com.faralam.serverURL+"communication/sendMessageToUser";com.faralam.sendMessageToUser=com.faralam.sendMessageToUser+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={messageBody:g.getAttribute("msgBody"),fromServiceLocationId:sessionStorage.SL,urgent:g.getAttribute("urgent"),userName:g.getAttribute("unm"),communicationId:g.getAttribute("comId"),fromServiceAccommodatorId:sessionStorage.SA,inReplyToCommunicationId:g.getAttribute("replyComId"),authorId:g.getAttribute("auId")};console.log(d);d=JSON.stringify(d);var b=function(e,k,h){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container" style="background-color:transparent" id="MyAppMessages_chat_container"><div class="chat_list">'+reply+"</div></div>";Ext.getCmp("member_reply_panel").update(reply_final);Ext.getCmp("member_message_panel").hide();Ext.getCmp("member_profile_panel").hide();Ext.getCmp("member_reply_panel").show();$("#MyAppMessages_chat_container").perfectScrollbar("destroy");$("#MyAppMessages_chat_container").perfectScrollbar()};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.sendMessageToUser,"POST",d,b,a)};com.faralam.common.getConversationBetweenSASLUser=function(d){console.log(d.getAttribute("com_id"));console.log(d.getAttribute("class"));com.faralam.getConversationBetweenSASLUser=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser=com.faralam.getConversationBetweenSASLUser+"?"+encodeURI("userName="+d.getAttribute("un")+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,h,g){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container" id="MyAppMessages_chat_container3" style="height:586px"><div  class="chat_list">'+reply+"</div></div>";Ext.getCmp("MyAppMessages_review_panel").hide();Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").show();Ext.getCmp("MyAppMessages_reply_container").getEl().slideIn("r",{stopAnimation:true,duration:200});$(".MyAppMessagesBgMessage").css("background","#B8B8E6");$(".MyAppMessagesBgReview").css("background","#FFFFFF");Ext.getCmp("MyAppMessages_mb").setValue(d.getAttribute("mb"));Ext.getCmp("MyAppMessages_urgent").setValue(d.getAttribute("urgent"));Ext.getCmp("MyAppMessages_un").setValue(d.getAttribute("un"));Ext.getCmp("MyAppMessages_in_reply_to_com_id").setValue(d.getAttribute("in_reply_to_com_id"));Ext.getCmp("MyAppMessages_ts").setValue(d.getAttribute("ts"));Ext.getCmp("MyAppMessages_sasl").setValue(d.getAttribute("sasl"));Ext.getCmp("MyAppMessages_com_id").setValue(d.getAttribute("com_id"));Ext.getCmp("MyAppMessages_offset").setValue(d.getAttribute("c_off_id"));Ext.getCmp("MyAppMessages_reply_panel").update(reply_final);$("#MyAppMessages_chat_container3").perfectScrollbar("destroy");$("#MyAppMessages_chat_container3").perfectScrollbar();$("#MyAppMessages_chat_container3").animate({scrollTop:$("#MyAppMessages_chat_container3 ul:last-child").position().top+"px"},1000)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser,"GET",{},b,a)};com.faralam.common.getConversationBetweenSASLUser_fromfn=function(d){console.log("Called"+d);com.faralam.getConversationBetweenSASLUser_fromfn=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser_fromfn=com.faralam.getConversationBetweenSASLUser_fromfn+"?"+encodeURI("userName="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,h,g){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container" id="MyAppMessages_chat_container2" style="height:586px"><div  class="chat_list">'+reply+"</div></div>";Ext.getCmp("MyAppMessages_reply_panel").update(reply_final);$("#MyAppMessages_chat_container2").perfectScrollbar("destroy");$("#MyAppMessages_chat_container2").perfectScrollbar();$("#MyAppMessages_chat_container2").animate({scrollTop:$("#MyAppMessages_chat_container2 ul:last-child").position().top+"px"},1000)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser_fromfn,"GET",{},b,a)};com.faralam.common.getConversationBetweenSASLUserNew=function(d){com.faralam.getConversationBetweenSASLUser=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser=com.faralam.getConversationBetweenSASLUser+"?"+encodeURI("userName="+d.getAttribute("un")+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,l,h){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container" id="MyAppMessages_chat_container"><div class="chat_list">'+reply+"</div></div>";Ext.getCmp("member_message_panel").hide();Ext.getCmp("member_profile_panel").hide();Ext.getCmp("member_reply_panel").show();Ext.getCmp("member_reply_panel").getEl().slideIn("r",{stopAnimation:true,duration:200});$(".member_reply_panel").css("background","#FFFFFF");Ext.getCmp("MyMemberMessages_urgent").setValue(e.urgent);Ext.getCmp("MyMemberMessages_un").setValue(e.userName);Ext.getCmp("MyMemberMessages_ts").setValue(e.timeStamp);Ext.getCmp("MyMemberMessages_aid").setValue(e.authorId);Ext.getCmp("member_reply_panel").update(reply_final);var g=null;var k=null;Ext.getCmp("MyMemberMessages_offset").setValue("null");Ext.getCmp("MyMemberMessages_communicationId").setValue("null");$("#MyAppMessages_chat_container").perfectScrollbar("destroy");$("#MyAppMessages_chat_container").perfectScrollbar();$("#MyAppMessages_chat_container").animate({scrollTop:$("#MyAppMessages_chat_container ul:last-child").position().top+"px"},1000)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser,"GET",{},b,a)};com.faralam.common.getConversationBetweenSASLUserNew2=function(d){console.log("New2");Ext.getCmp("membersHeaderRight").update("");com.faralam.getConversationBetweenSASLUser=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser=com.faralam.getConversationBetweenSASLUser+"?"+encodeURI("userName="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,l,g){Ext.getCmp("member_message_panel").update("");reply="";var k='<table class="MyAppMessages_review_table" id="MyMemberMessagesReviewTable" style="height:auto;width:726px !important"><tr><th class="border_none font_normal" width="160px"><strong>Member</strong></th><th class="border_none font_normal" width="400px"><strong>Message</strong></th><td class="border_none font_normal" width="210px"><button type="button" class="msg_reply_btn" mb="" urgent="" un="'+d+'" com_id="null" in_reply_to_com_id="" ts="" sasl="" offset="null" onclick="com.faralam.common.getConversationBetweenSASLUserNew(this)" id="memberCreatMessageButton">Create Message</button></td></tr>';for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==true){var h=false;reply+="<tr><td><div>"+e.messages[i].userName+"</div></td><td><div>"+e.messages[i].messageBody+'</div></td><td><div><button type="button" class="msg_reply_btn" onclick="com.faralam.common.getConversationBetweenSASLUserNew3('+h+',this)" id="memberReplyMessageButton" msgBody="'+e.messages[i].messageBody+'" urgent="'+e.messages[i].urgent+'"  unm="'+e.messages[i].userName+'" unm="'+e.messages[i].userName+'" comId="'+e.messages[i].communicationId+'" offset="'+e.messages[i].offset+'" replyComId="'+e.messages[i].inReplyToCommunicationId+'" auId="'+e.messages[i].authorId+'">Reply</button></div></td></tr>'}}k+=reply+"</table>";Ext.getCmp("member_message_panel").update(k);$("#member_message_panel").perfectScrollbar("destroy");$("#member_message_panel").perfectScrollbar()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser,"GET",{},b,a)};com.faralam.common.getConversationBetweenSASLUserNew3=function(g,d){if(!g&&d){g=d.getAttribute("unm")}com.faralam.getConversationBetweenSASLUser=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser=com.faralam.getConversationBetweenSASLUser+"?"+encodeURI("userName="+g+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,m,k){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container"  id="MyAppMessages_chat_container" style="height:586px"><div class="chat_list">'+reply+"</div></div>";Ext.getCmp("member_reply_panel").update(reply_final);Ext.getCmp("member_message_panel").hide();Ext.getCmp("member_profile_panel").hide();Ext.getCmp("member_reply_panel").show();$("#MyAppMessages_chat_container").perfectScrollbar("destroy");$("#MyAppMessages_chat_container").perfectScrollbar();$("#MyAppMessages_chat_container").animate({scrollTop:$("#MyAppMessages_chat_container ul:last-child").position().top+"px"},10);if(d){var l=d.getAttribute("comId");var h=d.getAttribute("offset");Ext.getCmp("MyMemberMessages_offset").setValue(h);Ext.getCmp("MyMemberMessages_communicationId").setValue(l)}};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser,"GET",{},b,a)};com.faralam.common.takeReviewOffline=function(d){com.faralam.takeReviewOffline=com.faralam.serverURL+"communication/takeReviewOffline";com.faralam.takeReviewOffline=com.faralam.takeReviewOffline+"?"+encodeURI("UID="+sessionStorage.UID+"&communicationId="+d.getAttribute("com_id")+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(e,h,g){Ext.getCmp("MyAppMessages_review_panel").hide();Ext.getCmp("MyAppMessages_message_panel").hide();Ext.getCmp("MyAppMessages_reply_container").show();$(".MyAppMessagesBgMessage").css("background","#B8B8E6");$(".MyAppMessagesBgReview").css("background","#FFFFFF");Ext.getCmp("MyAppMessages_mb").setValue(d.getAttribute("mb"));Ext.getCmp("MyAppMessages_urgent").setValue(d.getAttribute("urgent"));Ext.getCmp("MyAppMessages_un").setValue(d.getAttribute("un"));Ext.getCmp("MyAppMessages_com_id").setValue(d.getAttribute("com_id"));Ext.getCmp("MyAppMessages_in_reply_to_com_id").setValue(d.getAttribute("in_reply_to_com_id"));Ext.getCmp("MyAppMessages_ts").setValue(d.getAttribute("ts"));Ext.getCmp("MyAppMessages_sasl").setValue(d.getAttribute("sasl"));Ext.getCmp("MyAppMessages_offset").setValue(d.getAttribute("r_off_id"));$("#MyAppMessages_chat_container").perfectScrollbar("destroy");$("#MyAppMessages_chat_container").perfectScrollbar();com.faralam.common.getCommunicationsForSASL_fromfn(d.getAttribute("un"))};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.takeReviewOffline,"GET",{},b,a)};com.faralam.common.getMessagesForUser=function(){com.faralam.getMessagesForUser=com.faralam.serverURL+"communication/getMessagesForUser";com.faralam.getMessagesForUser=com.faralam.getMessagesForUser+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(d,h,g){console.log(d);var e=""};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.getMessagesForUser,"GET",{},b,a)};com.faralam.common.retriveEmailHTMLJSONBySASL=function(){com.faralam.retriveEmailHTMLJSONBySASL=com.faralam.serverURL+"html/retriveEmailHTMLJSONBySASL";com.faralam.retriveEmailHTMLJSONBySASL=com.faralam.retriveEmailHTMLJSONBySASL+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var e=sessionStorage.adsModule;var k=e.split("*");var h=new Array();for(var d=0;d<k.length;d++){if(k[d].trim()!=""){h.push(k[d])}}var g={topic:Ext.getCmp("newsletterTitle").getValue(),newsSummary:Ext.getCmp("newsletterMessage").getValue(),serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,modulesToIncludeInNewsLetter:h};console.log("uril="+com.faralam.retriveEmailHTMLJSONBySASL);g=JSON.stringify(g);console.log(g);var b=function(l,o,n){var m='<span style="color:#000;font-weight:bold">'+l.subject+"</span>";Ext.getCmp("newsletterTitledisplay").update(m);Ext.getCmp("newsletterBodydisplay").update(l.html);$("#newsletterMainDisplay").perfectScrollbar("destroy");$("#newsletterMainDisplay").perfectScrollbar()};var a=function(l,n,m){};com.faralam.common.sendAjaxRequest(com.faralam.retriveEmailHTMLJSONBySASL,"POST",g,b,a)};com.faralam.common.sendEmailHTMLBySASL=function(l){var e="";for(h=0;h<com.faralam.newsletterMembers.length;h++){e+=com.faralam.newsletterMembers[h]+","}e=e.substring(0,e.length-1);com.faralam.sendEmailHTMLBySASL=com.faralam.serverURL+"communication/sendEmailHTMLBySASL";com.faralam.sendEmailHTMLBySASL=com.faralam.sendEmailHTMLBySASL+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d=sessionStorage.adsModule;var b=d.split("*");var a=new Array();for(var h=0;h<b.length;h++){if(b[h].trim()!=""){a.push(b[h])}}var g={message:Ext.getCmp("newsletterMessage").getValue(),title:Ext.getCmp("newsletterTitle").getValue(),usernames:[e],modulesToIncludeInNewsLetter:a};g=JSON.stringify(g);console.log(g);var m=function(n,q,o){Ext.MessageBox.alert("Success"," Sent successfully",function(){l.close()})};var k=function(n,q,o){};com.faralam.common.sendAjaxRequest(com.faralam.sendEmailHTMLBySASL,"POST",g,m,k)};com.faralam.common.setNewsletterMembers=function(b){if(b.checked==true){var a=com.faralam.newsletterMembers.indexOf(b.value);if(a>-1){com.faralam.newsletterMembers.splice(a,1)}com.faralam.newsletterMembers.push(b.value)}else{var a=com.faralam.newsletterMembers.indexOf(b.value);com.faralam.newsletterMembers.splice(a,1)}};com.faralam.common.AdAlertPopup=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("AdAlert_modal")){var b=Ext.getCmp("AdAlert_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:680px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"form",layout:"vbox",items:[{xtype:"textfield",fieldLabel:"Text (160 cr)",labelSeparator:":",emptyText:"",inputWidth:380,margin:"20 0 0 10",name:"",value:"",id:"adAlert_notificationBody",allowBlank:false},{xtype:"container",layout:"hbox",items:[{xtype:"combo",fieldLabel:"Duration",labelSeparator:":",name:"adAlertDuration",emptyText:"",id:"adAlertDuration",queryMode:"local",displayField:"value",valueField:"value1",autoSelect:true,forceSelection:false,width:315,margin:"20 0 0 10",editable:false,store:Ext.create("Ext.data.ArrayStore",{fields:["id","value","value1"],autoLoad:false,proxy:{type:"ajax",url:"",reader:{type:"json",getData:function(k){var g=[];var h=0;Ext.each(k,function(l){g.push([]);g[h].push(new Array(1));g[h]["id"]=l.enumText+","+l.id;g[h]["value"]=l.displayText;g[h]["value1"]=l.enumText;h=h+1});k=g;return k}},listeners:{exception:function(k,h,g){com.faralam.common.ErrorHandling(h.responseText)}}}})},{xtype:"container",defaultType:"button",width:160,style:"text-align:center;",margin:"0 0 0 40",items:[{text:'<span style="color:#fff !important;">Submit</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 0",handler:function(){if(a.getForm().isValid()){com.faralam.common.saveAdAlert()}}}]}]}]}]}]});d=Ext.widget("window",{title:"Ad Alert",id:"AdAlert_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"blue_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){Ext.getCmp("adAlertDuration").getStore().removeAll();Ext.getCmp("adAlertDuration").getStore().proxy.url=com.faralam.serverURL+"communication/getDurationTimesForAdAlert?&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;Ext.getCmp("adAlertDuration").getStore().reload()}}})}d.show()};com.faralam.common.saveAdAlert=function(){com.faralam.saveAdAlart=com.faralam.serverURL+"communication/sendNotification";com.faralam.saveAdAlart=com.faralam.saveAdAlart+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={fromServiceLocationId:sessionStorage.SL,urgent:false,notificationBody:Ext.getCmp("adAlert_notificationBody").getValue(),fromServiceAccommodatorId:sessionStorage.SA,authorId:sessionStorage.UID};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Ad Alert saved successfully.",function(){Ext.getCmp("AdAlert_modal").close()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.saveAdAlart,"POST",d,b,a)};com.faralam.common.HtmlEmailPopup=function(){var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;if(Ext.getCmp("HtmlEmail_modal")){var a=Ext.getCmp("HtmlEmail_modal");a.destroy(a,new Object())}if(!b){var e=Ext.widget("form",{layout:{type:"table",columns:4,align:"stretch"},cls:"blue_bg",border:false,bodyPadding:0,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaults:{frame:false},items:[{xtype:"panel",id:"slide_panel_HtmlEmailService",style:"width:200px !important;",html:"",rowspan:2,height:410},{xtype:"htmleditor",fieldLabel:"",labelSeparator:":",emptyText:"",inputWidth:710,height:350,margin:"0 0 0 0",name:"",value:"",id:"HtmlEmail_Body",allowBlank:false,width:710,style:"background:#fff !important;",colspan:3},{xtype:"component",style:"width: 440px;text-align: center;display: table-cell;vertical-align: middle;padding: 10px 5px;background: #7f7f7f;margin: 0px 0px 0px 40px;height: 77px;",html:'<div class="email_footer_details">I certify that the recipient has agreed<br> to receive this Text/E-Mail message</div>'},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;background: #7f7f7f;margin: 0px 0px 0px 40px;height: 77px;",html:'<div class="switch_email"><input id="HtmlEmail_switch_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'HtmlEmail_agree\')"><label for="HtmlEmail_switch_toggle"></label></div>'},{xtype:"hiddenfield",id:"HtmlEmail_agree",name:"",value:""},{xtype:"container",defaultType:"button",style:"  text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;background: #7f7f7f;margin: 0px 0px 0px 40px;width: 160px;height: 77px;",margin:"0 0 0 40",items:[{text:'<span style="color:#fff !important;">Send E-Mail</span>',style:"background:#007AFF !important;border:2px solid #000 !important;",margin:"20 0 10 0",handler:function(){if(e.getForm().isValid()){com.faralam.common.saveRichEmail()}}}]}]});b=Ext.widget("window",{title:'<div style="padding-top: 5px;width:196px;height: 28px;border-right:2px solid #3459a0;float:left;font-size:14px;color:#ffffff;text-align:center;">Members</div><div style="padding-top: 5px;height: 28px;float:left;font-size:14px;color:#ffffff;text-align:center;margin-left: 280px;">EMail Preview</div>',id:"HtmlEmail_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:920,cls:"blue_modal",items:e,listeners:{close:function(){e.getForm().reset(true)},show:function(){com.faralam.common.getMemberList_func("HtmlEmailService");com.faralam.common.retrieveRichEmail()}}})}b.show()};com.faralam.common.newsLetterPopup=function(){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var l=false;var e=false;var b=false;var a=false;var g;if(Ext.getCmp("HtmlEmail_modal")){var d=Ext.getCmp("HtmlEmail_modal");d.destroy(d,new Object())}if(!g){var k=Ext.widget("form",{layout:{type:"table",columns:4,align:"stretch"},border:false,bodyPadding:0,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaults:{frame:false},items:[{xtype:"container",layout:"vbox",style:"width:700px !important; height:400px !important",id:"newsletterScreen1",items:[{xtype:"button",margin:"10 10 10 595",text:'<span style="color:#fff;">Next</span>',scale:"small",width:75,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("newsletterScreen2").show();Ext.getCmp("newsletterScreen1").hide();Ext.getCmp("newsletterScreen3").hide();Ext.getCmp("newsletterScreen4").hide();com.faralam.common.getModulestoIncludeinNewletter()}},{xtype:"textfield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Title</h3>',inputType:"text",name:"title",allowBlank:false,emptyText:"",id:"newsletterTitle",msgTarget:"none",inputWidth:500,inputHeight:32,margin:"10 0 0 0",labelAlign:"right",labelWidth:120,inputColor:"#000000",style:" border-radius: 3px !important; padding: 15px !important;"},{xtype:"textareafield",fieldLabel:'<h3 style="color: #000000 ; margin-right: 10px;">Message</h3>',inputType:"text",name:"message",allowBlank:false,emptyText:"",id:"newsletterMessage",msgTarget:"none",inputWidth:500,inputHeight:200,margin:"10 0 0 0",labelAlign:"right",labelWidth:120,inputColor:"#000000",style:" border-radius: 3px !important; padding: 15px !important;"}]},{xtype:"container",layout:"vbox",style:"width:700px !important; height:400px !important",id:"newsletterScreen2",items:[{xtype:"container",layout:"hbox",style:"width:700px !important;",items:[{xtype:"button",margin:"10 10 10 10",text:'<span style="color:#fff;">Back</span>',scale:"small",width:75,style:"cursor:pointer;background:#C6C6C6 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("newsletterScreen1").show();Ext.getCmp("newsletterScreen2").hide();Ext.getCmp("newsletterScreen3").hide();Ext.getCmp("newsletterScreen4").hide()}},{xtype:"button",margin:"10 10 10 500",text:'<span style="color:#fff;">Next</span>',scale:"small",width:75,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.retriveEmailHTMLJSONBySASL();Ext.getCmp("newsletterScreen3").show();Ext.getCmp("newsletterScreen1").hide();Ext.getCmp("newsletterScreen2").hide();Ext.getCmp("newsletterScreen4").hide()}}]},{xtype:"container",id:"news_letter_hidden_field",width:180,items:[]},{xtype:"container",layout:"hbox",id:"news_letter_module_switch",style:"height:300px !important;margin: 38px 3px 8px 250px;border:2px solid black",items:[],html:""}]},{xtype:"container",layout:"vbox",style:"width:700px !important; height:400px !important",id:"newsletterScreen3",items:[{xtype:"container",layout:"hbox",style:"width:700px !important;",items:[{xtype:"button",margin:"10 10 10 10",text:'<span style="color:#fff;">Back</span>',scale:"small",width:75,style:"cursor:pointer;background:#C6C6C6 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("newsletterScreen2").show();Ext.getCmp("newsletterScreen1").hide();Ext.getCmp("newsletterScreen3").hide();Ext.getCmp("newsletterScreen4").hide()}},{xtype:"button",margin:"10 10 10 500",text:'<span style="color:#fff;">Next</span>',scale:"small",width:75,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){com.faralam.common.getMemberList_func("NewsletterService");Ext.getCmp("newsletterScreen4").show();Ext.getCmp("newsletterScreen1").hide();Ext.getCmp("newsletterScreen2").hide();Ext.getCmp("newsletterScreen3").hide()}}]},{xtype:"container",layout:"vbox",style:"width:700px !important; height: 350px !important;margin-left:40px;overflow:hidden",id:"newsletterMainDisplay",items:[{xtype:"component",id:"newsletterTitledisplay",html:""},{xtype:"component",id:"newsletterBodydisplay",html:""}]}]},{xtype:"container",layout:{type:"table",columns:4,align:"stretch"},style:"width:700px !important; height:400px !important",id:"newsletterScreen4",items:[{xtype:"panel",id:"slide_panel_NewsletterService",style:"width:210px !important;",cls:"blue_bg",html:"",rowspan:2,height:400},{xtype:"button",margin:"10 10 10 10",text:'<span style="color:#fff;">Back</span>',scale:"small",width:75,style:"cursor:pointer;background:#C6C6C6 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){Ext.getCmp("newsletterScreen3").show();Ext.getCmp("newsletterScreen1").hide();Ext.getCmp("newsletterScreen2").hide();Ext.getCmp("newsletterScreen4").hide()}},{xtype:"button",margin:"10 10 10 -10",text:'<span style="color:#fff;">Send Newsletter</span>',scale:"small",colspan:2,width:125,style:"cursor:pointer;background:#006FC0 !important;border:2px solid #000 !important;box-shadow:none !important;",handler:function(){if(Ext.getCmp("Newsletter_agree").getValue()=="true"&&com.faralam.newsletterMembers[0]!=null){com.faralam.common.sendEmailHTMLBySASL(g)}else{if(Ext.getCmp("Newsletter_agree").getValue()=="false"){Ext.MessageBox.alert("Information","Please select Enable Button.")}else{if(com.faralam.newsletterMembers[0]==null){Ext.MessageBox.alert("Information","Please Select at least one Member.")}}}}},{xtype:"component",colspan:2,style:"width: 350px; text-align: center;display: table-cell;vertical-align: middle;padding: 10px 5px;background: #FFFFFF;margin: 0px 0px 0px 40px;height: 77px;",html:'<div class="email_footer_details" style="color: #000000; font-weight: bold;">I certify that the recipient has agreed<br> to receive this Text/E-Mail message</div>'},{xtype:"component",style:"width: 120px;text-align: center;display: table-cell;vertical-align: bottom;padding: 10px 5px;background: #FFFFFF;margin: 0px 0px 0px 40px;height: 77px;",html:'<div class="switch_email"><input id="Newsletter_agree_toggle" class="cmn-toggle cmn-toggle-round" type="checkbox" onclick="com.faralam.common.operateSwitchCheckbox(this, \'Newsletter_agree\')"><label for="Newsletter_agree_toggle"></label></div>'},{xtype:"hiddenfield",id:"Newsletter_agree",name:"",value:"false"}]}]});g=Ext.widget("window",{title:'<div style="padding-top: 5px; color:#ffffff; text-align:center;">News Letter</div>',id:"NewsLetter_modal",closeAction:"destroy",layout:"fit",resizable:false,modal:true,width:690,style:"background-color:#426FD9;",items:k,listeners:{close:function(){},show:function(){}}})}Ext.getCmp("newsletterScreen1").show();Ext.getCmp("newsletterScreen2").hide();Ext.getCmp("newsletterScreen3").hide();Ext.getCmp("newsletterScreen4").hide();g.show()};com.faralam.common.getModulestoIncludeinNewletter=function(){var d=new Array();com.faralam.getModulestoIncludeinNewletter=com.faralam.serverURL+"html/getModulestoIncludeinNewletter?";com.faralam.getModulestoIncludeinNewletter=com.faralam.getModulestoIncludeinNewletter+encodeURI("&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(k,l,h){sessionStorage.adsModule="";var g='<table id="news_letter_switch_tab" style="margin-left:8px;width:96%;overflow:hidden">';for(var e=0;e<k.length;e++){d.push({xtype:"hiddenfield",id:"module_"+k[e].enumText,name:"module_"+k[e].enumText,value:false});g=g+'<tr style="height: 25px !important; font-weight: bold; font-size: 14px;"><td>'+k[e].displayText+'</td><td><div class="switch_email" style="padding:0px !important; float:left;"><input id="'+k[e].enumText+'" module="'+k[e].enumText+'" class="cmn-toggle cmn-toggle-rounds" onclick="com.faralam.common.enablecheck_email_ads(this,\'module_'+k[e].enumText+'\')" type="checkbox"><label for="'+k[e].enumText+'"></label></div></td></tr>'}g=g+"</table>";Ext.getCmp("news_letter_hidden_field").add(d);Ext.getCmp("news_letter_module_switch").update(g);$("#news_letter_module_switch").perfectScrollbar("destroy");$("#news_letter_module_switch").perfectScrollbar()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getModulestoIncludeinNewletter,"GET",{},b,a)};com.faralam.common.enablecheck_email_ads=function(m,l){if(m!=""){Ext.getCmp(l).setValue($(m).is(":checked"));temp=sessionStorage.adsModule;var h=m.getAttribute("module");var k=Ext.getCmp(l).getValue();if(k=="true"){temp=temp+h+"*";sessionStorage.adsModule=temp}else{var d="";var a=sessionStorage.adsModule;var b=a.split("*");for(var g=0;g<b.length;g++){if(b[g].trim()!=""){if(b[g].trim()!=h.trim()){d=d+b[g]+"*"}}}sessionStorage.adsModule="";sessionStorage.adsModule=d}console.log("ar="+sessionStorage.adsModule)}};com.faralam.common.retrieveRichEmail=function(){com.faralam.retrieveRichEmail=com.faralam.serverURL+"html/retriveEmailHTMLBySASL";com.faralam.retrieveRichEmail=com.faralam.retrieveRichEmail+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(e,g,d){Ext.getCmp("HtmlEmail_Body").setValue("");if(e){Ext.getCmp("HtmlEmail_Body").setValue(e)}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveRichEmail,"GET",{},b,a)};com.faralam.common.saveRichEmail=function(){};com.faralam.common.getSASLCoBrandedCardPNG=function(){if(sessionStorage.SASLNAME){Ext.getCmp("order_site_cards_front").setSrc(com.faralam.serverURL+"html/getSASLCoBrandedCardPNG_front?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);Ext.getCmp("order_site_cards_back").setSrc(com.faralam.serverURL+"html/getSASLCoBrandedCardPNG_back?serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL)}com.faralam.common.sendAjaxRequest(com.faralam.common.getSASLCoBrandedCardPNG,"GET",{},onsuccess,onerror)};com.faralam.common.createPostFromSASL=function(){com.faralam.createPostFromSASL=com.faralam.serverURL+"communication/createPostFromSASLURL";com.faralam.createPostFromSASL=com.faralam.createPostFromSASL+"?"+encodeURI("UID="+sessionStorage.UID);var d={postbody:Ext.getCmp("blogBody").getValue(),title:Ext.getCmp("blogTitle").getValue(),fromServiceAccommodatorId:sessionStorage.SA,fromServiceLocationId:sessionStorage.SL,authorId:sessionStorage.UID,attachementURL:Ext.getCmp("wall_image").src};d=JSON.stringify(d);console.log(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Poll added successfully.",function(){Ext.getCmp("createNewWallPost").close();com.faralam.common.retrievePostsOnSASL(0)})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.createPostFromSASL,"POST",d,b,a)};com.faralam.common.retrievePostsOnSASL=function(h){var e="";var d="";var g=0;com.faralam.retrievePostsOnSASL=com.faralam.serverURL+"communication/retrievePostsOnSASL";com.faralam.retrievePostsOnSASL=com.faralam.retrievePostsOnSASL+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(o,m,w){g=parseInt(o.posts.length)-1;console.log(g);if(o.hasPost==false){e='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">&lt; Previous</a>';d='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">Next &gt;</a>'}else{if(o.hasPost==true&&parseInt(o.posts.length)=="1"){e='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">&lt; Previous</a>';d='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">Next &gt;</a>'}else{if(h==0){e='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">&lt; Previous</a>';d='<a href="#" class="blog_button" onclick="com.faralam.common.retrievePostsOnSASL('+(parseInt(h)+1)+')">Next &gt;</a>'}else{if(h==g){e='<a href="#" class="blog_button" onclick="com.faralam.common.retrievePostsOnSASL('+(parseInt(h)-1)+')">&lt; Previous</a>';d='<a href="#" class="blog_button" style="background: #ccc none repeat scroll 0 0 !important; color: #909090 !important; border: 2px solid #888 !important; cursor:auto !important;">Next &gt;</a>'}else{e='<a href="#" class="blog_button" onclick="com.faralam.common.retrievePostsOnSASL('+(parseInt(h)-1)+')">&lt; Previous</a>';d='<a href="#" class="blog_button" onclick="com.faralam.common.retrievePostsOnSASL('+(parseInt(h)+1)+')">Next &gt;</a>'}}}}var u='<div class="blog_container"><div class="blog_top_buttons"><span style="left: 73px; position: relative;">'+e+'</span><span class="blog_title">My Posts</span><span style="left: 481px; position: relative;">'+d+'</span></div><div class="blog_top_row"><div class="blog_left_inner">';var t="";var n='<div class="blog_container_comm"><div class="blog_top_row_comm"><div class="blog_left_inner_comm" id="blog_left_inner_comm">';var l=[];Ext.each(o.posts,function(z,y){if(y==h){t='<div class="test_blog_text" id="test_blog_text">'+z.title+'</div></div><div class="blog_right_inner"><div class="delete_red_button" onclick="com.faralam.common.deleteCommunications(this)" threadUUID="'+z.communicationId+'"><img src="'+com.faralam.custom_img_path+'icon_delete.png" alt="" style="cursor: pointer;"></div></div><div class="clear"></div></div><div class="blog_bottom_row"><div class="blog_bottom-left_inner"><div class="inner_box" id="inner_box"><img src="'+z.attachementURL+'" width=100% height=100%></div><div class="blog-testing_text" style="color:#000000 !important;" id="testing_text_body">'+z.postbody+'</div><div class="clear"></div></div><div class="blog_bottom-right_inner"><div class="like-dislike_area"><p style="color:#000000 !important;">'+z.likeCount+' Likes</p><p style="color:#000000 !important;">'+z.disLikeCount+" Dislikes</p></div></div>";Ext.each(z.comments,function(C,B){var A="";if(C.hasAttachmenet==true){A='<img src="'+C.attachementURL+'" width=100% height=100% class="blog_img">'}else{A='<span style="color:black !important" class="blog_noimg">No Image Available</span>'}l+='<div class="content_wrap"><div class="up_down_arrows"><div class="down_arrow" onclick="com.faralam.common.flagCommentOnPostFromSASL(this)" messageId = "'+C.offset+'" threadUUID="'+C.communicationId+'" blogno="'+h+'"><img src="'+com.faralam.custom_img_path+'down_arrow.png" alt="down" style="cursor:pointer;"></div><div class="up_arrow" onclick="com.faralam.common.calloutCommentOnPostFromSASL(this)" messageId = "'+C.offset+'" threadUUID="'+C.communicationId+'" blogno="'+h+'"><img src="'+com.faralam.custom_img_path+'up_arrow.png" alt="up" style="cursor:pointer;"></div><div class="clear"></div></div><div class="add_delete_midsection"><div class="owner_one blog_text_span"><span>'+C.userName+"</span>"+A+'</div><div class="gen_text" style="color:black !important; text-align: center; padding-top: 60px; font-weight: bold;">'+C.postbody+'</div><div class="clear"></div></div></div>'})}});var r='<div class="clear"></div></div></div>';var q=u+t+r;Ext.getCmp("blog_text_com").update(q);var k="</div></div></div>";var x=n+l+k;Ext.getCmp("blog_comment").update(x);$("#blog_left_inner_comm").perfectScrollbar("destroy");$("#blog_left_inner_comm").perfectScrollbar()};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePostsOnSASL,"GET",{},b,a)};com.faralam.common.flagCommentOnPostFromSASL=function(k){console.log(k);var d=k.getAttribute("threadUUID");var h=k.getAttribute("messageId");var g=k.getAttribute("blogno");com.faralam.flagCommentOnPostFromSASL=com.faralam.serverURL+"communication/flagCommentOnPostFromSASL";com.faralam.flagCommentOnPostFromSASL=com.faralam.flagCommentOnPostFromSASL+"?"+encodeURI("UID="+sessionStorage.UID+"&threadUUID="+d+"&messageId="+h);var b=function(l,m,e){if(l.success){com.faralam.common.retrievePostsOnSASL(g)}};var a=function(e,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.flagCommentOnPostFromSASL,"GET",{},b,a)};com.faralam.common.calloutCommentOnPostFromSASL=function(k){console.log(k);var d=k.getAttribute("threadUUID");var h=k.getAttribute("messageId");var g=k.getAttribute("blogno");com.faralam.calloutCommentOnPostFromSASL=com.faralam.serverURL+"communication/calloutCommentOnPostFromSASL";com.faralam.calloutCommentOnPostFromSASL=com.faralam.calloutCommentOnPostFromSASL+"?"+encodeURI("UID="+sessionStorage.UID+"&threadUUID="+d+"&messageId="+h);var b=function(l,m,e){if(l.success){com.faralam.common.retrievePostsOnSASL(g)}};var a=function(e,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.calloutCommentOnPostFromSASL,"GET",{},b,a)};com.faralam.common.deleteCommunications=function(a){Ext.MessageBox.confirm("Confirm","Are you sure you want to delete this Blog?",function(g){if(g=="yes"){var e="0";com.faralam.deleteCommunications=com.faralam.serverURL+"communication/deleteCommunications";com.faralam.deleteCommunications=com.faralam.deleteCommunications+"?"+encodeURI("threadUUID="+a.getAttribute("threadUUID"));var d=function(h,l,k){Ext.MessageBox.alert("Success","Blog deleted successfully.",function(){com.faralam.common.retrievePostsOnSASL(e)})};var b=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.deleteCommunications,"DELETE",{},d,b)}})};com.faralam.common.getBusinessAddress=function(){com.faralam.getBusinessAddress=com.faralam.serverURL+"sasl/getBusinessAddress";com.faralam.getBusinessAddress=com.faralam.getBusinessAddress+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(g,h,e){if(g!={}){var d=street=street2=city=zip=state=country="";d=g.number;street=g.street;street2=g.street2;city=g.city;zip=g.zip;state=g.state;country=g.country;Ext.getCmp("drivingNumber").setRawValue(d);Ext.getCmp("drivingStreet").setRawValue(street);Ext.getCmp("drivingStreet2").setRawValue(street2);Ext.getCmp("drivingCity").setRawValue(city);Ext.getCmp("drivingzip").setRawValue(zip);Ext.getCmp("drivingState").setRawValue(state);Ext.getCmp("drivingCountry").setRawValue(country)}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.getBusinessAddress,"GET",{},b,a)};com.faralam.common.drivingdirectionsSwitchCheckbox=function(b,a){if(b!=""){Ext.getCmp(a).setValue($(b).is(":checked"))}};com.faralam.common.retrieveclickToCall_func=function(){com.faralam.retrieveclickToCall_func=com.faralam.serverURL+"sasl/getBusinessTelephone";com.faralam.retrieveclickToCall_func=com.faralam.retrieveclickToCall_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(d,g,e){if(d!={}){Ext.getCmp("telephone").setRawValue(d.businessTelephone)}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveclickToCall_func,"GET",{},b,a)};com.faralam.setBusinessTelephone=function(){com.faralam.setBusinessTelephone=com.faralam.serverURL+"sasl/setBusinessTelephone";com.faralam.setBusinessTelephone=com.faralam.setBusinessTelephone+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={businessTelephone:Ext.getCmp("telephone").getValue()};d=JSON.stringify(d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Business Telephone Set Successfully.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.setBusinessTelephone,"PUT",d,b,a)};com.faralam.common.clicktocallSwitchCheckbox=function(b,a){if(b!=""){Ext.getCmp(a).setValue($(b).is(":checked"))}};com.faralam.common.enableextadd=function(b,a){if(b!=""){Ext.getCmp(a).setValue($(b).is(":checked"));var g=Ext.getCmp(a).getValue();if(g=="true"){Ext.getCmp("ext_add").show(500)}if(g=="false"){Ext.getCmp("ext_add").hide(500)}}};com.faralam.common.htmlEntities=function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};com.faralam.common.retriveCarouselHTMLJSONBySASL=function(){com.faralam.retriveCarouselHTMLJSONBySASL=com.faralam.serverURL+"html/retriveCarouselHTMLJSONBySASL";com.faralam.retriveCarouselHTMLJSONBySASL=com.faralam.retriveCarouselHTMLJSONBySASL+"?"+encodeURI("&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(d,g,e){Ext.getCmp("hiddenWidgetCopy").setRawValue(d.value);Ext.MessageBox.alert("Success","<strong>Please Copy the Below Code</strong><br/><br /><textarea style='width:300px; height:150px;' onclick='this.focus();this.select()'>"+com.faralam.common.htmlEntities(d.value)+"</textarea>")};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retriveCarouselHTMLJSONBySASL,"GET",{},b,a)};com.faralam.sendWidgetGalleryCarouselHTMLBySASL=function(d){com.faralam.sendWidgetGalleryCarouselHTMLBySASL=com.faralam.serverURL+"communication/sendWidgetGalleryCarouselHTMLBySASL";com.faralam.sendWidgetGalleryCarouselHTMLBySASL=com.faralam.sendWidgetGalleryCarouselHTMLBySASL+"?"+encodeURI("&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&toEmail="+d);var b=function(e,h,g){if(e.success){if(e.success){Ext.MessageBox.alert("Success","Email Send.")}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.sendWidgetGalleryCarouselHTMLBySASL,"GET",{},b,a)};com.faralam.common.widgetSwitchCheckbox=function(b,a){if(b!=""){Ext.getCmp(a).setValue($(b).is(":checked"))}};com.faralam.common.createPhoto=function(){com.faralam.createPhoto=com.faralam.serverURL+"contests/createPhotoContestURL";com.faralam.createPhoto=com.faralam.createPhoto+"?"+encodeURI("UID="+sessionStorage.UID);var d=Ext.getCmp("photoQuestion_img").src;if(d==null){d=""}var e={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,activationDate:com.faralam.common.contestDateFormat(Ext.getCmp("newPhotoActivationDate").getSubmitValue())+":PDT",expirationDate:com.faralam.common.contestDateFormat(Ext.getCmp("newPhotoExpirationDate").getSubmitValue())+"Z",contestName:Ext.getCmp("newPhotoContestTitle").getValue(),displayText:Ext.getCmp("newPhotoContestDescription").getValue(),isAnonymous:Ext.getCmp("photo_anonymous").getValue(),contestUUID:null,url:Ext.getCmp("photoQuestion_img").src};e=JSON.stringify(e);console.log(e);var b=function(g,k,h){Ext.MessageBox.alert("Success","Photo contest added successfully.",function(){sessionStorage.photo_nxt_prev_id="";Ext.getCmp("newPhotoMainContainer").getForm().reset(true);Ext.getCmp("photo_anonymous").setValue(false);Ext.getCmp("photoQuestion_img").setSrc("");Ext.getCmp("photo_agree").setValue(false);$("#photo_anonymous_toggle").attr("checked",false);$("#photo_agree_toggle").attr("checked",false);Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(false);Ext.getCmp("main_tab").down("#CreateNewPhotoContest").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(33)})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.createPhoto,"POST",e,b,a)};com.faralam.common.retrievePhotoContestPortal_func_nxt_prev=function(a){if(a=="NEXT"){sessionStorage.photo_nxt_prev_id=sessionStorage.photo_nxt_UUID}if(a=="PREV"){sessionStorage.photo_nxt_prev_id=sessionStorage.photo_prev_UUID}com.faralam.common.retrievePhotoContestPortal()};com.faralam.common.retrievePhotoContestPortal=function(){var d="";if(sessionStorage.photo_nxt_prev_id){var d="contestUUID="+sessionStorage.photo_nxt_prev_id}com.faralam.retrievePhotoContestPortal=com.faralam.serverURL+"contests/retrievePhotoContestPortal";com.faralam.retrievePhotoContestPortal=com.faralam.retrievePhotoContestPortal+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&"+d);var b=function(e,g,y){if(e.hasContest){sessionStorage.photo_nxt_UUID=e.nextContestUUID;sessionStorage.photo_prev_UUID=e.previousContestUUID;sessionStorage.PhcontestUUID=e.contest.contestUUID;sessionStorage.PhcontestName=e.contest.contestName;sessionStorage.Phquestion=e.contest.displayText;sessionStorage.contest_shareurl=e.contest.shareURL;sessionStorage.contest_type="PHOTO";Ext.getCmp("photo_hid_preview_url").setValue(e.contest.previewURL);var E='<div style="background-color: rgb(255, 255, 255); border: 1px solid black; height: 200px; width: 250px; margin-left: 20px;"></div>';Ext.getCmp("big_img").update(E);Ext.getCmp("photo_is_select").setValue("0");if(e.hasPrevious){Ext.getCmp("photo_prev_btn").show()}else{Ext.getCmp("photo_prev_btn").hide()}if(e.hasNext){Ext.getCmp("photo_next_btn").show()}else{Ext.getCmp("photo_next_btn").hide()}Ext.getCmp("photo_share_btn").setDisabled(true);if(e.contest.contestStatus.enumText!="PROPOSED"&&e.contest.contestStatus.enumText!="ACTIVE"){$("#pool_dv_layer").remove();var G='<div id="pool_dv_layer" style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; top: 169px; border-radius: 5px; height: 203px; left: 16px; width: 627px;"></div>';$("#photoMainContainer").append(G)}if(e.showActivateButton){Ext.getCmp("photo_share_btn").setDisabled(true);Ext.getCmp("photo_terminate_btn").hide();Ext.getCmp("photo_activate_btn").show();$("#pool_dv_layer").remove();var G='<div id="pool_dv_layer" style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; border-radius: 5px; left: 16px; top: 364px; height: 316px; width: 600px;"></div>';$("#photoMainContainer").append(G)}else{Ext.getCmp("photo_activate_btn").hide()}if(e.showTerminateButton){Ext.getCmp("photo_share_btn").setDisabled(false);Ext.getCmp("photo_activate_btn").hide();Ext.getCmp("photo_terminate_btn").show();$("#pool_dv_layer").remove();var G='<div id="pool_dv_layer" style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; top: 169px; border-radius: 5px; height: 200px; left: 16px; width: 627px;"></div>';$("#photoMainContainer").append(G)}else{Ext.getCmp("photo_terminate_btn").hide()}var n=e.contest.activationDate;if(n){var m=n.split("T");Ext.getCmp("photoActivationDate").setValue(m[0])}var F=e.contest.expirationDate;if(F){var l=F.split("T");Ext.getCmp("photoExpirationDate").setValue(l[0])}Ext.getCmp("photoTitle").setValue(e.contest.contestName);var z='<p style="font-weight:bold;font-size:16px">status&nbsp;:&nbsp;'+e.contest.contestStatus.displayText+"</p>";Ext.getCmp("photocontestStatus").update(z);var D='<div id="photo_details" class="photo_question_data" style="overflow:hidden;position:relative"><img src="'+e.contest.imageURL+'" style="height:100px;margin:5px;float:left"><p style="color:#000;font-size:15px;font-weight:500">'+e.contest.displayText+'</p<div class="clear"></div></div>';Ext.getCmp("photoContestDetails").update("");Ext.getCmp("photoContestDetails").update(D);$("#photo_details").perfectScrollbar("destroy");$("#photo_details").perfectScrollbar();var r='<div id="photo_prize_dv" style="overflow:hidden;position:relative" class="photo_question_data"><ul id="photo_prize">';for(var A=0;A<e.contest.prizes.length;A++){r=r+'<li style="height:30px;border:1px solid #000;margin:5px 5px 0px 5px"><p style="float:left;width:80%;height:100%;border-right:1px solid black;color:black;line-height:25px;padding-left:5px">'+e.contest.prizes[A].displayText+'</p><center><p style="color:#000;line-height:30px">'+e.contest.prizes[A].quantity+"</p></center></li>"}r+="</ul></div>";if(!e.contest.prizes.length){Ext.getCmp("photoPrizes").update('<div id="photo_prize_dv" style="overflow:hidden;position:relative" class="photo_question_data"></div>')}Ext.getCmp("photoPrizes").update(r);$("#photo_prize_dv").perfectScrollbar("destroy");$("#photo_prize_dv").perfectScrollbar();sessionStorage.photo_prize_data=JSON.stringify(e.contest.prizes);if(Ext.getCmp("photoPrizePopupSec_modal")){com.faralam.common.populatephotoContestInnerData()}var C='<div class="photo_heading_area"><div style="width: 100px; margin: 0px;" class="photo_heading_answer"><div class="photo_question">Entries</div></div><div class="photo_heading_answer" style="width: 191px;"><div class="photo_question" style="font-weight:400;">Responses:&nbsp;'+e.photoContestEntries.entries.length+'</div></div><div class="photo_heading_answer" style="width: 191px;"><div class="photo_question" style="font-weight:400;">Days left:&nbsp;'+e.contest.daysLeft+'</div></div><div class="clear"></div></div>';Ext.getCmp("entry_head").update(C);if(e.photoContestEntries.hasEntry){var o="";var t=0;for(t=0;t<e.photoContestEntries.entries.length;t++){var u="";var x="";var B='<div id="photo_entry_rearrange_drop_zone" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" ondragenter="com.faralam.dragEnter_contest(event)" ondragleave="com.faralam.dragLeave_contest(event)" class="photo_re_normal"></div>';x='<img src="'+com.faralam.custom_img_path+'icon_move.png" draggable="true" id="photo_drag_entry" ondragend="com.faralam.dragEnd_contest(event)" contestUUID="'+e.photoContestEntries.entries[t].contestUUID+'" entryId="'+e.photoContestEntries.entries[t].entryId+'"  entryForUID="'+e.photoContestEntries.entries[t].entryForUID+'" imageURL="'+e.photoContestEntries.entries[t].imageURL+'" userName="'+e.photoContestEntries.entries[t].userName+'" ondragstart="com.faralam.dragStart_contest(event)"  alt="" style="z-index: 999; position: absolute; margin-left: -28px;cursor:move" >';o=o+'<div class="photo_entries_div" >'+x+'<img style="width: 100%; border:none; float: left; height: 100%;" src="'+e.photoContestEntries.entries[t].imageURL+'" userName="'+e.photoContestEntries.entries[t].userName+'" onclick="com.faralam.common.set_big_src(this)"></div>'+B}var q='<div id="photo_entries_data">'+o+"</div>";Ext.getCmp("photoEntries").update(q);$("#photo_entries_data").perfectScrollbar("destroy");$("#photo_entries_data").perfectScrollbar()}else{Ext.getCmp("photoEntries").update('<div id="photo_entries_data"></div>')}if(e.contestWinners.hasWinners){var k="";for(var w=0;w<e.contestWinners.winners.length;w++){var u="";var x="";x='<img src="'+com.faralam.custom_img_path+'icon_move.png" draggable="true" id="photo_drag_entry" alt="" style="z-index: 999; position: absolute; margin-left: -28px;cursor:move" >';k=k+'<div class="photo_winners_div"  style="margin: 5px 0 5px 5px;">'+x+'<img style="width: 100%; border:none; float: left; height: 100%;cursor:pointer" userName="'+e.contestWinners.winners[w].userName+'" onclick="com.faralam.common.set_big_src(this)" src="'+e.contestWinners.winners[w].imageURL+'"></div>'}var h='<div id="photo_winners_data" >'+k+"</div>";Ext.getCmp("photoWinners").update(h);$("#photo_winners_data").perfectScrollbar("destroy");$("#photo_winners_data").perfectScrollbar()}else{Ext.getCmp("photoWinners").update('<div id="photo_winners_data"></div>')}}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePhotoContestPortal,"GET",{},b,a)};com.faralam.common.set_big_src=function(d){var a=d.getAttribute("userName");console.log("unm="+a);sessionStorage.photo_userName=a;Ext.getCmp("photo_is_select").setValue("1");var g=d.getAttribute("src");var b='<div style="background-color: rgb(255, 255, 255); border: 1px solid black; height: 200px; width: 250px; margin-left: 20px;"><img src="'+g+'" style="height:100%;width:100%;float:left"></div>';Ext.getCmp("big_img").update(b)};com.faralam.common.msg_sec_open_photo=function(){if(Ext.getCmp("photo_is_select").getValue()=="1"){sessionStorage.contest_usrnm=sessionStorage.photo_userName;Ext.getCmp("main_tab").down("#PhotoContest").setDisabled(true);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(49);Ext.getCmp("ContestMessage_pageHeader").update('<span style="width:920px !important;position: absolute;text-align:center;color:#568;font-size:20px; font-weight: bold;top:0px !important;margin-top:-12px">'+sessionStorage.contest_usrnm+"</span>")}else{Ext.MessageBox.alert("Error","Please select any entry.")}};com.faralam.common.photoPrizePopupSec=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a;if(Ext.getCmp("photoPrizePopupSec_modal")){var b=Ext.getCmp("photoPrizePopupSec_modal");b.destroy(b,new Object())}if(!a){var d=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:800px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<div class="add_answer_text">Add / Delete Prizes</div>'},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add New Picture</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:170,margin:"0 0 0 255",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/pollcontestprize_crop.html")}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 25",items:[{xtype:"textfield",fieldLabel:'<p style="margin: -1px;color: #000;font-size: 15px;font-weight: bold;">QTY</p>',labelStyle:"color:#000 !important;",labelSeparator:"",labelAlign:"top",emptyText:"Prize Qty",inputWidth:75,margin:"20 0 0 10",name:"",value:"",id:"photoPrizeQty",allowBlank:false},{xtype:"textfield",fieldLabel:'<p style="margin: -1px;color: #000;font-size: 15px;font-weight: bold;">Prize Name</p>',labelStyle:"color:#000 !important;",labelSeparator:"",labelAlign:"top",emptyText:"Prize Name",inputWidth:300,margin:"20 0 0 20",name:"",value:"",id:"photoPrizeName",allowBlank:false},{xtype:"image",width:160,height:150,src:"",margin:"0 0 0 27",style:"background:#E81212;",id:"photoPrize_img"},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:80,margin:"40 0 0 35",handler:function(){var h=Ext.getCmp("photoPrizeQty").getValue();var g=Ext.getCmp("photoPrizeName").getValue();if(h.trim()==""){Ext.MessageBox.alert("Error","Please Enter Quantity");return false}else{if(isNaN(h)){Ext.MessageBox.alert("Error","Quantity should be numeric");return false}else{if(g.trim()==""){Ext.MessageBox.alert("Error","Please Enter prize name");return false}else{com.faralam.common.addPhotoContestPrizeURL(h,g)}}}}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"component",id:"photo_prizeDetailsTable",html:""}]}]}]}]});a=Ext.widget("window",{title:"",id:"photoPrizePopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:800,cls:"white_modal",style:"border: 2px solid black;",items:d,listeners:{close:function(){d.getForm().reset(true)},show:function(){com.faralam.common.populatephotoContestInnerData()}}})}a.showAt(50,100)};com.faralam.common.activatePhotoContest=function(){com.faralam.activatePhotoContest=com.faralam.serverURL+"contests/activatePhotoContest";com.faralam.activatePhotoContest=com.faralam.activatePhotoContest+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.PhcontestUUID+"&activate=true");var b=function(e,g,d){com.faralam.common.retrievePhotoContestPortal()};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.activatePhotoContest,"PUT",{},b,a)};com.faralam.common.terminatePhotoContest=function(){com.faralam.terminatePhotoContest=com.faralam.serverURL+"contests/terminatePhotoContest";com.faralam.terminatePhotoContest=com.faralam.terminatePhotoContest+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.PhcontestUUID);var b=function(e,g,d){com.faralam.common.retrievePhotoContestPortal()};var a=function(d,g,e){};Ext.MessageBox.confirm("Confirm","Do you really want to terminate the photo contest?",function(d){if(d=="yes"){com.faralam.common.sendAjaxRequest(com.faralam.terminatePhotoContest,"PUT",{},b,a)}})};com.faralam.common.deletePhotoContestEntry=function(g,d,e){com.faralam.deletePhotoContestEntry=com.faralam.serverURL+"contests/deletePhotoContestEntry";com.faralam.deletePhotoContestEntry=com.faralam.deletePhotoContestEntry+"?"+encodeURI("UID="+sessionStorage.UID+"&contestUUID="+e+"&entryId="+g+"&entryForUID="+d);var b=function(k,l,h){com.faralam.common.retrievePhotoContestPortal()};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.deletePhotoContestEntry,"DELETE",{},b,a)};com.faralam.common.addPhotoContestPrizeURL=function(h,d){com.faralam.addPhotoContestPrizeURL=com.faralam.serverURL+"contests/addPhotoContestPrizeURL";com.faralam.addPhotoContestPrizeURL=com.faralam.addPhotoContestPrizeURL+"?"+encodeURI("UID="+sessionStorage.UID);var g=Ext.getCmp("photoPrize_img").src;if(!g){g=null}var e={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,contestUUID:sessionStorage.PhcontestUUID,quantity:h,contestPrizeName:d,displayText:d,hiddenText:"Employees not eligible",url:Ext.getCmp("photoPrize_img").src};e=JSON.stringify(e);var b=function(k,m,l){Ext.MessageBox.alert("Success","Poll prize added successfully.",function(){Ext.getCmp("photoPrizeQty").setValue("");Ext.getCmp("photoPrizeName").setValue("");Ext.getCmp("photoPrize_img").setSrc("");com.faralam.common.retrievePhotoContestPortal()})};var a=function(k,m,l){};com.faralam.common.sendAjaxRequest(com.faralam.addPhotoContestPrizeURL,"POST",e,b,a)};com.faralam.common.populatephotoContestInnerData=function(){var d=JSON.parse(sessionStorage.photo_prize_data);var b='<div class="bottom_scroll" id="photo_prize_contain_block">';if(d.length>0){for(i=0;i<d.length;i++){var a='<div class="add_prof_imagedetails"><div class="add_prof_text">No Image Available</div></div>';if(d[i].imageUrl){a='<div class="add_prof_imagedetails"><div class="add_prof_pic"><img width="140" height="91" alt="" src="'+d[i].imageUrl+'"></div></div>'}b+='<div class="add_delete_bottomsection"><div class="add_minus_icon"><img alt="" contestPrizeId="'+d[i].contestPrizeId+'" contestUUID="'+d[i].contestUUID+'" onclick="com.faralam.common.deletePhotoContestPrize(this)" src="'+com.faralam.custom_img_path+'icon_delete.png"></div><div class="add_profile_list prizeList_section"><div class="add_prof_no"><p>'+d[i].contestPrizeIndex+"</p></div>"+a+'<div style="font-size: 16px;" class="add_prof_imageoption prizeName_section"><p>'+d[i].displayText+'</p></div><div class="add_prof_move"><img class="move_icon_position" alt="" src="'+com.faralam.custom_img_path+'icon_move.png"></div></div></div>'}b+="</div>"}Ext.getCmp("photo_prizeDetailsTable").update(b);$("#photo_prize_contain_block").perfectScrollbar("destroy");$("#photo_prize_contain_block").perfectScrollbar()};com.faralam.common.deletePhotoContestPrize=function(d){com.faralam.deletePhotoContestPrize=com.faralam.serverURL+"contests/deletePhotoContestPrize";com.faralam.deletePhotoContestPrize=com.faralam.deletePhotoContestPrize+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+d.getAttribute("contestUUID")+"&contestPrizeId="+d.getAttribute("contestPrizeId"));console.log(d.getAttribute("contestUUID"));var b=function(e,h,g){Ext.MessageBox.alert("Success","Prize deleted successfully.",function(){com.faralam.common.retrievePhotoContestPortal()})};var a=function(e,h,g){};Ext.MessageBox.confirm("Confirm","Do you really want to remove prize?",function(g){if(g=="yes"){com.faralam.common.sendAjaxRequest(com.faralam.deletePhotoContestPrize,"DELETE",{},b,a)}})};com.faralam.common.awardPhotoContestPrize=function(g){com.faralam.awardPhotoContestPrize=com.faralam.serverURL+"contests/awardPhotoContestPrize";com.faralam.awardPhotoContestPrize=com.faralam.awardPhotoContestPrize+"?"+encodeURI("UID="+sessionStorage.UID);var d={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,contestUUID:g.getAttribute("contestUUID"),prizeId:g.getAttribute("prizeId"),quantity:g.getAttribute("quantity"),entryId:g.getAttribute("entryId"),entryForUID:g.getAttribute("entryForUID")};d=JSON.stringify(d);console.log("Photo"+d);var b=function(e,k,h){Ext.getCmp("photo_contest_award_modal").close();com.faralam.common.retrievePhotoContestPortal()};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.awardPhotoContestPrize,"POST",d,b,a)};com.faralam.common.contest_share_sms=function(d){var e=sessionStorage.contest_type;var g=com.faralam.serverURL;switch(e){case"POLL":g+="html/sendPollContestURLToMobileviaSMS?"+encodeURI("UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.contestUUID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);break;case"PHOTO":g+="html/sendPhotoContestURLToMobileviaSMS?"+encodeURI("UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.PhcontestUUID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);break}var b=function(k,l,h){if(k.success){console.log(k.success);if(k.success==true){Ext.MessageBox.alert("Success","Send successfully.")}if(k.success==false){Ext.MessageBox.alert("Error",k.explanation)}}};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(g,"GET",{},b,a)};com.faralam.common.contest_share_email=function(g){var e=sessionStorage.contest_type;var h=com.faralam.serverURL;switch(e){case"POLL":h+="html/sendPollContestURLToEmail?"+encodeURI("UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.contestUUID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&toEmail="+g);break;case"PHOTO":h+="html/sendPhotoContestURLToEmail?"+encodeURI("UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.PhcontestUUID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&toEmail="+g);break}var b=function(l,m,k){if(l.success){if(l.success){Ext.MessageBox.alert("Success","Send successfully.")}}};var a=function(k,m,l){};var d=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!d.test(g)){Ext.MessageBox.alert("Information","Please enter a valid email.")}else{com.faralam.common.sendAjaxRequest(h,"GET",{},b,a)}};com.faralam.common.populatePrize=function(e,a,h){var d=sessionStorage.contest_type;var k={};switch(d){case"POLL":k=JSON.parse(sessionStorage.pollPrizeData);break;case"PHOTO":k=JSON.parse(sessionStorage.photo_prize_data);break}var b='<ul id="tst" style="auto;position:relative;overflow:hidden">';if(k.length>0){for(i=0;i<k.length;i++){var g="";if(d=="POLL"){g='<input type="button" value="Award" class="contest_awd_btn" entryId="'+e+'" entryForUID="'+a+'" contestUUID="'+k[i].contestUUID+'" prizeId="'+k[i].contestPrizeId+'" quantity="'+k[i].quantity+'" onclick="com.faralam.common.awardPollPrize(this)" >'}if(d=="PHOTO"){g='<input type="button" value="Award" class="contest_awd_btn" entryId="'+e+'" entryForUID="'+a+'" contestUUID="'+k[i].contestUUID+'" prizeId="'+k[i].contestPrizeId+'" quantity="'+k[i].quantity+'" onclick="com.faralam.common.awardPhotoContestPrize(this)" >'}b+='<li style="margin: 5px 5px 0px; height: auto; border: 1px solid black; padding: 3px 0px 0px 3px;"><div style="display: inline-block;"><img style="height:80px;width:90px;float:left" src="'+k[i].imageUrl+'"><p style="float: left; color: black; font-weight: bold; font-size: 16px; margin-left: 10px; width: 295px;">'+k[i].contestPrizeName+"</p>"+g+"</div></li>"}b+="</ul>"}Ext.getCmp("contest_aw_prizes").update(b);$("#contest_aw_prizes").perfectScrollbar("destroy");$("#contest_aw_prizes").perfectScrollbar()};com.faralam.common.open_award_sec=function(d,a,g){var k='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var h;if(Ext.getCmp("photo_contest_award_modal")){var e=Ext.getCmp("photo_contest_award_modal");e.destroy(e,new Object())}if(!h){var b=Ext.widget("form",{xtype:"container",layout:"vbox",style:"height:450px !important;width:550px !important",margin:"10 10 10 10",items:[{xtype:"container",width:500,height:440,margin:"20 0 0 10",id:"contest_aw_prizes",html:"",style:"z-index: 99;border:2px solid black;position:relative !important;overflow:hidden !important"}]});h=Ext.widget("window",{title:'<div style="color:black;font-size:16px;font-weight:bold"><h4 style="color:#fff">Award Prize To:&nbsp; '+g+"</h4></div>",id:"photo_contest_award_modal",closeAction:"destroy",layout:"fit",resizable:false,modal:true,width:550,style:"background-color: transparent  !important;border:none !important top:0px !important",items:b,listeners:{close:function(){},show:function(){com.faralam.common.populatePrize(d,a,g)}}})}h.show()};com.faralam.common.retrievePollPortal_func_nxt_prev=function(a){if(a=="NEXT"){sessionStorage.nxt_prev_id=sessionStorage.nxt_UUID}if(a=="PREV"){sessionStorage.nxt_prev_id=sessionStorage.prev_UUID}com.faralam.common.retrievePollPortal_func()};com.faralam.common.retrievePollPortal_func=function(){var d="";if(sessionStorage.nxt_prev_id){var d="contestUUID="+sessionStorage.nxt_prev_id}com.faralam.retrievePollPortal_func=com.faralam.serverURL+"contests/retrievePollPortal";com.faralam.retrievePollPortal_func=com.faralam.retrievePollPortal_func+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&"+d);var b=function(e,h,E){if(e!={}){Ext.getCmp("pool_is_prize").setValue("0");Ext.getCmp("pool_is_answer").setValue("0");sessionStorage.nxt_UUID=e.nextContestUUID;sessionStorage.prev_UUID=e.previousContestUUID;sessionStorage.contestUUID=e.contest.contestUUID;sessionStorage.contestName=e.contest.contestName;sessionStorage.question=e.contest.displayText;sessionStorage.contest_shareurl=e.contest.shareURL;sessionStorage.contest_type="POLL";Ext.getCmp("poll_hid_preview_url").setValue(e.contest.previewURL);var A="<b><p>Status:"+e.contest.contestStatus.displayText+"</p></b>";if(e.hasPrevious){Ext.getCmp("pool_prev_btn").show()}else{Ext.getCmp("pool_prev_btn").hide()}if(e.hasNext){Ext.getCmp("pool_next_btn").show()}else{Ext.getCmp("pool_next_btn").hide()}Ext.getCmp("pool_share_button").setDisabled(true);if(e.contest.contestStatus.enumText!="PROPOSED"&&e.contest.contestStatus.enumText!="ACTIVE"){$("#pool_dv_layer").remove();var J='<div style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; top: 169px; width: 935px; left: 25px; height: 228px; border-radius: 5px;" id="pool_dv_layer"></div>';$("#pollMainContainer").append(J)}if(e.showActivateButton){Ext.getCmp("pool_share_button").setDisabled(true);Ext.getCmp("pool_terminate_btn").hide();Ext.getCmp("pool_activate_btn").show();Ext.getCmp("pool_box3").setDisabled(false);Ext.getCmp("pool_box2").setDisabled(false);$("#pool_dv_layer").remove();var J='<div style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; top: 415px; width: 935px; left: 25px; height: 228px; border-radius: 5px;" id="pool_dv_layer"></div>';$("#pollMainContainer").append(J)}else{Ext.getCmp("pool_activate_btn").hide()}if(e.showTerminateButton){Ext.getCmp("pool_share_button").setDisabled(false);Ext.getCmp("pool_activate_btn").hide();Ext.getCmp("pool_terminate_btn").show();Ext.getCmp("pool_box3").setDisabled(true);Ext.getCmp("pool_box2").setDisabled(true);$("#pool_dv_layer").remove();var J='<div style="z-index: 999; background-color: rgba(0, 0, 0, 0.4); position: absolute; top: 169px; width: 935px; left: 25px; height: 228px; border-radius: 5px;" id="pool_dv_layer"></div>';$("#pollMainContainer").append(J)}else{Ext.getCmp("pool_terminate_btn").hide()}Ext.getCmp("pollcontestStatus").update(A);var q=e.contest.activationDate;if(q){var o=q.split("T");Ext.getCmp("pollActivationDate").setValue(o[0])}var I=e.contest.expirationDate;if(I){var m=I.split("T");Ext.getCmp("pollExpirationDate").setValue(m[0])}Ext.getCmp("pollTitle").setValue(e.contest.contestName);Ext.getCmp("pollQuestions").update('<div class="poll_question_data"><div class="poll_profile_image"><img src="" alt=""/></div><div class="poll_profile_data"></div><div class="clear"></div></div>');var l='<div class="poll_question_data"><div class="poll_profile_data" id="poll_profile_data"><p id="poll_question_details"><img src="'+e.contest.imageURL+'" width="86" alt="" style="float:left;margin: 0 10px 0 0;"><span>'+e.contest.displayText+'</span></p></div><div class="clear"></div></div>';Ext.getCmp("pollQuestions").update(l);$("#poll_profile_data").perfectScrollbar("destroy");$("#poll_profile_data").perfectScrollbar();var D="";sessionStorage.pollChoicesData=JSON.stringify(e.contest.choices);if(Ext.getCmp("pollAnswerPopupSec_modal")){com.faralam.common.populateContestInnerData("pollChoicesData")}if(e.contest.choices.length>0){Ext.getCmp("pool_is_answer").setValue("1");for(i=0;i<e.contest.choices.length;i++){var G="";if(e.contest.choices[i].isCorrect){var G='<img style="margin-top:5px;margin-right:5px" src="'+com.faralam.custom_img_path+'ACTIVE.png" alt="">'}D+='<li><div style="height:25px;width:30px">'+G+'</div><div class="box_lable">'+e.contest.choices[i].choiceValue+'</div><div class="simple_text">'+e.contest.choices[i].displayText+"</div></li>"}}var g="";if(D!=""){g='<div id="poll_answer_data"><ul>'+D+'</ul></div><div class="clear"></div></div> '}else{g='<div id="poll_answer_data"></div><div class="clear"></div></div> '}Ext.getCmp("pollAnswers").update(g);$("#poll_answer_data").perfectScrollbar("destroy");$("#poll_answer_data").perfectScrollbar();var w="";sessionStorage.pollPrizeData=JSON.stringify(e.contest.prizes);if(Ext.getCmp("pollPrizePopupSec_modal")){com.faralam.common.populateContestInnerData("pollPrizeData")}if(e.contest.prizes.length>0){Ext.getCmp("pool_is_prize").setValue("1");for(i=0;i<e.contest.prizes.length;i++){w+='<li><div class="simple_text">'+e.contest.prizes[i].displayText+'</div><div class="box_lable">'+e.contest.prizes[i].quantity+"</div></li>"}}else{Ext.getCmp("pollPrizes").update('<div class="poll_question_data"><div class="poll_profile_image"><img src="" alt=""/></div><div class="poll_profile_data"></div><div class="clear"></div></div>')}var x="";if(w!=""){x='<div id="poll_prizes_data"><ul>'+w+'</ul></div><div class="clear"></div></div> '}else{x='<div id="poll_prizes_data"></div><div class="clear"></div></div> '}Ext.getCmp("pollPrizes").update(x);$("#poll_prizes_data").perfectScrollbar("destroy");$("#poll_prizes_data").perfectScrollbar();if(e.pollEntries.hasEntry){var r="";var y=0;for(y=0;y<e.pollEntries.entries.length;y++){var C="";if(e.pollEntries.entries[y].isCorrect){C='<img style="margin-top:5px" src="'+com.faralam.custom_img_path+'ACTIVE.png" alt="">'}r=r+'<div class="entrylist"><div class="entry_active">'+C+'</div><div class="member_entry" style="overflow:hidden">'+e.pollEntries.entries[y].userName+'</div><div style="width:50px; height:30px; padding:0px; margin-left:3px; border:0px solid #000000; float:left; "><button type="button" usrnm="'+e.pollEntries.entries[y].userName+'" class="entry_msg_btn" onclick="com.faralam.common.msg_sec_open(this)" style="font-size:12px;cursor:pointer">Message</button></div><div class="entry_move_icon"><img style="cursor:move" src="'+com.faralam.custom_img_path+'icon_move.png" draggable="true" id="poll_drag_winner" entryId="'+e.pollEntries.entries[y].entryId+'" entryForUID="'+e.pollEntries.entries[y].entryForUID+'" contestUUID="'+e.pollEntries.entries[y].contestUUID+'" userName="'+e.pollEntries.entries[y].userName+'" ondragend="com.faralam.dragEnd_contest(event)"  ondragstart="com.faralam.dragStart_contest(event)"  alt=""></div></div>'}var u='<div id="poll_entries_data"><div class="entrylist">'+r+"</div></div>";Ext.getCmp("pollEntries").update(u);$("#poll_entries_data").perfectScrollbar("destroy");$("#poll_entries_data").perfectScrollbar()}else{Ext.getCmp("pollEntries").update('<div id="poll_entries_data"><div class="entrylist"></div></div>')}if(e.pollWinners.hasEntry){var z='<div id="poll_winners_data">';var k=0;for(k=0;k<e.pollWinners.winners.length;k++){z=z+'<div class="winner_notification"><div class="member_winner">'+e.pollWinners.winners[k].userName+'</div><div class="notification_btn"><button type="button" class="winner_notify_btn" entryForUID="'+e.pollWinners.winners[k].entryForUID+'" entryId="'+e.pollWinners.winners[k].entryId+'" contestUUID="'+e.pollWinners.winners[k].contestUUID+'" onclick="com.faralam.common.notifyPollingContestWinner(this)" style="margin-left:15px">Notify</button></div></div>'}z=z+'</div><div  style="width: 290px;height: 27px; color: rgb(119, 119, 119); padding-left: 95px; padding-top: 4px;" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" ondragenter="com.faralam.dragEnter_contest(event)" ondragleave="com.faralam.dragLeave_contest(event)" class="poll_drop_zone_normal" id="poll_winner_drop_zone">Drop Entries Here</div></div>';Ext.getCmp("pollWinners").update(z);$("#poll_winners_data").perfectScrollbar("destroy");$("#poll_winners_data").perfectScrollbar()}else{var t='<div style="border: 1px solid black; width: 292px;"><div style="border: medium none; height: 163px;" id="poll_winners_data"><div class="winner_notification"></div></div><div  style="width:290px;height: 27px; color: rgb(119, 119, 119); padding-left: 95px; padding-top: 4px;" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" ondragenter="com.faralam.dragEnter_contest(event)" ondragleave="com.faralam.dragLeave_contest(event)" class="poll_drop_zone_normal" id="poll_winner_drop_zone">Drop Entries Here</div>';Ext.getCmp("pollWinners").update(t)}var K='<div style="height: 165px; width: 100%; position: relative; overflow: hidden; border-bottom: 1px solid black;">';if(e.pollResults.totalEntries>0){var B=parseInt(230/e.pollResults.totalEntries);$.each(e.pollResults.resultsMap,function(O,P){var n="#"+(16777216+(Math.random())*16777215).toString(16).substr(1,6);K=K+'<div style="width: 100%; display: inline-block; height: 32px;"><div style="width: 17%; height: 30px; float: left; margin: 5px 0px 0px; padding-left: 21px; padding-top: 5px;"><b>'+P.choiceIndex+"</b></div>";if(P.entryCountForThisChoice>0){var N=B*P.entryCountForThisChoice;K=K+'<div style="background-color:'+n+"; float: left; border: 2px solid black; height: 20px; margin-top: 8px; width:"+N+'px"></div>'}K=K+"</div>"})}K=K+"</div>";var F='<div id="poll_results_data">'+K+'<div style="color: rgb(0, 0, 0); height: 30px; position: relative; padding-top: 5px; padding-left: 5px;"><p style="width:50%;float:left;font-weight:bold">Responses:&nbsp'+e.pollResults.totalEntries+' </p><p style="width: 50%; float: left; font-weight:bold">Days left:&nbsp'+e.pollResults.daysLeft+"</p></div></div>";Ext.getCmp("pollResults").update('<div id="poll_results_data"></div>');Ext.getCmp("pollResults").update(F);$("#poll_results_data").perfectScrollbar("destroy");$("#poll_results_data").perfectScrollbar();Ext.getCmp("pollcontestStatus").update('<div class="text_poll">Status: '+e.contest.contestStatus.displayText+"</div>")}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePollPortal_func,"GET",{},b,a)};com.faralam.common.retrievePollEntries=function(){com.faralam.retrievePollEntries=com.faralam.serverURL+"contests/retrievePollEntries";com.faralam.retrievePollEntries=com.faralam.retrievePollEntries+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.contestUUID);var b=function(e,l,k){if(e!={}){var h="";var g=0;for(g=0;g<e.entries.length;g++){h=h+'<div class="entrylist"><div class="entry_active"><img style="margin-top:5px" src="'+com.faralam.custom_img_path+'ACTIVE.png" alt=""></div><div class="member_entry" style="overflow:hidden">'+e.entries[g].userName+'</div><div style="width:50px; height:30px; padding:0px; margin-left:3px; border:0px solid #000000; float:left; "><button type="button" usrnm="'+e.entries[g].userName+'" class="entry_msg_btn" onclick="com.faralam.common.msg_sec_open(this)" style="font-size:12px;cursor:pointer">Message</button></div><div class="entry_move_icon"><img src="'+com.faralam.custom_img_path+'icon_move.png" draggable="true" id="poll_drag_winner" entryId="'+e.entries[g].entryId+'" entryForUID="'+e.entries[g].entryForUID+'" contestUUID="'+e.entries[g].contestUUID+'" userName="'+e.entries[g].userName+'" ondragend="com.faralam.dragEnd_contest(event)"  ondragstart="com.faralam.dragStart_contest(event)"  alt=""></div></div>'}var d='<div id="poll_entries_data"><div class="entrylist">'+h+"</div></div>";Ext.getCmp("pollEntries").update(d);$("#poll_entries_data").perfectScrollbar("destroy");$("#poll_entries_data").perfectScrollbar()}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePollEntries,"GET",{},b,a)};com.faralam.common.msg_sec_open=function(a){console.log(a.getAttribute("usrnm"));sessionStorage.contest_usrnm=a.getAttribute("usrnm");Ext.getCmp("main_tab").down("#PollContest").setDisabled(true);Ext.getCmp("main_tab").down("#ContestMessage").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(49);Ext.getCmp("ContestMessage_pageHeader").update('<span style="width:920px !important;position: absolute;text-align:center;color:#568;font-size:20px; font-weight: bold;top:0px !important;margin-top:-12px">'+sessionStorage.contest_usrnm+"</span>")};com.faralam.common.retrievePollWinners=function(){com.faralam.retrievePollWinners=com.faralam.serverURL+"contests/retrievePollWinners";com.faralam.retrievePollWinners=com.faralam.retrievePollWinners+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID+"&contestUUID="+sessionStorage.contestUUID);var b=function(d,g,e){if(d!={}){}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrievePollWinners,"GET",{},b,a)};com.faralam.common.contestDateFormat=function(a){console.log(a);var b=a.split("-");var h=new Date();h.setFullYear(b[0]);var g=parseInt(b[1])-1;h.setMonth(g);h.setDate(b[2]);var b=h.toISOString();var e=b.split(".");e=e[0];return e};com.faralam.common.createPoll=function(){com.faralam.createPoll=com.faralam.serverURL+"contests/createPollURL";com.faralam.createPoll=com.faralam.createPoll+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,activationDate:com.faralam.common.contestDateFormat(Ext.getCmp("newPollActivationDate").getSubmitValue())+":PDT",expirationDate:com.faralam.common.contestDateFormat(Ext.getCmp("newPollExpirationDate").getSubmitValue())+"Z",contestName:Ext.getCmp("newPollTitle").getValue(),displayText:Ext.getCmp("newPollQuestion").getValue(),isAnonymous:Ext.getCmp("poll_anonymous").getValue(),contestUUID:null,url:Ext.getCmp("pollQuestion_img").src};d=JSON.stringify(d);console.log(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Poll contest added successfully.",function(){sessionStorage.nxt_prev_id="";Ext.getCmp("main_tab").down("#CreateNewPollContest").setDisabled(true);Ext.getCmp("main_tab").down("#PollContest").setDisabled(false);Ext.getCmp("main_tab").setActiveTab(29)})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.createPoll,"POST",d,b,a)};com.faralam.common.operateSwitchCheckbox=function(b,a){if(b!=""){Ext.getCmp(a).setValue($(b).is(":checked"))}};com.faralam.common.pollQuestionPopupSec=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("pollQuestionPopupSec_modal")){var b=Ext.getCmp("pollQuestionPopupSec_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:540px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",margin:"30 0 0 25",items:[{xtype:"textfield",fieldLabel:'<span style="color:#000 !important;">Question</span>',labelSeparator:"",emptyText:"",inputWidth:345,margin:"0 0 0 10",name:"",value:"",id:"updateQuestionText",allowBlank:false}]},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Update</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:120,margin:"30 0 20 120",handler:function(){var g=Ext.getCmp("updateQuestionText").getValue();if(g&&g!=""){com.faralam.common.updatePoll()}else{Ext.MessageBox.alert("Information","Please enter the poll question")}}}]}]}]});d=Ext.widget("window",{title:'<div class="add_answer_text">Update Question</div>',id:"pollQuestionPopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:540,cls:"white_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){Ext.getCmp("updateQuestionText").setValue(sessionStorage.question)}}})}d.show()};com.faralam.common.pollAnswerPopupSec=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("pollAnswerPopupSec_modal")){var b=Ext.getCmp("pollAnswerPopupSec_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:800px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<div class="add_answer_text">Add / Delete Answers</div>'},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add New Picture</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:170,margin:"0 0 0 255",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/pollcontestanswer_crop.html")}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 25",items:[{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"Poll Answer",inputWidth:345,margin:"40 0 0 10",name:"",value:"",id:"newPollAnswerText",allowBlank:false},{xtype:"image",width:160,height:150,src:"",margin:"0 0 0 78",style:"background:#E81212;",id:"pollAnswer_img"},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:80,margin:"40 0 0 35",handler:function(){com.faralam.common.addPollChoice()}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"component",id:"choiceDetailsTable",html:""}]}]}]}]});d=Ext.widget("window",{title:"",id:"pollAnswerPopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:800,cls:"white_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){com.faralam.common.populateContestInnerData("pollChoicesData")}}})}d.showAt(50,100)};com.faralam.common.pollPrizePopupSec=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var d;if(Ext.getCmp("pollPrizePopupSec_modal")){var b=Ext.getCmp("pollPrizePopupSec_modal");b.destroy(b,new Object())}if(!d){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:80,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:800px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",layout:"hbox",items:[{xtype:"displayfield",value:'<div class="add_answer_text">Add / Delete Prizes</div>'},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add New Picture</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:170,margin:"0 0 0 255",handler:function(){$("#modal").css({"z-index":"19002"});com.faralam.getCropPicURLs("resources/plugins/croppic/pollcontestprize_crop.html")}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 25",items:[{xtype:"textfield",fieldLabel:'<p style="margin: -1px;color: #000;font-size: 15px;font-weight: bold;">QTY</p>',labelStyle:"color:#000 !important;",labelSeparator:"",labelAlign:"top",emptyText:"Prize Qty",inputWidth:75,margin:"20 0 0 10",name:"",value:"",id:"pollPrizeQty",allowBlank:false},{xtype:"textfield",fieldLabel:'<p style="margin: -1px;color: #000;font-size: 15px;font-weight: bold;">Prize Name</p>',labelStyle:"color:#000 !important;",labelSeparator:"",labelAlign:"top",emptyText:"Prize Name",inputWidth:300,margin:"20 0 0 20",name:"",value:"",id:"pollPrizeName",allowBlank:false},{xtype:"image",width:160,height:150,src:"",margin:"0 0 0 27",style:"background:#E81212;",id:"pollPrize_img"},{xtype:"button",scale:"large",text:'<span style="color:#fff !important;">Add</span>',style:" border-radius: 5px !important;cursor:pointer;background:#007AFF !important;border:2px solid #000 !important;box-shadow:none !important;color:#006FC0;padding:0 5px;",height:26,width:80,margin:"40 0 0 35",handler:function(){com.faralam.common.addPollPrize()}}]},{xtype:"container",layout:"hbox",margin:"20 0 0 0",items:[{xtype:"component",id:"prizeDetailsTable",html:""}]}]}]}]});d=Ext.widget("window",{title:"",id:"pollPrizePopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:800,cls:"white_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){com.faralam.common.populateContestInnerData("pollPrizeData")}}})}d.showAt(50,100)};com.faralam.common.pollMsgPopupSec=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;if(Ext.getCmp("pollMsgPopupSec_modal")){var d=Ext.getCmp("pollMsgPopupSec_modal");d.destroy(d,new Object())}if(!b){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},cls:"white_bg",border:false,bodyPadding:0,fieldDefaults:{labelAlign:"side",labelWidth:1,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:345px;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",items:[{xtype:"container",margin:"0 0 0 0",items:[{xtype:"textfield",fieldLabel:"",labelSeparator:"",emptyText:"",inputWidth:295,margin:"20 0 0 0",name:"",value:"",id:"updateMsgText",allowBlank:false}]},{xtype:"button",scale:"midium",text:'<span style="color:#007AFF !important;">Send Message</span>',style:" border-radius: 0px !important;cursor:pointer;background:none !important;border:0px solid #000 !important;border-top:1px solid #CCC !important;box-shadow:none !important;padding:0 5px;",height:30,width:315,margin:"30 0 0 0",handler:function(){var g=Ext.getCmp("updateQuestionText").getValue();if(g&&g!=""){com.faralam.common.updatePoll()}else{Ext.MessageBox.alert("Information","Please enter the poll question")}}},{xtype:"button",scale:"midium",text:'<span style="color:#007AFF !important;">Cancel</span>',style:" border-radius: 0px !important;cursor:pointer;background:none !important;border:0px solid #000 !important;box-shadow:none !important;padding:0 5px; border-top:1px solid #CCC !important;",height:30,width:315,margin:"0 0 0 0",handler:function(){Ext.getCmp("pollMsgPopupSec_modal").close()}}]}]}]});b=Ext.widget("window",{title:'<div class="add_answer_text">Please enter your message</div>',id:"pollMsgPopupSec_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:315,cls:"white_modal",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){}}})}b.show()};com.faralam.common.populateContestInnerData=function(e){if(e=="pollPrizeData"){var h=JSON.parse(sessionStorage.pollPrizeData);var a="pollPrizeBlock"}else{if(e=="pollChoicesData"){var h=JSON.parse(sessionStorage.pollChoicesData);var a="pollChoicesBlock"}}var d="";if(h.length>0){for(i=0;i<h.length;i++){if(e=="pollPrizeData"){var g="";if(h[i].imageUrl!=null){g='<div class="add_prof_pic"><img src="'+h[i].imageUrl+'" alt="" width="140" height="91" ></div>'}else{g='<div class="add_prof_text">No Image Available</div>'}d+='<div class="add_delete_bottomsection"><div class="add_minus_icon"><img onclick="com.faralam.common.deletePollContestPrize(this)" contestPrizeId="'+h[i].contestPrizeId+'" src="'+com.faralam.custom_img_path+'icon_delete.png" alt="" style="cursor:pointer;"></div><div class="add_profile_list prizeList_section"><div class="add_prof_no"><p>'+h[i].quantity+'</p></div><div class="add_prof_imagedetails">'+g+'</div><div class="add_prof_imageoption prizeName_section"><p>'+h[i].displayText+'</p></div><div class="add_prof_move"><img src="'+com.faralam.custom_img_path+'icon_move.png" alt="" class="move_icon_position"></div></div></div>'}else{if(e=="pollChoicesData"){var g="";if(h[i].imageURL!=null){g='<div class="add_prof_pic"><img src="'+h[i].imageURL+'" alt="" width="140" height="91" ></div>'}else{g='<div class="add_prof_text">No Image Available</div>'}var b="";if(h[i].isCorrect){b='<img src="'+com.faralam.custom_img_path+'ACTIVE.png" alt="" style="cursor:pointer;">'}d+='<div class="add_delete_bottomsection"><button onclick="com.faralam.common.setCorrectPollChoice(this)" choiceId="'+h[i].choiceId+'" type="button" title="set as correct" class="set_corrcet" style="width:130px !important">Set As Correct</button><div class="add_minus_icon" style="width:50px">'+b+'<img onclick="com.faralam.common.removePollChoice(this)" choiceId="'+h[i].choiceId+'" src="'+com.faralam.custom_img_path+'icon_delete.png" alt="" style="cursor:pointer;"></div><div class="add_profile_list"><div class="add_prof_no"><p>'+h[i].choiceValue+'</p></div><div class="add_prof_imagedetails">'+g+'</div><div class="add_prof_imageoption"><p>'+h[i].displayText+'</p></div><div class="add_prof_move"><img src="'+com.faralam.custom_img_path+'icon_move.png" alt="" class="move_icon_position"></div></div></div>'}}}}if(d!=""){html='<div class="bottom_scroll" id="'+a+'">'+d+"</div>"}else{html='<div class="bottom_scroll" id="'+a+'">No Data Available</div>'}if(e=="pollPrizeData"){Ext.getCmp("prizeDetailsTable").update(html)}else{if(e=="pollChoicesData"){Ext.getCmp("choiceDetailsTable").update(html)}}$("#"+a).perfectScrollbar("destroy");$("#"+a).perfectScrollbar()};com.faralam.common.updatePoll=function(){com.faralam.updatePoll=com.faralam.serverURL+"contests/updatePoll";com.faralam.updatePoll=com.faralam.updatePoll+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={displayText:Ext.getCmp("updateQuestionText").getValue(),pollName:sessionStorage.contestName,contestUUID:sessionStorage.contestUUID};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Poll updated successfully.",function(){Ext.getCmp("pollQuestionPopupSec_modal").close();com.faralam.common.retrievePollPortal_func()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.updatePoll,"POST",d,b,a)};com.faralam.common.addPollChoice=function(){var d=Ext.getCmp("newPollAnswerText").getValue();if(d.trim()==""){Ext.MessageBox.alert("Success","Please Enter Answer befor save.")}else{com.faralam.addPollChoice=com.faralam.serverURL+"contests/addPollChoiceURL";com.faralam.addPollChoice=com.faralam.addPollChoice+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var e={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,contestUUID:sessionStorage.contestUUID,choiceName:Ext.getCmp("newPollAnswerText").getValue(),displayText:Ext.getCmp("newPollAnswerText").getValue(),url:Ext.getCmp("pollAnswer_img").src};e=JSON.stringify(e);var b=function(g,k,h){Ext.MessageBox.alert("Success","Poll choice added successfully.",function(){Ext.getCmp("newPollAnswerText").setValue("");Ext.getCmp("pollAnswer_img").setSrc("");com.faralam.common.retrievePollPortal_func()})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.addPollChoice,"POST",e,b,a)}};com.faralam.common.addPollPrize=function(){com.faralam.addPollPrize=com.faralam.serverURL+"contests/addPollPrizeURL";com.faralam.addPollPrize=com.faralam.addPollPrize+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,contestUUID:sessionStorage.contestUUID,quantity:Ext.getCmp("pollPrizeQty").getValue(),contestPrizeName:Ext.getCmp("pollPrizeName").getValue(),displayText:Ext.getCmp("pollPrizeName").getValue(),hiddenText:"Employees not eligible",url:Ext.getCmp("pollPrize_img").src};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Poll prize added successfully.",function(){Ext.getCmp("pollPrizeQty").setValue("");Ext.getCmp("pollPrizeName").setValue("");Ext.getCmp("pollPrize_img").setSrc("");com.faralam.common.retrievePollPortal_func()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.addPollPrize,"POST",d,b,a)};com.faralam.common.setCorrectPollChoice=function(d){com.faralam.setCorrectPollChoice=com.faralam.serverURL+"contests/setCorrectPollChoice";com.faralam.setCorrectPollChoice=com.faralam.setCorrectPollChoice+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.contestUUID+"&choiceId="+d.getAttribute("choiceId"));var b=function(e,h,g){Ext.MessageBox.alert("Success","Set correct poll choice successfully.",function(){com.faralam.common.retrievePollPortal_func()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.setCorrectPollChoice,"GET",{},b,a)};com.faralam.common.removePollChoice=function(d){com.faralam.removePollChoice=com.faralam.serverURL+"contests/removePollChoice";com.faralam.removePollChoice=com.faralam.removePollChoice+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.contestUUID+"&choiceId="+d.getAttribute("choiceId"));var b=function(e,h,g){Ext.MessageBox.alert("Success","Choice deleted successfully.",function(){com.faralam.common.retrievePollPortal_func()})};var a=function(e,h,g){};Ext.MessageBox.confirm("Confirm","Do you really want to remove the choice?",function(g){if(g=="yes"){com.faralam.common.sendAjaxRequest(com.faralam.removePollChoice,"DELETE",{},b,a)}})};com.faralam.common.deletePollContestPrize=function(d){com.faralam.deletePollContestPrize=com.faralam.serverURL+"contests/deletePollContestPrize";com.faralam.deletePollContestPrize=com.faralam.deletePollContestPrize+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.contestUUID+"&contestPrizeId="+d.getAttribute("contestPrizeId"));var b=function(e,h,g){Ext.MessageBox.alert("Success","Prize deleted successfully.",function(){Ext.getCmp("pollPrizePopupSec_modal").close();com.faralam.common.retrievePollPortal_func()})};var a=function(e,h,g){};Ext.MessageBox.confirm("Confirm","Do you really want to delete the prize?",function(g){if(g=="yes"){com.faralam.common.sendAjaxRequest(com.faralam.deletePollContestPrize,"DELETE",{},b,a)}})};com.faralam.common.notifyPollingContestWinner=function(g){com.faralam.notifyPollingContestWinner=com.faralam.serverURL+"contests/notifyPollingContestWinner";com.faralam.notifyPollingContestWinner=com.faralam.notifyPollingContestWinner+"?"+encodeURI("UID="+sessionStorage.UID);var d={entryForUID:g.getAttribute("entryForUID"),entryId:g.getAttribute("entryId"),contestUUID:g.getAttribute("contestUUID")};d=JSON.stringify(d);var b=function(e,k,h){Ext.MessageBox.alert("Success",e.messageBody)};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.notifyPollingContestWinner,"POST",d,b,a)};com.faralam.common.OpenInNewTab=function(g){var a;var b=g.getAttribute("tp");if(b=="FB"){a="https://www.facebook.com/sharer.php?u="+sessionStorage.contest_shareurl}if(b=="TW"){a="https://twitter.com/share?url="+sessionStorage.contest_shareurl}a=a.toString().trim();var d=window.open(a,"_blank");d.focus()};com.faralam.common.sharePollContest=function(){var e='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var b;if(Ext.getCmp("sharePollContest_modal")){var d=Ext.getCmp("sharePollContest_modal");d.destroy(d,new Object())}if(!b){var a=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},style:"background: #324F85 !important; width:850px !important;",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:1,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:850px !important;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",style:"width:850px !important;",items:[{xtype:"container",margin:"0 0 0 0",layout:"hbox",style:"width:850px !important;",items:[{xtype:"displayfield",value:'<h4 style="color: #fff;">Share URL</h4> ',width:200,style:"text-align: left;"},{xtype:"component",width:600,id:"mobile_url_PollContest",margin:"0 0 0 0",html:'<span style="color:#fff;font-family: arial !important;font-size: 14px;">'+sessionStorage.contest_shareurl+"</span>",style:"text-align:left;"}]},{xtype:"component",height:40,width:845,margin:"10 0 10 0",html:'<table><tr><td style="width:180px;"><h4 style="color: #fff; width:135px;">Via Social Network</h4></td><td><a href="https://twitter.com/share?url='+encodeURIComponent(sessionStorage.contest_shareurl)+'" target="_blank"><img id="tweet_btn_PollContest" src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" width="90" height="28" style="float: left; margin-left:20px;"></a></td><td><a href="https://www.facebook.com/sharer.php?u='+encodeURIComponent(sessionStorage.contest_shareurl)+'" target="_blank"><img id="fb_btn_PollContest" src="'+com.faralam.custom_img_path+'/share_button.png" width="90" height="30" style="margin-left:30px;"></a></td></tr></table>'},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,id:"share_sms_PollContest",fieldLabel:"Send URL to Mobile",name:"share_sms",allowBlank:true,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter mobile number",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",minValue:0,minLength:10,maxLength:14,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{keydown:function(h,k,g){}}},{xtype:"button",text:'<span style="color:#fff;">Send Text Msg</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var g=Ext.getCmp("share_sms_PollContest").getValue();if(g&&g!=""){var h=Ext.getCmp("shareEmailSMS_access_mode_PollContest").getValue();if(h===true){com.faralam.common.contest_share_sms(g);Ext.getCmp("share_sms_PollContest").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid mobile no.")}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"share_email_PollContest",fieldLabel:"Send URL to E-Mail",name:"share_email",allowBlank:true,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter email address",labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(l,h,k){var g=Ext.getCmp("share_email_err_PollContest");g.setValue("");if(h){if(l.getValue().length>0){g.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{g.setValue('<span style="color:#CF4C35;">'+h+"</span>")}}}}},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var g=Ext.getCmp("share_email_PollContest").getValue();if(g&&g!=""){var h=Ext.getCmp("shareEmailSMS_access_mode_PollContest").getValue();if(h===true){com.faralam.common.contest_share_email(g);Ext.getCmp("share_email_PollContest").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid email address.")}}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"share_email_err",id:"share_email_err_PollContest",fieldLabel:"&nbsp;",margin:"0 0 0 10",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px; text-align:center !important">"I certify that the recipient has agreed to receive this Text/E-Mail message"</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"shareEmailSMS_access_mode",id:"shareEmailSMS_access_mode_PollContest",listeners:{click:{element:"el",fn:function(){var g=Ext.getCmp("shareEmailSMS_access_mode_PollContest").getValue();if(g===true){Ext.get("shareEmailSMS_access_mode_PollContest-inputEl").removeCls("inactive_checkbox");Ext.get("shareEmailSMS_access_mode_PollContest-inputEl").addCls("active_checkbox")}else{Ext.get("shareEmailSMS_access_mode_PollContest-inputEl").removeCls("active_checkbox");Ext.get("shareEmailSMS_access_mode_PollContest-inputEl").addCls("inactive_checkbox")}}}}}]}]}]}]}]});b=Ext.widget("window",{id:"sharePollContest_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:850,style:"background: #324F85 !important; border: 3px solid #000 !important;",items:a,listeners:{close:function(){a.getForm().reset(true)},show:function(){}}})}b.show()};com.faralam.common.getMobileAppURLPollContest=function(e,d){com.faralam.get_mobile_app_url=com.faralam.serverURL+"sasl/getMobileAppURL";com.faralam.get_mobile_app_url=com.faralam.get_mobile_app_url+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(h,k,g){Ext.getCmp("mobile_url_PollContest").update("");if(h){html='<span style="color:#fff;font-family: arial !important;font-size: 14px;">'+h.mobileURL+"</span>";Ext.getCmp("mobile_url_PollContest").update(html)}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.get_mobile_app_url,"GET",{},b,a)};com.faralam.common.activatePoll=function(){var e=Ext.getCmp("pool_is_answer").getValue();var d=Ext.getCmp("pool_is_prize").getValue();if(e=="0"){Ext.MessageBox.alert("Success","Please enter poll answers before activating")}else{if(d=="0"){Ext.MessageBox.alert("Success","Please enter poll prize before activating")}else{com.faralam.activatePoll=com.faralam.serverURL+"contests/activatePoll";com.faralam.activatePoll=com.faralam.activatePoll+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.contestUUID+"&activate=true");var b=function(h,k,g){com.faralam.common.retrievePollPortal_func()};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.activatePoll,"PUT",{},b,a)}}};com.faralam.common.terminatePoll=function(){com.faralam.terminatePoll=com.faralam.serverURL+"contests/terminatePoll";com.faralam.terminatePoll=com.faralam.terminatePoll+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&contestUUID="+sessionStorage.contestUUID);var b=function(e,g,d){com.faralam.common.retrievePollPortal_func()};var a=function(d,g,e){};Ext.MessageBox.confirm("Confirm","Do you really want to terminate the poll?",function(d){if(d=="yes"){com.faralam.common.sendAjaxRequest(com.faralam.terminatePoll,"PUT",{},b,a)}})};com.faralam.common.awardPollPrize=function(g){com.faralam.awardPollPrize=com.faralam.serverURL+"contests/awardPollPrize";com.faralam.awardPollPrize=com.faralam.awardPollPrize+"?"+encodeURI("UID="+sessionStorage.UID);var d={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,contestUUID:g.getAttribute("contestUUID"),prizeId:g.getAttribute("prizeId"),awardQuantity:g.getAttribute("quantity"),entryId:g.getAttribute("entryId"),entryForUID:g.getAttribute("entryForUID")};d=JSON.stringify(d);console.log("poll"+d);var b=function(e,k,h){Ext.getCmp("photo_contest_award_modal").close();com.faralam.common.retrievePollPortal_func()};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.awardPollPrize,"POST",d,b,a)};com.faralam.common.getConversationBetweenSASLUser_contest=function(d){Ext.getCmp("Contest_Usrnm").setValue(d);com.faralam.getConversationBetweenSASLUser_contest=com.faralam.serverURL+"communication/getConversationBetweenSASLUser";com.faralam.getConversationBetweenSASLUser_contest=com.faralam.getConversationBetweenSASLUser_contest+"?"+encodeURI("userName="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&count=10");var b=function(e,h,g){console.log(e);reply="";for(i=0;i<e.messages.length;i++){if(e.messages[i].fromUser==false){reply+='<ul>\n\t\t\t\t\t\t<li><div class="chat_text_time">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name">'+e.messages[i].saslName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_box"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}else{if(e.messages[i].fromUser==true){reply+='<ul class="list">\n\t\t\t\t\t\t<li><div class="chat_text_time chat_align">'+e.messages[i].timeStamp+'</div></li> \n\t\t\t\t\t\t<li><div class="chat_text_name chat_align">'+e.messages[i].userName+'</div></li>\n\t\t\t\t\t\t<li><div class="text_chat_reply" style="padding:9px 12px; box-shadow: 2px 2px 4px #888;"><p>'+e.messages[i].messageBody+"</p></div></li>\n\t\t\t\t\t</ul>"}}}reply_final='<div class="chat_container_contest" id="ContestMessages_chat_container" style="height:574px;"><div  class="chat_list">'+reply+"</div></div>";Ext.getCmp("ContestMessage_reply_panel").update(reply_final);$("#ContestMessages_chat_container").perfectScrollbar("destroy");$("#ContestMessages_chat_container").perfectScrollbar();$("#ContestMessages_chat_container").animate({scrollTop:$("#ContestMessages_chat_container ul:last-child").position().top+"px"},1000)};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.getConversationBetweenSASLUser_contest,"GET",{},b,a)};com.faralam.common.sendMessageToUser_contest=function(){com.faralam.sendMessageToUser_contest=com.faralam.serverURL+"communication/sendMessageToUser";com.faralam.sendMessageToUser_contest=com.faralam.sendMessageToUser_contest+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d=Ext.getCmp("Contest_Usrnm").getValue();var e={messageBody:Ext.getCmp("ContestMessage_reply_tf").getValue(),fromServiceLocationId:sessionStorage.SL,urgent:"false",userName:d,communicationId:null,fromServiceAccommodatorId:sessionStorage.SA,inReplyToCommunicationId:null,authorId:sessionStorage.UID};e=JSON.stringify(e);var b=function(g,k,h){Ext.getCmp("ContestMessage_reply_tf").setValue("");com.faralam.common.getConversationBetweenSASLUser_contest(d)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.sendMessageToUser_contest,"POST",e,b,a)};com.faralam.common.close_Contest_preview=function(){console.log("ok");Ext.getCmp("contest_preview_modal").close()};com.faralam.common.open_Contest_preview=function(a){var g='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var e;if(Ext.getCmp("contest_preview_modal")){var d=Ext.getCmp("contest_preview_modal");d.destroy(d,new Object())}if(!e){var b=Ext.widget("form",{xtype:"container",layout:"vbox",style:"height:675px !important;width:380px !important",margin:"10 10 10 10",items:[{width:328,id:"close_btn_contest_preview",margin:"0 0 0 16",html:'<img src="'+com.faralam.custom_img_path+'cross_alert.png" height="25" width="25" style="float:right;cursor:pointer" onclick="com.faralam.common.close_Contest_preview()" >',style:"z-index: 99;right:0px !important",handler:function(){}},{xtype:"component",width:320,id:"mobile_url_start_contest",margin:"47 0 0 16",html:'<iframe src="'+a+'" frameborder="0" height="471px" width="320px" style="margin-top: -4px !important;margin-left:-1px !important"></iframe>',style:"z-index: 99;"},{xtype:"component",id:"mobile_pic_componemt_contest",html:'<img id="mobile_pic_app" src="'+com.faralam.custom_img_path+'mobile_pic.png" width="345">'}]});e=Ext.widget("window",{id:"contest_preview_modal",closeAction:"destroy",layout:"fit",resizable:false,modal:true,header:false,width:380,style:"background-color: transparent  !important;border:none !important top:0px !important",items:b,listeners:{close:function(){},show:function(){}}})}e.show()};com.faralam.drop_contest=function(h){h.preventDefault();var b=h.dataTransfer.getData("Text");if(h.target.id=="poll_winner_drop_zone"){if(b=="poll_drag_winner"){var g=h.dataTransfer.getData("entryId");var a=h.dataTransfer.getData("entryForUID");var d=h.dataTransfer.getData("contestUUID");var k=h.dataTransfer.getData("userName");com.faralam.common.open_award_sec(g,a,k)}}if(h.target.id=="delete_zone_photo_entry"){if(b=="photo_drag_entry"){Ext.MessageBox.confirm("Confirm","Do you really want remove the entry?",function(o){if(o=="yes"){var n=h.dataTransfer.getData("entryId");var l=h.dataTransfer.getData("entryForUID");var m=h.dataTransfer.getData("contestUUID");console.log(m);com.faralam.common.deletePhotoContestEntry(n,l,m)}})}}if(h.target.id=="photo_entry_rearrange_drop_zone"){if(b=="photo_drag_entry"){h.target.className="photo_re_normal"}}if(h.target.id=="photo_winners_dropzone"){if(b=="photo_drag_entry"){var g=h.dataTransfer.getData("entryId");var a=h.dataTransfer.getData("entryForUID");var d=h.dataTransfer.getData("contestUUID");var e=h.dataTransfer.getData("imageURL");var k=h.dataTransfer.getData("userName");h.target.className="photo_winners_dropzone_normal";$("#photo_winners_dropzone").remove();com.faralam.common.open_award_sec(g,a,k)}}};com.faralam.dragStart_contest=function(a){if(a.target.id=="poll_drag_winner"){a.dataTransfer.setData("Text","poll_drag_winner");a.dataTransfer.setData("entryId",a.target.getAttribute("entryId"));a.dataTransfer.setData("entryForUID",a.target.getAttribute("entryForUID"));a.dataTransfer.setData("contestUUID",a.target.getAttribute("contestUUID"));a.dataTransfer.setData("userName",a.target.getAttribute("userName"))}if(a.target.id=="photo_drag_entry"){var b='<div id="photo_winners_dropzone" class="photo_winners_dropzone_normal" ondrop="com.faralam.drop_contest(event)" ondragover="com.faralam.dragOver_contest(event)" ondragenter="com.faralam.dragEnter_contest(event)" ondragleave="com.faralam.dragLeave_contest(event)" >Drop entry to give award</div>';$("#photo_winners_dropzone").remove();$("#photoWinners").append(b);console.log("ok"+b);a.dataTransfer.setData("Text","photo_drag_entry");a.dataTransfer.setData("entryId",a.target.getAttribute("entryId"));a.dataTransfer.setData("entryForUID",a.target.getAttribute("entryForUID"));a.dataTransfer.setData("contestUUID",a.target.getAttribute("contestUUID"));a.dataTransfer.setData("imageURL",a.target.getAttribute("imageURL"));a.dataTransfer.setData("userName",a.target.getAttribute("userName"))}};com.faralam.dragEnd_contest=function(a){if(a.target.id=="poll_drag_winner"){document.getElementById("poll_winner_drop_zone").className="poll_drop_zone_normal"}if(a.target.id=="photo_winners_dropzone"){a.target.className="photo_winners_dropzone_normal"}};com.faralam.dragOver_contest=function(a){a.preventDefault()};com.faralam.dragEnter_contest=function(a){a.preventDefault();if(a.target.id=="poll_winner_drop_zone"){a.target.className="poll_drop_zone_active"}if(a.target.id=="photo_entry_rearrange_drop_zone"){a.target.className="photo_re_active"}if(a.target.id=="photo_winners_dropzone"){a.target.className="photo_winners_dropzone_active"}};com.faralam.dragLeave_contest=function(a){if(a.target.id=="poll_winner_drop_zone"){document.getElementById("poll_winner_drop_zone").className="poll_drop_zone_normal"}if(a.target.id=="photo_entry_rearrange_drop_zone"){a.target.className="photo_re_normal"}if(a.target.id=="photo_winners_dropzone"){a.target.className="photo_winners_dropzone_normal"}};com.faralam.common.retrieveLoyaltyProgram=function(){com.faralam.retrieveLoyaltyProgram=com.faralam.serverURL+"retail/retrieveLoyaltyProgram";com.faralam.retrieveLoyaltyProgram=com.faralam.retrieveLoyaltyProgram+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var d="";var b=function(e,h,g){if(e.hasLoyaltyProgram==false){com.faralam.getSliderPicURLsHZ("loyal_imgs","","");Ext.getCmp("current_loyalty_program").setValue("(No Loyalty Programs)");document.getElementById("current_loyalty_program_fieldset").style.backgroundColor="#CCCCCC";document.getElementById("new_loyalty_program_fieldset").style.backgroundColor="#FFFFFF";Ext.getCmp("current_loyalty_program_fieldset").setDisabled(true);Ext.getCmp("new_loyalty_program_fieldset").setDisabled(false);Ext.getCmp("loyal_name").setValue("");Ext.getCmp("loyal_awardmsg").setValue("");Ext.getCmp("loyal_count_award").setValue("");Ext.getCmp("loyal_selected_item_name").setValue("");Ext.getCmp("loyal_selected_item_price").setValue("");d="";Ext.getCmp("loyal_selected_item_image").update(d)}else{com.faralam.getSliderPicURLsHZ("loyal_imgs","",e.itemId);Ext.getCmp("current_loyalty_program").setValue(e.displayText);document.getElementById("new_loyalty_program_fieldset").style.backgroundColor="#CCCCCC";document.getElementById("current_loyalty_program_fieldset").style.backgroundColor="#FFFFFF";Ext.getCmp("new_loyalty_program_fieldset").setDisabled(true);Ext.getCmp("current_loyalty_program_fieldset").setDisabled(false);Ext.getCmp("loyal_name").setValue(e.displayText);Ext.getCmp("loyal_awardmsg").setValue(e.awardMessage);Ext.getCmp("loyal_count_award").setValue(e.count);d='<img width="200" height="200" alt="image" src="'+e.url+'">';Ext.getCmp("loyal_selected_item_image").update(d)}};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveLoyaltyProgram,"GET",{},b,a)};com.faralam.common.createLoyaltyProgram=function(){com.faralam.createLoyaltyProgram=com.faralam.serverURL+"retail/createLoyaltyProgram";com.faralam.createLoyaltyProgram=com.faralam.createLoyaltyProgram+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d="";var g="";var e={itemId:Ext.getCmp("loyal_itemId").getValue(),itemVersion:Ext.getCmp("loyal_itemVersion").getValue(),idPrice:Ext.getCmp("loyal_idPrice").getValue(),minCount:Ext.getCmp("loyal_count_award").getValue(),awardMessage:Ext.getCmp("loyal_awardmsg").getValue(),displayText:Ext.getCmp("loyal_name").getValue(),customerCode:g,expirationDate:d,activationDate:null};e=JSON.stringify(e);var b=function(h,l,k){Ext.MessageBox.alert("Success","Activated Successfully.",function(){com.faralam.common.retrieveLoyaltyProgram()})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.createLoyaltyProgram,"POST",e,b,a)};com.faralam.common.deactivateLoyaltyProgram=function(){com.faralam.deactivateLoyaltyProgram=com.faralam.serverURL+"retail/deactivateLoyaltyProgram";com.faralam.deactivateLoyaltyProgram=com.faralam.deactivateLoyaltyProgram+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(e,g,d){Ext.MessageBox.alert("Success","Deactivated successfully",function(){com.faralam.common.retrieveLoyaltyProgram()})};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.deactivateLoyaltyProgram,"PUT",b,a)};com.faralam.getSliderPicURLsHZ=function(d,g,e){console.log(e);com.faralam.retrieve_item_info2=com.faralam.serverURL+"retail/retrieveItems";com.faralam.retrieve_item_info2=com.faralam.retrieve_item_info2+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&status=ALL");var b=function(l,k,t){var h="";var u="";var n="";var r="";var o=0;if(l.items.length>0){u='<div style="color:#000; margin:5px 0;"  class="layal_new_label"> Select an item ( These items are from Catalog /Menu screen)</div><div  id="layal_img_block"><ul class="loyal_items" id="loyal_items_ul">';for(var m=0;m<l.items.length;m++){if(l.items[m].itemId==g){o=m-1}var q=m+1;if(l.items[m].itemId==e){Ext.getCmp("loyal_selected_item_name").setValue(l.items[m].itemName);Ext.getCmp("loyal_selected_item_price").setValue(l.items[m].price)}n+='<li id="item-'+q+'" itemName="'+l.items[m].itemName+'" price="'+l.items[m].price+'" itemVersion="'+l.items[m].itemVersion+'" priceId="'+l.items[m].priceId+'" itemId="'+l.items[m].itemId+'" pimg="'+l.items[m].mediaURLs[0]+'" onclick="com.faralam.common.getThisItemData(this)"><img src="'+l.items[m].mediaURLs[0]+'" width="170"  /><div style="width:100%; background-color:#cccccc; padding: 2px;"><span class="item_name">'+l.items[m].itemName+"</span></div></li>"}r="</ul></div>"}else{u='<div style="color:#000; margin:5px 0;"  class="layal_new_label"> Please create an item in Menu screen and create a Loyalty program</div>';n="";r=""}h=u+n+r;Ext.getCmp("pic_panel"+d).update(h);$("#layal_img_block").perfectScrollbar("destroy");$("#layal_img_block").perfectScrollbar()};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.retrieve_item_info2,"GET",{},b,a)};com.faralam.common.getThisItemData=function(b){var a="";Ext.getCmp("loyal_selected_item_name").setValue(b.getAttribute("itemName"));Ext.getCmp("loyal_selected_item_price").setValue(b.getAttribute("price"));Ext.getCmp("loyal_itemId").setValue(b.getAttribute("itemid"));Ext.getCmp("loyal_itemVersion").setValue(b.getAttribute("itemversion"));Ext.getCmp("loyal_idPrice").setValue(b.getAttribute("priceid"));a='<img src="'+b.getAttribute("pimg")+'"  alt="image" height="200" width="200">';Ext.getCmp("loyal_selected_item_image").update(a);$("#loyal_items_ul li").css("border","2px solid #000000");b.style="border:2px solid #0000FF"};com.faralam.common.retrieveEventSummary=function(){com.faralam.retrieveEventSummary=com.faralam.serverURL+"reservations/retrieveEventSummary";com.faralam.retrieveEventSummary=com.faralam.retrieveEventSummary+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d=com.faralam.custom_img_path+"icon_pencil.png";var e="&nbsp;";var b=function(n,q,m){if(n){var l='<table width="900" cellpadding="3" cellspacing="0" style="color:#000000;"><tr style="border: 1px solid #000000;"><td>&nbsp;</td><td><strong>Event Name</strong></td><td><strong>Date</strong></td><td><strong>Status</strong></td></tr><tr><td colspan="4"></td></tr>';var h="";var g=null;if(n.events.length>0){for(var k=0;k<n.events.length;k++){var o="";if(n.events[k].status=="ACTIVE"||n.events[k].status=="PROPOSED"){e='<img src="'+d+'" title="Edit this event"  width="25" height="26" style="cursor : pointer" uuid="'+n.events[k].uuid+'" eventType="'+n.events[k].type.enumText+'" status="'+n.events[k].status+'" longDescription="'+n.events[k].longDescription+'" uuid="'+n.events[k].uuid+'" allDay='+n.events[k].allDay+' rating="'+n.events[k].rating+'" www="'+n.events[k].www+'" latlong='+n.events[k].latlong+' email="'+n.events[k].email+'" telephone="'+n.events[k].telephone+'" externalId="'+n.events[k].externalId+'" number="'+n.events[k].address.number+'" street="'+n.events[k].address.street+'" city="'+n.events[k].address.city+'" state="'+n.events[k].address.state+'" country="'+n.events[k].address.country+'" shareURL="'+n.events[k].shareURL+'" onclick="EditEvent(this)" />';if(n.events[k].status=="PROPOSED"){var o='<input type="button" style="cursor: pointer; border: 1px solid rgb(204, 204, 204); background-color: rgb(128, 77, 166); color: rgb(255, 255, 255); display: inline-block; margin-bottom: 0px; float: right; margin-right: 10px; border-radius: 5px; font-weight: bold; letter-spacing: 1px; font-size: 11px; margin-left: -60px; padding: 6px 10px;" title="Activate this event" onclick="com.faralam.common.activateEvent('+n.events[k].id+',0)" value="Activate">'}}l+='<tr><td text-align="center" nowrap>'+e+o+'</td><td style="border: 1px solid #000000;">'+n.events[k].displayText+'</td><td style="border: 1px solid #000000;">'+n.events[k].startShowing+'</td><td style="border: 1px solid #000000;">'+n.events[k].status+"</td></tr>";l+='<tr><td colspan="4">&nbsp;</td></tr>';e="&nbsp;"}l+="</table>"}}Ext.getCmp("eventComponent").update(l)};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveEventSummary,"GET",{},b,a)};com.faralam.common.customeDateFormatOnly=function(b){var a="";b=b.split("T");b=b[0];b=new Date(b);a=com.faralam.common.pad(b.getFullYear(),2)+"-"+com.faralam.common.pad((parseInt(b.getMonth())+1),2)+"-"+com.faralam.common.pad(b.getDate(),2);return a};com.faralam.common.customeTimeFormatOnly=function(d){var b="";var a="";d=d.split("T");d=d[1];d=d.split(":");a=d[0]>=12?"PM":"AM";d=d[0]+":"+d[1]+":"+d[2];b=d+" "+a;return b};com.faralam.common.getEventByUUID=function(h){var d=h.getAttribute("uuid");var g=h.getAttribute("eventType");com.faralam.getEventByUUID=com.faralam.serverURL+"reservations/getEventByUUID";com.faralam.getEventByUUID=com.faralam.getEventByUUID+"?"+encodeURI("UID="+sessionStorage.UID+"&eventUUID="+d);var b=function(k,l,e){Ext.getCmp("editeventname").setRawValue(k.displayText);Ext.getCmp("editeventstdate").setRawValue(com.faralam.common.customeDateFormatOnly(k.activation));Ext.getCmp("editeventsttime").setRawValue(com.faralam.common.customeTimeFormatOnly(k.activation));Ext.getCmp("editeventendate").setRawValue(com.faralam.common.customeDateFormatOnly(k.expiration));Ext.getCmp("editevententime").setRawValue(com.faralam.common.customeTimeFormatOnly(k.expiration));Ext.getCmp("editeventoneliner").setRawValue(k.shortDescription);Ext.getCmp("editevent_image").setSrc(k.url);Ext.getCmp("hidden_event_id").setRawValue(k.id);Ext.getCmp("longDescription").setRawValue(k.longDescription);Ext.getCmp("allDay").setRawValue(k.allDay);Ext.getCmp("uuid").setRawValue(k.uuid);Ext.getCmp("rating").setRawValue(k.rating);Ext.getCmp("www").setRawValue(k.www);Ext.getCmp("email").setRawValue(k.email);Ext.getCmp("telephone").setRawValue(k.telephone);Ext.getCmp("externalId").setRawValue(k.externalId);Ext.getCmp("number").setRawValue(k.address.number);Ext.getCmp("street").setRawValue(k.address.street);Ext.getCmp("city").setRawValue(k.address.city);Ext.getCmp("state").setRawValue(k.address.state);Ext.getCmp("country").setRawValue(k.address.country);Ext.getCmp("editeventtype").setValue(k.type.enumText);console.log("type1"+k.type.enumText);console.log("type2"+g);Ext.getCmp("editevent_image").setSrc(k.url)};var a=function(e,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.getEventByUUID,"GET",{},b,a)};com.faralam.common.createSASLEventNewPictureNewMetaDataURL=function(){com.faralam.createSASLEventNewPictureNewMetaDataURL=com.faralam.serverURL+"reservations/createSASLEventNewPictureNewMetaDataURL";com.faralam.createSASLEventNewPictureNewMetaDataURL=com.faralam.createSASLEventNewPictureNewMetaDataURL+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var d={displayText:Ext.getCmp("eventname").getValue(),shortDescription:Ext.getCmp("eventoneliner").getValue(),longDescription:"",activation:com.faralam.common.customDateFormat(Ext.getCmp("eventstdate").getValue(),Ext.getCmp("eventsttime").getValue()),expiration:com.faralam.common.customDateFormat(Ext.getCmp("eventendate").getValue(),Ext.getCmp("evententime").getValue()),startShowing:com.faralam.common.customDateFormat(Ext.getCmp("eventstdate").getValue(),Ext.getCmp("eventsttime").getValue()),stopShowing:com.faralam.common.customDateFormat(Ext.getCmp("eventendate").getValue(),Ext.getCmp("evententime").getValue()),imageURLForPortalExpress:Ext.getCmp("event_image").src,allDay:Ext.getCmp("allDay_Enable").getValue(),rating:"G",type:Ext.getCmp("eventtype").getValue(),www:"",latlong:null,email:"",telephone:"",externalId:"",address:{number:"",street:"",city:"",state:"",country:""}};d=JSON.stringify(d);var b=function(e,h,g){Ext.MessageBox.alert("Success","Event Created Successfully.",function(){Ext.getCmp("eventname").setRawValue("");Ext.getCmp("eventoneliner").setRawValue("");Ext.getCmp("eventstdate").setRawValue("");Ext.getCmp("eventsttime").setRawValue("");Ext.getCmp("eventendate").setRawValue("");Ext.getCmp("evententime").setRawValue("");Ext.getCmp("event_image").setSrc("");Ext.getCmp("eventtype").setRawValue("");Ext.getCmp("allDay_Enable").setRawValue(false);Ext.getCmp("main_tab").down("#EventsService").setDisabled(false);Ext.getCmp("main_tab").down("#createNewEvent").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(43)})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.createSASLEventNewPictureNewMetaDataURL,"POST",d,b,a)};com.faralam.common.customDateFormat=function(d,a){var b="";var e=d.getTimezoneOffset();e=((e<0?"+":"-")+com.faralam.common.pad(parseInt(Math.abs(e/60)),2)+":"+com.faralam.common.pad(Math.abs(e%60),2));b=com.faralam.common.pad(d.getFullYear(),2)+"-"+com.faralam.common.pad((parseInt(d.getMonth())+1),2)+"-"+com.faralam.common.pad(d.getDate(),2)+"T"+com.faralam.common.pad(a.getHours(),2)+":"+com.faralam.common.pad(a.getMinutes(),2)+":"+com.faralam.common.pad(a.getSeconds(),2)+":UTC"+e;return b};com.faralam.common.pad=function(b,a){var d=""+b;while(d.length<a){d="0"+d}return d};com.faralam.common.deactivateEvent=function(){var d=Ext.getCmp("hidden_event_id").getValue();com.faralam.deactivateEvent=com.faralam.serverURL+"reservations/deactivateEvent";com.faralam.deactivateEvent=com.faralam.deactivateEvent+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&eventId="+d);var b=function(g,h,e){Ext.MessageBox.alert("Success","Event Deactivated successfully",function(){Ext.getCmp("editEvents").close();com.faralam.common.retrieveEventSummary()})};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.deactivateEvent,"PUT",{},b,a)};com.faralam.common.activateEvent=function(d,e){com.faralam.activateEvent=com.faralam.serverURL+"reservations/activateEvent";com.faralam.activateEvent=com.faralam.activateEvent+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&eventId="+d);var b=function(h,k,g){Ext.MessageBox.alert("Success","Event Activated successfully",function(){if(parseInt(e)==1){Ext.getCmp("editEvents").close()}com.faralam.common.retrieveEventSummary()})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.activateEvent,"PUT",{},b,a)};com.faralam.common.updateEventMetaData=function(){var d={displayText:Ext.getCmp("editeventname").getValue(),shortDescription:Ext.getCmp("editeventoneliner").getValue(),longDescription:Ext.getCmp("longDescription").getValue(),activation:com.faralam.common.customDateFormat(Ext.getCmp("editeventstdate").getValue(),Ext.getCmp("editeventsttime").getValue()),expiration:com.faralam.common.customDateFormat(Ext.getCmp("editeventendate").getValue(),Ext.getCmp("editevententime").getValue()),uuid:Ext.getCmp("uuid").getValue(),startShowing:com.faralam.common.customDateFormat(Ext.getCmp("editeventstdate").getValue(),Ext.getCmp("editeventsttime").getValue()),stopShowing:com.faralam.common.customDateFormat(Ext.getCmp("editeventendate").getValue(),Ext.getCmp("editevententime").getValue()),allDay:Ext.getCmp("allDay").getValue(),rating:Ext.getCmp("rating").getValue(),type:Ext.getCmp("editeventtype").getValue(),www:Ext.getCmp("www").getValue(),latlong:null,email:Ext.getCmp("email").getValue(),telephone:Ext.getCmp("telephone").getValue(),externalId:Ext.getCmp("externalId").getValue(),address:{number:Ext.getCmp("number").getValue(),street:Ext.getCmp("street").getValue(),city:Ext.getCmp("city").getValue(),state:Ext.getCmp("state").getValue(),country:Ext.getCmp("country").getValue()}};d=JSON.stringify(d);com.faralam.updateEventMetaData=com.faralam.serverURL+"reservations/updateEventMetaData?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);console.log("common"+d);var b=function(e,h,g){Ext.MessageBox.alert("success","Event successfully updated.");Ext.getCmp("editeventtype").setRawValue("");Ext.getCmp("editEvents").close();com.faralam.common.retrieveEventSummary()};var a=function(e,h,g){};com.faralam.common.sendAjaxRequest(com.faralam.updateEventMetaData,"PUT",d,b,a)};com.faralam.common.OpenShare=function(g,d){var h='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var a;if(Ext.getCmp("OpenShare_modal")){var b=Ext.getCmp("OpenShare_modal");b.destroy(b,new Object())}if(!a){var e=Ext.widget("form",{layout:{type:"vbox",align:"stretch"},style:"background: #324F85 !important; width:850px !important;",border:false,bodyPadding:10,fieldDefaults:{labelAlign:"side",labelWidth:1,labelStyle:"font-weight:bold"},defaultType:"textfield",items:[{xtype:"container",style:"width:850px !important;",tdAttrs:{style:{"vertical-align":"top"}},items:[{xtype:"container",layout:"vbox",style:"width:850px !important;",items:[{xtype:"container",margin:"0 0 0 0",layout:"hbox",style:"width:850px !important;",items:[{xtype:"displayfield",value:'<h4 style="color: #fff;">Share URL</h4> ',width:200,style:"text-align: left;"},{xtype:"component",width:300,id:"event_mobile_url",margin:"0 0 0 0",html:g,style:"text-align:left;"},{xtype:"button",text:'<span style="color:#fff;">Share</span>',scale:"medium",margin:"0 0 0 105",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; ",handler:function(){var k=Ext.getCmp("event_mobile_share_sms").getValue();if(k&&k!=""){var l=Ext.getCmp("event_shareEmailSMS_access_mode").getValue();if(l===true){Ext.getCmp("event_mobile_share_sms").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid mobile no.")}}}]},{xtype:"component",height:40,width:845,margin:"10 0 10 0",html:'<table><tr><td style="width:180px;"><h4 style="color: #fff; width:135px;">Via Social Network</h4></td><td><a href="https://www.facebook.com/sharer.php?u='+g+'" target="_blank"><img id="fb_btn_PollContest" src="'+com.faralam.custom_img_path+'/share_button.png" width="90" height="30" style="margin-left:30px;"></a></td><td><a href="https://twitter.com/share?url='+g+'" target="_blank"><img id="tweet_btn_PollContest" src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" width="90" height="28" style="float: left; margin-left:20px;"></a></td></tr></table>'},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",hideTrigger:true,keyNavEnabled:false,mouseWheelEnabled:false,id:"event_mobile_share_sms",fieldLabel:"Send URL to Mobile",name:"share_sms",allowBlank:false,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter mobile number",labelSeparator:"  ",style:" border-radius: 3px !important;padding: 5px !important;",minValue:0,minLength:10,maxLength:14,maskRe:/[0-9.]/,enableKeyEvents:true,listeners:{keydown:function(l,m,k){}}},{xtype:"button",text:'<span style="color:#fff;">Send Text Msg</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("event_mobile_share_sms").getValue();if(k&&k!=""){var l=Ext.getCmp("event_shareEmailSMS_access_mode").getValue();if(l===true){com.faralam.common.sendEventURLToMobileviaSMS(k,d);Ext.getCmp("event_mobile_share_sms").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid mobile no.")}}}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",items:[{xtype:"textfield",id:"event_share_email",fieldLabel:"Send URL to E-Mail",name:"share_email",allowBlank:false,emptyText:"",msgTarget:"none",margin:"0 0 0 0",labelAlign:"left",labelWidth:200,inputWidth:250,emptyText:"Enter email address",labelSeparator:"  ",vtype:"email",vtypeText:"Email format is not valid",style:" border-radius: 3px !important;padding: 5px !important;",listeners:{errorchange:function(n,l,m){var k=Ext.getCmp("event_share_email_err");k.setValue("");if(l){if(n.getValue().length>0){k.setValue('<span style="color:#CF4C35;">Enter valid email</span>')}else{k.setValue('<span style="color:#CF4C35;">'+l+"</span>")}}}}},{xtype:"button",text:'<span style="color:#fff;">Send E-Mail</span>',scale:"medium",margin:"0 0 0 150",width:130,style:"cursor:pointer;background:#006FC0 !important;border:0px solid #000 !important;box-shadow:none !important; left:645px;",handler:function(){var k=Ext.getCmp("event_share_email").getValue();if(k&&k!=""){var l=Ext.getCmp("event_shareEmailSMS_access_mode").getValue();if(l){com.faralam.common.sendEventURLToEmail(k,d);Ext.getCmp("event_share_email").setValue("")}else{Ext.MessageBox.alert("Information","Please select the checkbox")}}else{Ext.MessageBox.alert("Information","Please enter a valid email address.")}}}]},{xtype:"container",layout:"hbox",margin:"0 0 0 0",width:500,items:[{xtype:"displayfield",name:"share_email_err",id:"event_share_email_err",fieldLabel:"&nbsp;",margin:"0 0 0 10",value:"",labelSeparator:""}]},{xtype:"container",layout:"hbox",margin:"10 0 0 0",width:900,items:[{xtype:"fieldcontainer",fieldLabel:'<h4 style="color: #ffff00;margin-right: 10px; text-align:center !important">"I certify that the recipient has agreed to receive this Text/E-Mail message"</h4>',defaultType:"checkboxfield",msgTarget:"none",margin:"0 0 0 20",labelAlign:"right",labelWidth:550,inputWidth:80,labelSeparator:"  ",items:[{name:"event_shareEmailSMS_access_mode",id:"event_shareEmailSMS_access_mode",listeners:{click:{element:"el",fn:function(){var k=Ext.getCmp("event_shareEmailSMS_access_mode").getValue();if(k===true){Ext.get("event_shareEmailSMS_access_mode-inputEl").removeCls("inactive_checkbox");Ext.get("event_shareEmailSMS_access_mode-inputEl").addCls("active_checkbox")}else{Ext.get("event_shareEmailSMS_access_mode-inputEl").removeCls("active_checkbox");Ext.get("event_shareEmailSMS_access_mode-inputEl").addCls("inactive_checkbox")}}}}}]}]}]}]}]});a=Ext.widget("window",{id:"OpenShare_modal",closeAction:"hide",layout:"fit",resizable:false,modal:true,width:850,x:70,y:130,style:"background: #324F85 !important; border: 3px solid #000 !important;",items:e,listeners:{close:function(){e.getForm().reset(true)},show:function(){}}})}a.show()};com.faralam.common.sendEventURLToEmail=function(d,e){com.faralam.sendEventURLToEmail=com.faralam.serverURL+"html/sendEventURLToEmail";com.faralam.sendEventURLToEmail=com.faralam.sendEventURLToEmail+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&toEmail="+d+"&serviceLocationId="+sessionStorage.SL+"&eventUUID="+e);var b=function(h,k,g){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Send successfully.")}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.sendEventURLToEmail,"GET",{},b,a)};com.faralam.common.sendEventURLToMobileviaSMS=function(d,e){com.faralam.sendEventURLToMobileviaSMS=com.faralam.serverURL+"html/sendEventURLToMobileviaSMS";com.faralam.sendEventURLToMobileviaSMS=com.faralam.sendEventURLToMobileviaSMS+"?"+encodeURI("UID="+sessionStorage.UID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&eventUUID="+e);var b=function(h,k,g){if(h.success){if(h.success){Ext.MessageBox.alert("Success","Send successfully.")}}};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.sendEventURLToMobileviaSMS,"GET",{},b,a)};com.faralam.common.getThemeSelectorIframe=function(){var a="";var b="";if(com.faralam.serverURL=="https://simfel.com/apptsvc/rest/"){a="https://sitelettes.com/common_themes.php?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&demo=true"}else{a="https://sitelettes.com/common_themes.php?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL}b='<iframe src="'+a+'" frameborder="0" height="600px" width="900px" style="overflow:scroll;"></iframe>';Ext.getCmp("themeSelectorIframeComponent").update(b)};com.faralam.common.retrieveExternalMedia=function(){com.faralam.retrieveExternalMedia=com.faralam.serverURL+"media/retrieveExternalMedia";com.faralam.retrieveExternalMedia=com.faralam.retrieveExternalMedia+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var b=function(e,l,k){Ext.getCmp("videoActiveContainer").update("");var h='<ul class="main_list">';var d='<ul class="main_list">';if(e.length>0){for(var g=0;g<e.length;g++){if(e[g].status=="ACTIVE"){h+='<li class="video_list_wrap"><div class="video_list"><div class="video_frame"><iframe width="134"  height="100" src="'+e[g].src+'&showinfo=0" frameborder="0" allowfullscreen></iframe></div><div class="video_content_details"><div class="video_details_row">'+e[g].message+'</div><div class="video_details_row">Added: '+e[g].lastUpdated+'</div><div class="video_details_row" style="border-bottom: 0px !important;"><span>Status: '+e[g].status+'</span><button type="button" class="deactivate_button" mediaId="'+e[g].idMedia+'" onClick="com.faralam.common.deactivateExternalMedia(this)" style="cursor:pointer">Deactivate</button></div></div><div class="video_upload_download"><img id="video_drag_zone_active" src="'+com.faralam.custom_img_path+'pink_upload_download_btn.png" alt="button" class="upload_button before_dragging" mediaid="'+e[g].idMedia+'"  ondragend="com.faralam.dragEnd_video(event)" ondragstart="com.faralam.dragStart_video(event)" onclick="" /></div></div></li> <li class="catalog_li" style="height: 25px;padding: 0; margin-top:16px !important; list-style: none;"><div style="line-height: 20px; text-align: center; margin-left: 25px; font-weight: bold; padding-bottom: 4px; color: rgb(204, 204, 204); border: 2px dotted rgb(204, 204, 204);">Drop Here</div><img  id="groupList_video_drag_zone_middlebar_active'+g+'" class="before_dragging" ondrop="com.faralam.drop_video(event)" ondragover="com.faralam.allowDrop_catalog(event)" mediaid="'+e[g].idMedia+'" style="height: 35px; left: 0;position: absolute;top: 0;width: 770px;border:none; opacity:0.0; cursor:move;" src="'+com.faralam.custom_img_path+'trans_img.jpg"></li>'}else{d+='<li class="video_list_wrap"><div class="video_list"><div class="video_frame"><iframe width="134"  height="100" src="'+e[g].src+'&showinfo=0" frameborder="0" allowfullscreen></iframe></div><div class="video_content_details"><div class="video_details_row">'+e[g].message+'</div><div class="video_details_row">Added: '+e[g].lastUpdated+'</div><div class="video_details_row" style="border-bottom: 0px !important;"><span>Status: '+e[g].status+'</span><button type="button" class="deactivate_button" mediaId="'+e[g].idMedia+'" onClick="com.faralam.common.activateExternalMedia(this)" style="cursor:pointer">Activate</button></div></div><div class="video_upload_download"><img src="'+com.faralam.custom_img_path+'edit_btn.png" alt="button" class="upload_button" /></div></div></li>'}}h+="</ul>";d+="</ul>";Ext.getCmp("videoActiveContainer").update(h);$("#videoActiveContainer").perfectScrollbar("destroy");$("#videoActiveContainer").perfectScrollbar()}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveExternalMedia,"GET",{},b,a)};com.faralam.common.activateExternalMedia=function(g){var d=g.getAttribute("mediaId");com.faralam.activateExternalMedia=com.faralam.serverURL+"media/activateExternalMedia";com.faralam.activateExternalMedia=com.faralam.activateExternalMedia+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&id="+d);var b=function(h,k,e){Ext.MessageBox.alert("Success","Video Activated successfully",function(){com.faralam.common.retrieveExternalMedia()})};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.activateExternalMedia,"PUT",{},b,a)};com.faralam.common.deactivateExternalMedia=function(g){var d=g.getAttribute("mediaId");com.faralam.deactivateExternalMedia=com.faralam.serverURL+"media/deactivateExternalMedia";com.faralam.deactivateExternalMedia=com.faralam.deactivateExternalMedia+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&id="+d);var b=function(h,k,e){Ext.MessageBox.alert("Success","Video Deactivated successfully",function(){com.faralam.common.retrieveExternalMedia()})};var a=function(e,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.deactivateExternalMedia,"PUT",{},b,a)};com.faralam.common.createExternalMedia=function(){var e=Ext.getCmp("videoname").getValue();var d=Ext.getCmp("videourl").getValue();var g={title:e,mediaWidth:320,mediaHeight:240,message:e,auxData1:d,auxData2:null};g=JSON.stringify(g);console.log(g);com.faralam.createExternalMedia=com.faralam.serverURL+"media/createExternalMedia";com.faralam.createExternalMedia=com.faralam.createExternalMedia+"?"+encodeURI("UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL);var b=function(k,l,h){Ext.MessageBox.alert("Success","Video Added Successfully",function(){Ext.getCmp("videoname").setRawValue("");Ext.getCmp("videourl").setRawValue("");Ext.getCmp("main_tab").down("#videos").setDisabled(false);Ext.getCmp("main_tab").down("#AddNewVideo").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(45)})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(com.faralam.createExternalMedia,"POST",g,b,a)};com.faralam.common.drop_video=function(b){b.preventDefault();var a=b.dataTransfer.getData("Text");var d=b.dataTransfer.getData("mediaid");console.log(d)};com.faralam.dragEnd_video=function(a){a.target.className="before_dragging"};com.faralam.dragStart_video=function(a){if(a.target.id=="video_drag_zone_active"){a.dataTransfer.setData("Text",a.target.id);a.dataTransfer.setData("mediaid",a.target.getAttribute("mediaid"));a.target.className="after_dragging";com.faralam.fire_count=0}};com.faralam.drop_video=function(e){e.preventDefault();var b=e.currentTarget.id;var g=e.currentTarget.getAttribute("mediaid");var a=e.dataTransfer.getData("Text");if(a=="video_drag_zone_active"){var d=e.dataTransfer.getData("mediaid")}com.faralam.common.positionExternalMediaIdAfterId(g,d)};com.faralam.common.positionExternalMediaIdAfterId=function(d,e){com.faralam.positionExternalMediaIdAfterId=com.faralam.serverURL+"media/positionExternalMediaIdAfterId";com.faralam.positionExternalMediaIdAfterId=com.faralam.positionExternalMediaIdAfterId+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&id="+e+"&insertAfterId="+d);var b=function(g,k,h){Ext.MessageBox.alert("Success","Sort Successfully.",function(){com.faralam.common.retrieveExternalMedia()})};var a=function(g,k,h){};com.faralam.common.sendAjaxRequest(com.faralam.positionExternalMediaIdAfterId,"PUT",{},b,a)};com.faralam.common.retrieveLoyaltyProgram=function(){com.faralam.retrieveLoyaltyProgram=com.faralam.serverURL+"retail/retrieveLoyaltyProgram";com.faralam.retrieveLoyaltyProgram=com.faralam.retrieveLoyaltyProgram+"?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;var b=function(e,g,d){if(e.hasLoyaltyProgram){Ext.getCmp("loyality_lebel").update('<div class="call_heading_area" style="font-weight:400"><center>'+e.displayText+"</center></div>")}else{Ext.getCmp("loyality_lebel").update('<div class="call_heading_area" style="font-weight:400"><center></center></div>')}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.retrieveLoyaltyProgram,"GET",{},b,a)};com.faralam.common.sendQR=function(a){Ext.getCmp("qr_out_decode").update("");var b='<div class="qrcode_code_status" id="result_ext" style="">'+a+"</div>";Ext.getCmp("qr_out_decode").update(b)};com.faralam.common.registerUserLoyaltyCheckinQRCode=function(g){console.log(g+"called");var d=Ext.getCmp("qrcode_override").getValue();var h=com.faralam.serverURL+"retail/registerUserLoyaltyCheckinQRCode?"+encodeURI("qrcode="+g+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ignoreLastScanTime="+d);console.log(h);var b=function(l,m,k){Ext.MessageBox.alert("Success","Success")};var a=function(k,m,l){};var e='<div class="qrcode_code_status" id="result_ext" style="">- scanning -</div>';Ext.getCmp("qr_out_decode").update(e);com.faralam.common.sendAjaxRequest(h,"PUT",{},b,a)};com.faralam.common.registerUserLoyaltyCheckinUsername=function(g){var d=Ext.getCmp("qrcode_override_manual").getValue();var e=com.faralam.serverURL+"retail/registerUserLoyaltyCheckinUsername?"+encodeURI("username="+g+"&UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&ignoreLastScanTime="+d);console.log(e);var b=function(k,l,h){Ext.MessageBox.alert("Success","Successfully sent.",function(){Ext.getCmp("username_email").setValue("")})};var a=function(h,l,k){};com.faralam.common.sendAjaxRequest(e,"PUT",{},b,a)};com.faralam.common.getLoyaltyReport=function(){com.faralam.getLoyaltyReport=com.faralam.serverURL+"retail/getLoyaltyReport";com.faralam.getLoyaltyReport=com.faralam.getLoyaltyReport+"?UID="+sessionStorage.UID+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;var b=function(l,m,k){var g='<table border="1" id="loyality_summery_table"><tr><th>Username</th><th>Last Seen</th><th>Status</th></tr>';if(l.ongoing.length>0){for(var e=0;e<l.ongoing.length;e++){g+='<tr usrnm="'+l.ongoing[e].username+'" tp="SUMM" onclick="com.faralam.common.select_row(this)"><td>'+l.ongoing[e].username+"</td><td>"+l.ongoing[e].lastCheckin+"</td><td>"+l.ongoing[e].details+"</td></tr>"}g+="</table>";Ext.getCmp("summery_table").update(g);$("loyality_summery_table").perfectScrollbar("destroy");$("loyality_summery_table").perfectScrollbar()}else{g+="</table>";Ext.getCmp("summery_table").update(g);$("loyality_summery_table").perfectScrollbar("destroy");$("loyality_summery_table").perfectScrollbar()}var h='<table border="1" id="loyality_award_table">';if(l.collected.length>0){for(var d=0;d<l.collected.length;d++){h+='<tr usrnm="'+l.collected[d].username+'" tp="AWARD" onclick="com.faralam.common.select_row(this)"><td>'+l.collected[d].username+"</td><td>"+l.collected[d].lastCheckin+"</td><td>"+l.collected[d].details+"</td></tr>"}h+="</table>";Ext.getCmp("award_table").update(h);$("loyality_award_table").perfectScrollbar("destroy");$("loyality_award_table").perfectScrollbar()}else{h+="</table>";console.log(h);Ext.getCmp("award_table").update(h);$("loyality_award_table").perfectScrollbar("destroy");$("loyality_award_table").perfectScrollbar()}};var a=function(d,g,e){};com.faralam.common.sendAjaxRequest(com.faralam.getLoyaltyReport,"GET",{},b,a)};com.faralam.common.select_row=function(b){var d=$(b).attr("tp");var a=$(b).attr("usrnm");console.log(a);if(d=="SUMM"){$("#loyality_summery_table tr").css({background:"#fff"});$(b).css({background:"#aaa"});Ext.getCmp("user_name_summ").setValue(a)}if(d=="AWARD"){$("#loyality_award_table tr").css({background:"#fff"});$(b).css({background:"#aaa"});Ext.getCmp("user_name_award").setValue(a)}};com.faralam.common.setGroupItemType=function(l){com.faralam.setGroupItemType=com.faralam.serverURL+"retail/setGroupItemType";com.faralam.setGroupItemType=com.faralam.setGroupItemType+"?"+encodeURI("UID="+sessionStorage.UID);var m=l.getAttribute("itemId");var d=l.getAttribute("itemVersion");var g=l.getAttribute("priceId");var h=l.getAttribute("groupId");var k={serviceAccommodatorId:sessionStorage.SA,serviceLocationId:sessionStorage.SL,item:{itemId:m,itemVersion:d,priceId:g},groupId:h,itemGroupType:"HIGHLIGHTED"};k=JSON.stringify(k);var b=function(e,o,n){Ext.MessageBox.alert("Success","Successfully Item Highlighted.",function(){com.faralam.common.retrieveGroup_func(h)})};var a=function(e,o,n){};com.faralam.common.sendAjaxRequest(com.faralam.setGroupItemType,"PUT",k,b,a)};com.faralam.common.getMobileAppURLStartScreen_App=function(r,g){var a="";var t="";var k="";var q="";var l=0;var b="";var d='<center><ul class="bullets"><li><a data-slide="0" class="bullet active" href="#">&bull;</a></li><li><a data-slide="1" class="bullet" href="#">&bull;</a></li><li><a data-slide="2" class="bullet" href="#">&bull;</a></li><li><a data-slide="3" class="bullet" href="#">&bull;</a></li><li><a data-slide="4" class="bullet" href="#">&bull;</a></li><li><a data-slide="5" class="bullet" href="#">&bull;</a></li> </ul></center>';t='<div id="sliderPreview"><div class="viewport"><ul class="overview" id="overview_slider">';for(var h=1;h<7;h++){var o=h+1;k+='<li><img src="'+com.faralam.custom_img_path+"carousel/carousel_"+h+'.jpg" width="283" height="500" /></li>'}q="</ul>"+d+"</div></div>";a=t+k+q;Ext.getCmp("carousel_main").update(a);$("#sliderPreview").tinycarousel({axis:"x",interval:true,bullets:true});com.faralam.get_mobile_app_url_start1=com.faralam.serverURL+"sasl/getMobileAppURL";com.faralam.get_mobile_app_url_start1=com.faralam.get_mobile_app_url_start1+"?"+encodeURI("serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL+"&UID="+sessionStorage.UID);var e="";var m="";var u=function(y,A,w){var x=y.mobileURL.split("?");if(x.length>1){m="&desktopiframe=true"}else{m="?desktopiframe=true"}Ext.getCmp("mobile_url_start_App").update("");if(y){urlhtml='<center><div style="  background: #CCCCCC; height: 25px; display: table-cell;vertical-align: middle;text-align: center;"><p style="color:#000;font-family: arial !important;font-size: 12px;">'+y.mobileURL+"</p></div></center>";k='<iframe src="'+y.mobileURL+m+'" frameborder="0" height="472px" width="320px" style="margin-top: 22px;"></iframe>';var z='<table><tr><td style="width:180px;"><h4 style="color: #fff; width:160px;margin-bottom: 10px;">Share Via Social Network</h4></td></tr><tr><td><a href="https://www.facebook.com/sharer.php?u='+y.mobileURL+'" target="_blank"><img id="fb_btn_PollContest" src="'+com.faralam.custom_img_path+'/share_button.png" width="90" height="30" style="border: 1px solid white;border-radius: 5px;"></a></td><td><a href="https://twitter.com/share?url='+y.mobileURL+'" target="_blank"><img id="tweet_btn_PollContest" src="'+com.faralam.custom_img_path+'/tweet-button_withoutbg.png" width="90" height="28" style="float: left; margin-left:-60px;border: 1px solid white;border-radius: 5px;"></a></td></tr></table>';Ext.getCmp("mobile_url_start_App").update(k);Ext.getCmp("share_base_path_url").update(urlhtml);Ext.getCmp("share_app_social_icon_grp").update(z)}};var n=function(w,y,x){};com.faralam.common.sendAjaxRequest(com.faralam.get_mobile_app_url_start1,"GET",{},u,n)};com.faralam.common.sendAppURLForSASLToEmail=function(d){com.faralam.sendAppURLForSASLToEmail=com.faralam.serverURL+"html/sendAppURLForSASLToEmail";com.faralam.sendAppURLForSASLToEmail=com.faralam.sendAppURLForSASLToEmail+"?UID="+sessionStorage.UID+"&toEmail="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;console.log(com.faralam.sendAppURLForSASLToEmail);var b=function(g,h,e){Ext.MessageBox.alert("Success","Email Send Successfully",function(){Ext.getCmp("email_preview").setRawValue("")})};var a=function(e,h,g){Ext.MessageBox.alert("Information","Email Send Fail")};com.faralam.common.sendAjaxRequest(com.faralam.sendAppURLForSASLToEmail,"GET",{},b,a)};com.faralam.common.sendAppURLForSASLToMobileviaSMS=function(d){com.faralam.sendAppURLForSASLToMobileviaSMS=com.faralam.serverURL+"html/sendAppURLForSASLToMobileviaSMS";com.faralam.sendAppURLForSASLToMobileviaSMS=com.faralam.sendAppURLForSASLToMobileviaSMS+"?UID="+sessionStorage.UID+"&toTelephoneNumber="+d+"&serviceAccommodatorId="+sessionStorage.SA+"&serviceLocationId="+sessionStorage.SL;console.log(com.faralam.sendAppURLForSASLToMobileviaSMS);var b=function(g,h,e){Ext.MessageBox.alert("Success","Message Send Successfully",function(){Ext.getCmp("mobile_preview").setRawValue("")})};var a=function(e,h,g){Ext.MessageBox.alert("Information","Message Send Fail")};com.faralam.common.sendAjaxRequest(com.faralam.sendAppURLForSASLToMobileviaSMS,"GET",{},b,a)};com.faralam.common.gotoTab=function(b,a){b="#"+b;Ext.getCmp("main_tab").down(b).setDisabled(false);Ext.getCmp("main_tab").down("#start_screen").setDisabled(true);Ext.getCmp("main_tab").setActiveTab(a)};var modal=(function(){var g={},a,d,b,e;g.center=function(){var k,h;k=Math.max($(window).height()-d.outerHeight(),0)/2;h=Math.max($(window).width()-d.outerWidth(),0)/2;d.css({top:k+$(window).scrollTop(),left:h+$(window).scrollLeft()})};g.open=function(h){b.empty().append(h.content);d.css({width:h.width||"auto",height:h.height||"auto"});g.center();$(window).bind("resize.modal",g.center);d.show();a.show()};g.close=function(){d.hide();a.hide();b.empty();$(window).unbind("resize.modal")};a=$('<div id="overlay"></div>');d=$('<div id="modal"></div>');b=$('<div id="content"></div>');e=$('<a id="close" href="#">close</a>');d.hide();a.hide();d.append(b,e);$(document).ready(function(){$("body").append(a,d)});e.click(function(h){h.preventDefault();g.close()});return g}());(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)})(function(b){var a={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},d=function(){var g=0;return function(){var e=g;return g+=1,".perfect-scrollbar-"+e}}();b.fn.perfectScrollbar=function(g,e){return this.each(function(){var az=b.extend(!0,{},a),av=b(this);if("object"==typeof g?b.extend(!0,az,g):e=g,"update"===e){return av.data("perfect-scrollbar-update")&&av.data("perfect-scrollbar-update")(),av}if("destroy"===e){return av.data("perfect-scrollbar-destroy")&&av.data("perfect-scrollbar-destroy")(),av}if(av.data("perfect-scrollbar")){return av.data("perfect-scrollbar")}av.addClass("ps-container");var aJ,aC,aH,au,aG,ax,aF,aD,at,aI,aE=b("<div class='ps-scrollbar-x-rail'></div>").appendTo(av),ay=b("<div class='ps-scrollbar-y-rail'></div>").appendTo(av),ar=b("<div class='ps-scrollbar-x'></div>").appendTo(aE),ae=b("<div class='ps-scrollbar-y'></div>").appendTo(ay),G=parseInt(aE.css("bottom"),10),ap=G===G,aq=ap?null:parseInt(aE.css("top"),10),J=parseInt(ay.css("right"),10),ag=J===J,aa=ag?null:parseInt(ay.css("left"),10),ak="rtl"===av.css("direction"),ad=d(),al=parseInt(aE.css("borderLeftWidth"),10)+parseInt(aE.css("borderRightWidth"),10),r=parseInt(aE.css("borderTopWidth"),10)+parseInt(aE.css("borderBottomWidth"),10),o=function(l,h){var m=l+h,q=au-at;aI=0>m?0:m>q?q:m;var k=parseInt(aI*(ax-au)/(au-at),10);av.scrollTop(k),ap?aE.css({bottom:G-k}):aE.css({top:aq+k})},aA=function(l,h){var m=l+h,q=aH-aF;aD=0>m?0:m>q?q:m;var k=parseInt(aD*(aG-aH)/(aH-aF),10);av.scrollLeft(k),ag?ay.css({right:J-k}):ay.css({left:aa+k})},t=function(h){return az.minScrollbarLength&&(h=Math.max(h,az.minScrollbarLength)),az.maxScrollbarLength&&(h=Math.min(h,az.maxScrollbarLength)),h},aB=function(){var k={width:aH,display:aJ?"inherit":"none"};k.left=ak?av.scrollLeft()+aH-aG:av.scrollLeft(),ap?k.bottom=G-av.scrollTop():k.top=aq+av.scrollTop(),aE.css(k);var h={top:av.scrollTop(),height:au,display:aC?"inherit":"none"};ag?h.right=ak?aG-av.scrollLeft()-J-ae.outerWidth():J-av.scrollLeft():h.left=ak?av.scrollLeft()+2*aH-aG-aa-ae.outerWidth():aa+av.scrollLeft(),ay.css(h),ar.css({left:aD,width:aF-al}),ae.css({top:aI,height:at-r}),aJ?av.addClass("ps-active-x"):av.removeClass("ps-active-x"),aC?av.addClass("ps-active-y"):av.removeClass("ps-active-y")},ab=function(){aH=az.includePadding?av.innerWidth():av.width(),au=az.includePadding?av.innerHeight():av.height(),aG=av.prop("scrollWidth"),ax=av.prop("scrollHeight"),!az.suppressScrollX&&aG>aH+az.scrollXMarginOffset?(aJ=!0,aF=t(parseInt(aH*aH/aG,10)),aD=parseInt(av.scrollLeft()*(aH-aF)/(aG-aH),10)):(aJ=!1,aF=0,aD=0,av.scrollLeft(0)),!az.suppressScrollY&&ax>au+az.scrollYMarginOffset?(aC=!0,at=t(parseInt(au*au/ax,10)),aI=parseInt(av.scrollTop()*(au-at)/(ax-au),10)):(aC=!1,at=0,aI=0,av.scrollTop(0)),aI>=au-at&&(aI=au-at),aD>=aH-aF&&(aD=aH-aF),aB()},aj=function(){var h,k;ar.bind("mousedown"+ad,function(l){k=l.pageX,h=ar.position().left,aE.addClass("in-scrolling"),l.stopPropagation(),l.preventDefault()}),b(document).bind("mousemove"+ad,function(l){aE.hasClass("in-scrolling")&&(aA(h,l.pageX-k),l.stopPropagation(),l.preventDefault())}),b(document).bind("mouseup"+ad,function(){aE.hasClass("in-scrolling")&&aE.removeClass("in-scrolling")}),h=k=null},ah=function(){var h,k;ae.bind("mousedown"+ad,function(l){k=l.pageY,h=ae.position().top,ay.addClass("in-scrolling"),l.stopPropagation(),l.preventDefault()}),b(document).bind("mousemove"+ad,function(l){ay.hasClass("in-scrolling")&&(o(h,l.pageY-k),l.stopPropagation(),l.preventDefault())}),b(document).bind("mouseup"+ad,function(){ay.hasClass("in-scrolling")&&ay.removeClass("in-scrolling")}),h=k=null},an=function(k,h){var l=av.scrollTop();if(0===k){if(!aC){return !1}if(0===l&&h>0||l>=ax-au&&0>h){return !az.wheelPropagation}}var m=av.scrollLeft();if(0===h){if(!aJ){return !1}if(0===m&&0>k||m>=aG-aH&&k>0){return !az.wheelPropagation}}return !0},aw=function(){az.wheelSpeed/=10;var h=!1;av.bind("mousewheel"+ad,function(l,q,x,m){var w=l.deltaX*l.deltaFactor||x,k=l.deltaY*l.deltaFactor||m;h=!1,az.useBothWheelAxes?aC&&!aJ?(k?av.scrollTop(av.scrollTop()-k*az.wheelSpeed):av.scrollTop(av.scrollTop()+w*az.wheelSpeed),h=!0):aJ&&!aC&&(w?av.scrollLeft(av.scrollLeft()+w*az.wheelSpeed):av.scrollLeft(av.scrollLeft()-k*az.wheelSpeed),h=!0):(av.scrollTop(av.scrollTop()-k*az.wheelSpeed),av.scrollLeft(av.scrollLeft()+w*az.wheelSpeed)),ab(),h=h||an(w,k),h&&(l.stopPropagation(),l.preventDefault())}),av.bind("MozMousePixelScroll"+ad,function(k){h&&k.preventDefault()})},am=function(){var h=!1;av.bind("mouseenter"+ad,function(){h=!0}),av.bind("mouseleave"+ad,function(){h=!1});var k=!1;b(document).bind("keydown"+ad,function(u){if(!(u.isDefaultPrevented&&u.isDefaultPrevented()||!h||b(document.activeElement).is(":input,[contenteditable]"))){var q=0,m=0;switch(u.which){case 37:q=-30;break;case 38:m=30;break;case 39:q=30;break;case 40:m=-30;break;case 33:m=90;break;case 32:case 34:m=-90;break;case 35:m=-au;break;case 36:m=au;break;default:return}av.scrollTop(av.scrollTop()-m),av.scrollLeft(av.scrollLeft()+q),k=an(q,m),k&&u.preventDefault()}})},ai=function(){var h=function(k){k.stopPropagation()};ae.bind("click"+ad,h),ay.bind("click"+ad,function(m){var k=parseInt(at/2,10),q=m.pageY-ay.offset().top-k,u=au-at,l=q/u;0>l?l=0:l>1&&(l=1),av.scrollTop((ax-au)*l)}),ar.bind("click"+ad,h),aE.bind("click"+ad,function(m){var k=parseInt(aF/2,10),q=m.pageX-aE.offset().left-k,u=aH-aF,l=q/u;0>l?l=0:l>1&&(l=1),av.scrollLeft((aG-aH)*l)})},ao=function(){var m=function(x,l){av.scrollTop(av.scrollTop()-l),av.scrollLeft(av.scrollLeft()-x),ab()},u={},w=0,q={},k=null,h=!1;b(window).bind("touchstart"+ad,function(){h=!0}),b(window).bind("touchend"+ad,function(){h=!1}),av.bind("touchstart"+ad,function(x){var l=x.originalEvent.targetTouches[0];u.pageX=l.pageX,u.pageY=l.pageY,w=(new Date()).getTime(),null!==k&&clearInterval(k),x.stopPropagation()}),av.bind("touchmove"+ad,function(B){if(!h&&1===B.originalEvent.targetTouches.length){var x=B.originalEvent.targetTouches[0],A={};A.pageX=x.pageX,A.pageY=x.pageY;var z=A.pageX-u.pageX,D=A.pageY-u.pageY;m(z,D),u=A;var y=(new Date()).getTime(),C=y-w;C>0&&(q.x=z/C,q.y=D/C,w=y),B.preventDefault()}}),av.bind("touchend"+ad,function(){clearInterval(k),k=setInterval(function(){return 0.01>Math.abs(q.x)&&0.01>Math.abs(q.y)?(clearInterval(k),void 0):(m(30*q.x,30*q.y),q.x*=0.8,q.y*=0.8,void 0)},10)})},af=function(){av.bind("scroll"+ad,function(){ab()})},V=function(){av.unbind(ad),b(window).unbind(ad),b(document).unbind(ad),av.data("perfect-scrollbar",null),av.data("perfect-scrollbar-update",null),av.data("perfect-scrollbar-destroy",null),ar.remove(),ae.remove(),aE.remove(),ay.remove(),aE=ay=ar=ae=aJ=aC=aH=au=aG=ax=aF=aD=G=ap=aq=at=aI=J=ag=aa=ak=ad=null},U=function(h){av.addClass("ie").addClass("ie"+h);var k=function(){var m=function(){b(this).addClass("hover")},q=function(){b(this).removeClass("hover")};av.bind("mouseenter"+ad,m).bind("mouseleave"+ad,q),aE.bind("mouseenter"+ad,m).bind("mouseleave"+ad,q),ay.bind("mouseenter"+ad,m).bind("mouseleave"+ad,q),ar.bind("mouseenter"+ad,m).bind("mouseleave"+ad,q),ae.bind("mouseenter"+ad,m).bind("mouseleave"+ad,q)},l=function(){aB=function(){var q={left:aD+av.scrollLeft(),width:aF};ap?q.bottom=G:q.top=aq,ar.css(q);var m={top:aI+av.scrollTop(),height:at};ag?m.right=J:m.left=aa,ae.css(m),ar.hide().show(),ae.hide().show()}};6===h&&(k(),l())},ac="ontouchstart" in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n=function(){var h=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);h&&"msie"===h[1]&&U(parseInt(h[2],10)),ab(),af(),aj(),ah(),ai(),ac&&ao(),av.mousewheel&&aw(),az.useKeyboard&&am(),av.data("perfect-scrollbar",av),av.data("perfect-scrollbar-update",ab),av.data("perfect-scrollbar-destroy",V)};return n(),av})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(m){function y(C){var D=C||window.event,A=k.call(arguments,1),r=0,B=0,o=0,e=0;if(C=m.event.fix(D),C.type="mousewheel","detail" in D&&(o=-1*D.detail),"wheelDelta" in D&&(o=D.wheelDelta),"wheelDeltaY" in D&&(o=D.wheelDeltaY),"wheelDeltaX" in D&&(B=-1*D.wheelDeltaX),"axis" in D&&D.axis===D.HORIZONTAL_AXIS&&(B=-1*o,o=0),r=0===o?B:o,"deltaY" in D&&(o=-1*D.deltaY,r=o),"deltaX" in D&&(B=D.deltaX,0===o&&(r=-1*B)),0!==o||0!==B){if(1===D.deltaMode){var n=m.data(this,"mousewheel-line-height");r*=n,o*=n,B*=n}else{if(2===D.deltaMode){var l=m.data(this,"mousewheel-page-height");r*=l,o*=l,B*=l}}return e=Math.max(Math.abs(o),Math.abs(B)),(!h||h>e)&&(h=e,g(D,e)&&(h/=40)),g(D,e)&&(r/=40,B/=40,o/=40),r=Math[r>=1?"floor":"ceil"](r/h),B=Math[B>=1?"floor":"ceil"](B/h),o=Math[o>=1?"floor":"ceil"](o/h),C.deltaX=B,C.deltaY=o,C.deltaFactor=h,C.deltaMode=0,A.unshift(C,r,B,o),b&&clearTimeout(b),b=setTimeout(d,200),(m.event.dispatch||m.event.handle).apply(this,A)}}function d(){h=null}function g(l,a){return x.settings.adjustOldDeltas&&"mousewheel"===l.type&&0===a%120}var b,h,z=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],w="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],k=Array.prototype.slice;if(m.event.fixHooks){for(var q=z.length;q;){m.event.fixHooks[z[--q]]=m.event.mouseHooks}}var x=m.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener){for(var a=w.length;a;){this.addEventListener(w[--a],y,!1)}}else{this.onmousewheel=y}m.data(this,"mousewheel-line-height",x.getLineHeight(this)),m.data(this,"mousewheel-page-height",x.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var a=w.length;a;){this.removeEventListener(w[--a],y,!1)}}else{this.onmousewheel=null}},getLineHeight:function(a){return parseInt(m(a)["offsetParent" in m.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(a){return m(a).height()},settings:{adjustOldDeltas:!0}};m.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});(function(a){if(typeof define==="function"&&define.amd){define(a)}else{window.purl=a()}})(function(){var l={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],d={anchor:"fragment"},a={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},h=/^[0-9]+$/;function g(y,B){var D=decodeURI(y),A=a[B||false?"strict":"loose"].exec(D),C={attr:{},param:{},seg:{}},z=14;while(z--){C.attr[t[z]]=A[z]||""}C.param.query=m(C.attr.query);C.param.fragment=m(C.attr.fragment);C.seg.path=C.attr.path.replace(/^\/+|\/+$/g,"").split("/");C.seg.fragment=C.attr.fragment.replace(/^\/+|\/+$/g,"").split("/");C.attr.base=C.attr.host?(C.attr.protocol?C.attr.protocol+"://"+C.attr.host:C.attr.host)+(C.attr.port?":"+C.attr.port:""):"";return C}function b(z){var y=z.tagName;if(typeof y!=="undefined"){return l[y.toLowerCase()]}return y}function x(B,A){if(B[A].length===0){return B[A]={}}var z={};for(var y in B[A]){z[y]=B[A][y]}B[A]=z;return z}function e(C,A,z,D){var y=C.shift();if(!y){if(k(A[z])){A[z].push(D)}else{if("object"==typeof A[z]){A[z]=D}else{if("undefined"==typeof A[z]){A[z]=D}else{A[z]=[A[z],D]}}}}else{var B=A[z]=A[z]||[];if("]"==y){if(k(B)){if(""!==D){B.push(D)}}else{if("object"==typeof B){B[w(B).length]=D}else{B=A[z]=[A[z],D]}}}else{if(~y.indexOf("]")){y=y.substr(0,y.length-1);if(!h.test(y)&&k(B)){B=x(A,z)}e(C,B,y,D)}else{if(!h.test(y)&&k(B)){B=x(A,z)}e(C,B,y,D)}}}}function o(B,A,D){if(~A.indexOf("]")){var C=A.split("[");e(C,B,"base",D)}else{if(!h.test(A)&&k(B.base)){var z={};for(var y in B.base){z[y]=B.base[y]}B.base=z}if(A!==""){q(B.base,A,D)}}return B}function m(y){return n(String(y).split(/&|;/),function(z,E){try{E=decodeURIComponent(E.replace(/\+/g," "))}catch(B){}var F=E.indexOf("="),D=u(E),A=E.substr(0,D||F),C=E.substr(D||F,E.length);C=C.substr(C.indexOf("=")+1,C.length);if(A===""){A=E;C=""}return o(z,A,C)},{base:{}}).base}function q(A,z,B){var y=A[z];if(typeof y==="undefined"){A[z]=B}else{if(k(y)){y.push(B)}else{A[z]=[y,B]}}}function u(B){var y=B.length,A,C;for(var z=0;z<y;++z){C=B[z];if("]"==C){A=false}if("["==C){A=true}if("="==C&&!A){return z}}}function n(C,z){var A=0,y=C.length>>0,B=arguments[2];while(A<y){if(A in C){B=z.call(undefined,B,C[A],A,C)}++A}return B}function k(y){return Object.prototype.toString.call(y)==="[object Array]"}function w(z){var y=[];for(var A in z){if(z.hasOwnProperty(A)){y.push(A)}}return y}function r(y,z){if(arguments.length===1&&y===true){z=true;y=undefined}z=z||false;y=y||window.location.toString();return{data:g(y,z),attr:function(A){A=d[A]||A;return typeof A!=="undefined"?this.data.attr[A]:this.data.attr},param:function(A){return typeof A!=="undefined"?this.data.param.query[A]:this.data.param.query},fparam:function(A){return typeof A!=="undefined"?this.data.param.fragment[A]:this.data.param.fragment},segment:function(A){if(typeof A==="undefined"){return this.data.seg.path}else{A=A<0?this.data.seg.path.length+A:A-1;return this.data.seg.path[A]}},fsegment:function(A){if(typeof A==="undefined"){return this.data.seg.fragment}else{A=A<0?this.data.seg.fragment.length+A:A-1;return this.data.seg.fragment[A]}}}}r.jQuery=function(y){if(y!=null){y.fn.url=function(A){var z="";if(this.length){z=y(this).attr(b(this[0]))||""}return r(z,A)};y.url=r}};r.jQuery(window.jQuery);return r});(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(d){var b="tinycarousel",e={start:0,axis:"x",buttons:true,bullets:false,interval:false,intervalTime:3000,animation:true,animationTime:1000,infinite:true};function a(u,l){this.options=d.extend({},e,l);this._defaults=e;this._name=b;var r=this,k=u.find(".viewport:first"),C=u.find(".overview:first"),z=null,B=u.find(".next:first"),A=u.find(".prev:first"),t=u.find(".bullet"),g=0,w={},y=0,o=0,D=0,m=this.options.axis==="x",n=m?"Width":"Height",q=m?"left":"top",F=null;this.slideCurrent=0;this.slidesTotal=0;this.intervalActive=false;function E(){r.update();r.move(r.slideCurrent);h();return r}this.update=function(){C.find(".mirrored").remove();z=C.children();g=k[0]["offset"+n];o=z.first()["outer"+n](true);r.slidesTotal=z.length;r.slideCurrent=r.options.start||0;y=Math.ceil(g/o);C.append(z.slice(0,y).clone().addClass("mirrored"));C.css(n.toLowerCase(),o*(r.slidesTotal+y));x();return r};function h(){if(r.options.buttons){A.click(function(){r.move(--D);return false});B.click(function(){r.move(++D);return false})}d(window).resize(r.update);if(r.options.bullets){u.on("click",".bullet",function(){r.move(D=+d(this).attr("data-slide"));return false})}}this.start=function(){if(r.options.interval){clearTimeout(F);r.intervalActive=true;F=setTimeout(function(){r.move(++D)},r.options.intervalTime)}return r};this.stop=function(){clearTimeout(F);r.intervalActive=false;return r};this.move=function(G){D=isNaN(G)?r.slideCurrent:G;r.slideCurrent=D%r.slidesTotal;if(D<0){r.slideCurrent=D=r.slidesTotal-1;C.css(q,-(r.slidesTotal)*o)}if(D>r.slidesTotal){r.slideCurrent=D=1;C.css(q,0)}w[q]=-D*o;C.animate(w,{queue:false,duration:r.options.animation?r.options.animationTime:0,always:function(){u.trigger("move",[z[r.slideCurrent],r.slideCurrent])}});x();r.start();return r};function x(){if(r.options.buttons&&!r.options.infinite){A.toggleClass("disable",r.slideCurrent<=0);B.toggleClass("disable",r.slideCurrent>=r.slidesTotal-y)}if(r.options.bullets){t.removeClass("active");d(t[r.slideCurrent]).addClass("active")}}return E()}d.fn[b]=function(g){return this.each(function(){if(!d.data(this,"plugin_"+b)){d.data(this,"plugin_"+b,new a(d(this),g))}})}}));var gCtx=null;var gCanvas=null;var c=0;var stype=0;var gUM=false;var webkit=false;var moz=false;var v=null;var imghtml='<div id="qrfile"><canvas id="out-canvas" width="320" height="240"></canvas><div id="imghelp">drag and drop a QRCode here<br>or select a file<input type="file" onchange="handleFiles(this.files)"/></div></div>';var vidhtml='<video id="v" autoplay></video>';function initCanvas(a,b){gCanvas=document.getElementById("qr-canvas");gCanvas.style.width=a+"px";gCanvas.style.height=b+"px";gCanvas.width=a;gCanvas.height=b;gCtx=gCanvas.getContext("2d");gCtx.clearRect(0,0,a,b)}function captureToCanvas(){if(stype!=1){return}if(gUM){try{gCtx.drawImage(v,0,0);try{qrcode.decode()}catch(a){setTimeout(captureToCanvas,500)}}catch(a){setTimeout(captureToCanvas,500)}}}function htmlEntities(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function read(b){var d=com.faralam.custom_img_path+"notify.wav";var e='<audio autoplay="autoplay"><source src="'+d+'" type="audio/mpeg" /><source src="'+d+'.ogg" type="audio/ogg" /><embed hidden="true" autostart="true" loop="false" src="'+d+'" /></audio>';Ext.getCmp("ext_qr_snd").update(e);Ext.getCmp("ext_qr_snd").update("");com.faralam.common.sendQR(b);com.faralam.common.registerUserLoyaltyCheckinQRCode(b);if(sessionStorage.scan_type=="MULTI"){setTimeout(captureToCanvas,1000)}}function isCanvasSupported(){var a=document.createElement("canvas");return !!(a.getContext&&a.getContext("2d"))}function success(a){if(webkit){v.src=window.webkitURL.createObjectURL(a)}else{if(moz){v.mozSrcObject=a;v.play()}else{v.src=a}}gUM=true;setTimeout(captureToCanvas,500)}function error(a){gUM=false;return}function load(){if(isCanvasSupported()&&window.File&&window.FileReader){initCanvas(800,600);qrcode.callback=read;setwebcam()}}function setwebcam(){document.getElementById("result").innerHTML="- scanning -";com.faralam.common.sendQR("- scanning -");if(stype==1){setTimeout(captureToCanvas,500);return}var a=navigator;document.getElementById("mydiv").innerHTML=vidhtml;v=document.getElementById("v");if(a.getUserMedia){a.getUserMedia({video:true,audio:false},success,error)}else{if(a.webkitGetUserMedia){webkit=true;a.webkitGetUserMedia({video:true,audio:false},success,error)}else{if(a.mozGetUserMedia){moz=true;a.mozGetUserMedia({video:true,audio:false},success,error)}}}stype=1;setTimeout(captureToCanvas,500)}_aa={};_aa._ab=function(o,q){var r=qrcode.width;var k=qrcode.height;var t=true;for(var n=0;n<q.length&&t;n+=2){var l=Math.floor(q[n]);var m=Math.floor(q[n+1]);if(l<-1||l>r||m<-1||m>k){throw"Error._ab "}t=false;if(l==-1){q[n]=0;t=true}else{if(l==r){q[n]=r-1;t=true}}if(m==-1){q[n+1]=0;t=true}else{if(m==k){q[n+1]=k-1;t=true}}}t=true;for(var n=q.length-2;n>=0&&t;n-=2){var l=Math.floor(q[n]);var m=Math.floor(q[n+1]);if(l<-1||l>r||m<-1||m>k){throw"Error._ab "}t=false;if(l==-1){q[n]=0;t=true}else{if(l==r){q[n]=r-1;t=true}}if(m==-1){q[n+1]=0;t=true}else{if(m==k){q[n+1]=k-1;t=true}}}};_aa._af=function(z,x,A){var m=new _ac(x);var n=new Array(x<<1);for(var t=0;t<x;t++){var r=n.length;var o=t+0.5;for(var q=0;q<r;q+=2){n[q]=(q>>1)+0.5;n[q+1]=o}A._ad(n);_aa._ab(z,n);try{for(var q=0;q<r;q+=2){var w=(Math.floor(n[q])*4)+(Math.floor(n[q+1])*qrcode.width*4);var u=z[Math.floor(n[q])+qrcode.width*Math.floor(n[q+1])];qrcode.imagedata.data[w]=u?255:0;qrcode.imagedata.data[w+1]=u?255:0;qrcode.imagedata.data[w+2]=0;qrcode.imagedata.data[w+3]=255;if(u){m._dq(q>>1,t)}}}catch(y){throw"Error._ab"}}return m};_aa._ah=function(G,z,C,D,x,y,P,R,J,K,A,B,u,w,N,O,E,F){var I=_ae._ag(C,D,x,y,P,R,J,K,A,B,u,w,N,O,E,F);return _aa._af(G,z,I)};function _a1(d,e){this.count=d;this._fc=e;this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("_dm",function(){return this._fc})}function _a2(e,g,d){this._bm=e;if(d){this._do=new Array(g,d)}else{this._do=new Array(g)}this.__defineGetter__("_bo",function(){return this._bm});this.__defineGetter__("_dn",function(){return this._bm*this._fo});this.__defineGetter__("_fo",function(){var a=0;for(var b=0;b<this._do.length;b++){a+=this._do[b].length}return a});this._fb=function(){return this._do}}function _a3(n,m,q,r,t,u){this._bs=n;this._ar=m;this._do=new Array(q,r,t,u);var o=0;var y=q._bo;var z=q._fb();for(var w=0;w<z.length;w++){var x=z[w];o+=x.Count*(x._dm+y)}this._br=o;this.__defineGetter__("_fd",function(){return this._bs});this.__defineGetter__("_as",function(){return this._ar});this.__defineGetter__("_dp",function(){return this._br});this.__defineGetter__("_cr",function(){return 17+4*this._bs});this._aq=function(){var d=this._cr;var g=new _ac(d);g._bq(0,0,9,9);g._bq(d-8,0,8,9);g._bq(0,d-8,9,8);var h=this._ar.length;for(var a=0;a<h;a++){var e=this._ar[a]-2;for(var b=0;b<h;b++){if((a==0&&(b==0||b==h-1))||(a==h-1&&b==0)){continue}g._bq(this._ar[b]-2,e,5,5)}}g._bq(6,9,1,d-17);g._bq(9,6,d-17,1);if(this._bs>6){g._bq(d-11,0,3,6);g._bq(0,d-11,6,3)}return g};this._bu=function(a){return this._do[a.ordinal()]}}_a3._bv=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017);_a3.VERSIONS=_ay();_a3._av=function(b){if(b<1||b>40){throw"bad arguments"}return _a3.VERSIONS[b-1]};_a3._at=function(d){if(d%4!=1){throw"Error _at"}try{return _a3._av((d-17)>>2)}catch(e){throw"Error _av"}};_a3._aw=function(m){var g=4294967295;var k=0;for(var n=0;n<_a3._bv.length;n++){var h=_a3._bv[n];if(h==m){return this._av(n+7)}var l=_ax._gj(m,h);if(l<g){k=n+7;g=l}}if(g<=3){return this._av(k)}return null};function _ay(){return new Array(new _a3(1,new Array(),new _a2(7,new _a1(1,19)),new _a2(10,new _a1(1,16)),new _a2(13,new _a1(1,13)),new _a2(17,new _a1(1,9))),new _a3(2,new Array(6,18),new _a2(10,new _a1(1,34)),new _a2(16,new _a1(1,28)),new _a2(22,new _a1(1,22)),new _a2(28,new _a1(1,16))),new _a3(3,new Array(6,22),new _a2(15,new _a1(1,55)),new _a2(26,new _a1(1,44)),new _a2(18,new _a1(2,17)),new _a2(22,new _a1(2,13))),new _a3(4,new Array(6,26),new _a2(20,new _a1(1,80)),new _a2(18,new _a1(2,32)),new _a2(26,new _a1(2,24)),new _a2(16,new _a1(4,9))),new _a3(5,new Array(6,30),new _a2(26,new _a1(1,108)),new _a2(24,new _a1(2,43)),new _a2(18,new _a1(2,15),new _a1(2,16)),new _a2(22,new _a1(2,11),new _a1(2,12))),new _a3(6,new Array(6,34),new _a2(18,new _a1(2,68)),new _a2(16,new _a1(4,27)),new _a2(24,new _a1(4,19)),new _a2(28,new _a1(4,15))),new _a3(7,new Array(6,22,38),new _a2(20,new _a1(2,78)),new _a2(18,new _a1(4,31)),new _a2(18,new _a1(2,14),new _a1(4,15)),new _a2(26,new _a1(4,13),new _a1(1,14))),new _a3(8,new Array(6,24,42),new _a2(24,new _a1(2,97)),new _a2(22,new _a1(2,38),new _a1(2,39)),new _a2(22,new _a1(4,18),new _a1(2,19)),new _a2(26,new _a1(4,14),new _a1(2,15))),new _a3(9,new Array(6,26,46),new _a2(30,new _a1(2,116)),new _a2(22,new _a1(3,36),new _a1(2,37)),new _a2(20,new _a1(4,16),new _a1(4,17)),new _a2(24,new _a1(4,12),new _a1(4,13))),new _a3(10,new Array(6,28,50),new _a2(18,new _a1(2,68),new _a1(2,69)),new _a2(26,new _a1(4,43),new _a1(1,44)),new _a2(24,new _a1(6,19),new _a1(2,20)),new _a2(28,new _a1(6,15),new _a1(2,16))),new _a3(11,new Array(6,30,54),new _a2(20,new _a1(4,81)),new _a2(30,new _a1(1,50),new _a1(4,51)),new _a2(28,new _a1(4,22),new _a1(4,23)),new _a2(24,new _a1(3,12),new _a1(8,13))),new _a3(12,new Array(6,32,58),new _a2(24,new _a1(2,92),new _a1(2,93)),new _a2(22,new _a1(6,36),new _a1(2,37)),new _a2(26,new _a1(4,20),new _a1(6,21)),new _a2(28,new _a1(7,14),new _a1(4,15))),new _a3(13,new Array(6,34,62),new _a2(26,new _a1(4,107)),new _a2(22,new _a1(8,37),new _a1(1,38)),new _a2(24,new _a1(8,20),new _a1(4,21)),new _a2(22,new _a1(12,11),new _a1(4,12))),new _a3(14,new Array(6,26,46,66),new _a2(30,new _a1(3,115),new _a1(1,116)),new _a2(24,new _a1(4,40),new _a1(5,41)),new _a2(20,new _a1(11,16),new _a1(5,17)),new _a2(24,new _a1(11,12),new _a1(5,13))),new _a3(15,new Array(6,26,48,70),new _a2(22,new _a1(5,87),new _a1(1,88)),new _a2(24,new _a1(5,41),new _a1(5,42)),new _a2(30,new _a1(5,24),new _a1(7,25)),new _a2(24,new _a1(11,12),new _a1(7,13))),new _a3(16,new Array(6,26,50,74),new _a2(24,new _a1(5,98),new _a1(1,99)),new _a2(28,new _a1(7,45),new _a1(3,46)),new _a2(24,new _a1(15,19),new _a1(2,20)),new _a2(30,new _a1(3,15),new _a1(13,16))),new _a3(17,new Array(6,30,54,78),new _a2(28,new _a1(1,107),new _a1(5,108)),new _a2(28,new _a1(10,46),new _a1(1,47)),new _a2(28,new _a1(1,22),new _a1(15,23)),new _a2(28,new _a1(2,14),new _a1(17,15))),new _a3(18,new Array(6,30,56,82),new _a2(30,new _a1(5,120),new _a1(1,121)),new _a2(26,new _a1(9,43),new _a1(4,44)),new _a2(28,new _a1(17,22),new _a1(1,23)),new _a2(28,new _a1(2,14),new _a1(19,15))),new _a3(19,new Array(6,30,58,86),new _a2(28,new _a1(3,113),new _a1(4,114)),new _a2(26,new _a1(3,44),new _a1(11,45)),new _a2(26,new _a1(17,21),new _a1(4,22)),new _a2(26,new _a1(9,13),new _a1(16,14))),new _a3(20,new Array(6,34,62,90),new _a2(28,new _a1(3,107),new _a1(5,108)),new _a2(26,new _a1(3,41),new _a1(13,42)),new _a2(30,new _a1(15,24),new _a1(5,25)),new _a2(28,new _a1(15,15),new _a1(10,16))),new _a3(21,new Array(6,28,50,72,94),new _a2(28,new _a1(4,116),new _a1(4,117)),new _a2(26,new _a1(17,42)),new _a2(28,new _a1(17,22),new _a1(6,23)),new _a2(30,new _a1(19,16),new _a1(6,17))),new _a3(22,new Array(6,26,50,74,98),new _a2(28,new _a1(2,111),new _a1(7,112)),new _a2(28,new _a1(17,46)),new _a2(30,new _a1(7,24),new _a1(16,25)),new _a2(24,new _a1(34,13))),new _a3(23,new Array(6,30,54,74,102),new _a2(30,new _a1(4,121),new _a1(5,122)),new _a2(28,new _a1(4,47),new _a1(14,48)),new _a2(30,new _a1(11,24),new _a1(14,25)),new _a2(30,new _a1(16,15),new _a1(14,16))),new _a3(24,new Array(6,28,54,80,106),new _a2(30,new _a1(6,117),new _a1(4,118)),new _a2(28,new _a1(6,45),new _a1(14,46)),new _a2(30,new _a1(11,24),new _a1(16,25)),new _a2(30,new _a1(30,16),new _a1(2,17))),new _a3(25,new Array(6,32,58,84,110),new _a2(26,new _a1(8,106),new _a1(4,107)),new _a2(28,new _a1(8,47),new _a1(13,48)),new _a2(30,new _a1(7,24),new _a1(22,25)),new _a2(30,new _a1(22,15),new _a1(13,16))),new _a3(26,new Array(6,30,58,86,114),new _a2(28,new _a1(10,114),new _a1(2,115)),new _a2(28,new _a1(19,46),new _a1(4,47)),new _a2(28,new _a1(28,22),new _a1(6,23)),new _a2(30,new _a1(33,16),new _a1(4,17))),new _a3(27,new Array(6,34,62,90,118),new _a2(30,new _a1(8,122),new _a1(4,123)),new _a2(28,new _a1(22,45),new _a1(3,46)),new _a2(30,new _a1(8,23),new _a1(26,24)),new _a2(30,new _a1(12,15),new _a1(28,16))),new _a3(28,new Array(6,26,50,74,98,122),new _a2(30,new _a1(3,117),new _a1(10,118)),new _a2(28,new _a1(3,45),new _a1(23,46)),new _a2(30,new _a1(4,24),new _a1(31,25)),new _a2(30,new _a1(11,15),new _a1(31,16))),new _a3(29,new Array(6,30,54,78,102,126),new _a2(30,new _a1(7,116),new _a1(7,117)),new _a2(28,new _a1(21,45),new _a1(7,46)),new _a2(30,new _a1(1,23),new _a1(37,24)),new _a2(30,new _a1(19,15),new _a1(26,16))),new _a3(30,new Array(6,26,52,78,104,130),new _a2(30,new _a1(5,115),new _a1(10,116)),new _a2(28,new _a1(19,47),new _a1(10,48)),new _a2(30,new _a1(15,24),new _a1(25,25)),new _a2(30,new _a1(23,15),new _a1(25,16))),new _a3(31,new Array(6,30,56,82,108,134),new _a2(30,new _a1(13,115),new _a1(3,116)),new _a2(28,new _a1(2,46),new _a1(29,47)),new _a2(30,new _a1(42,24),new _a1(1,25)),new _a2(30,new _a1(23,15),new _a1(28,16))),new _a3(32,new Array(6,34,60,86,112,138),new _a2(30,new _a1(17,115)),new _a2(28,new _a1(10,46),new _a1(23,47)),new _a2(30,new _a1(10,24),new _a1(35,25)),new _a2(30,new _a1(19,15),new _a1(35,16))),new _a3(33,new Array(6,30,58,86,114,142),new _a2(30,new _a1(17,115),new _a1(1,116)),new _a2(28,new _a1(14,46),new _a1(21,47)),new _a2(30,new _a1(29,24),new _a1(19,25)),new _a2(30,new _a1(11,15),new _a1(46,16))),new _a3(34,new Array(6,34,62,90,118,146),new _a2(30,new _a1(13,115),new _a1(6,116)),new _a2(28,new _a1(14,46),new _a1(23,47)),new _a2(30,new _a1(44,24),new _a1(7,25)),new _a2(30,new _a1(59,16),new _a1(1,17))),new _a3(35,new Array(6,30,54,78,102,126,150),new _a2(30,new _a1(12,121),new _a1(7,122)),new _a2(28,new _a1(12,47),new _a1(26,48)),new _a2(30,new _a1(39,24),new _a1(14,25)),new _a2(30,new _a1(22,15),new _a1(41,16))),new _a3(36,new Array(6,24,50,76,102,128,154),new _a2(30,new _a1(6,121),new _a1(14,122)),new _a2(28,new _a1(6,47),new _a1(34,48)),new _a2(30,new _a1(46,24),new _a1(10,25)),new _a2(30,new _a1(2,15),new _a1(64,16))),new _a3(37,new Array(6,28,54,80,106,132,158),new _a2(30,new _a1(17,122),new _a1(4,123)),new _a2(28,new _a1(29,46),new _a1(14,47)),new _a2(30,new _a1(49,24),new _a1(10,25)),new _a2(30,new _a1(24,15),new _a1(46,16))),new _a3(38,new Array(6,32,58,84,110,136,162),new _a2(30,new _a1(4,122),new _a1(18,123)),new _a2(28,new _a1(13,46),new _a1(32,47)),new _a2(30,new _a1(48,24),new _a1(14,25)),new _a2(30,new _a1(42,15),new _a1(32,16))),new _a3(39,new Array(6,26,54,82,110,138,166),new _a2(30,new _a1(20,117),new _a1(4,118)),new _a2(28,new _a1(40,47),new _a1(7,48)),new _a2(30,new _a1(43,24),new _a1(22,25)),new _a2(30,new _a1(10,15),new _a1(67,16))),new _a3(40,new Array(6,30,58,86,114,142,170),new _a2(30,new _a1(19,118),new _a1(6,119)),new _a2(28,new _a1(18,47),new _a1(31,48)),new _a2(30,new _a1(34,24),new _a1(34,25)),new _a2(30,new _a1(20,15),new _a1(61,16))))}function _ae(k,n,r,l,o,t,m,q,u){this.a11=k;this.a12=l;this.a13=m;this.a21=n;this.a22=o;this.a23=q;this.a31=r;this.a32=t;this.a33=u;this._ad=function(D){var G=D.length;var e=this.a11;var C=this.a12;var E=this.a13;var a=this.a21;var b=this.a22;var d=this.a23;var h=this.a31;var y=this.a32;var B=this.a33;for(var g=0;g<G;g+=2){var F=D[g];var I=D[g+1];var x=E*F+d*I+B;D[g]=(e*F+a*I+h)/x;D[g+1]=(C*F+b*I+y)/x}};this._fp=function(a,d){var g=a.length;for(var b=0;b<g;b++){var e=a[b];var h=d[b];var w=this.a13*e+this.a23*h+this.a33;a[b]=(this.a11*e+this.a21*h+this.a31)/w;d[b]=(this.a12*e+this.a22*h+this.a32)/w}};this._fr=function(){return new _ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)};this.times=function(a){return new _ae(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}_ae._ag=function(w,I,x,J,y,K,z,N,E,u,A,G,O,C,D,t){var F=this._be(w,I,x,J,y,K,z,N);var B=this._bf(E,u,A,G,O,C,D,t);return B.times(F)};_ae._bf=function(o,m,r,n,k,q,l,t){dy2=t-q;dy3=m-n+q-t;if(dy2==0&&dy3==0){return new _ae(r-o,k-r,o,n-m,q-n,m,0,0,1)}else{dx1=r-k;dx2=l-k;dx3=o-r+k-l;dy1=n-q;_dr=dx1*dy2-dx2*dy1;a13=(dx3*dy2-dx2*dy3)/_dr;a23=(dx1*dy3-dx3*dy1)/_dr;return new _ae(r-o+a13*r,l-o+a23*l,o,n-m+a13*n,t-m+a23*t,m,a13,a23,1)}};_ae._be=function(o,m,r,n,k,q,l,t){return this._bf(o,m,r,n,k,q,l,t)._fr()};function _bg(d,e){this.bits=d;this.points=e}function Detector(b){this.image=b;this._am=null;this._bi=function(D,E,R,S){var P=Math.abs(S-E)>Math.abs(R-D);if(P){var y=D;D=E;E=y;y=R;R=S;S=y}var G=Math.abs(R-D);var I=Math.abs(S-E);var A=-G>>1;var a=E<S?1:-1;var N=D<R?1:-1;var O=0;for(var J=D,K=E;J!=R;J+=N){var w=P?K:J;var x=P?J:K;if(O==1){if(this.image[w+x*qrcode.width]){O++}}else{if(!this.image[w+x*qrcode.width]){O++}}if(O==3){var B=J-D;var C=K-E;return Math.sqrt((B*B+C*C))}A+=I;if(A>0){if(K==S){break}K+=a;A-=G}}var F=R-D;var z=S-E;return Math.sqrt((F*F+z*z))};this._bh=function(k,m,l,n){var a=this._bi(k,m,l,n);var o=1;var q=k-(l-k);if(q<0){o=k/(k-q);q=0}else{if(q>=qrcode.width){o=(qrcode.width-1-k)/(q-k);q=qrcode.width-1}}var r=Math.floor(m-(n-m)*o);o=1;if(r<0){o=m/(m-r);r=0}else{if(r>=qrcode.height){o=(qrcode.height-1-m)/(r-m);r=qrcode.height-1}}q=Math.floor(k+(q-k)*o);a+=this._bi(k,m,q,r);return a-1};this._bj=function(k,h){var a=this._bh(Math.floor(k.X),Math.floor(k.Y),Math.floor(h.X),Math.floor(h.Y));var g=this._bh(Math.floor(h.X),Math.floor(h.Y),Math.floor(k.X),Math.floor(k.Y));if(isNaN(a)){return g/7}if(isNaN(g)){return a/7}return(a+g)/14};this._bk=function(e,g,a){return(this._bj(e,g)+this._bj(e,a))/2};this.distance=function(d,a){xDiff=d.X-a.X;yDiff=d.Y-a.Y;return Math.sqrt((xDiff*xDiff+yDiff*yDiff))};this._bx=function(l,m,o,n){var a=Math.round(this.distance(l,m)/n);var q=Math.round(this.distance(l,o)/n);var k=((a+q)>>1)+7;switch(k&3){case 0:k++;break;case 2:k--;break;case 3:throw"Error"}return k};this._bl=function(o,q,t,l){var a=Math.floor(l*o);var n=Math.max(0,q-a);var m=Math.min(qrcode.width-1,q+a);if(m-n<o*3){throw"Error"}var w=Math.max(0,t-a);var u=Math.min(qrcode.height-1,t+a);var r=new _ak(this.image,n,w,m-n,u-w,o,this._am);return r.find()};this.createTransform=function(a,q,m,y,r){var n=r-3.5;var o;var t;var u;var x;if(y!=null){o=y.X;t=y.Y;u=x=n-3}else{o=(q.X-a.X)+m.X;t=(q.Y-a.Y)+m.Y;u=x=n}var w=_ae._ag(3.5,3.5,n,3.5,u,x,3.5,n,a.X,a.Y,q.X,q.Y,o,t,m.X,m.Y);return w};this._bz=function(g,a,h){var k=_aa;return k._af(g,h,a)};this._cd=function(y){var F=y._gq;var G=y._gs;var B=y._gp;var N=this._bk(F,G,B);if(N<1){throw"Error"}var x=this._bx(F,G,B,N);var P=_a3._at(x);var E=P._cr-7;var D=null;if(P._as.length>0){var J=G.X-F.X+B.X;var K=G.Y-F.Y+B.Y;var O=1-3/E;var a=Math.floor(F.X+O*(J-F.X));var w=Math.floor(F.Y+O*(K-F.Y));for(var z=4;z<=16;z<<=1){D=this._bl(N,a,w,z);break}}var I=this.createTransform(F,G,B,D,x);var C=this._bz(this.image,I,x);var A;if(D==null){A=new Array(B,F,G)}else{A=new Array(B,F,G,D)}return new _bg(C,A)};this.detect=function(){var a=new _cc()._ce(this.image);return this._cd(a)}}var _ca=21522;var _cb=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31));var _ch=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);function _ax(b){this._cf=_cg.forBits((b>>3)&3);this._fe=(b&7);this.__defineGetter__("_cg",function(){return this._cf});this.__defineGetter__("_dx",function(){return this._fe});this.GetHashCode=function(){return(this._cf.ordinal()<<3)|_fe};this.Equals=function(d){var a=d;return this._cf==a._cf&&this._fe==a._fe}}_ax._gj=function(a,b){a^=b;return _ch[a&15]+_ch[(_ew(a,4)&15)]+_ch[(_ew(a,8)&15)]+_ch[(_ew(a,12)&15)]+_ch[(_ew(a,16)&15)]+_ch[(_ew(a,20)&15)]+_ch[(_ew(a,24)&15)]+_ch[(_ew(a,28)&15)]};_ax._ci=function(e){var d=_ax._cj(e);if(d!=null){return d}return _ax._cj(e^_ca)};_ax._cj=function(o){var h=4294967295;var k=0;for(var q=0;q<_cb.length;q++){var l=_cb[q];var m=l[0];if(m==o){return new _ax(l[1])}var n=this._gj(o,m);if(n<h){k=l[1];h=n}}if(h<=3){return new _ax(k)}return null};function _cg(e,g,d){this._ff=e;this.bits=g;this.name=d;this.__defineGetter__("Bits",function(){return this.bits});this.__defineGetter__("Name",function(){return this.name});this.ordinal=function(){return this._ff}}_cg.forBits=function(b){if(b<0||b>=FOR_BITS.length){throw"bad arguments"}return FOR_BITS[b]};var L=new _cg(0,1,"L");var M=new _cg(1,0,"M");var Q=new _cg(2,3,"Q");var H=new _cg(3,2,"H");var FOR_BITS=new Array(M,L,H,Q);function _ac(h,g){if(!g){g=h}if(h<1||g<1){throw"Both dimensions must be greater than 0"}this.width=h;this.height=g;var k=h>>5;if((h&31)!=0){k++}this.rowSize=k;this.bits=new Array(k*g);for(var e=0;e<this.bits.length;e++){this.bits[e]=0}this.__defineGetter__("Width",function(){return this.width});this.__defineGetter__("Height",function(){return this.height});this.__defineGetter__("Dimension",function(){if(this.width!=this.height){throw"Can't call getDimension() on a non-square matrix"}return this.width});this._ds=function(d,a){var b=a*this.rowSize+(d>>5);return((_ew(this.bits[b],(d&31)))&1)!=0};this._dq=function(d,a){var b=a*this.rowSize+(d>>5);this.bits[b]|=1<<(d&31)};this.flip=function(d,a){var b=a*this.rowSize+(d>>5);this.bits[b]^=1<<(d&31)};this.clear=function(){var b=this.bits.length;for(var a=0;a<b;a++){this.bits[a]=0}};this._bq=function(r,n,t,a){if(n<0||r<0){throw"Left and top must be nonnegative"}if(a<1||t<1){throw"Height and width must be at least 1"}var b=r+t;var u=n+a;if(u>this.height||b>this.width){throw"The region must fit inside the matrix"}for(var o=n;o<u;o++){var q=o*this.rowSize;for(var d=r;d<b;d++){this.bits[q+(d>>5)]|=1<<(d&31)}}}}function _dl(e,d){this._dv=e;this._dw=d;this.__defineGetter__("_du",function(){return this._dv});this.__defineGetter__("Codewords",function(){return this._dw})}_dl._gn=function(S,K,B){if(S.length!=K._dp){throw"bad arguments"}var J=K._bu(B);var P=0;var R=J._fb();for(var C=0;C<R.length;C++){P+=R[C].Count}var I=new Array(P);var F=0;for(var E=0;E<R.length;E++){var O=R[E];for(var C=0;C<O.Count;C++){var G=O._dm;var A=J._bo+G;I[F++]=new _dl(G,new Array(A))}}var z=I[0]._dw.length;var T=I.length-1;while(T>=0){var x=I[T]._dw.length;if(x==z){break}T--}T++;var N=z-J._bo;var U=0;for(var C=0;C<N;C++){for(var E=0;E<F;E++){I[E]._dw[C]=S[U++]}}for(var E=T;E<F;E++){I[E]._dw[N]=S[U++]}var D=I[0]._dw.length;for(var C=N;C<D;C++){for(var E=0;E<F;E++){var y=E<T?C:C+1;I[E]._dw[y]=S[U++]}}return I};function _cl(e){var d=e.Dimension;if(d<21||(d&3)!=1){throw"Error _cl"}this._au=e;this._cp=null;this._co=null;this._dk=function(b,g,a){return this._au._ds(b,g)?(a<<1)|1:a<<1};this._cm=function(){if(this._co!=null){return this._co}var a=0;for(var h=0;h<6;h++){a=this._dk(h,8,a)}a=this._dk(7,8,a);a=this._dk(8,8,a);a=this._dk(8,7,a);for(var l=5;l>=0;l--){a=this._dk(8,l,a)}this._co=_ax._ci(a);if(this._co!=null){return this._co}var b=this._au.Dimension;a=0;var k=b-8;for(var h=b-1;h>=k;h--){a=this._dk(h,8,a)}for(var l=b-7;l<b;l++){a=this._dk(8,l,a)}this._co=_ax._ci(a);if(this._co!=null){return this._co}throw"Error _cm"};this._cq=function(){if(this._cp!=null){return this._cp}var a=this._au.Dimension;var k=(a-17)>>2;if(k<=6){return _a3._av(k)}var b=0;var l=a-11;for(var n=5;n>=0;n--){for(var m=a-9;m>=l;m--){b=this._dk(m,n,b)}}this._cp=_a3._aw(b);if(this._cp!=null&&this._cp._cr==a){return this._cp}b=0;for(var m=5;m>=0;m--){for(var n=a-9;n>=l;n--){b=this._dk(m,n,b)}}this._cp=_a3._aw(b);if(this._cp!=null&&this._cp._cr==a){return this._cp}throw"Error _cq"};this._gk=function(){var a=this._cm();var t=this._cq();var E=_dx._gl(a._dx);var B=this._au.Dimension;E._dj(this._au,B);var y=t._aq();var u=true;var F=new Array(t._dp);var w=0;var b=0;var z=0;for(var C=B-1;C>0;C-=2){if(C==6){C--}for(var x=0;x<B;x++){var A=u?B-1-x:x;for(var D=0;D<2;D++){if(!y._ds(C-D,A)){z++;b<<=1;if(this._au._ds(C-D,A)){b|=1}if(z==8){F[w++]=b;z=0;b=0}}}}u^=true}if(w!=t._dp){throw"Error _gk"}return F}}_dx={};_dx._gl=function(b){if(b<0||b>7){throw"bad arguments"}return _dx._dy[b]};function _fg(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return((d+e)&1)==0}}function _fh(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return(d&1)==0}}function _fi(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return e%3==0}}function _fj(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return(d+e)%3==0}}function _fk(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return(((_ew(d,1))+(e/3))&1)==0}}function _fl(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(g,d){var e=g*d;return(e&1)+(e%3)==0}}function _fm(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(g,d){var e=g*d;return(((e&1)+(e%3))&1)==0}}function _fn(){this._dj=function(k,h){for(var e=0;e<h;e++){for(var g=0;g<h;g++){if(this._fw(e,g)){k.flip(g,e)}}}};this._fw=function(d,e){return((((d+e)&1)+((d*e)%3))&1)==0}}_dx._dy=new Array(new _fg(),new _fh(),new _fi(),new _fj(),new _fk(),new _fl(),new _fm(),new _fn());function _db(_fa){this._fa=_fa;this.decode=function(received,_fv){var poly=new _bp(this._fa,received);var _dh=new Array(_fv);for(var i=0;i<_dh.length;i++){_dh[i]=0}var _fq=false;var noError=true;for(var i=0;i<_fv;i++){var eval=poly.evaluateAt(this._fa.exp(_fq?i+1:i));_dh[_dh.length-1-i]=eval;if(eval!=0){noError=false}}if(noError){return}var _fu=new _bp(this._fa,_dh);var _dg=this._eb(this._fa._ba(_fv,1),_fu,_fv);var sigma=_dg[0];var omega=_dg[1];var _dz=this._ey(sigma);var _ea=this._di(omega,_dz,_fq);for(var i=0;i<_dz.length;i++){var position=received.length-1-this._fa.log(_dz[i]);if(position<0){throw"ReedSolomonException Bad error location"}received[position]=_az._bd(received[position],_ea[i])}};this._eb=function(a,b,R){if(a._ec<b._ec){var temp=a;a=b;b=temp}var rLast=a;var r=b;var sLast=this._fa.One;var s=this._fa.Zero;var tLast=this._fa.Zero;var t=this._fa.One;while(r._ec>=Math.floor(R/2)){var rLastLast=rLast;var _ga=sLast;var _gb=tLast;rLast=r;sLast=s;tLast=t;if(rLast.Zero){throw"r_{i-1} was zero"}r=rLastLast;var q=this._fa.Zero;var _df=rLast._ex(rLast._ec);var _fy=this._fa.inverse(_df);while(r._ec>=rLast._ec&&!r.Zero){var _fx=r._ec-rLast._ec;var scale=this._fa.multiply(r._ex(r._ec),_fy);q=q._bd(this._fa._ba(_fx,scale));r=r._bd(rLast._dc(_fx,scale))}s=q.multiply1(sLast)._bd(_ga);t=q.multiply1(tLast)._bd(_gb)}var _de=t._ex(0);if(_de==0){throw"ReedSolomonException sigmaTilde(0) was zero"}var inverse=this._fa.inverse(_de);var sigma=t.multiply2(inverse);var omega=r.multiply2(inverse);return new Array(sigma,omega)};this._ey=function(_ez){var _fz=_ez._ec;if(_fz==1){return new Array(_ez._ex(1))}var result=new Array(_fz);var e=0;for(var i=1;i<256&&e<_fz;i++){if(_ez.evaluateAt(i)==0){result[e]=this._fa.inverse(i);e++}}if(e!=_fz){throw"Error locator degree does not match number of roots"}return result};this._di=function(_fs,_dz,_fq){var s=_dz.length;var result=new Array(s);for(var i=0;i<s;i++){var _gc=this._fa.inverse(_dz[i]);var _dr=1;for(var j=0;j<s;j++){if(i!=j){_dr=this._fa.multiply(_dr,_az._bd(1,this._fa.multiply(_dz[j],_gc)))}}result[i]=this._fa.multiply(_fs.evaluateAt(_gc),this._fa.inverse(_dr));if(_fq){result[i]=this._fa.multiply(result[i],_gc)}}return result}}function _bp(k,l){if(l==null||l.length==0){throw"bad arguments"}this._fa=k;var n=l.length;if(n>1&&l[0]==0){var m=1;while(m<n&&l[m]==0){m++}if(m==n){this._dd=k.Zero._dd}else{this._dd=new Array(n-m);for(var g=0;g<this._dd.length;g++){this._dd[g]=0}for(var h=0;h<this._dd.length;h++){this._dd[h]=l[m+h]}}}else{this._dd=l}this.__defineGetter__("Zero",function(){return this._dd[0]==0});this.__defineGetter__("_ec",function(){return this._dd.length-1});this.__defineGetter__("Coefficients",function(){return this._dd});this._ex=function(a){return this._dd[this._dd.length-1-a]};this.evaluateAt=function(e){if(e==0){return this._ex(0)}var a=this._dd.length;if(e==1){var o=0;for(var b=0;b<a;b++){o=_az._bd(o,this._dd[b])}return o}var d=this._dd[0];for(var b=1;b<a;b++){d=_az._bd(this._fa.multiply(e,d),this._dd[b])}return d};this._bd=function(r){if(this._fa!=r._fa){throw"GF256Polys do not have same _az _fa"}if(this.Zero){return r}if(r.Zero){return this}var t=this._dd;var u=r._dd;if(t.length>u.length){var e=t;t=u;u=e}var q=new Array(u.length);var d=u.length-t.length;for(var a=0;a<d;a++){q[a]=u[a]}for(var b=d;b<u.length;b++){q[b]=_az._bd(t[b-d],u[b])}return new _bp(k,q)};this.multiply1=function(d){if(this._fa!=d._fa){throw"GF256Polys do not have same _az _fa"}if(this.Zero||d.Zero){return this._fa.Zero}var a=this._dd;var y=a.length;var u=d._dd;var e=u.length;var b=new Array(y+e-1);for(var t=0;t<y;t++){var x=a[t];for(var w=0;w<e;w++){b[t+w]=_az._bd(b[t+w],this._fa.multiply(x,u[w]))}}return new _bp(this._fa,b)};this.multiply2=function(e){if(e==0){return this._fa.Zero}if(e==1){return this}var b=this._dd.length;var a=new Array(b);for(var d=0;d<b;d++){a[d]=this._fa.multiply(this._dd[d],e)}return new _bp(this._fa,a)};this._dc=function(a,o){if(a<0){throw"bad arguments"}if(o==0){return this._fa.Zero}var d=this._dd.length;var b=new Array(d+a);for(var e=0;e<b.length;e++){b[e]=0}for(var e=0;e<d;e++){b[e]=this._fa.multiply(this._dd[e],o)}return new _bp(this._fa,b)};this.divide=function(e){if(this._fa!=e._fa){throw"GF256Polys do not have same _az _fa"}if(e.Zero){throw"Divide by 0"}var r=this._fa.Zero;var a=this;var w=e._ex(e._ec);var b=this._fa.inverse(w);while(a._ec>=e._ec&&!a.Zero){var d=a._ec-e._ec;var u=this._fa.multiply(a._ex(a._ec),b);var t=e._dc(d,u);var q=this._fa._ba(d,u);r=r._bd(q);a=a._bd(t)}return new Array(r,a)}}function _az(g){this._gh=new Array(256);this._gi=new Array(256);var h=1;for(var k=0;k<256;k++){this._gh[k]=h;h<<=1;if(h>=256){h^=g}}for(var k=0;k<255;k++){this._gi[this._gh[k]]=k}var l=new Array(1);l[0]=0;this.zero=new _bp(this,new Array(l));var m=new Array(1);m[0]=1;this.one=new _bp(this,new Array(m));this.__defineGetter__("Zero",function(){return this.zero});this.__defineGetter__("One",function(){return this.one});this._ba=function(a,e){if(a<0){throw"bad arguments"}if(e==0){return zero}var b=new Array(a+1);for(var d=0;d<b.length;d++){b[d]=0}b[0]=e;return new _bp(this,b)};this.exp=function(a){return this._gh[a]};this.log=function(a){if(a==0){throw"bad arguments"}return this._gi[a]};this.inverse=function(a){if(a==0){throw"System.ArithmeticException"}return this._gh[255-this._gi[a]]};this.multiply=function(a,b){if(a==0||b==0){return 0}if(a==1){return b}if(b==1){return a}return this._gh[(this._gi[a]+this._gi[b])%255]}}_az._bb=new _az(285);_az._bc=new _az(301);_az._bd=function(a,b){return a^b};Decoder={};Decoder.rsDecoder=new _db(_az._bb);Decoder.correctErrors=function(l,h){var o=l.length;var m=new Array(o);for(var n=0;n<o;n++){m[n]=l[n]&255}var k=l.length-h;try{Decoder.rsDecoder.decode(m,k)}catch(q){throw q}for(var n=0;n<h;n++){l[n]=m[n]}};Decoder.decode=function(t){var I=new _cl(t);var w=I._cq();var G=I._cm()._cg;var u=I._gk();var J=_dl._gn(u,w,G);var D=0;for(var A=0;A<J.length;A++){D+=J[A]._du}var E=new Array(D);var x=0;for(var B=0;B<J.length;B++){var y=J[B];var F=y.Codewords;var C=y._du;Decoder.correctErrors(F,C);for(var A=0;A<C;A++){E[x++]=F[A]}}var z=new QRCodeDataBlockReader(E,w._fd,G.Bits);return z};qrcode={};qrcode.imagedata=null;qrcode.width=0;qrcode.height=0;qrcode.qrCodeSymbol=null;qrcode.debug=false;qrcode.maxImgSize=1024*1024;qrcode._eo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]];qrcode.callback=null;qrcode.decode=function(h){if(arguments.length==0){var e=document.getElementById("qr-canvas");var g=e.getContext("2d");qrcode.width=e.width;qrcode.height=e.height;qrcode.imagedata=g.getImageData(0,0,qrcode.width,qrcode.height);qrcode.result=qrcode.process(g);if(qrcode.callback!=null){qrcode.callback(qrcode.result)}return qrcode.result}else{var k=new Image();k.onload=function(){var r=document.getElementById("out-canvas");if(r!=null){var n=r.getContext("2d");n.clearRect(0,0,320,240);n.drawImage(k,0,0,320,240)}var o=document.createElement("canvas");var q=o.getContext("2d");var t=k.height;var b=k.width;if(k.width*k.height>qrcode.maxImgSize){var d=k.width/k.height;t=Math.sqrt(qrcode.maxImgSize/d);b=d*t}o.width=b;o.height=t;q.drawImage(k,0,0,o.width,o.height);qrcode.width=o.width;qrcode.height=o.height;try{qrcode.imagedata=q.getImageData(0,0,o.width,o.height)}catch(a){qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!";if(qrcode.callback!=null){qrcode.callback(qrcode.result)}return}try{qrcode.result=qrcode.process(q)}catch(a){console.log(a);qrcode.result="error decoding QR Code"}if(qrcode.callback!=null){qrcode.callback(qrcode.result)}};k.src=h}};qrcode.isUrl=function(e){var d=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return d.test(e)};qrcode.decode_url=function(e){var h="";try{h=escape(e)}catch(k){console.log(k);h=e}var g="";try{g=decodeURIComponent(h)}catch(k){console.log(k);g=h}return g};qrcode.decode_utf8=function(b){if(qrcode.isUrl(b)){return qrcode.decode_url(b)}else{return b}};qrcode.process=function(t){var J=new Date().getTime();var G=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var y=0;y<qrcode.height;y++){for(var x=0;x<qrcode.width;x++){var w=(x*4)+(y*qrcode.width*4);qrcode.imagedata.data[w]=G[x+y*qrcode.width]?0:0;qrcode.imagedata.data[w+1]=G[x+y*qrcode.width]?0:0;qrcode.imagedata.data[w+2]=G[x+y*qrcode.width]?255:0}}t.putImageData(qrcode.imagedata,0,0)}var B=new Detector(G);var u=B.detect();if(qrcode.debug){t.putImageData(qrcode.imagedata,0,0)}var A=Decoder.decode(u.bits);var C=A.DataByte;var z="";for(var D=0;D<C.length;D++){for(var E=0;E<C[D].length;E++){z+=String.fromCharCode(C[D][E])}}var F=new Date().getTime();var I=F-J;console.log(I);return qrcode.decode_utf8(z)};qrcode.getPixel=function(e,d){if(qrcode.width<e){throw"point error"}if(qrcode.height<d){throw"point error"}point=(e*4)+(d*qrcode.width*4);p=(qrcode.imagedata.data[point]*33+qrcode.imagedata.data[point+1]*34+qrcode.imagedata.data[point+2]*33)/100;return p};qrcode.binarize=function(l){var m=new Array(qrcode.width*qrcode.height);for(var k=0;k<qrcode.height;k++){for(var g=0;g<qrcode.width;g++){var h=qrcode.getPixel(g,k);m[g+k*qrcode.width]=h<=l?true:false}}return m};qrcode._em=function(C){var D=4;var w=Math.floor(qrcode.width/D);var x=Math.floor(qrcode.height/D);var A=new Array(D);for(var z=0;z<D;z++){A[z]=new Array(D);for(var B=0;B<D;B++){A[z][B]=new Array(0,0)}}for(var q=0;q<D;q++){for(var F=0;F<D;F++){A[F][q][0]=255;for(var u=0;u<x;u++){for(var r=0;r<w;r++){var y=C[w*F+r+(x*q+u)*qrcode.width];if(y<A[F][q][0]){A[F][q][0]=y}if(y>A[F][q][1]){A[F][q][1]=y}}}}}var t=new Array(D);for(var E=0;E<D;E++){t[E]=new Array(D)}for(var q=0;q<D;q++){for(var F=0;F<D;F++){t[F][q]=Math.floor((A[F][q][0]+A[F][q][1])/2)}}return t};qrcode.grayScaleToBitmap=function(o){var k=qrcode._em(o);var u=k.length;var q=Math.floor(qrcode.width/u);var r=Math.floor(qrcode.height/u);var t=new Array(qrcode.height*qrcode.width);for(var l=0;l<u;l++){for(var w=0;w<u;w++){for(var n=0;n<r;n++){for(var m=0;m<q;m++){t[q*w+m+(r*l+n)*qrcode.width]=(o[q*w+m+(r*l+n)*qrcode.width]<k[w][l])?true:false}}}}return t};qrcode.grayscale=function(){var k=new Array(qrcode.width*qrcode.height);for(var h=0;h<qrcode.height;h++){for(var e=0;e<qrcode.width;e++){var g=qrcode.getPixel(e,h);k[e+h*qrcode.width]=g}}return k};function _ew(e,d){if(e>=0){return e>>d}else{return(e>>d)+(2<<~d)}}Array.prototype.remove=function(g,d){var e=this.slice((d||g)+1||this.length);this.length=g<0?this.length+g:g;return this.push.apply(this,e)};var _gf=3;var _eh=57;var _el=8;var _eg=2;qrcode._er=function(t){function u(a,b){xDiff=a.X-b.X;yDiff=a.Y-b.Y;return Math.sqrt((xDiff*xDiff+yDiff*yDiff))}function r(d,e,g){var a=e.x;var b=e.y;return((g.x-a)*(d.y-b))-((g.y-b)*(d.x-a))}var l=u(t[0],t[1]);var o=u(t[1],t[2]);var q=u(t[0],t[2]);var w,k,m;if(o>=l&&o>=q){k=t[0];w=t[1];m=t[2]}else{if(q>=o&&q>=l){k=t[1];w=t[0];m=t[2]}else{k=t[2];w=t[0];m=t[1]}}if(r(w,k,m)<0){var n=w;w=m;m=n}t[0]=w;t[1]=k;t[2]=m};function _cz(g,e,d){this.x=g;this.y=e;this.count=1;this._aj=d;this.__defineGetter__("_ei",function(){return this._aj});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return this.x});this.__defineGetter__("Y",function(){return this.y});this._ek=function(){this.count++};this._ev=function(b,h,k){if(Math.abs(h-this.y)<=b&&Math.abs(k-this.x)<=b){var a=Math.abs(b-this._aj);return a<=1||a/this._aj<=1}return false}}function _es(b){this._go=b[0];this._gu=b[1];this._gr=b[2];this.__defineGetter__("_gp",function(){return this._go});this.__defineGetter__("_gq",function(){return this._gu});this.__defineGetter__("_gs",function(){return this._gr})}function _cc(){this.image=null;this._cv=[];this._ge=false;this._al=new Array(0,0,0,0,0);this._am=null;this.__defineGetter__("_da",function(){this._al[0]=0;this._al[1]=0;this._al[2]=0;this._al[3]=0;this._al[4]=0;return this._al});this._ao=function(k){var g=0;for(var m=0;m<5;m++){var l=k[m];if(l==0){return false}g+=l}if(g<7){return false}var n=Math.floor((g<<_el)/7);var h=Math.floor(n/2);return Math.abs(n-(k[0]<<_el))<h&&Math.abs(n-(k[1]<<_el))<h&&Math.abs(3*n-(k[2]<<_el))<3*h&&Math.abs(n-(k[3]<<_el))<h&&Math.abs(n-(k[4]<<_el))<h};this._an=function(d,e){return(e-d[4]-d[3])-d[2]/2};this._ap=function(u,k,q,m){var r=this.image;var l=qrcode.height;var t=this._da;var n=u;while(n>=0&&r[k+n*qrcode.width]){t[2]++;n--}if(n<0){return NaN}while(n>=0&&!r[k+n*qrcode.width]&&t[1]<=q){t[1]++;n--}if(n<0||t[1]>q){return NaN}while(n>=0&&r[k+n*qrcode.width]&&t[0]<=q){t[0]++;n--}if(t[0]>q){return NaN}n=u+1;while(n<l&&r[k+n*qrcode.width]){t[2]++;n++}if(n==l){return NaN}while(n<l&&!r[k+n*qrcode.width]&&t[3]<q){t[3]++;n++}if(n==l||t[3]>=q){return NaN}while(n<l&&r[k+n*qrcode.width]&&t[4]<q){t[4]++;n++}if(t[4]>=q){return NaN}var o=t[0]+t[1]+t[2]+t[3]+t[4];if(5*Math.abs(o-m)>=2*m){return NaN}return this._ao(t)?this._an(t,n):NaN};this._ej=function(t,u,o,l){var q=this.image;var k=qrcode.width;var r=this._da;var m=t;while(m>=0&&q[m+u*qrcode.width]){r[2]++;m--}if(m<0){return NaN}while(m>=0&&!q[m+u*qrcode.width]&&r[1]<=o){r[1]++;m--}if(m<0||r[1]>o){return NaN}while(m>=0&&q[m+u*qrcode.width]&&r[0]<=o){r[0]++;m--}if(r[0]>o){return NaN}m=t+1;while(m<k&&q[m+u*qrcode.width]){r[2]++;m++}if(m==k){return NaN}while(m<k&&!q[m+u*qrcode.width]&&r[3]<o){r[3]++;m++}if(m==k||r[3]>=o){return NaN}while(m<k&&q[m+u*qrcode.width]&&r[4]<o){r[4]++;m++}if(r[4]>=o){return NaN}var n=r[0]+r[1]+r[2]+r[3]+r[4];if(5*Math.abs(n-l)>=l){return NaN}return this._ao(r)?this._an(r,m):NaN};this._cu=function(A,x,y){var z=A[0]+A[1]+A[2]+A[3]+A[4];var o=this._an(A,y);var B=this._ap(x,Math.floor(o),A[2],z);if(!isNaN(B)){o=this._ej(Math.floor(o),Math.floor(B),A[2],z);if(!isNaN(o)){var r=z/7;var q=false;var u=this._cv.length;for(var w=0;w<u;w++){var C=this._cv[w];if(C._ev(r,B,o)){C._ek();q=true;break}}if(!q){var t=new _cz(o,B,r);this._cv.push(t);if(this._am!=null){this._am._ep(t)}}return true}}return false};this._ee=function(){var l=this._cv.length;if(l<3){throw"Couldn't find enough finder patterns"}if(l>3){var t=0;var k=0;for(var q=0;q<l;q++){var m=this._cv[q]._ei;t+=m;k+=(m*m)}var u=t/l;this._cv.sort(function(a,b){var d=Math.abs(b._ei-u);var e=Math.abs(a._ei-u);if(d<e){return(-1)}else{if(d==e){return 0}else{return 1}}});var o=Math.sqrt(k/l-u*u);var r=Math.max(0.2*u,o);for(var q=0;q<this._cv.length&&this._cv.length>3;q++){var n=this._cv[q];if(Math.abs(n._ei-u)>r){this._cv.remove(q);q--}}}if(this._cv.length>3){this._cv.sort(function(a,b){if(a.count>b.count){return -1}if(a.count<b.count){return 1}return 0})}return new Array(this._cv[0],this._cv[1],this._cv[2])};this._eq=function(){var e=this._cv.length;if(e<=1){return 0}var k=null;for(var h=0;h<e;h++){var g=this._cv[h];if(g.Count>=_eg){if(k==null){k=g}else{this._ge=true;return Math.floor((Math.abs(k.X-g.X)-Math.abs(k.Y-g.Y))/2)}}}return 0};this._cx=function(){var l=0;var q=0;var k=this._cv.length;for(var o=0;o<k;o++){var m=this._cv[o];if(m.Count>=_eg){l++;q+=m._ei}}if(l<3){return false}var n=q/k;var h=0;for(var o=0;o<k;o++){m=this._cv[o];h+=Math.abs(m._ei-n)}return h<=0.05*q};this._ce=function(A){var q=false;this.image=A;var r=qrcode.height;var w=qrcode.width;var E=Math.floor((3*r)/(4*_eh));if(E<_gf||q){E=_gf}var y=false;var B=new Array(5);for(var x=E-1;x<r&&!y;x+=E){B[0]=0;B[1]=0;B[2]=0;B[3]=0;B[4]=0;var D=0;for(var z=0;z<w;z++){if(A[z+x*qrcode.width]){if((D&1)==1){D++}B[D]++}else{if((D&1)==0){if(D==4){if(this._ao(B)){var C=this._cu(B,x,z);if(C){E=2;if(this._ge){y=this._cx()}else{var t=this._eq();if(t>B[2]){x+=t-B[2]-E;z=w-1}}}else{do{z++}while(z<w&&!A[z+x*qrcode.width]);z--}D=0;B[0]=0;B[1]=0;B[2]=0;B[3]=0;B[4]=0}else{B[0]=B[2];B[1]=B[3];B[2]=B[4];B[3]=1;B[4]=0;D=3}}else{B[++D]++}}else{B[D]++}}}if(this._ao(B)){var C=this._cu(B,x,w);if(C){E=B[0];if(this._ge){y=_cx()}}}}var u=this._ee();qrcode._er(u);return new _es(u)}}function _ai(g,e,d){this.x=g;this.y=e;this.count=1;this._aj=d;this.__defineGetter__("_ei",function(){return this._aj});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return Math.floor(this.x)});this.__defineGetter__("Y",function(){return Math.floor(this.y)});this._ek=function(){this.count++};this._ev=function(b,h,k){if(Math.abs(h-this.y)<=b&&Math.abs(k-this.x)<=b){var a=Math.abs(b-this._aj);return a<=1||a/this._aj<=1}return false}}function _ak(l,q,h,m,k,n,o){this.image=l;this._cv=new Array();this.startX=q;this.startY=h;this.width=m;this.height=k;this._ef=n;this._al=new Array(0,0,0);this._am=o;this._an=function(a,b){return(b-a[2])-a[1]/2};this._ao=function(a){var b=this._ef;var e=b/2;for(var d=0;d<3;d++){if(Math.abs(b-a[d])>=e){return false}}return true};this._ap=function(x,a,t,d){var u=this.image;var b=qrcode.height;var w=this._al;w[0]=0;w[1]=0;w[2]=0;var e=x;while(e>=0&&u[a+e*qrcode.width]&&w[1]<=t){w[1]++;e--}if(e<0||w[1]>t){return NaN}while(e>=0&&!u[a+e*qrcode.width]&&w[0]<=t){w[0]++;e--}if(w[0]>t){return NaN}e=x+1;while(e<b&&u[a+e*qrcode.width]&&w[1]<=t){w[1]++;e++}if(e==b||w[1]>t){return NaN}while(e<b&&!u[a+e*qrcode.width]&&w[2]<=t){w[2]++;e++}if(w[2]>t){return NaN}var g=w[0]+w[1]+w[2];if(5*Math.abs(g-d)>=2*d){return NaN}return this._ao(w)?this._an(w,e):NaN};this._cu=function(w,d,e){var g=w[0]+w[1]+w[2];var z=this._an(w,e);var x=this._ap(d,Math.floor(z),2*w[1],g);if(!isNaN(x)){var A=(w[0]+w[1]+w[2])/3;var a=this._cv.length;for(var b=0;b<a;b++){var y=this._cv[b];if(y._ev(A,x,z)){return new _ai(z,x,A)}}var B=new _ai(z,x,A);this._cv.push(B);if(this._am!=null){this._am._ep(B)}}return null};this.find=function(){var b=this.startX;var y=this.height;var a=b+m;var z=h+(y>>1);var g=new Array(0,0,0);for(var w=0;w<y;w++){var d=z+((w&1)==0?((w+1)>>1):-((w+1)>>1));g[0]=0;g[1]=0;g[2]=0;var e=b;while(e<a&&!l[e+qrcode.width*d]){e++}var x=0;while(e<a){if(l[e+d*qrcode.width]){if(x==1){g[x]++}else{if(x==2){if(this._ao(g)){var u=this._cu(g,d,e);if(u!=null){return u}}g[0]=g[2];g[1]=1;g[2]=0;x=1}else{g[++x]++}}}else{if(x==1){x++}g[x]++}e++}if(this._ao(g)){var u=this._cu(g,d,a);if(u!=null){return u}}}if(!(this._cv.length==0)){return this._cv[0]}throw"Couldn't find enough alignment patterns"}}function QRCodeDataBlockReader(g,e,d){this._ed=0;this._cw=7;this.dataLength=0;this.blocks=g;this._en=d;if(e<=9){this.dataLengthMode=0}else{if(e>=10&&e<=26){this.dataLengthMode=1}else{if(e>=27&&e<=40){this.dataLengthMode=2}}}this._gd=function(t){var n=0;if(t<this._cw+1){var a=0;for(var u=0;u<t;u++){a+=(1<<u)}a<<=(this._cw-t+1);n=(this.blocks[this._ed]&a)>>(this._cw-t+1);this._cw-=t;return n}else{if(t<this._cw+1+8){var o=0;for(var u=0;u<this._cw+1;u++){o+=(1<<u)}n=(this.blocks[this._ed]&o)<<(t-(this._cw+1));this._ed++;n+=((this.blocks[this._ed])>>(8-(t-(this._cw+1))));this._cw=this._cw-t%8;if(this._cw<0){this._cw=8+this._cw}return n}else{if(t<this._cw+1+16){var o=0;var q=0;for(var u=0;u<this._cw+1;u++){o+=(1<<u)}var r=(this.blocks[this._ed]&o)<<(t-(this._cw+1));this._ed++;var w=this.blocks[this._ed]<<(t-(this._cw+1+8));this._ed++;for(var u=0;u<t-(this._cw+1+8);u++){q+=(1<<u)}q<<=8-(t-(this._cw+1+8));var b=(this.blocks[this._ed]&q)>>(8-(t-(this._cw+1+8)));n=r+w+b;this._cw=this._cw-(t-8)%8;if(this._cw<0){this._cw=8+this._cw}return n}else{return 0}}}};this.NextMode=function(){if((this._ed>this.blocks.length-this._en-2)){return 0}else{return this._gd(4)}};this.getDataLength=function(b){var a=0;while(true){if((b>>a)==1){break}a++}return this._gd(qrcode._eo[this.dataLengthMode][a])};this.getRomanAndFigureString=function(k){var m=k;var l=0;var a="";var o=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{if(m>1){l=this._gd(11);var b=Math.floor(l/45);var n=l%45;a+=o[b];a+=o[n];m-=2}else{if(m==1){l=this._gd(6);a+=o[l];m-=1}}}while(m>0);return a};this.getFigureString=function(b){var k=b;var h=0;var a="";do{if(k>=3){h=this._gd(10);if(h<100){a+="0"}if(h<10){a+="0"}k-=3}else{if(k==2){h=this._gd(7);if(h<10){a+="0"}k-=2}else{if(k==1){h=this._gd(4);k-=1}}}a+=h}while(k>0);return a};this.get8bitByteArray=function(a){var h=a;var b=0;var k=new Array();do{b=this._gd(8);k.push(b);h--}while(h>0);return k};this.getKanjiString=function(b){var n=b;var l=0;var m="";do{l=_gd(13);var q=l%192;var o=l/192;var a=(o<<8)+q;var r=0;if(a+33088<=40956){r=a+33088}else{r=a+49472}m+=String.fromCharCode(r);n--}while(n>0);return m};this.__defineGetter__("DataByte",function(){var u=new Array();var x=1;var w=2;var y=4;var a=8;do{var q=this.NextMode();if(q==0){if(u.length>0){break}else{throw"Empty data block"}}if(q!=x&&q!=w&&q!=y&&q!=a){throw"Invalid mode: "+q+" in (block:"+this._ed+" bit:"+this._cw+")"}dataLength=this.getDataLength(q);if(dataLength<1){throw"Invalid data length: "+dataLength}switch(q){case x:var o=this.getFigureString(dataLength);var r=new Array(o.length);for(var t=0;t<o.length;t++){r[t]=o.charCodeAt(t)}u.push(r);break;case w:var o=this.getRomanAndFigureString(dataLength);var r=new Array(o.length);for(var t=0;t<o.length;t++){r[t]=o.charCodeAt(t)}u.push(r);break;case y:var b=this.get8bitByteArray(dataLength);u.push(b);break;case a:var o=this.getKanjiString(dataLength);u.push(o);break}}while(true);return u})}Ext.application({name:"community_portal",extend:"community_portal.Application",autoCreateViewport:true});